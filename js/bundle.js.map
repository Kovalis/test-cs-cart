{"version":3,"file":"bundle.js","names":["__webpack_modules__","module","exports","ua","window","navigator","userAgent","test","__unused_webpack_exports","__webpack_require__","isEdge","isSamsung","isDuckDuckGo","isOpera","isSilk","indexOf","isIpadOS","checkIpadOS","document","iOsTest","__unused_webpack_module","__webpack_exports__","r","d","createPopper","detectOverflow","_utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_8__","popperGenerator","_dom_utils_getCompositeRect_js__WEBPACK_IMPORTED_MODULE_4__","_dom_utils_getLayoutRect_js__WEBPACK_IMPORTED_MODULE_6__","_dom_utils_listScrollParents_js__WEBPACK_IMPORTED_MODULE_1__","_dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_5__","_utils_orderModifiers_js__WEBPACK_IMPORTED_MODULE_2__","_utils_debounce_js__WEBPACK_IMPORTED_MODULE_7__","_utils_mergeByName_js__WEBPACK_IMPORTED_MODULE_3__","_dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__","DEFAULT_OPTIONS","placement","modifiers","strategy","areValidElements","_len","arguments","length","args","Array","_key","some","element","getBoundingClientRect","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","reference","popper","options","state","orderedModifiers","Object","assign","modifiersData","elements","attributes","styles","effectCleanupFns","isDestroyed","instance","setOptions","setOptionsAction","cleanupModifierEffects","scrollParents","isElement","contextElement","concat","filter","m","enabled","forEach","_ref","name","_ref$options","effect","cleanupFn","noopFn","push","update","forceUpdate","_state$elements","rects","reset","modifier","data","index","_state$orderedModifie","fn","_state$orderedModifie2","_options","Promise","resolve","destroy","then","onFirstUpdate","default","contains","_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__","parent","child","rootNode","getRootNode","isShadowRoot","next","isSameNode","parentNode","host","_utils_math_js__WEBPACK_IMPORTED_MODULE_1__","_getWindow_js__WEBPACK_IMPORTED_MODULE_2__","_isLayoutViewport_js__WEBPACK_IMPORTED_MODULE_3__","includeScale","isFixedStrategy","clientRect","scaleX","scaleY","isHTMLElement","offsetWidth","round","width","offsetHeight","height","visualViewport","addVisualOffsets","x","left","offsetLeft","y","top","offsetTop","right","bottom","getClippingRect","_enums_js__WEBPACK_IMPORTED_MODULE_1__","_getViewportRect_js__WEBPACK_IMPORTED_MODULE_3__","_getDocumentRect_js__WEBPACK_IMPORTED_MODULE_5__","_listScrollParents_js__WEBPACK_IMPORTED_MODULE_7__","_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_10__","_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_6__","_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_9__","_instanceOf_js__WEBPACK_IMPORTED_MODULE_4__","_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_0__","_getParentNode_js__WEBPACK_IMPORTED_MODULE_8__","_contains_js__WEBPACK_IMPORTED_MODULE_11__","_getNodeName_js__WEBPACK_IMPORTED_MODULE_12__","_utils_rectToClientRect_js__WEBPACK_IMPORTED_MODULE_2__","_utils_math_js__WEBPACK_IMPORTED_MODULE_13__","getClientRectFromMixedType","clippingParent","viewport","rect","clientTop","clientLeft","clientHeight","clientWidth","getInnerBoundingClientRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","position","getClippingParents","firstClippingParent","clippingRect","reduce","accRect","max","min","getCompositeRect","_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_3__","_getNodeScroll_js__WEBPACK_IMPORTED_MODULE_6__","_getNodeName_js__WEBPACK_IMPORTED_MODULE_4__","_instanceOf_js__WEBPACK_IMPORTED_MODULE_1__","_getWindowScrollBarX_js__WEBPACK_IMPORTED_MODULE_7__","_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_2__","_isScrollParent_js__WEBPACK_IMPORTED_MODULE_5__","_utils_math_js__WEBPACK_IMPORTED_MODULE_0__","elementOrVirtualElement","offsetParent","isFixed","isOffsetParentAnElement","offsetParentIsScaled","isElementScaled","documentElement","scroll","scrollLeft","scrollTop","offsets","getComputedStyle","_getWindow_js__WEBPACK_IMPORTED_MODULE_0__","getDocumentElement","ownerDocument","getDocumentRect","_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_0__","_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_4__","_getWindowScrollBarX_js__WEBPACK_IMPORTED_MODULE_3__","_getWindowScroll_js__WEBPACK_IMPORTED_MODULE_1__","_utils_math_js__WEBPACK_IMPORTED_MODULE_2__","_element$ownerDocumen","html","winScroll","body","scrollWidth","scrollHeight","direction","getHTMLElementScroll","getLayoutRect","Math","abs","getNodeName","nodeName","toLowerCase","getNodeScroll","_getWindowScroll_js__WEBPACK_IMPORTED_MODULE_2__","_getHTMLElementScroll_js__WEBPACK_IMPORTED_MODULE_3__","node","getOffsetParent","_getWindow_js__WEBPACK_IMPORTED_MODULE_5__","_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_1__","_isTableElement_js__WEBPACK_IMPORTED_MODULE_6__","_getParentNode_js__WEBPACK_IMPORTED_MODULE_3__","_utils_userAgent_js__WEBPACK_IMPORTED_MODULE_2__","getTrueOffsetParent","isFirefox","currentNode","css","transform","perspective","contain","willChange","getContainingBlock","getParentNode","_getNodeName_js__WEBPACK_IMPORTED_MODULE_0__","assignedSlot","getScrollParent","_isScrollParent_js__WEBPACK_IMPORTED_MODULE_2__","getViewportRect","_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_1__","_isLayoutViewport_js__WEBPACK_IMPORTED_MODULE_2__","win","layoutViewport","getWindow","toString","defaultView","getWindowScroll","pageXOffset","pageYOffset","getWindowScrollBarX","Element","HTMLElement","ShadowRoot","isLayoutViewport","_utils_userAgent_js__WEBPACK_IMPORTED_MODULE_0__","isScrollParent","_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_0__","_getComputedStyle","overflow","overflowX","overflowY","isTableElement","listScrollParents","_getScrollParent_js__WEBPACK_IMPORTED_MODULE_0__","_getWindow_js__WEBPACK_IMPORTED_MODULE_1__","list","scrollParent","isBody","target","updatedList","afterMain","afterRead","afterWrite","auto","basePlacements","beforeMain","beforeRead","beforeWrite","end","main","modifierPhases","placements","read","start","variationPlacements","write","acc","_dom_utils_getNodeName_js__WEBPACK_IMPORTED_MODULE_1__","phase","keys","style","value","removeAttribute","setAttribute","_ref2","initialStyles","margin","arrow","hasOwnProperty","property","attribute","requires","_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_3__","_dom_utils_getLayoutRect_js__WEBPACK_IMPORTED_MODULE_5__","_dom_utils_contains_js__WEBPACK_IMPORTED_MODULE_8__","_dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_6__","_utils_getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_4__","_utils_within_js__WEBPACK_IMPORTED_MODULE_7__","_utils_mergePaddingObject_js__WEBPACK_IMPORTED_MODULE_0__","_utils_expandToHashMap_js__WEBPACK_IMPORTED_MODULE_1__","_enums_js__WEBPACK_IMPORTED_MODULE_2__","_state$modifiersData$","arrowElement","popperOffsets","basePlacement","axis","len","paddingObject","padding","toPaddingObject","arrowRect","minProp","maxProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","center","offset","within","axisProp","centerOffset","_options$element","querySelector","requiresIfExists","mapToStyles","_dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_2__","_dom_utils_getWindow_js__WEBPACK_IMPORTED_MODULE_3__","_dom_utils_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_4__","_dom_utils_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_5__","_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_6__","_utils_getVariation_js__WEBPACK_IMPORTED_MODULE_7__","unsetSides","_Object$assign2","popperRect","variation","gpuAcceleration","adaptive","roundOffsets","_offsets$x","_offsets$y","_ref3","hasX","hasY","sideX","sideY","heightProp","widthProp","_Object$assign","commonStyles","_ref4","dpr","devicePixelRatio","roundOffsetsByDPR","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","_dom_utils_getWindow_js__WEBPACK_IMPORTED_MODULE_0__","passive","_options$scroll","_options$resize","resize","addEventListener","removeEventListener","_utils_getOppositePlacement_js__WEBPACK_IMPORTED_MODULE_2__","_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__","_utils_getOppositeVariationPlacement_js__WEBPACK_IMPORTED_MODULE_3__","_utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_6__","_utils_computeAutoPlacement_js__WEBPACK_IMPORTED_MODULE_4__","_utils_getVariation_js__WEBPACK_IMPORTED_MODULE_5__","_skip","_options$mainAxis","mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","altBoundary","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","referenceRect","checksMap","Map","makeFallbackChecks","firstFittingPlacement","i","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","set","_loop","_i","fittingPlacement","find","get","slice","_enums_js__WEBPACK_IMPORTED_MODULE_0__","_utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_1__","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","preventOverflow","referenceOverflow","elementContext","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","applyStyles","_applyStyles_js__WEBPACK_IMPORTED_MODULE_0__","_arrow_js__WEBPACK_IMPORTED_MODULE_1__","computeStyles","_computeStyles_js__WEBPACK_IMPORTED_MODULE_2__","eventListeners","_eventListeners_js__WEBPACK_IMPORTED_MODULE_3__","flip","_flip_js__WEBPACK_IMPORTED_MODULE_4__","hide","_hide_js__WEBPACK_IMPORTED_MODULE_5__","_offset_js__WEBPACK_IMPORTED_MODULE_6__","_popperOffsets_js__WEBPACK_IMPORTED_MODULE_7__","_preventOverflow_js__WEBPACK_IMPORTED_MODULE_8__","distanceAndSkiddingToXY","invertDistance","skidding","distance","_options$offset","_data$state$placement","_utils_computeOffsets_js__WEBPACK_IMPORTED_MODULE_0__","_enums_js__WEBPACK_IMPORTED_MODULE_5__","_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_1__","_utils_getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_3__","_utils_getAltAxis_js__WEBPACK_IMPORTED_MODULE_4__","_utils_within_js__WEBPACK_IMPORTED_MODULE_8__","_dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_9__","_utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_0__","_utils_getVariation_js__WEBPACK_IMPORTED_MODULE_2__","_utils_getFreshSideObject_js__WEBPACK_IMPORTED_MODULE_7__","_utils_math_js__WEBPACK_IMPORTED_MODULE_10__","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","withinMaxClamp","_createPopper_js__WEBPACK_IMPORTED_MODULE_5__","_createPopper_js__WEBPACK_IMPORTED_MODULE_4__","_modifiers_eventListeners_js__WEBPACK_IMPORTED_MODULE_0__","_modifiers_popperOffsets_js__WEBPACK_IMPORTED_MODULE_1__","_modifiers_computeStyles_js__WEBPACK_IMPORTED_MODULE_2__","_modifiers_applyStyles_js__WEBPACK_IMPORTED_MODULE_3__","_modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__","createPopperLite","_popper_lite_js__WEBPACK_IMPORTED_MODULE_11__","_createPopper_js__WEBPACK_IMPORTED_MODULE_10__","_createPopper_js__WEBPACK_IMPORTED_MODULE_9__","_modifiers_offset_js__WEBPACK_IMPORTED_MODULE_4__","_modifiers_flip_js__WEBPACK_IMPORTED_MODULE_5__","_modifiers_preventOverflow_js__WEBPACK_IMPORTED_MODULE_6__","_modifiers_arrow_js__WEBPACK_IMPORTED_MODULE_7__","_modifiers_hide_js__WEBPACK_IMPORTED_MODULE_8__","computeAutoPlacement","_getVariation_js__WEBPACK_IMPORTED_MODULE_1__","_detectOverflow_js__WEBPACK_IMPORTED_MODULE_2__","_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_3__","_options$allowedAutoP","allowedPlacements","overflows","sort","a","b","computeOffsets","_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__","_getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_3__","commonX","commonY","debounce","pending","undefined","_dom_utils_getClippingRect_js__WEBPACK_IMPORTED_MODULE_3__","_dom_utils_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_5__","_dom_utils_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_6__","_computeOffsets_js__WEBPACK_IMPORTED_MODULE_7__","_rectToClientRect_js__WEBPACK_IMPORTED_MODULE_8__","_dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_4__","_mergePaddingObject_js__WEBPACK_IMPORTED_MODULE_1__","_expandToHashMap_js__WEBPACK_IMPORTED_MODULE_2__","_options$placement","_options$strategy","_options$boundary","_options$rootBoundary","_options$elementConte","_options$altBoundary","_options$padding","altContext","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","key","multiply","expandToHashMap","hashMap","getAltAxis","getBasePlacement","split","getFreshSideObject","getMainAxisFromPlacement","getOppositePlacement","hash","replace","matched","getOppositeVariationPlacement","getVariation","mergeByName","merged","current","existing","map","mergePaddingObject","_getFreshSideObject_js__WEBPACK_IMPORTED_MODULE_0__","orderModifiers","order","visited","Set","result","add","dep","has","depModifier","rectToClientRect","getUAString","uaData","userAgentData","brands","isArray","item","brand","version","join","_math_js__WEBPACK_IMPORTED_MODULE_0__","v","_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__","credit_card_input_mask__WEBPACK_IMPORTED_MODULE_1__","credit_card_input_mask__WEBPACK_IMPORTED_MODULE_1___default","n","tippy_js__WEBPACK_IMPORTED_MODULE_3__","_js_common_popup_js__WEBPACK_IMPORTED_MODULE_2__","formPay","jsRequired","querySelectorAll","formPaySubmit","numberCard","cvvCard","mmCard","yyCard","flagSentForm","pattern","classList","remove","event","preventDefault","type","checked","closest","console","log","submit","checkedInputs","choosePopup","chooseBtn","initPopup","_js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__","imask__WEBPACK_IMPORTED_MODULE_1__","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","_arrayLikeToArray","prototype","call","constructor","from","_unsupportedIterableToArray","F","s","done","e","_e","f","TypeError","err","normalCompletion","didErr","step","_e2","return","arr","arr2","inputs","_step","_iterator","input","this","phoneFields","field","mask","tabs","panes","tabsLabels","children","tabsPanes","activateTab","label","pane","clickedTab","getAttribute","elem","makeTabs","initZoomPopup","popupClass","triggerBtn","trigger","popup","bodyElementHTML","modalBackground","modalClose","evt","display","handleClosePopup","makePopup","handleShowPopup","currentZoomBtn","dataset","slideIndex","attachEvent","readyState","defineProperty","isIos","isIE9","isSamsungBrowser","isAndroidChrome","isKitKatWebview","UA","isAndroid","isChromeOs","isChrome","KITKAT_WEBVIEW_REGEX","isOldSamsungBrowserOrSamsungWebview","PatternFormatter","parse_pattern_1","is_backspace_1","parsePattern","format","originalString","originalStringIndex","formattedString","selection","patternChar","inputChar","unformat","unformattedString","formatCompensation","isPatterntChar","simulateDeletion","deletionStart","deletionEnd","isBackspace","substr","ALPHA_REGEX","DIGIT_REGEX","WILD_REGEX","PLACEHOLDER_REGEX","PLACEHOLDER_PATTERN","PATTERN_REGEX","RegExp","PLACEHOLDER_PATTERN_REGEX","replacerRegex","createRegexForChar","char","isDigit","isAlpha","patternString","str","patternArray","patternParts","match","patternPart","placeholderChars","j","placeholderChar","Error","isPermaChar","selectionStart","selectionEnd","delta","activeElement","setSelectionRange","keyCode","isDelete","DELETE_REGEX","keyCannotMutateValue","input_selection_1","currentTarget","srcElement","isAtBeginning","isAtEnd","isShifted","shiftKey","device_1","supportsInputFormatting","ios_1","android_chrome_1","kitkat_chromium_based_webview_1","ie9_1","base_1","noop_1","RestrictedInput","supportsFormatting","IosStrategy","KitKatChromiumBasedWebViewStrategy","AndroidChromeStrategy","IE9Strategy","BaseStrategy","NoopKeyboardStrategy","getUnformattedValue","setPattern","extendStatics","__extends","setPrototypeOf","__proto__","p","String","__","create","key_cannot_mutate_value_1","_super","apply","attachListeners","_this","inputElement","unformatInput","reformatInput","pasteEventHandler","prePasteEventHandler","postPasteEventHandler","setTimeout","reformatAfterPaste","afterReformatInput","formattedState","formattedSelection","strategy_interface_1","is_delete_1","formatter_1","isSimulatedEvent","formatter","onPasteEvent","formatIfNotEmpty","forceUnformat","isFormatted","isDeletion","CustomEvent","isTrusted","unformattedState","splicedEntry","entryValue","clipboardData","getData","splice","unformattedInputValue","createEvent","initEvent","dispatchEvent","getStateToFormat","stateToFormat","StrategyInterface","padSelection","pad","keydownListener","oldValue","newValue","isCustomEvent","formatListener","fixLeadingBlankSpaceOnIos","_objectWithoutPropertiesLoose","source","excluded","sourceKeys","_","HTMLContenteditableMaskElement","_html_mask_element_js__WEBPACK_IMPORTED_MODULE_0__","_core_holder_js__WEBPACK_IMPORTED_MODULE_1__","_unsafeSelectionStart","root","rootElement","getSelection","anchorOffset","focusOffset","_unsafeSelectionEnd","_unsafeSelect","createRange","range","setStart","firstChild","setEnd","lastChild","removeAllRanges","addRange","textContent","HTMLMaskElement","_mask_element_js__WEBPACK_IMPORTED_MODULE_0__","super","_handlers","_this$input$getRootNo","_this$input$getRootNo2","_this$input","isActive","bindEvents","handlers","_toggleEventHandler","EVENTS_MAP","unbindEvents","handler","selectionChange","drop","click","focus","commit","InputMask","_rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_0__","_core_utils_js__WEBPACK_IMPORTED_MODULE_1__","_core_action_details_js__WEBPACK_IMPORTED_MODULE_2__","_masked_factory_js__WEBPACK_IMPORTED_MODULE_4__","_mask_element_js__WEBPACK_IMPORTED_MODULE_5__","_html_mask_element_js__WEBPACK_IMPORTED_MODULE_6__","_html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_7__","_core_holder_js__WEBPACK_IMPORTED_MODULE_8__","_excluded","el","opts","isContentEditable","tagName","masked","_listeners","_value","_unmaskedValue","_saveSelection","bind","_onInput","_onChange","_onDrop","_onFocus","_onClick","alignCursor","alignCursorFriendly","_bindEvents","updateValue","maskEquals","_this$masked","Masked","maskedClass","updateOptions","unmaskedValue","updateControl","typedValue","val","typedValueEquals","displayValue","_unbindEvents","_fireEvent","ev","listeners","l","_cursorChanging","_changingCursorPos","cursorPos","pos","select","warn","_selection","newUnmaskedValue","newDisplayValue","isChanged","_fireChangeEvents","restOpts","updateMask","updateOpts","objectIncludes","updateCursor","_delayUpdateCursor","_abortUpdateCursor","_inputEvent","isComplete","clearTimeout","nearestInputPos","DIRECTION","LEFT","on","off","hIndex","details","oldRawValue","rawInputValue","startChangePos","removed","inserted","removeDirection","raw","NONE","doCommit","stopPropagation","MaskElement","_core_holder_js__WEBPACK_IMPORTED_MODULE_0__","ActionDetails","_utils_js__WEBPACK_IMPORTED_MODULE_0__","oldSelection","insertedCount","removedCount","head","substring","tail","RIGHT","ChangeDetails","_holder_js__WEBPACK_IMPORTED_MODULE_0__","rawInserted","skip","tailShift","aggregate","ContinuousTailDetails","stop","extend","appendTo","append","_appendPlaceholder","unshift","beforePos","shiftChar","shift","IMask","escapeRegExp","forceDirection","indexInDirection","isString","normalizePrepare","posInDirection","_change_details_js__WEBPACK_IMPORTED_MODULE_0__","FORCE_LEFT","FORCE_RIGHT","prep","arrA","arrB","dateA","Date","dateB","getTime","regexpA","regexpB","_core_change_details_js__WEBPACK_IMPORTED_MODULE_16__","_controls_html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_14__","_controls_html_mask_element_js__WEBPACK_IMPORTED_MODULE_13__","_controls_input_js__WEBPACK_IMPORTED_MODULE_0__","_controls_mask_element_js__WEBPACK_IMPORTED_MODULE_12__","_masked_base_js__WEBPACK_IMPORTED_MODULE_2__","MaskedDate","_masked_date_js__WEBPACK_IMPORTED_MODULE_7__","MaskedDynamic","_masked_dynamic_js__WEBPACK_IMPORTED_MODULE_10__","MaskedEnum","_masked_enum_js__WEBPACK_IMPORTED_MODULE_4__","MaskedFunction","_masked_function_js__WEBPACK_IMPORTED_MODULE_9__","MaskedNumber","_masked_number_js__WEBPACK_IMPORTED_MODULE_6__","MaskedPattern","_masked_pattern_js__WEBPACK_IMPORTED_MODULE_3__","MaskedRange","_masked_range_js__WEBPACK_IMPORTED_MODULE_5__","MaskedRegExp","_masked_regexp_js__WEBPACK_IMPORTED_MODULE_8__","PIPE_TYPE","_masked_pipe_js__WEBPACK_IMPORTED_MODULE_15__","createMask","_masked_factory_js__WEBPACK_IMPORTED_MODULE_11__","createPipe","pipe","globalThis","_core_change_details_js__WEBPACK_IMPORTED_MODULE_0__","_core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_1__","_core_utils_js__WEBPACK_IMPORTED_MODULE_2__","_core_holder_js__WEBPACK_IMPORTED_MODULE_3__","_update","DEFAULTS","isInitialized","withValueRefresh","flags","doParse","doFormat","extractInput","isFilled","totalInputPositions","fromPos","toPos","extractTail","appendTail","_appendCharRaw","ch","_appendChar","checkTail","consistentState","doPrepare","consistentTail","appended","doValidate","beforeTailState","overwrite","tailDetails","_appendEager","_beforeTailState","ci","doSkipInvalid","eager","_refreshing","rawInput","ret","runIsolated","_isolated","skipInvalid","prepare","validate","parse","deleteCount","tailPos","eagerRemove","valLength","tval","EMPTY_VALUES","includes","_pattern_js__WEBPACK_IMPORTED_MODULE_0__","_range_js__WEBPACK_IMPORTED_MODULE_1__","_core_holder_js__WEBPACK_IMPORTED_MODULE_2__","blocks","GET_DEFAULT_BLOCKS","Y","getFullYear","to","getMonth","getDate","bk","autofix","date","isDateExist","padStart","day","month","year","maxLength","_core_change_details_js__WEBPACK_IMPORTED_MODULE_2__","_factory_js__WEBPACK_IMPORTED_MODULE_3__","_base_js__WEBPACK_IMPORTED_MODULE_4__","_core_holder_js__WEBPACK_IMPORTED_MODULE_5__","_excluded2","currentMask","compiledMasks","_applyDispatch","currentMaskFlags","prevValueBeforeTail","inputValue","insertValue","_rawInputValue","tailValue","prevMask","prevMaskState","doDispatch","_flags$_beforeTailSta","_flags$_beforeTailSta2","currentMaskRef","dispatch","currentDetails","_this$currentMask","_this$currentMask2","Boolean","_this$currentMask3","_this$currentMask4","maskedState","mi","_mask$mi","oldMask","_this$currentMask5","isCurrent","startInputPos","weight","i1","i2","enum","repeat","_core_utils_js__WEBPACK_IMPORTED_MODULE_0__","Number","Function","MaskedClass","_base_js__WEBPACK_IMPORTED_MODULE_0__","_core_change_details_js__WEBPACK_IMPORTED_MODULE_1__","_base_js__WEBPACK_IMPORTED_MODULE_2__","_updateRegExps","allowNegative","scale","radix","_numberRegExp","_mapToRadixRegExp","mapToRadix","_thousandsSeparatorRegExp","thousandsSeparator","_removeThousandsSeparators","_insertThousandsSeparators","parts","prepCh","_separatorsCount","extendOnSeparators","count","_separatorsCountFromSlice","_adjustRangeWithSeparators","prevBeforeTailValue","prevBeforeTailSeparatorsCount","appendDetails","beforeTailValue","beforeTailSeparatorsCount","_findSeparatorAround","searchFrom","separatorPos","separatorAroundFromPos","separatorAroundToPos","valueBeforePos","valueAfterPos","separatorAtLeftPos","separatorAtLeftEndPos","separatorAtRightPos","valid","number","isNaN","validnum","formatted","normalizeZeros","_normalizeZeros","padFractionalZeros","_padFractionalZeros","sign","zeros","num","padEnd","dropFractional","UNMASKED_RADIX","signed","toLocaleString","useGrouping","maximumFractionDigits","_base_js__WEBPACK_IMPORTED_MODULE_3__","_pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_4__","_pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_5__","_pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_6__","_pattern_cursor_js__WEBPACK_IMPORTED_MODULE_7__","_factory_js__WEBPACK_IMPORTED_MODULE_8__","_core_holder_js__WEBPACK_IMPORTED_MODULE_9__","definitions","DEFAULT_INPUT_DEFINITIONS","_rebuildMask","defs","_blocks","_stops","_maskedBlocks","unmaskingBlock","optionalBlock","_defs$char","_defs$char2","bNames","bName","maskedBlock","lazy","displayChar","isInput","STOP_CHAR","ESCAPE_CHAR","maskOpts","def","isOptional","isUnmasking","bi","_this$_mapPosToBlock","startBlockIndex","_mapPosToBlock","blockIter","block","blockDetails","chunkTail","_forEachBlocksInRange","bFromPos","bToPos","blockChunk","_findStopBefore","_blockStartPos","blockIndex","stopBefore","si","toBlockIndex","startBlockIter","endBlockIndex","bDetails","accVal","blockStartPos","fromBlockIter","toBlockIter","isSameBlock","fromBlockStartPos","fromBlockEndPos","removeDetails","cursor","pushRightBeforeInput","popState","pushLeftBeforeInput","pushRightBeforeFilled","ok","pushLeftBeforeRequired","pushLeftBeforeFilled","pushRightBeforeRequired","total","maskedBlocks","indices","gi","InputDefinition","FixedDefinition","ChunksTailDetails","_core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__","_core_holder_js__WEBPACK_IMPORTED_MODULE_4__","chunks","tailChunk","lastChunk","extendLast","firstTailChunk","chunk","lastBlockIter","chunkBlock","phDetails","remainChars","c","props","cstate","chunkShiftPos","PatternCursor","_log","pushState","pop","bindBlock","_pushLeft","_this$block","_pushRight","PatternFixedDefinition","_core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__","_isRawInput","maxPos","appendEager","isResolved","PatternInputDefinition","_factory_js__WEBPACK_IMPORTED_MODULE_1__","_core_utils_js__WEBPACK_IMPORTED_MODULE_3__","boundPos","_factory_js__WEBPACK_IMPORTED_MODULE_0__","MASKED","UNMASKED","TYPED","pipeArgs","_matchFrom","fromStr","toStr","sameCharsCount","boundaries","minstr","maxstr","placeholder","nextVal","search","animateFill","createSingleton","delegate","followCursor","hideAll","inlinePositioning","roundArrow","ROUND_ARROW","sticky","_popperjs_core__WEBPACK_IMPORTED_MODULE_0__","_popperjs_core__WEBPACK_IMPORTED_MODULE_1__","CONTENT_CLASS","BACKDROP_CLASS","ARROW_CLASS","SVG_ARROW_CLASS","TOUCH_OPTIONS","capture","TIPPY_DEFAULT_APPEND_TO","getValueAtIndexOrReturn","defaultValue","isType","invokeWithArgsOrReturn","ms","arg","timeout","removeProperties","obj","clone","normalizeToArray","pushIfUnique","arrayFrom","removeUndefinedProps","div","createElement","isMouseEvent","isReferenceElement","_tippy","getArrayOfElements","isNodeList","setTransitionDuration","els","transitionDuration","setVisibilityState","getOwnerDocument","elementOrElements","updateTransitionEndListener","box","action","listener","method","actualContains","_target$getRootNode","currentInput","isTouch","lastMouseMoveTime","onDocumentTouchStart","performance","onDocumentMouseMove","now","onWindowBlur","blur","isVisible","visitedMessages","isIE11","msCrypto","createMemoryLeakWarning","clean","trim","getDevMessage","message","getFormattedMessage","warnWhen","condition","_console","errorWhen","_console2","error","pluginProps","defaultProps","aria","content","expanded","delay","duration","getReferenceClientRect","hideOnClick","ignoreAttributes","interactive","interactiveBorder","interactiveDebounce","moveTransition","onAfterUpdate","onBeforeUpdate","onCreate","onDestroy","onHidden","onHide","onMount","onShow","onShown","onTrigger","onUntrigger","onClickOutside","plugins","popperOptions","render","showOnCreate","touch","triggerTarget","allowHTML","animation","inertia","maxWidth","role","theme","zIndex","defaultKeys","getExtendedPassedProps","passedProps","plugin","_name","evaluateProps","out","valueAsString","JSON","getDataAttributeProps","validateProps","partialProps","prop","nonPluginProps","didPassUnknownProp","innerHTML","dangerouslySetInnerHTML","createArrowElement","className","appendChild","setContent","getChildren","firstElementChild","boxChildren","backdrop","onUpdate","prevProps","nextProps","_getChildren","removeChild","$$tippy","idCounter","mouseMoveListeners","mountedInstances","createTippy","showTimeout","hideTimeout","scheduleHideAnimationFrame","lastTriggerEvent","currentTransitionEndListener","isVisibleFromClick","didHideDueToDocumentMouseDown","didTouchMove","ignoreOnFirstUpdate","debouncedOnMouseMove","onMouseMove","id","popperInstance","isEnabled","isMounted","isShown","clearDelayTimeouts","cancelAnimationFrame","setProps","invokeHook","removeListeners","addListeners","cleanupInteractiveMouseListeners","handleAriaExpandedAttribute","handleStyles","createPopperInstance","getNestedPopperTree","nestedPopper","requestAnimationFrame","show","isAlreadyVisible","isDisabled","isTouchAndTouchDisabled","getCurrentTarget","hasAttribute","getIsDefaultRenderFn","visibility","addDocumentPress","transition","_getDefaultTemplateCh2","getDefaultTemplateChildren","_instance$popperInsta2","_getDefaultTemplateCh3","_box","_content","handleAriaContentAttribute","callback","onTransitionEnd","onTransitionedIn","nextElementSibling","mount","isAlreadyHidden","removeDocumentPress","_getDefaultTemplateCh4","onTransitionedOut","unmount","hideWithInteractivity","getDocument","enable","disable","destroyPopperInstance","_props$render","pluginsHooks","hasAriaExpanded","scheduleShow","getNormalizedTouchSettings","getIsCustomTouchBehavior","_instance$props$rende","getDelay","isShow","fromHide","pointerEvents","hook","shouldInvokePropsHook","_instance$props","pluginHooks","attr","currentValue","nextValue","onDocumentPress","actualTarget","composedPath","onTouchMove","onTouchStart","doc","eventType","onMouseLeave","onBlurOrFocusOut","_lastTriggerEvent","shouldScheduleClickHide","isEventListenerStopped","wasFocused","scheduleHide","isCursorOverReferenceOrPopper","popperTreeData","_instance$popperInsta","popperState","clientX","clientY","topDistance","bottomDistance","leftDistance","rightDistance","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","isCursorOutsideInteractiveBorder","relatedTarget","_instance$props2","computedReference","tippyModifier","_getNormalizedTouchSe","touchValue","touchDelay","tippy","targets","optionalProps","didPassFalsyValue","didPassPlainObject","validateTargets","isSingleContentElement","isMoreThanOneReferenceElement","instances","setDefaultProps","_temp","excludedReferenceOrInstance","exclude","isExcluded","originalDuration","applyStylesModifier","tippyInstances","_optionalProps$popper","individualInstances","references","triggerTargets","overrides","interceptSetPropsCleanups","shownOnCreate","setTriggerTargets","setReferences","enableInstances","interceptSetProps","singleton","originalSetProps","prepareInstance","overrideProps","_references$index","originalShow","ref","showNext","first","showPrevious","last","setInstances","nextInstances","BUBBLING_EVENTS_MAP","mouseover","focusin","childTippyInstances","disabled","nativeProps","parentProps","childProps","returnValue","targetNode","originalDestroy","originalEnable","originalDisable","shouldDestroyChildInstances","addEventListeners","createBackdropElement","insertBefore","transitionDelay","mouseCoords","activeInstances","storeMouseCoords","isInternalUpdate","wasFocusEvent","isUnmounted","getIsInitialBehavior","addListener","removeListener","unsetGetReferenceClientRect","isCursorOverReference","relativeX","relativeY","addMouseCoordsListener","removeMouseCoordsListener","cursorRectIndex","triedPlacements","currentBasePlacement","boundingRect","clientRects","firstRect","lastRect","isTop","minLeft","maxRight","measureRects","_top","_bottom","getInlineBoundingClientRect","getClientRects","_getReferenceClientRect","addModifier","_props$popperOptions","getProps","cursorRect","shouldCheck","prevRefRect","prevPopRect","updatePosition","currentRefRect","currentPopRect","areRectsDifferent","rectA","rectB","__webpack_module_cache__","moduleId","cachedModule","getter","__esModule","definition","enumerable","toStringTag"],"sources":["bundle.js"],"sourcesContent":["/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./node_modules/@braintree/browser-detection/dist/is-android.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/dist/is-android.js ***!\n  \\**********************************************************************/\n/***/ (function(module) {\n\n\"use strict\";\n\nmodule.exports = function isAndroid(ua) {\n    ua = ua || window.navigator.userAgent;\n    return /Android/i.test(ua);\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/dist/is-chrome-os.js\":\n/*!************************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/dist/is-chrome-os.js ***!\n  \\************************************************************************/\n/***/ (function(module) {\n\n\"use strict\";\n\nmodule.exports = function isChromeOS(ua) {\n    ua = ua || window.navigator.userAgent;\n    return /CrOS/i.test(ua);\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/dist/is-chrome.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/dist/is-chrome.js ***!\n  \\*********************************************************************/\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar isEdge = __webpack_require__(/*! ./is-edge */ \"./node_modules/@braintree/browser-detection/dist/is-edge.js\");\nvar isSamsung = __webpack_require__(/*! ./is-samsung */ \"./node_modules/@braintree/browser-detection/dist/is-samsung.js\");\nvar isDuckDuckGo = __webpack_require__(/*! ./is-duckduckgo */ \"./node_modules/@braintree/browser-detection/dist/is-duckduckgo.js\");\nvar isOpera = __webpack_require__(/*! ./is-opera */ \"./node_modules/@braintree/browser-detection/dist/is-opera.js\");\nvar isSilk = __webpack_require__(/*! ./is-silk */ \"./node_modules/@braintree/browser-detection/dist/is-silk.js\");\nmodule.exports = function isChrome(ua) {\n    ua = ua || window.navigator.userAgent;\n    return ((ua.indexOf(\"Chrome\") !== -1 || ua.indexOf(\"CriOS\") !== -1) &&\n        !isEdge(ua) &&\n        !isSamsung(ua) &&\n        !isDuckDuckGo(ua) &&\n        !isOpera(ua) &&\n        !isSilk(ua));\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/dist/is-duckduckgo.js\":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/dist/is-duckduckgo.js ***!\n  \\*************************************************************************/\n/***/ (function(module) {\n\n\"use strict\";\n\nmodule.exports = function isDuckDuckGo(ua) {\n    ua = ua || window.navigator.userAgent;\n    return ua.indexOf(\"DuckDuckGo/\") !== -1;\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/dist/is-edge.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/dist/is-edge.js ***!\n  \\*******************************************************************/\n/***/ (function(module) {\n\n\"use strict\";\n\nmodule.exports = function isEdge(ua) {\n    ua = ua || window.navigator.userAgent;\n    return ua.indexOf(\"Edge/\") !== -1 || ua.indexOf(\"Edg/\") !== -1;\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/dist/is-ie9.js\":\n/*!******************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/dist/is-ie9.js ***!\n  \\******************************************************************/\n/***/ (function(module) {\n\n\"use strict\";\n\nmodule.exports = function isIe9(ua) {\n    ua = ua || window.navigator.userAgent;\n    return ua.indexOf(\"MSIE 9\") !== -1;\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/dist/is-ios.js\":\n/*!******************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/dist/is-ios.js ***!\n  \\******************************************************************/\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar isIpadOS = __webpack_require__(/*! ./is-ipados */ \"./node_modules/@braintree/browser-detection/dist/is-ipados.js\");\nmodule.exports = function isIos(ua, checkIpadOS, document) {\n    if (checkIpadOS === void 0) { checkIpadOS = true; }\n    ua = ua || window.navigator.userAgent;\n    var iOsTest = /iPhone|iPod|iPad/i.test(ua);\n    return checkIpadOS ? iOsTest || isIpadOS(ua, document) : iOsTest;\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/dist/is-ipados.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/dist/is-ipados.js ***!\n  \\*********************************************************************/\n/***/ (function(module) {\n\n\"use strict\";\n\nmodule.exports = function isIpadOS(ua, document) {\n    ua = ua || window.navigator.userAgent;\n    document = document || window.document;\n    // \"ontouchend\" is used to determine if a browser is on an iPad, otherwise\n    // user-agents for iPadOS behave/identify as a desktop browser\n    return /Mac|iPad/i.test(ua) && \"ontouchend\" in document;\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/dist/is-opera.js\":\n/*!********************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/dist/is-opera.js ***!\n  \\********************************************************************/\n/***/ (function(module) {\n\n\"use strict\";\n\nmodule.exports = function isOpera(ua) {\n    ua = ua || window.navigator.userAgent;\n    return (ua.indexOf(\"OPR/\") !== -1 ||\n        ua.indexOf(\"Opera/\") !== -1 ||\n        ua.indexOf(\"OPT/\") !== -1);\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/dist/is-samsung.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/dist/is-samsung.js ***!\n  \\**********************************************************************/\n/***/ (function(module) {\n\n\"use strict\";\n\nmodule.exports = function isSamsungBrowser(ua) {\n    ua = ua || window.navigator.userAgent;\n    return /SamsungBrowser/i.test(ua);\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/dist/is-silk.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/dist/is-silk.js ***!\n  \\*******************************************************************/\n/***/ (function(module) {\n\n\"use strict\";\n\nmodule.exports = function isSilk(ua) {\n    ua = ua || window.navigator.userAgent;\n    return ua.indexOf(\"Silk/\") !== -1;\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/is-android.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/is-android.js ***!\n  \\*****************************************************************/\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(/*! ./dist/is-android */ \"./node_modules/@braintree/browser-detection/dist/is-android.js\");\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/is-chrome-os.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/is-chrome-os.js ***!\n  \\*******************************************************************/\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(/*! ./dist/is-chrome-os */ \"./node_modules/@braintree/browser-detection/dist/is-chrome-os.js\");\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/is-chrome.js\":\n/*!****************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/is-chrome.js ***!\n  \\****************************************************************/\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(/*! ./dist/is-chrome */ \"./node_modules/@braintree/browser-detection/dist/is-chrome.js\");\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/is-ie9.js\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/is-ie9.js ***!\n  \\*************************************************************/\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(/*! ./dist/is-ie9 */ \"./node_modules/@braintree/browser-detection/dist/is-ie9.js\");\n\n\n/***/ }),\n\n/***/ \"./node_modules/@braintree/browser-detection/is-ios.js\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/@braintree/browser-detection/is-ios.js ***!\n  \\*************************************************************/\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(/*! ./dist/is-ios */ \"./node_modules/@braintree/browser-detection/dist/is-ios.js\");\n\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/createPopper.js\":\n/*!*********************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/createPopper.js ***!\n  \\*********************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createPopper\": function() { return /* binding */ createPopper; },\n/* harmony export */   \"detectOverflow\": function() { return /* reexport safe */ _utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; },\n/* harmony export */   \"popperGenerator\": function() { return /* binding */ popperGenerator; }\n/* harmony export */ });\n/* harmony import */ var _dom_utils_getCompositeRect_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dom-utils/getCompositeRect.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js\");\n/* harmony import */ var _dom_utils_getLayoutRect_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dom-utils/getLayoutRect.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js\");\n/* harmony import */ var _dom_utils_listScrollParents_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dom-utils/listScrollParents.js */ \"./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js\");\n/* harmony import */ var _dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dom-utils/getOffsetParent.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js\");\n/* harmony import */ var _utils_orderModifiers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/orderModifiers.js */ \"./node_modules/@popperjs/core/lib/utils/orderModifiers.js\");\n/* harmony import */ var _utils_debounce_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/debounce.js */ \"./node_modules/@popperjs/core/lib/utils/debounce.js\");\n/* harmony import */ var _utils_mergeByName_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/mergeByName.js */ \"./node_modules/@popperjs/core/lib/utils/mergeByName.js\");\n/* harmony import */ var _utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/detectOverflow.js */ \"./node_modules/@popperjs/core/lib/utils/detectOverflow.js\");\n/* harmony import */ var _dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom-utils/instanceOf.js */ \"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js\");\n\n\n\n\n\n\n\n\n\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nfunction popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: (0,_dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isElement)(reference) ? (0,_dom_utils_listScrollParents_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(reference) : reference.contextElement ? (0,_dom_utils_listScrollParents_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(reference.contextElement) : [],\n          popper: (0,_dom_utils_listScrollParents_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = (0,_utils_orderModifiers_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_utils_mergeByName_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        });\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: (0,_dom_utils_getCompositeRect_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(reference, (0,_dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(popper), state.options.strategy === 'fixed'),\n          popper: (0,_dom_utils_getLayoutRect_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: (0,_utils_debounce_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref) {\n        var name = _ref.name,\n            _ref$options = _ref.options,\n            options = _ref$options === void 0 ? {} : _ref$options,\n            effect = _ref.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nvar createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/contains.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/contains.js ***!\n  \\***************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ contains; }\n/* harmony export */ });\n/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instanceOf.js */ \"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js\");\n\nfunction contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isShadowRoot)(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js\":\n/*!****************************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js ***!\n  \\****************************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getBoundingClientRect; }\n/* harmony export */ });\n/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instanceOf.js */ \"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js\");\n/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/math.js */ \"./node_modules/@popperjs/core/lib/utils/math.js\");\n/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getWindow.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindow.js\");\n/* harmony import */ var _isLayoutViewport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./isLayoutViewport.js */ \"./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js\");\n\n\n\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  var clientRect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (includeScale && (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(element)) {\n    scaleX = element.offsetWidth > 0 ? (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_1__.round)(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_1__.round)(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  var _ref = (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isElement)(element) ? (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(element) : window,\n      visualViewport = _ref.visualViewport;\n\n  var addVisualOffsets = !(0,_isLayoutViewport_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])() && isFixedStrategy;\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n  var width = clientRect.width / scaleX;\n  var height = clientRect.height / scaleY;\n  return {\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x: x,\n    y: y\n  };\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js ***!\n  \\**********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getClippingRect; }\n/* harmony export */ });\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ \"./node_modules/@popperjs/core/lib/enums.js\");\n/* harmony import */ var _getViewportRect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getViewportRect.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js\");\n/* harmony import */ var _getDocumentRect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./getDocumentRect.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js\");\n/* harmony import */ var _listScrollParents_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./listScrollParents.js */ \"./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js\");\n/* harmony import */ var _getOffsetParent_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./getOffsetParent.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js\");\n/* harmony import */ var _getDocumentElement_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./getDocumentElement.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js\");\n/* harmony import */ var _getComputedStyle_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./getComputedStyle.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js\");\n/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./instanceOf.js */ \"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js\");\n/* harmony import */ var _getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getBoundingClientRect.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js\");\n/* harmony import */ var _getParentNode_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./getParentNode.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js\");\n/* harmony import */ var _contains_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./contains.js */ \"./node_modules/@popperjs/core/lib/dom-utils/contains.js\");\n/* harmony import */ var _getNodeName_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./getNodeName.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js\");\n/* harmony import */ var _utils_rectToClientRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/rectToClientRect.js */ \"./node_modules/@popperjs/core/lib/utils/rectToClientRect.js\");\n/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/math.js */ \"./node_modules/@popperjs/core/lib/utils/math.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  var rect = (0,_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(element, false, strategy === 'fixed');\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\n  return clippingParent === _enums_js__WEBPACK_IMPORTED_MODULE_1__.viewport ? (0,_utils_rectToClientRect_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_getViewportRect_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(element, strategy)) : (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_4__.isElement)(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : (0,_utils_rectToClientRect_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_getDocumentRect_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = (0,_listScrollParents_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_getParentNode_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf((0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(element).position) >= 0;\n  var clipperElement = canEscapeClipping && (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_4__.isHTMLElement)(element) ? (0,_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(element) : element;\n\n  if (!(0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_4__.isElement)(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_4__.isElement)(clippingParent) && (0,_contains_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(clippingParent, clipperElement) && (0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nfunction getClippingRect(element, boundary, rootBoundary, strategy) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n    accRect.top = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_13__.max)(rect.top, accRect.top);\n    accRect.right = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_13__.min)(rect.right, accRect.right);\n    accRect.bottom = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_13__.min)(rect.bottom, accRect.bottom);\n    accRect.left = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_13__.max)(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js\":\n/*!***********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js ***!\n  \\***********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getCompositeRect; }\n/* harmony export */ });\n/* harmony import */ var _getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getBoundingClientRect.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js\");\n/* harmony import */ var _getNodeScroll_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./getNodeScroll.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js\");\n/* harmony import */ var _getNodeName_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getNodeName.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js\");\n/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./instanceOf.js */ \"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js\");\n/* harmony import */ var _getWindowScrollBarX_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./getWindowScrollBarX.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js\");\n/* harmony import */ var _getDocumentElement_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getDocumentElement.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js\");\n/* harmony import */ var _isScrollParent_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./isScrollParent.js */ \"./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js\");\n/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/math.js */ \"./node_modules/@popperjs/core/lib/utils/math.js\");\n\n\n\n\n\n\n\n\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_0__.round)(rect.width) / element.offsetWidth || 1;\n  var scaleY = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_0__.round)(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nfunction getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_1__.isHTMLElement)(offsetParent);\n  var offsetParentIsScaled = (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_1__.isHTMLElement)(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = (0,_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(offsetParent);\n  var rect = (0,_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if ((0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    (0,_isScrollParent_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(documentElement)) {\n      scroll = (0,_getNodeScroll_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(offsetParent);\n    }\n\n    if ((0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_1__.isHTMLElement)(offsetParent)) {\n      offsets = (0,_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = (0,_getWindowScrollBarX_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js\":\n/*!***********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js ***!\n  \\***********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getComputedStyle; }\n/* harmony export */ });\n/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getWindow.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindow.js\");\n\nfunction getComputedStyle(element) {\n  return (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(element).getComputedStyle(element);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js\":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js ***!\n  \\*************************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getDocumentElement; }\n/* harmony export */ });\n/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instanceOf.js */ \"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js\");\n\nfunction getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return (((0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isElement)(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js ***!\n  \\**********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getDocumentRect; }\n/* harmony export */ });\n/* harmony import */ var _getDocumentElement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getDocumentElement.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js\");\n/* harmony import */ var _getComputedStyle_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getComputedStyle.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js\");\n/* harmony import */ var _getWindowScrollBarX_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getWindowScrollBarX.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js\");\n/* harmony import */ var _getWindowScroll_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getWindowScroll.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js\");\n/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/math.js */ \"./node_modules/@popperjs/core/lib/utils/math.js\");\n\n\n\n\n // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nfunction getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = (0,_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(element);\n  var winScroll = (0,_getWindowScroll_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_2__.max)(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_2__.max)(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + (0,_getWindowScrollBarX_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(element);\n  var y = -winScroll.scrollTop;\n\n  if ((0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(body || html).direction === 'rtl') {\n    x += (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_2__.max)(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js\":\n/*!***************************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js ***!\n  \\***************************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getHTMLElementScroll; }\n/* harmony export */ });\nfunction getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js\":\n/*!********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js ***!\n  \\********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getLayoutRect; }\n/* harmony export */ });\n/* harmony import */ var _getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getBoundingClientRect.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js\");\n // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nfunction getLayoutRect(element) {\n  var clientRect = (0,_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js\":\n/*!******************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js ***!\n  \\******************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getNodeName; }\n/* harmony export */ });\nfunction getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js\":\n/*!********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js ***!\n  \\********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getNodeScroll; }\n/* harmony export */ });\n/* harmony import */ var _getWindowScroll_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getWindowScroll.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js\");\n/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getWindow.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindow.js\");\n/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./instanceOf.js */ \"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js\");\n/* harmony import */ var _getHTMLElementScroll_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getHTMLElementScroll.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js\");\n\n\n\n\nfunction getNodeScroll(node) {\n  if (node === (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(node) || !(0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_1__.isHTMLElement)(node)) {\n    return (0,_getWindowScroll_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(node);\n  } else {\n    return (0,_getHTMLElementScroll_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(node);\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js ***!\n  \\**********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getOffsetParent; }\n/* harmony export */ });\n/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./getWindow.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindow.js\");\n/* harmony import */ var _getNodeName_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getNodeName.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js\");\n/* harmony import */ var _getComputedStyle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getComputedStyle.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js\");\n/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./instanceOf.js */ \"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js\");\n/* harmony import */ var _isTableElement_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./isTableElement.js */ \"./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js\");\n/* harmony import */ var _getParentNode_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getParentNode.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js\");\n/* harmony import */ var _utils_userAgent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/userAgent.js */ \"./node_modules/@popperjs/core/lib/utils/userAgent.js\");\n\n\n\n\n\n\n\n\nfunction getTrueOffsetParent(element) {\n  if (!(0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(element) || // https://github.com/popperjs/popper-core/issues/837\n  (0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test((0,_utils_userAgent_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])());\n  var isIE = /Trident/i.test((0,_utils_userAgent_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])());\n\n  if (isIE && (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = (0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = (0,_getParentNode_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(element);\n\n  if ((0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isShadowRoot)(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while ((0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(currentNode) && ['html', 'body'].indexOf((0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currentNode)) < 0) {\n    var css = (0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nfunction getOffsetParent(element) {\n  var window = (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && (0,_isTableElement_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(offsetParent) && (0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && ((0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(offsetParent) === 'html' || (0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(offsetParent) === 'body' && (0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js\":\n/*!********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js ***!\n  \\********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getParentNode; }\n/* harmony export */ });\n/* harmony import */ var _getNodeName_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getNodeName.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js\");\n/* harmony import */ var _getDocumentElement_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getDocumentElement.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js\");\n/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./instanceOf.js */ \"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js\");\n\n\n\nfunction getParentNode(element) {\n  if ((0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    (0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_1__.isShadowRoot)(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    (0,_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(element) // fallback\n\n  );\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js ***!\n  \\**********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getScrollParent; }\n/* harmony export */ });\n/* harmony import */ var _getParentNode_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getParentNode.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js\");\n/* harmony import */ var _isScrollParent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isScrollParent.js */ \"./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js\");\n/* harmony import */ var _getNodeName_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getNodeName.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js\");\n/* harmony import */ var _instanceOf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./instanceOf.js */ \"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js\");\n\n\n\n\nfunction getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf((0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if ((0,_instanceOf_js__WEBPACK_IMPORTED_MODULE_1__.isHTMLElement)(node) && (0,_isScrollParent_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(node)) {\n    return node;\n  }\n\n  return getScrollParent((0,_getParentNode_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(node));\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js ***!\n  \\**********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getViewportRect; }\n/* harmony export */ });\n/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getWindow.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindow.js\");\n/* harmony import */ var _getDocumentElement_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getDocumentElement.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js\");\n/* harmony import */ var _getWindowScrollBarX_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getWindowScrollBarX.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js\");\n/* harmony import */ var _isLayoutViewport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isLayoutViewport.js */ \"./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js\");\n\n\n\n\nfunction getViewportRect(element, strategy) {\n  var win = (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(element);\n  var html = (0,_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    var layoutViewport = (0,_isLayoutViewport_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + (0,_getWindowScrollBarX_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(element),\n    y: y\n  };\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getWindow.js\":\n/*!****************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getWindow.js ***!\n  \\****************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getWindow; }\n/* harmony export */ });\nfunction getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js ***!\n  \\**********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getWindowScroll; }\n/* harmony export */ });\n/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getWindow.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindow.js\");\n\nfunction getWindowScroll(node) {\n  var win = (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js\":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js ***!\n  \\**************************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getWindowScrollBarX; }\n/* harmony export */ });\n/* harmony import */ var _getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getBoundingClientRect.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js\");\n/* harmony import */ var _getDocumentElement_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getDocumentElement.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js\");\n/* harmony import */ var _getWindowScroll_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getWindowScroll.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js\");\n\n\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return (0,_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element)).left + (0,_getWindowScroll_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(element).scrollLeft;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js ***!\n  \\*****************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isElement\": function() { return /* binding */ isElement; },\n/* harmony export */   \"isHTMLElement\": function() { return /* binding */ isHTMLElement; },\n/* harmony export */   \"isShadowRoot\": function() { return /* binding */ isShadowRoot; }\n/* harmony export */ });\n/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getWindow.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindow.js\");\n\n\nfunction isElement(node) {\n  var OwnElement = (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js\":\n/*!***********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js ***!\n  \\***********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ isLayoutViewport; }\n/* harmony export */ });\n/* harmony import */ var _utils_userAgent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/userAgent.js */ \"./node_modules/@popperjs/core/lib/utils/userAgent.js\");\n\nfunction isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test((0,_utils_userAgent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])());\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js ***!\n  \\*********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ isScrollParent; }\n/* harmony export */ });\n/* harmony import */ var _getComputedStyle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getComputedStyle.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js\");\n\nfunction isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = (0,_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js ***!\n  \\*********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ isTableElement; }\n/* harmony export */ });\n/* harmony import */ var _getNodeName_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getNodeName.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js\");\n\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf((0,_getNodeName_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(element)) >= 0;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js\":\n/*!************************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js ***!\n  \\************************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ listScrollParents; }\n/* harmony export */ });\n/* harmony import */ var _getScrollParent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getScrollParent.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js\");\n/* harmony import */ var _getParentNode_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getParentNode.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js\");\n/* harmony import */ var _getWindow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getWindow.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindow.js\");\n/* harmony import */ var _isScrollParent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isScrollParent.js */ \"./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js\");\n\n\n\n\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nfunction listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = (0,_getScrollParent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = (0,_getWindow_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], (0,_isScrollParent_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents((0,_getParentNode_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(target)));\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/enums.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/enums.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"afterMain\": function() { return /* binding */ afterMain; },\n/* harmony export */   \"afterRead\": function() { return /* binding */ afterRead; },\n/* harmony export */   \"afterWrite\": function() { return /* binding */ afterWrite; },\n/* harmony export */   \"auto\": function() { return /* binding */ auto; },\n/* harmony export */   \"basePlacements\": function() { return /* binding */ basePlacements; },\n/* harmony export */   \"beforeMain\": function() { return /* binding */ beforeMain; },\n/* harmony export */   \"beforeRead\": function() { return /* binding */ beforeRead; },\n/* harmony export */   \"beforeWrite\": function() { return /* binding */ beforeWrite; },\n/* harmony export */   \"bottom\": function() { return /* binding */ bottom; },\n/* harmony export */   \"clippingParents\": function() { return /* binding */ clippingParents; },\n/* harmony export */   \"end\": function() { return /* binding */ end; },\n/* harmony export */   \"left\": function() { return /* binding */ left; },\n/* harmony export */   \"main\": function() { return /* binding */ main; },\n/* harmony export */   \"modifierPhases\": function() { return /* binding */ modifierPhases; },\n/* harmony export */   \"placements\": function() { return /* binding */ placements; },\n/* harmony export */   \"popper\": function() { return /* binding */ popper; },\n/* harmony export */   \"read\": function() { return /* binding */ read; },\n/* harmony export */   \"reference\": function() { return /* binding */ reference; },\n/* harmony export */   \"right\": function() { return /* binding */ right; },\n/* harmony export */   \"start\": function() { return /* binding */ start; },\n/* harmony export */   \"top\": function() { return /* binding */ top; },\n/* harmony export */   \"variationPlacements\": function() { return /* binding */ variationPlacements; },\n/* harmony export */   \"viewport\": function() { return /* binding */ viewport; },\n/* harmony export */   \"write\": function() { return /* binding */ write; }\n/* harmony export */ });\nvar top = 'top';\nvar bottom = 'bottom';\nvar right = 'right';\nvar left = 'left';\nvar auto = 'auto';\nvar basePlacements = [top, bottom, right, left];\nvar start = 'start';\nvar end = 'end';\nvar clippingParents = 'clippingParents';\nvar viewport = 'viewport';\nvar popper = 'popper';\nvar reference = 'reference';\nvar variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nvar placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nvar beforeRead = 'beforeRead';\nvar read = 'read';\nvar afterRead = 'afterRead'; // pure-logic modifiers\n\nvar beforeMain = 'beforeMain';\nvar main = 'main';\nvar afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nvar beforeWrite = 'beforeWrite';\nvar write = 'write';\nvar afterWrite = 'afterWrite';\nvar modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/modifiers/applyStyles.js\":\n/*!******************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/modifiers/applyStyles.js ***!\n  \\******************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dom_utils_getNodeName_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dom-utils/getNodeName.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js\");\n/* harmony import */ var _dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom-utils/instanceOf.js */ \"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js\");\n\n // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!(0,_dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(element) || !(0,_dom_utils_getNodeName_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!(0,_dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_0__.isHTMLElement)(element) || !(0,_dom_utils_getNodeName_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n});\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/modifiers/arrow.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/modifiers/arrow.js ***!\n  \\************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/getBasePlacement.js */ \"./node_modules/@popperjs/core/lib/utils/getBasePlacement.js\");\n/* harmony import */ var _dom_utils_getLayoutRect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dom-utils/getLayoutRect.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js\");\n/* harmony import */ var _dom_utils_contains_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../dom-utils/contains.js */ \"./node_modules/@popperjs/core/lib/dom-utils/contains.js\");\n/* harmony import */ var _dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dom-utils/getOffsetParent.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js\");\n/* harmony import */ var _utils_getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/getMainAxisFromPlacement.js */ \"./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js\");\n/* harmony import */ var _utils_within_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/within.js */ \"./node_modules/@popperjs/core/lib/utils/within.js\");\n/* harmony import */ var _utils_mergePaddingObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/mergePaddingObject.js */ \"./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js\");\n/* harmony import */ var _utils_expandToHashMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/expandToHashMap.js */ \"./node_modules/@popperjs/core/lib/utils/expandToHashMap.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../enums.js */ \"./node_modules/@popperjs/core/lib/enums.js\");\n\n\n\n\n\n\n\n\n // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return (0,_utils_mergePaddingObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(typeof padding !== 'number' ? padding : (0,_utils_expandToHashMap_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(padding, _enums_js__WEBPACK_IMPORTED_MODULE_2__.basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = (0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(state.placement);\n  var axis = (0,_utils_getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(basePlacement);\n  var isVertical = [_enums_js__WEBPACK_IMPORTED_MODULE_2__.left, _enums_js__WEBPACK_IMPORTED_MODULE_2__.right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = (0,_dom_utils_getLayoutRect_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(arrowElement);\n  var minProp = axis === 'y' ? _enums_js__WEBPACK_IMPORTED_MODULE_2__.top : _enums_js__WEBPACK_IMPORTED_MODULE_2__.left;\n  var maxProp = axis === 'y' ? _enums_js__WEBPACK_IMPORTED_MODULE_2__.bottom : _enums_js__WEBPACK_IMPORTED_MODULE_2__.right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = (0,_dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = (0,_utils_within_js__WEBPACK_IMPORTED_MODULE_7__.within)(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (!(0,_dom_utils_contains_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(state.elements.popper, arrowElement)) {\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n});\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/modifiers/computeStyles.js\":\n/*!********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/modifiers/computeStyles.js ***!\n  \\********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"mapToStyles\": function() { return /* binding */ mapToStyles; }\n/* harmony export */ });\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ \"./node_modules/@popperjs/core/lib/enums.js\");\n/* harmony import */ var _dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dom-utils/getOffsetParent.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js\");\n/* harmony import */ var _dom_utils_getWindow_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dom-utils/getWindow.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindow.js\");\n/* harmony import */ var _dom_utils_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../dom-utils/getDocumentElement.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js\");\n/* harmony import */ var _dom_utils_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dom-utils/getComputedStyle.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js\");\n/* harmony import */ var _utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/getBasePlacement.js */ \"./node_modules/@popperjs/core/lib/utils/getBasePlacement.js\");\n/* harmony import */ var _utils_getVariation_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/getVariation.js */ \"./node_modules/@popperjs/core/lib/utils/getVariation.js\");\n/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/math.js */ \"./node_modules/@popperjs/core/lib/utils/math.js\");\n\n\n\n\n\n\n\n // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref, win) {\n  var x = _ref.x,\n      y = _ref.y;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_0__.round)(x * dpr) / dpr || 0,\n    y: (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_0__.round)(y * dpr) / dpr || 0\n  };\n}\n\nfunction mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = _enums_js__WEBPACK_IMPORTED_MODULE_1__.left;\n  var sideY = _enums_js__WEBPACK_IMPORTED_MODULE_1__.top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = (0,_dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === (0,_dom_utils_getWindow_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(popper)) {\n      offsetParent = (0,_dom_utils_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(popper);\n\n      if ((0,_dom_utils_getComputedStyle_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === _enums_js__WEBPACK_IMPORTED_MODULE_1__.top || (placement === _enums_js__WEBPACK_IMPORTED_MODULE_1__.left || placement === _enums_js__WEBPACK_IMPORTED_MODULE_1__.right) && variation === _enums_js__WEBPACK_IMPORTED_MODULE_1__.end) {\n      sideY = _enums_js__WEBPACK_IMPORTED_MODULE_1__.bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === _enums_js__WEBPACK_IMPORTED_MODULE_1__.left || (placement === _enums_js__WEBPACK_IMPORTED_MODULE_1__.top || placement === _enums_js__WEBPACK_IMPORTED_MODULE_1__.bottom) && variation === _enums_js__WEBPACK_IMPORTED_MODULE_1__.end) {\n      sideX = _enums_js__WEBPACK_IMPORTED_MODULE_1__.right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }, (0,_dom_utils_getWindow_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(popper)) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n  var commonStyles = {\n    placement: (0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(state.placement),\n    variation: (0,_utils_getVariation_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n});\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/modifiers/eventListeners.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/modifiers/eventListeners.js ***!\n  \\*********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dom_utils_getWindow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom-utils/getWindow.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getWindow.js\");\n // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = (0,_dom_utils_getWindow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n});\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/modifiers/flip.js\":\n/*!***********************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/modifiers/flip.js ***!\n  \\***********************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_getOppositePlacement_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/getOppositePlacement.js */ \"./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js\");\n/* harmony import */ var _utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/getBasePlacement.js */ \"./node_modules/@popperjs/core/lib/utils/getBasePlacement.js\");\n/* harmony import */ var _utils_getOppositeVariationPlacement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/getOppositeVariationPlacement.js */ \"./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js\");\n/* harmony import */ var _utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/detectOverflow.js */ \"./node_modules/@popperjs/core/lib/utils/detectOverflow.js\");\n/* harmony import */ var _utils_computeAutoPlacement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/computeAutoPlacement.js */ \"./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ \"./node_modules/@popperjs/core/lib/enums.js\");\n/* harmony import */ var _utils_getVariation_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/getVariation.js */ \"./node_modules/@popperjs/core/lib/utils/getVariation.js\");\n\n\n\n\n\n\n // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if ((0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(placement) === _enums_js__WEBPACK_IMPORTED_MODULE_1__.auto) {\n    return [];\n  }\n\n  var oppositePlacement = (0,_utils_getOppositePlacement_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(placement);\n  return [(0,_utils_getOppositeVariationPlacement_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(placement), oppositePlacement, (0,_utils_getOppositeVariationPlacement_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = (0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [(0,_utils_getOppositePlacement_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat((0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(placement) === _enums_js__WEBPACK_IMPORTED_MODULE_1__.auto ? (0,_utils_computeAutoPlacement_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = (0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(placement);\n\n    var isStartVariation = (0,_utils_getVariation_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(placement) === _enums_js__WEBPACK_IMPORTED_MODULE_1__.start;\n    var isVertical = [_enums_js__WEBPACK_IMPORTED_MODULE_1__.top, _enums_js__WEBPACK_IMPORTED_MODULE_1__.bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = (0,_utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? _enums_js__WEBPACK_IMPORTED_MODULE_1__.right : _enums_js__WEBPACK_IMPORTED_MODULE_1__.left : isStartVariation ? _enums_js__WEBPACK_IMPORTED_MODULE_1__.bottom : _enums_js__WEBPACK_IMPORTED_MODULE_1__.top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = (0,_utils_getOppositePlacement_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(mainVariationSide);\n    }\n\n    var altVariationSide = (0,_utils_getOppositePlacement_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n});\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/modifiers/hide.js\":\n/*!***********************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/modifiers/hide.js ***!\n  \\***********************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums.js */ \"./node_modules/@popperjs/core/lib/enums.js\");\n/* harmony import */ var _utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/detectOverflow.js */ \"./node_modules/@popperjs/core/lib/utils/detectOverflow.js\");\n\n\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [_enums_js__WEBPACK_IMPORTED_MODULE_0__.top, _enums_js__WEBPACK_IMPORTED_MODULE_0__.right, _enums_js__WEBPACK_IMPORTED_MODULE_0__.bottom, _enums_js__WEBPACK_IMPORTED_MODULE_0__.left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = (0,_utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = (0,_utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n});\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/modifiers/index.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/modifiers/index.js ***!\n  \\************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"applyStyles\": function() { return /* reexport safe */ _applyStyles_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; },\n/* harmony export */   \"arrow\": function() { return /* reexport safe */ _arrow_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; },\n/* harmony export */   \"computeStyles\": function() { return /* reexport safe */ _computeStyles_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; },\n/* harmony export */   \"eventListeners\": function() { return /* reexport safe */ _eventListeners_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; },\n/* harmony export */   \"flip\": function() { return /* reexport safe */ _flip_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; },\n/* harmony export */   \"hide\": function() { return /* reexport safe */ _hide_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; },\n/* harmony export */   \"offset\": function() { return /* reexport safe */ _offset_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; },\n/* harmony export */   \"popperOffsets\": function() { return /* reexport safe */ _popperOffsets_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; },\n/* harmony export */   \"preventOverflow\": function() { return /* reexport safe */ _preventOverflow_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; }\n/* harmony export */ });\n/* harmony import */ var _applyStyles_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./applyStyles.js */ \"./node_modules/@popperjs/core/lib/modifiers/applyStyles.js\");\n/* harmony import */ var _arrow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arrow.js */ \"./node_modules/@popperjs/core/lib/modifiers/arrow.js\");\n/* harmony import */ var _computeStyles_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./computeStyles.js */ \"./node_modules/@popperjs/core/lib/modifiers/computeStyles.js\");\n/* harmony import */ var _eventListeners_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./eventListeners.js */ \"./node_modules/@popperjs/core/lib/modifiers/eventListeners.js\");\n/* harmony import */ var _flip_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./flip.js */ \"./node_modules/@popperjs/core/lib/modifiers/flip.js\");\n/* harmony import */ var _hide_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hide.js */ \"./node_modules/@popperjs/core/lib/modifiers/hide.js\");\n/* harmony import */ var _offset_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./offset.js */ \"./node_modules/@popperjs/core/lib/modifiers/offset.js\");\n/* harmony import */ var _popperOffsets_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./popperOffsets.js */ \"./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js\");\n/* harmony import */ var _preventOverflow_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./preventOverflow.js */ \"./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js\");\n\n\n\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/modifiers/offset.js\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/modifiers/offset.js ***!\n  \\*************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"distanceAndSkiddingToXY\": function() { return /* binding */ distanceAndSkiddingToXY; }\n/* harmony export */ });\n/* harmony import */ var _utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/getBasePlacement.js */ \"./node_modules/@popperjs/core/lib/utils/getBasePlacement.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ \"./node_modules/@popperjs/core/lib/enums.js\");\n\n // eslint-disable-next-line import/no-unused-modules\n\nfunction distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = (0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(placement);\n  var invertDistance = [_enums_js__WEBPACK_IMPORTED_MODULE_1__.left, _enums_js__WEBPACK_IMPORTED_MODULE_1__.top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [_enums_js__WEBPACK_IMPORTED_MODULE_1__.left, _enums_js__WEBPACK_IMPORTED_MODULE_1__.right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = _enums_js__WEBPACK_IMPORTED_MODULE_1__.placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n});\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js\":\n/*!********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js ***!\n  \\********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_computeOffsets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/computeOffsets.js */ \"./node_modules/@popperjs/core/lib/utils/computeOffsets.js\");\n\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = (0,_utils_computeOffsets_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n});\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js ***!\n  \\**********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../enums.js */ \"./node_modules/@popperjs/core/lib/enums.js\");\n/* harmony import */ var _utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/getBasePlacement.js */ \"./node_modules/@popperjs/core/lib/utils/getBasePlacement.js\");\n/* harmony import */ var _utils_getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/getMainAxisFromPlacement.js */ \"./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js\");\n/* harmony import */ var _utils_getAltAxis_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/getAltAxis.js */ \"./node_modules/@popperjs/core/lib/utils/getAltAxis.js\");\n/* harmony import */ var _utils_within_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/within.js */ \"./node_modules/@popperjs/core/lib/utils/within.js\");\n/* harmony import */ var _dom_utils_getLayoutRect_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dom-utils/getLayoutRect.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js\");\n/* harmony import */ var _dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../dom-utils/getOffsetParent.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js\");\n/* harmony import */ var _utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/detectOverflow.js */ \"./node_modules/@popperjs/core/lib/utils/detectOverflow.js\");\n/* harmony import */ var _utils_getVariation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/getVariation.js */ \"./node_modules/@popperjs/core/lib/utils/getVariation.js\");\n/* harmony import */ var _utils_getFreshSideObject_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/getFreshSideObject.js */ \"./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js\");\n/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/math.js */ \"./node_modules/@popperjs/core/lib/utils/math.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = (0,_utils_detectOverflow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = (0,_utils_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(state.placement);\n  var variation = (0,_utils_getVariation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = (0,_utils_getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(basePlacement);\n  var altAxis = (0,_utils_getAltAxis_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? _enums_js__WEBPACK_IMPORTED_MODULE_5__.top : _enums_js__WEBPACK_IMPORTED_MODULE_5__.left;\n    var altSide = mainAxis === 'y' ? _enums_js__WEBPACK_IMPORTED_MODULE_5__.bottom : _enums_js__WEBPACK_IMPORTED_MODULE_5__.right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === _enums_js__WEBPACK_IMPORTED_MODULE_5__.start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === _enums_js__WEBPACK_IMPORTED_MODULE_5__.start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? (0,_dom_utils_getLayoutRect_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : (0,_utils_getFreshSideObject_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = (0,_utils_within_js__WEBPACK_IMPORTED_MODULE_8__.within)(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && (0,_dom_utils_getOffsetParent_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = (0,_utils_within_js__WEBPACK_IMPORTED_MODULE_8__.within)(tether ? (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_10__.min)(min, tetherMin) : min, offset, tether ? (0,_utils_math_js__WEBPACK_IMPORTED_MODULE_10__.max)(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? _enums_js__WEBPACK_IMPORTED_MODULE_5__.top : _enums_js__WEBPACK_IMPORTED_MODULE_5__.left;\n\n    var _altSide = mainAxis === 'x' ? _enums_js__WEBPACK_IMPORTED_MODULE_5__.bottom : _enums_js__WEBPACK_IMPORTED_MODULE_5__.right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [_enums_js__WEBPACK_IMPORTED_MODULE_5__.top, _enums_js__WEBPACK_IMPORTED_MODULE_5__.left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? (0,_utils_within_js__WEBPACK_IMPORTED_MODULE_8__.withinMaxClamp)(_tetherMin, _offset, _tetherMax) : (0,_utils_within_js__WEBPACK_IMPORTED_MODULE_8__.within)(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n});\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/popper-lite.js\":\n/*!********************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/popper-lite.js ***!\n  \\********************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createPopper\": function() { return /* binding */ createPopper; },\n/* harmony export */   \"defaultModifiers\": function() { return /* binding */ defaultModifiers; },\n/* harmony export */   \"detectOverflow\": function() { return /* reexport safe */ _createPopper_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; },\n/* harmony export */   \"popperGenerator\": function() { return /* reexport safe */ _createPopper_js__WEBPACK_IMPORTED_MODULE_4__.popperGenerator; }\n/* harmony export */ });\n/* harmony import */ var _createPopper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./createPopper.js */ \"./node_modules/@popperjs/core/lib/createPopper.js\");\n/* harmony import */ var _createPopper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./createPopper.js */ \"./node_modules/@popperjs/core/lib/utils/detectOverflow.js\");\n/* harmony import */ var _modifiers_eventListeners_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modifiers/eventListeners.js */ \"./node_modules/@popperjs/core/lib/modifiers/eventListeners.js\");\n/* harmony import */ var _modifiers_popperOffsets_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modifiers/popperOffsets.js */ \"./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js\");\n/* harmony import */ var _modifiers_computeStyles_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modifiers/computeStyles.js */ \"./node_modules/@popperjs/core/lib/modifiers/computeStyles.js\");\n/* harmony import */ var _modifiers_applyStyles_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modifiers/applyStyles.js */ \"./node_modules/@popperjs/core/lib/modifiers/applyStyles.js\");\n\n\n\n\n\nvar defaultModifiers = [_modifiers_eventListeners_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], _modifiers_popperOffsets_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _modifiers_computeStyles_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _modifiers_applyStyles_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]];\nvar createPopper = /*#__PURE__*/(0,_createPopper_js__WEBPACK_IMPORTED_MODULE_4__.popperGenerator)({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/popper.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/popper.js ***!\n  \\***************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"applyStyles\": function() { return /* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.applyStyles; },\n/* harmony export */   \"arrow\": function() { return /* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.arrow; },\n/* harmony export */   \"computeStyles\": function() { return /* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.computeStyles; },\n/* harmony export */   \"createPopper\": function() { return /* binding */ createPopper; },\n/* harmony export */   \"createPopperLite\": function() { return /* reexport safe */ _popper_lite_js__WEBPACK_IMPORTED_MODULE_11__.createPopper; },\n/* harmony export */   \"defaultModifiers\": function() { return /* binding */ defaultModifiers; },\n/* harmony export */   \"detectOverflow\": function() { return /* reexport safe */ _createPopper_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; },\n/* harmony export */   \"eventListeners\": function() { return /* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.eventListeners; },\n/* harmony export */   \"flip\": function() { return /* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.flip; },\n/* harmony export */   \"hide\": function() { return /* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.hide; },\n/* harmony export */   \"offset\": function() { return /* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.offset; },\n/* harmony export */   \"popperGenerator\": function() { return /* reexport safe */ _createPopper_js__WEBPACK_IMPORTED_MODULE_9__.popperGenerator; },\n/* harmony export */   \"popperOffsets\": function() { return /* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.popperOffsets; },\n/* harmony export */   \"preventOverflow\": function() { return /* reexport safe */ _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__.preventOverflow; }\n/* harmony export */ });\n/* harmony import */ var _createPopper_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./createPopper.js */ \"./node_modules/@popperjs/core/lib/createPopper.js\");\n/* harmony import */ var _createPopper_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./createPopper.js */ \"./node_modules/@popperjs/core/lib/utils/detectOverflow.js\");\n/* harmony import */ var _modifiers_eventListeners_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modifiers/eventListeners.js */ \"./node_modules/@popperjs/core/lib/modifiers/eventListeners.js\");\n/* harmony import */ var _modifiers_popperOffsets_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modifiers/popperOffsets.js */ \"./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js\");\n/* harmony import */ var _modifiers_computeStyles_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modifiers/computeStyles.js */ \"./node_modules/@popperjs/core/lib/modifiers/computeStyles.js\");\n/* harmony import */ var _modifiers_applyStyles_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modifiers/applyStyles.js */ \"./node_modules/@popperjs/core/lib/modifiers/applyStyles.js\");\n/* harmony import */ var _modifiers_offset_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modifiers/offset.js */ \"./node_modules/@popperjs/core/lib/modifiers/offset.js\");\n/* harmony import */ var _modifiers_flip_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modifiers/flip.js */ \"./node_modules/@popperjs/core/lib/modifiers/flip.js\");\n/* harmony import */ var _modifiers_preventOverflow_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modifiers/preventOverflow.js */ \"./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js\");\n/* harmony import */ var _modifiers_arrow_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modifiers/arrow.js */ \"./node_modules/@popperjs/core/lib/modifiers/arrow.js\");\n/* harmony import */ var _modifiers_hide_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modifiers/hide.js */ \"./node_modules/@popperjs/core/lib/modifiers/hide.js\");\n/* harmony import */ var _popper_lite_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./popper-lite.js */ \"./node_modules/@popperjs/core/lib/popper-lite.js\");\n/* harmony import */ var _modifiers_index_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modifiers/index.js */ \"./node_modules/@popperjs/core/lib/modifiers/index.js\");\n\n\n\n\n\n\n\n\n\n\nvar defaultModifiers = [_modifiers_eventListeners_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], _modifiers_popperOffsets_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _modifiers_computeStyles_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _modifiers_applyStyles_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"], _modifiers_offset_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"], _modifiers_flip_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"], _modifiers_preventOverflow_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"], _modifiers_arrow_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"], _modifiers_hide_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]];\nvar createPopper = /*#__PURE__*/(0,_createPopper_js__WEBPACK_IMPORTED_MODULE_9__.popperGenerator)({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\n // eslint-disable-next-line import/no-unused-modules\n\n // eslint-disable-next-line import/no-unused-modules\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js\":\n/*!***********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js ***!\n  \\***********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ computeAutoPlacement; }\n/* harmony export */ });\n/* harmony import */ var _getVariation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getVariation.js */ \"./node_modules/@popperjs/core/lib/utils/getVariation.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums.js */ \"./node_modules/@popperjs/core/lib/enums.js\");\n/* harmony import */ var _detectOverflow_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./detectOverflow.js */ \"./node_modules/@popperjs/core/lib/utils/detectOverflow.js\");\n/* harmony import */ var _getBasePlacement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getBasePlacement.js */ \"./node_modules/@popperjs/core/lib/utils/getBasePlacement.js\");\n\n\n\n\nfunction computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? _enums_js__WEBPACK_IMPORTED_MODULE_0__.placements : _options$allowedAutoP;\n  var variation = (0,_getVariation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(placement);\n  var placements = variation ? flipVariations ? _enums_js__WEBPACK_IMPORTED_MODULE_0__.variationPlacements : _enums_js__WEBPACK_IMPORTED_MODULE_0__.variationPlacements.filter(function (placement) {\n    return (0,_getVariation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(placement) === variation;\n  }) : _enums_js__WEBPACK_IMPORTED_MODULE_0__.basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = (0,_detectOverflow_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[(0,_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/computeOffsets.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/computeOffsets.js ***!\n  \\*****************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ computeOffsets; }\n/* harmony export */ });\n/* harmony import */ var _getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getBasePlacement.js */ \"./node_modules/@popperjs/core/lib/utils/getBasePlacement.js\");\n/* harmony import */ var _getVariation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getVariation.js */ \"./node_modules/@popperjs/core/lib/utils/getVariation.js\");\n/* harmony import */ var _getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getMainAxisFromPlacement.js */ \"./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../enums.js */ \"./node_modules/@popperjs/core/lib/enums.js\");\n\n\n\n\nfunction computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? (0,_getBasePlacement_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(placement) : null;\n  var variation = placement ? (0,_getVariation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case _enums_js__WEBPACK_IMPORTED_MODULE_2__.top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case _enums_js__WEBPACK_IMPORTED_MODULE_2__.bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case _enums_js__WEBPACK_IMPORTED_MODULE_2__.right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case _enums_js__WEBPACK_IMPORTED_MODULE_2__.left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? (0,_getMainAxisFromPlacement_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case _enums_js__WEBPACK_IMPORTED_MODULE_2__.start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case _enums_js__WEBPACK_IMPORTED_MODULE_2__.end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/debounce.js\":\n/*!***********************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/debounce.js ***!\n  \\***********************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ debounce; }\n/* harmony export */ });\nfunction debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/detectOverflow.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/detectOverflow.js ***!\n  \\*****************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ detectOverflow; }\n/* harmony export */ });\n/* harmony import */ var _dom_utils_getClippingRect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dom-utils/getClippingRect.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js\");\n/* harmony import */ var _dom_utils_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dom-utils/getDocumentElement.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js\");\n/* harmony import */ var _dom_utils_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dom-utils/getBoundingClientRect.js */ \"./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js\");\n/* harmony import */ var _computeOffsets_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./computeOffsets.js */ \"./node_modules/@popperjs/core/lib/utils/computeOffsets.js\");\n/* harmony import */ var _rectToClientRect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./rectToClientRect.js */ \"./node_modules/@popperjs/core/lib/utils/rectToClientRect.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums.js */ \"./node_modules/@popperjs/core/lib/enums.js\");\n/* harmony import */ var _dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../dom-utils/instanceOf.js */ \"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js\");\n/* harmony import */ var _mergePaddingObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mergePaddingObject.js */ \"./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js\");\n/* harmony import */ var _expandToHashMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./expandToHashMap.js */ \"./node_modules/@popperjs/core/lib/utils/expandToHashMap.js\");\n\n\n\n\n\n\n\n\n // eslint-disable-next-line import/no-unused-modules\n\nfunction detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$strategy = _options.strategy,\n      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? _enums_js__WEBPACK_IMPORTED_MODULE_0__.clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? _enums_js__WEBPACK_IMPORTED_MODULE_0__.viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? _enums_js__WEBPACK_IMPORTED_MODULE_0__.popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = (0,_mergePaddingObject_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(typeof padding !== 'number' ? padding : (0,_expandToHashMap_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(padding, _enums_js__WEBPACK_IMPORTED_MODULE_0__.basePlacements));\n  var altContext = elementContext === _enums_js__WEBPACK_IMPORTED_MODULE_0__.popper ? _enums_js__WEBPACK_IMPORTED_MODULE_0__.reference : _enums_js__WEBPACK_IMPORTED_MODULE_0__.popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = (0,_dom_utils_getClippingRect_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])((0,_dom_utils_instanceOf_js__WEBPACK_IMPORTED_MODULE_4__.isElement)(element) ? element : element.contextElement || (0,_dom_utils_getDocumentElement_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(state.elements.popper), boundary, rootBoundary, strategy);\n  var referenceClientRect = (0,_dom_utils_getBoundingClientRect_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(state.elements.reference);\n  var popperOffsets = (0,_computeOffsets_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = (0,_rectToClientRect_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === _enums_js__WEBPACK_IMPORTED_MODULE_0__.popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === _enums_js__WEBPACK_IMPORTED_MODULE_0__.popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [_enums_js__WEBPACK_IMPORTED_MODULE_0__.right, _enums_js__WEBPACK_IMPORTED_MODULE_0__.bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [_enums_js__WEBPACK_IMPORTED_MODULE_0__.top, _enums_js__WEBPACK_IMPORTED_MODULE_0__.bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/expandToHashMap.js\":\n/*!******************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/expandToHashMap.js ***!\n  \\******************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ expandToHashMap; }\n/* harmony export */ });\nfunction expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/getAltAxis.js\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/getAltAxis.js ***!\n  \\*************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getAltAxis; }\n/* harmony export */ });\nfunction getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/getBasePlacement.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/getBasePlacement.js ***!\n  \\*******************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getBasePlacement; }\n/* harmony export */ });\n\nfunction getBasePlacement(placement) {\n  return placement.split('-')[0];\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js ***!\n  \\*********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getFreshSideObject; }\n/* harmony export */ });\nfunction getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js\":\n/*!***************************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js ***!\n  \\***************************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getMainAxisFromPlacement; }\n/* harmony export */ });\nfunction getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js\":\n/*!***********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js ***!\n  \\***********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getOppositePlacement; }\n/* harmony export */ });\nvar hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js\":\n/*!********************************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js ***!\n  \\********************************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getOppositeVariationPlacement; }\n/* harmony export */ });\nvar hash = {\n  start: 'end',\n  end: 'start'\n};\nfunction getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/getVariation.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/getVariation.js ***!\n  \\***************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getVariation; }\n/* harmony export */ });\nfunction getVariation(placement) {\n  return placement.split('-')[1];\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/math.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/math.js ***!\n  \\*******************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"max\": function() { return /* binding */ max; },\n/* harmony export */   \"min\": function() { return /* binding */ min; },\n/* harmony export */   \"round\": function() { return /* binding */ round; }\n/* harmony export */ });\nvar max = Math.max;\nvar min = Math.min;\nvar round = Math.round;\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/mergeByName.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/mergeByName.js ***!\n  \\**************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ mergeByName; }\n/* harmony export */ });\nfunction mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js ***!\n  \\*********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ mergePaddingObject; }\n/* harmony export */ });\n/* harmony import */ var _getFreshSideObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getFreshSideObject.js */ \"./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js\");\n\nfunction mergePaddingObject(paddingObject) {\n  return Object.assign({}, (0,_getFreshSideObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(), paddingObject);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/orderModifiers.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/orderModifiers.js ***!\n  \\*****************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ orderModifiers; }\n/* harmony export */ });\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums.js */ \"./node_modules/@popperjs/core/lib/enums.js\");\n // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nfunction orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return _enums_js__WEBPACK_IMPORTED_MODULE_0__.modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/rectToClientRect.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/rectToClientRect.js ***!\n  \\*******************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ rectToClientRect; }\n/* harmony export */ });\nfunction rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/userAgent.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/userAgent.js ***!\n  \\************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getUAString; }\n/* harmony export */ });\nfunction getUAString() {\n  var uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(function (item) {\n      return item.brand + \"/\" + item.version;\n    }).join(' ');\n  }\n\n  return navigator.userAgent;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/@popperjs/core/lib/utils/within.js\":\n/*!*********************************************************!*\\\n  !*** ./node_modules/@popperjs/core/lib/utils/within.js ***!\n  \\*********************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"within\": function() { return /* binding */ within; },\n/* harmony export */   \"withinMaxClamp\": function() { return /* binding */ withinMaxClamp; }\n/* harmony export */ });\n/* harmony import */ var _math_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./math.js */ \"./node_modules/@popperjs/core/lib/utils/math.js\");\n\nfunction within(min, value, max) {\n  return (0,_math_js__WEBPACK_IMPORTED_MODULE_0__.max)(min, (0,_math_js__WEBPACK_IMPORTED_MODULE_0__.min)(value, max));\n}\nfunction withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}\n\n/***/ }),\n\n/***/ \"./src/blocks/form-pay/form-pay.js\":\n/*!*****************************************!*\\\n  !*** ./src/blocks/form-pay/form-pay.js ***!\n  \\*****************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var credit_card_input_mask__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! credit-card-input-mask */ \"./node_modules/credit-card-input-mask/dist/main.js\");\n/* harmony import */ var credit_card_input_mask__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(credit_card_input_mask__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var tippy_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tippy.js */ \"./node_modules/tippy.js/dist/tippy.esm.js\");\n/* harmony import */ var _js_common_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../js/common/popup.js */ \"./src/js/common/popup.js\");\n\n// import IMask from \"imask\";\n\n\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var formPay = document.querySelector('.form-pay');\n  var jsRequired = formPay.querySelectorAll(\".js-required\");\n  var formPaySubmit = formPay.querySelector('.js-form-pay-submit');\n  var numberCard = formPay.querySelector('.js-card-number');\n  var cvvCard = formPay.querySelector('.js-card-cvv');\n  var mmCard = formPay.querySelector('.js-mm');\n  var yyCard = formPay.querySelector('.js-yy');\n  var flagSentForm = true;\n  var formattedCreditCardInput = new (credit_card_input_mask__WEBPACK_IMPORTED_MODULE_1___default())({\n    element: numberCard,\n    pattern: \"{{9999}} {{9999}} {{9999}} {{9999}}\"\n  });\n  var formattedCvvCard = new (credit_card_input_mask__WEBPACK_IMPORTED_MODULE_1___default())({\n    element: cvvCard,\n    pattern: \"{{999}}\"\n  });\n  var formattedMm = new (credit_card_input_mask__WEBPACK_IMPORTED_MODULE_1___default())({\n    element: mmCard,\n    pattern: \"{{99}}\"\n  });\n  var formattedYy = new (credit_card_input_mask__WEBPACK_IMPORTED_MODULE_1___default())({\n    element: yyCard,\n    pattern: \"{{99}}\"\n  });\n  (0,tippy_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('[data-tippy-content]');\n  function checkedInputs() {\n    flagSentForm = true;\n    var itemsInput = formPay.querySelectorAll(\"input[required]\");\n    itemsInput.forEach(function (item) {\n      if (item.type == \"checkbox\") {\n        if (item.checked == false) {\n          item.closest(\".js-required\").classList.add(\"required-error\");\n          flagSentForm = false;\n        } else {\n          item.closest(\".js-required\").classList.remove(\"required-error\");\n        }\n      } else {\n        if (item.value == \"\") {\n          item.closest(\".js-required\").classList.add(\"required-error\");\n          flagSentForm = false;\n        } else {\n          item.closest(\".js-required\").classList.remove(\"required-error\");\n        }\n      }\n    });\n    if (flagSentForm) {\n      console.log(formPaySubmit);\n      formPaySubmit.submit();\n    } else {\n      return false;\n    }\n  }\n  jsRequired.forEach(function (element) {\n    element.addEventListener(\"focus\", function () {\n      element.classList.remove(\"required-error\");\n    });\n  });\n  formPaySubmit.addEventListener(\"submit\", function (event) {\n    event.preventDefault();\n    checkedInputs();\n  });\n\n  //popup\n  var choosePopup = document.querySelector(\".popup\");\n  var chooseBtn = document.querySelector(\".js-popup\");\n  if (choosePopup && chooseBtn) {\n    var popupClass = \".popup\";\n    var triggerBtn = \".js-popup\";\n    (0,_js_common_popup_js__WEBPACK_IMPORTED_MODULE_2__.initPopup)(popupClass, triggerBtn);\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/input/input.js\":\n/*!***********************************!*\\\n  !*** ./src/blocks/input/input.js ***!\n  \\***********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var imask__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! imask */ \"./node_modules/imask/esm/index.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n(0,_js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  // input\n  var inputs = document.querySelectorAll(\".input\");\n  if (inputs.length !== 0) {\n    var _iterator = _createForOfIteratorHelper(inputs),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var input = _step.value;\n        if (input.value.length !== 0) input.classList.add(\"input--has-value\");\n        input.addEventListener(\"input\", function () {\n          this.value.length !== 0 ? this.classList.add(\"input--has-value\") : this.classList.remove(\"input--has-value\");\n        });\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  // phone input\n  var phoneFields = document.querySelectorAll(\" input[type=tel]\");\n  if (phoneFields) {\n    phoneFields.forEach(function (field) {\n      (0,imask__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(field, {\n        mask: \"+{7} (000) 000-00-00\"\n      });\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/tabs/tabs.js\":\n/*!*********************************!*\\\n  !*** ./src/blocks/tabs/tabs.js ***!\n  \\*********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  function makeTabs(tabs, panes) {\n    var tabsLabels = tabs.children;\n    var tabsPanes = panes.children;\n    Array.from(tabsLabels).forEach(function (elem) {\n      elem.addEventListener(\"click\", activateTab);\n    });\n    function activateTab(e) {\n      e.preventDefault();\n      Array.from(tabsLabels).forEach(function (label) {\n        label.classList.remove(\"tabs__label--active\");\n      });\n      [].forEach.call(tabsPanes, function (pane) {\n        pane.classList.remove(\"tabs__pane--active\");\n      });\n      e.target.classList.add(\"tabs__label--active\");\n      var clickedTab = e.target.getAttribute(\"data-href\");\n      document.querySelector(clickedTab).classList.add(\"tabs__pane--active\");\n    }\n  }\n  var tabs = document.querySelector(\".tabs__labels\");\n  var panes = document.querySelector(\".tabs__panes\");\n  makeTabs(tabs, panes);\n});\n\n/***/ }),\n\n/***/ \"./src/js/common/popup.js\":\n/*!********************************!*\\\n  !*** ./src/js/common/popup.js ***!\n  \\********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initPopup\": function() { return /* binding */ initPopup; },\n/* harmony export */   \"initZoomPopup\": function() { return /* binding */ initZoomPopup; }\n/* harmony export */ });\nvar initPopup = function initPopup(popupClass, triggerBtn) {\n  // привязываем необходимые элементы\n  var trigger = triggerBtn;\n  var popup = document.querySelector(popupClass);\n  var bodyElementHTML = document.body;\n  var modalBackground = popup.querySelector(\".js-popup-background\");\n  var modalClose = popup.querySelector(\".js-popup-close-btn\");\n\n  // событие нажатия на триггер открытия модального окна\n  if (trigger) {\n    document.addEventListener(\"click\", function (evt) {\n      if (evt.target.closest(trigger)) {\n        evt.preventDefault();\n        // делаем модальное окно видимым\n        modalBackground.style.display = \"flex\";\n        bodyElementHTML.classList.add(\"lock\");\n      }\n    });\n  }\n\n  // открытие\n  var handleShowPopup = function handleShowPopup() {\n    modalBackground.style.display = \"flex\";\n    document.body.classList.add(\"lock\");\n  };\n\n  // закрытие\n  var handleClosePopup = function handleClosePopup() {\n    modalBackground.style.display = \"none\";\n    bodyElementHTML.classList.remove(\"lock\");\n  };\n\n  // нажатие на крестик закрытия модального окна\n  modalClose && modalClose.addEventListener(\"click\", handleClosePopup);\n\n  // закрытие модального окна на зону вне окна\n  modalBackground.addEventListener(\"click\", function (event) {\n    if (event.target === modalBackground) {\n      handleClosePopup();\n    }\n  });\n  popup.makePopup = {\n    handleShowPopup: handleShowPopup,\n    handleClosePopup: handleClosePopup\n  };\n};\nvar initZoomPopup = function initZoomPopup(popupClass, triggerBtn) {\n  // привязываем необходимые элементы\n  var currentSlideIndex;\n  var popup = document.querySelector(popupClass);\n  var bodyElementHTML = document.body;\n  var modalBackground = popup.querySelector(\".js-popup-background\");\n  var modalClose = popup.querySelector(\".js-popup-close-btn\");\n\n  // событие нажатия на триггер открытия модального окна\n  document.addEventListener(\"click\", function (evt) {\n    if (evt.target.closest(triggerBtn)) {\n      // делаем модальное окно видимым\n      modalBackground.style.display = \"block\";\n      bodyElementHTML.classList.add(\"lock\");\n      var currentZoomBtn = evt.target.closest(triggerBtn);\n      currentSlideIndex = currentZoomBtn.dataset.slideIndex;\n    }\n  });\n\n  // закрытие\n  var handleClosePopup = function handleClosePopup() {\n    modalBackground.style.display = \"none\";\n    bodyElementHTML.classList.remove(\"lock\");\n  };\n\n  // нажатие на крестик закрытия модального окна\n  modalClose && modalClose.addEventListener(\"click\", handleClosePopup);\n\n  // закрытие модального окна на зону вне окна\n  modalBackground.addEventListener(\"click\", function (event) {\n    if (event.target === modalBackground) {\n      handleClosePopup();\n    }\n  });\n};\n\n/***/ }),\n\n/***/ \"./src/js/script.js\":\n/*!**************************!*\\\n  !*** ./src/js/script.js ***!\n  \\**************************/\n/***/ (function() {\n\n// import ready from \"../js/utils/documentReady.js\";\n// import getScrollSize from \"../js/utils/getScrollSize.js\";\n\n// ready(function () {\n//   console.log(\"DOM героически построен!\");\n//   // Добавление кастомного свойства с системной шириной скролла\n//   document.documentElement.style.setProperty(\"--css-scroll-size\", `${getScrollSize()}px`);\n// });\n\n// import $ from \"jquery\"; // Перед использованием установить как зависимость\n// $(function () {\n//   console.log(\"jQuery героически сработал!\");\n// });\n\n/***/ }),\n\n/***/ \"./src/js/utils/documentReady.js\":\n/*!***************************************!*\\\n  !*** ./src/js/utils/documentReady.js ***!\n  \\***************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar ready = function ready(fn) {\n  if (document.attachEvent ? document.readyState === \"complete\" : document.readyState !== \"loading\") {\n    fn();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", fn);\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ready);\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/device.js\":\n/*!****************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/device.js ***!\n  \\****************************************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isIos = exports.isIE9 = exports.isSamsungBrowser = exports.isAndroidChrome = exports.isKitKatWebview = void 0;\n// server side rendering check\nvar UA = (typeof window !== \"undefined\" &&\n    window.navigator &&\n    window.navigator.userAgent);\n// TODO remove this when browser detection is converted to typescript\n/* eslint-disable @typescript-eslint/ban-ts-comment */\n// @ts-ignore\nvar isAndroid = __webpack_require__(/*! @braintree/browser-detection/is-android */ \"./node_modules/@braintree/browser-detection/is-android.js\");\n// @ts-ignore\nvar isChromeOs = __webpack_require__(/*! @braintree/browser-detection/is-chrome-os */ \"./node_modules/@braintree/browser-detection/is-chrome-os.js\");\n// @ts-ignore\nvar isChrome = __webpack_require__(/*! @braintree/browser-detection/is-chrome */ \"./node_modules/@braintree/browser-detection/is-chrome.js\");\n// @ts-ignore\nvar isIos = __webpack_require__(/*! @braintree/browser-detection/is-ios */ \"./node_modules/@braintree/browser-detection/is-ios.js\");\nexports.isIos = isIos;\n// @ts-ignore\nvar isIE9 = __webpack_require__(/*! @braintree/browser-detection/is-ie9 */ \"./node_modules/@braintree/browser-detection/is-ie9.js\");\nexports.isIE9 = isIE9;\n/* eslint-enable @typescript-eslint/ban-ts-comment */\n// Old Android Webviews used specific versions of Chrome with 0.0.0 as their version suffix\n// https://developer.chrome.com/multidevice/user-agent#webview_user_agent\nvar KITKAT_WEBVIEW_REGEX = /Version\\/\\d\\.\\d* Chrome\\/\\d*\\.0\\.0\\.0/;\nfunction isOldSamsungBrowserOrSamsungWebview(ua) {\n    return !isChrome(ua) && ua.indexOf(\"Samsung\") > -1;\n}\nfunction isKitKatWebview(ua) {\n    if (ua === void 0) { ua = UA; }\n    return isAndroid(ua) && KITKAT_WEBVIEW_REGEX.test(ua);\n}\nexports.isKitKatWebview = isKitKatWebview;\nfunction isAndroidChrome(ua) {\n    if (ua === void 0) { ua = UA; }\n    return (isAndroid(ua) || isChromeOs(ua)) && isChrome(ua);\n}\nexports.isAndroidChrome = isAndroidChrome;\nfunction isSamsungBrowser(ua) {\n    if (ua === void 0) { ua = UA; }\n    return /SamsungBrowser/.test(ua) || isOldSamsungBrowserOrSamsungWebview(ua);\n}\nexports.isSamsungBrowser = isSamsungBrowser;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/formatter/index.js\":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/formatter/index.js ***!\n  \\*************************************************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PatternFormatter = void 0;\nvar parse_pattern_1 = __webpack_require__(/*! ./parse-pattern */ \"./node_modules/credit-card-input-mask/dist/lib/formatter/parse-pattern.js\");\nvar is_backspace_1 = __webpack_require__(/*! ../is-backspace */ \"./node_modules/credit-card-input-mask/dist/lib/is-backspace.js\");\nvar PatternFormatter = /** @class */ (function () {\n    function PatternFormatter(pattern) {\n        this.pattern = parse_pattern_1.parsePattern(pattern);\n    }\n    PatternFormatter.prototype.format = function (options) {\n        var originalString = options.value;\n        var originalStringIndex = 0;\n        var formattedString = \"\";\n        var selection = {\n            start: options.selection.start,\n            end: options.selection.end,\n        };\n        for (var i = 0; i < this.pattern.length; i++) {\n            var patternChar = this.pattern[i];\n            var inputChar = originalString[originalStringIndex];\n            if (originalStringIndex > originalString.length) {\n                break;\n            }\n            if (typeof patternChar.value === \"string\") {\n                if (inputChar != null || formattedString.length === patternChar.index) {\n                    formattedString += patternChar.value;\n                    if (patternChar.index <= selection.start) {\n                        selection.start++;\n                    }\n                    if (patternChar.index <= selection.end) {\n                        selection.end++;\n                    }\n                }\n            }\n            else {\n                // User input char\n                // prettier-ignore\n                for (; originalStringIndex < originalString.length; originalStringIndex++) {\n                    inputChar = originalString[originalStringIndex];\n                    if (patternChar.value.test(inputChar)) {\n                        formattedString += inputChar;\n                        originalStringIndex++;\n                        break;\n                    }\n                    else {\n                        if (patternChar.index <= selection.start) {\n                            selection.start--;\n                        }\n                        if (patternChar.index <= selection.end) {\n                            selection.end--;\n                        }\n                    }\n                }\n            }\n        }\n        return {\n            value: formattedString,\n            selection: selection,\n        };\n    };\n    PatternFormatter.prototype.unformat = function (options) {\n        var start = options.selection.start;\n        var end = options.selection.end;\n        var unformattedString = \"\";\n        var formatCompensation = 0;\n        function isPatterntChar(patternChar, index) {\n            var value = options.value[index - formatCompensation];\n            return (typeof patternChar.value !== \"string\" &&\n                value != null &&\n                patternChar.value.test(value));\n        }\n        for (var i = 0; i < this.pattern.length; i++) {\n            var patternChar = this.pattern[i];\n            if (isPatterntChar(patternChar, i)) {\n                unformattedString += options.value[i - formatCompensation];\n                continue;\n            }\n            if (patternChar.value !== options.value[patternChar.index]) {\n                formatCompensation++;\n                continue;\n            }\n            if (patternChar.index < options.selection.start) {\n                start--;\n            }\n            if (patternChar.index < options.selection.end) {\n                end--;\n            }\n        }\n        return {\n            selection: {\n                start: start,\n                end: end,\n            },\n            value: unformattedString,\n        };\n    };\n    PatternFormatter.prototype.simulateDeletion = function (options) {\n        var deletionStart, deletionEnd;\n        var state = this.unformat(options);\n        var value = state.value;\n        var selection = state.selection;\n        var delta = Math.abs(state.selection.end - state.selection.start);\n        if (delta) {\n            deletionStart = selection.start;\n            deletionEnd = selection.end;\n        }\n        else if (is_backspace_1.isBackspace(options.event)) {\n            deletionStart = Math.max(0, selection.start - 1);\n            deletionEnd = selection.start;\n        }\n        else {\n            // Handle forward delete\n            deletionStart = selection.start;\n            deletionEnd = Math.min(value.length, selection.start + 1);\n        }\n        return {\n            selection: {\n                start: deletionStart,\n                end: deletionStart,\n            },\n            value: value.substr(0, deletionStart) + value.substr(deletionEnd),\n        };\n    };\n    return PatternFormatter;\n}());\nexports.PatternFormatter = PatternFormatter;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/formatter/parse-pattern.js\":\n/*!*********************************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/formatter/parse-pattern.js ***!\n  \\*********************************************************************************/\n/***/ (function(__unused_webpack_module, exports) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.parsePattern = void 0;\nvar ALPHA_REGEX = /[A-Za-z]/;\nvar DIGIT_REGEX = /\\d/;\nvar WILD_REGEX = /./;\nvar PLACEHOLDER_REGEX = /^[A-Za-z0-9\\*]$/;\nvar PLACEHOLDER_PATTERN = \"({{[^}]+}})\";\nvar PERMACHAR_REGEX = \"(\\\\s|\\\\S)\";\nvar PATTERN_REGEX = new RegExp(PLACEHOLDER_PATTERN + \"|\" + PERMACHAR_REGEX, \"g\");\nvar PLACEHOLDER_PATTERN_REGEX = new RegExp(\"^\" + PLACEHOLDER_PATTERN + \"$\");\nvar replacerRegex = new RegExp(\"{|}\", \"g\");\nfunction isDigit(char) {\n    return DIGIT_REGEX.test(char);\n}\nfunction isAlpha(char) {\n    return ALPHA_REGEX.test(char);\n}\nfunction createRegexForChar(char) {\n    if (isDigit(char)) {\n        return DIGIT_REGEX;\n    }\n    else if (isAlpha(char)) {\n        return ALPHA_REGEX;\n    }\n    return WILD_REGEX;\n}\nfunction isPlaceholder(char) {\n    return PLACEHOLDER_REGEX.test(char);\n}\nfunction isPlaceholderPattern(str) {\n    return PLACEHOLDER_PATTERN_REGEX.test(str);\n}\nfunction parsePattern(patternString) {\n    var patternArray = [];\n    var patternParts = patternString.match(PATTERN_REGEX);\n    if (!patternParts) {\n        return patternArray;\n    }\n    for (var index = 0, i = 0; i < patternParts.length; i++) {\n        var patternPart = patternParts[i];\n        if (isPlaceholderPattern(patternPart)) {\n            var placeholderChars = patternPart.replace(replacerRegex, \"\").split(\"\");\n            for (var j = 0; j < placeholderChars.length; j++) {\n                var placeholderChar = placeholderChars[j];\n                if (!isPlaceholder(placeholderChar)) {\n                    throw new Error(\"Only alphanumeric or wildcard pattern matchers are allowed\");\n                }\n                patternArray.push({\n                    value: createRegexForChar(placeholderChar),\n                    isPermaChar: false,\n                    index: index++,\n                });\n            }\n        }\n        else {\n            patternArray.push({\n                value: patternPart,\n                isPermaChar: true,\n                index: index++,\n            });\n        }\n    }\n    return patternArray;\n}\nexports.parsePattern = parsePattern;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/input-selection.js\":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/input-selection.js ***!\n  \\*************************************************************************/\n/***/ (function(__unused_webpack_module, exports) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.set = exports.get = void 0;\nfunction get(element) {\n    var start = element.selectionStart || 0;\n    var end = element.selectionEnd || 0;\n    return {\n        start: start,\n        end: end,\n        delta: Math.abs(end - start),\n    };\n}\nexports.get = get;\nfunction set(element, start, end) {\n    // Some browsers explode if you use setSelectionRange\n    // on a non-focused element\n    if (document.activeElement === element && element.setSelectionRange) {\n        element.setSelectionRange(start, end);\n    }\n}\nexports.set = set;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/is-backspace.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/is-backspace.js ***!\n  \\**********************************************************************/\n/***/ (function(__unused_webpack_module, exports) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isBackspace = void 0;\nfunction isBackspace(event) {\n    return event.key === \"Backspace\" || event.keyCode === 8;\n}\nexports.isBackspace = isBackspace;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/is-delete.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/is-delete.js ***!\n  \\*******************************************************************/\n/***/ (function(__unused_webpack_module, exports) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isDelete = void 0;\nvar DELETE_REGEX = /^Del(ete)?$/;\nfunction isDelete(event) {\n    return DELETE_REGEX.test(event.key) || event.keyCode === 46;\n}\nexports.isDelete = isDelete;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/key-cannot-mutate-value.js\":\n/*!*********************************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/key-cannot-mutate-value.js ***!\n  \\*********************************************************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.keyCannotMutateValue = void 0;\nvar input_selection_1 = __webpack_require__(/*! ./input-selection */ \"./node_modules/credit-card-input-mask/dist/lib/input-selection.js\");\n// eslint-disable-next-line complexity\nfunction keyCannotMutateValue(event) {\n    var input = (event.currentTarget || event.srcElement);\n    var selection = input_selection_1.get(input);\n    var isAtBeginning = selection.start === 0;\n    var isAtEnd = selection.start === input.value.length;\n    var isShifted = event.shiftKey === true;\n    // https://www.w3.org/TR/DOM-Level-3-Events/#widl-KeyboardEvent-key\n    switch (event.key) {\n        case undefined: // eslint-disable-line\n        case \"Unidentified\": // Cannot be determined\n        case \"\": // Uninitialized\n            break;\n        case \"Backspace\": // backspace at the beginning\n            return isAtBeginning;\n        case \"Del\": // delete at the end\n        case \"Delete\":\n            return isAtEnd;\n        default:\n            return event.key.length !== 1;\n    }\n    // http://unixpapa.com/js/key.html\n    switch (event.keyCode) {\n        case 9: // tab\n        case 19: // pause/break\n        case 20: // caps lock\n        case 27: // escape\n        case 39: // arrows\n        case 45: // insert\n            return true;\n        case 33: // page up (if shifted, '!')\n        case 34: // page down (if shifted, ''')\n        case 35: // end (if shifted, '#')\n        case 36: // home (if shifted, '$')\n        case 37: // arrows (if shifted, '%')\n        case 38: // arrows (if shifted, '&')\n        case 40: // arrows (if shifted, '(')\n            return !isShifted;\n        case 8: // backspace at the beginning\n            return isAtBeginning;\n        case 46: // delete at the end\n            return isAtEnd;\n        default:\n            return false;\n    }\n}\nexports.keyCannotMutateValue = keyCannotMutateValue;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/restricted-input.js\":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/restricted-input.js ***!\n  \\**************************************************************************/\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar device_1 = __webpack_require__(/*! ./device */ \"./node_modules/credit-card-input-mask/dist/lib/device.js\");\nvar supportsInputFormatting = __webpack_require__(/*! ../supports-input-formatting */ \"./node_modules/credit-card-input-mask/dist/supports-input-formatting.js\");\nvar ios_1 = __webpack_require__(/*! ./strategies/ios */ \"./node_modules/credit-card-input-mask/dist/lib/strategies/ios.js\");\nvar android_chrome_1 = __webpack_require__(/*! ./strategies/android-chrome */ \"./node_modules/credit-card-input-mask/dist/lib/strategies/android-chrome.js\");\nvar kitkat_chromium_based_webview_1 = __webpack_require__(/*! ./strategies/kitkat-chromium-based-webview */ \"./node_modules/credit-card-input-mask/dist/lib/strategies/kitkat-chromium-based-webview.js\");\nvar ie9_1 = __webpack_require__(/*! ./strategies/ie9 */ \"./node_modules/credit-card-input-mask/dist/lib/strategies/ie9.js\");\nvar base_1 = __webpack_require__(/*! ./strategies/base */ \"./node_modules/credit-card-input-mask/dist/lib/strategies/base.js\");\nvar noop_1 = __webpack_require__(/*! ./strategies/noop */ \"./node_modules/credit-card-input-mask/dist/lib/strategies/noop.js\");\n/**\n * Instances of this class can be used to modify the formatter for an input\n * @class\n * @param {object} options The initialization paramaters for this class\n * @param {object} options.element - A Input DOM object that RestrictedInput operates on\n * @param {string} options.pattern - The pattern to enforce on this element\n */\nvar RestrictedInput = /** @class */ (function () {\n    function RestrictedInput(options) {\n        if (!RestrictedInput.supportsFormatting()) {\n            this.strategy = new noop_1.NoopKeyboardStrategy(options);\n        }\n        else if (device_1.isIos()) {\n            this.strategy = new ios_1.IosStrategy(options);\n        }\n        else if (device_1.isKitKatWebview()) {\n            this.strategy = new kitkat_chromium_based_webview_1.KitKatChromiumBasedWebViewStrategy(options);\n        }\n        else if (device_1.isAndroidChrome()) {\n            this.strategy = new android_chrome_1.AndroidChromeStrategy(options);\n        }\n        else if (device_1.isIE9()) {\n            this.strategy = new ie9_1.IE9Strategy(options);\n        }\n        else {\n            this.strategy = new base_1.BaseStrategy(options);\n        }\n    }\n    /**\n     * @public\n     * @returns {string} the unformatted value of the element\n     */\n    RestrictedInput.prototype.getUnformattedValue = function () {\n        return this.strategy.getUnformattedValue();\n    };\n    /**\n     * @public\n     * @param {string} pattern - the pattern to enforce on the element\n     * @return {void}\n     */\n    RestrictedInput.prototype.setPattern = function (pattern) {\n        this.strategy.setPattern(pattern);\n    };\n    RestrictedInput.supportsFormatting = function () {\n        return supportsInputFormatting();\n    };\n    return RestrictedInput;\n}());\nmodule.exports = RestrictedInput;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/strategies/android-chrome.js\":\n/*!***********************************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/strategies/android-chrome.js ***!\n  \\***********************************************************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.AndroidChromeStrategy = void 0;\nvar key_cannot_mutate_value_1 = __webpack_require__(/*! ../key-cannot-mutate-value */ \"./node_modules/credit-card-input-mask/dist/lib/key-cannot-mutate-value.js\");\nvar base_1 = __webpack_require__(/*! ./base */ \"./node_modules/credit-card-input-mask/dist/lib/strategies/base.js\");\nvar input_selection_1 = __webpack_require__(/*! ../input-selection */ \"./node_modules/credit-card-input-mask/dist/lib/input-selection.js\");\nvar AndroidChromeStrategy = /** @class */ (function (_super) {\n    __extends(AndroidChromeStrategy, _super);\n    function AndroidChromeStrategy() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AndroidChromeStrategy.prototype.attachListeners = function () {\n        var _this = this;\n        this.inputElement.addEventListener(\"keydown\", function (event) {\n            if (key_cannot_mutate_value_1.keyCannotMutateValue(event)) {\n                return;\n            }\n            _this.unformatInput();\n        });\n        // 'keypress' is not fired with some Android keyboards (see #23)\n        this.inputElement.addEventListener(\"keypress\", function (event) {\n            if (key_cannot_mutate_value_1.keyCannotMutateValue(event)) {\n                return;\n            }\n            _this.unformatInput();\n        });\n        this.inputElement.addEventListener(\"keyup\", function () {\n            _this.reformatInput();\n        });\n        this.inputElement.addEventListener(\"input\", function () {\n            _this.reformatInput();\n        });\n        this.inputElement.addEventListener(\"paste\", function (event) {\n            event.preventDefault();\n            _this.pasteEventHandler(event);\n        });\n    };\n    AndroidChromeStrategy.prototype.prePasteEventHandler = function () {\n        // the default strategy calls preventDefault here\n        // but that removes the clipboard data in Android chrome\n        // so we noop instead\n    };\n    AndroidChromeStrategy.prototype.postPasteEventHandler = function () {\n        var _this = this;\n        // the default strategy calls this without a timeout\n        setTimeout(function () {\n            _this.reformatAfterPaste();\n        }, 0);\n    };\n    AndroidChromeStrategy.prototype.afterReformatInput = function (formattedState) {\n        var input = this.inputElement;\n        // Some Android Chrome keyboards (notably Samsung)\n        // cause the browser to not know that the value\n        // of the input has changed when adding\n        // permacharacters. This results in the selection\n        // putting the cursor before the permacharacter,\n        // instead of after.\n        //\n        // There is also the case of some Android Chrome\n        // keyboards reporting a ranged selection on the\n        // first character input. Restricted Input maintains\n        // that range even though it is incorrect from the\n        // keyboard.\n        //\n        // To resolve these issues we setTimeout and reset\n        // the selection to the formatted end position.\n        setTimeout(function () {\n            var formattedSelection = formattedState.selection;\n            input_selection_1.set(input, formattedSelection.end, formattedSelection.end);\n        }, 0);\n    };\n    return AndroidChromeStrategy;\n}(base_1.BaseStrategy));\nexports.AndroidChromeStrategy = AndroidChromeStrategy;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/strategies/base.js\":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/strategies/base.js ***!\n  \\*************************************************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BaseStrategy = void 0;\nvar strategy_interface_1 = __webpack_require__(/*! ./strategy-interface */ \"./node_modules/credit-card-input-mask/dist/lib/strategies/strategy-interface.js\");\nvar key_cannot_mutate_value_1 = __webpack_require__(/*! ../key-cannot-mutate-value */ \"./node_modules/credit-card-input-mask/dist/lib/key-cannot-mutate-value.js\");\nvar input_selection_1 = __webpack_require__(/*! ../input-selection */ \"./node_modules/credit-card-input-mask/dist/lib/input-selection.js\");\nvar is_backspace_1 = __webpack_require__(/*! ../is-backspace */ \"./node_modules/credit-card-input-mask/dist/lib/is-backspace.js\");\nvar is_delete_1 = __webpack_require__(/*! ../is-delete */ \"./node_modules/credit-card-input-mask/dist/lib/is-delete.js\");\nvar formatter_1 = __webpack_require__(/*! ../formatter */ \"./node_modules/credit-card-input-mask/dist/lib/formatter/index.js\");\nfunction isSimulatedEvent(event) {\n    // 1Password sets input.value then fires keyboard events. Dependent on browser\n    // here might be falsy values (key = '', keyCode = 0) or these keys might be omitted\n    // Chrome autofill inserts keys all at once and fires a single event without key info\n    return !event.key && !event.keyCode;\n}\nvar BaseStrategy = /** @class */ (function (_super) {\n    __extends(BaseStrategy, _super);\n    function BaseStrategy(options) {\n        var _this = _super.call(this, options) || this;\n        _this.formatter = new formatter_1.PatternFormatter(options.pattern);\n        _this.onPasteEvent = options.onPasteEvent;\n        _this.attachListeners();\n        _this.formatIfNotEmpty();\n        return _this;\n    }\n    BaseStrategy.prototype.getUnformattedValue = function (forceUnformat) {\n        var value = this.inputElement.value;\n        if (forceUnformat || this.isFormatted) {\n            value = this.formatter.unformat({\n                value: this.inputElement.value,\n                selection: { start: 0, end: 0 },\n            }).value;\n        }\n        return value;\n    };\n    BaseStrategy.prototype.formatIfNotEmpty = function () {\n        if (this.inputElement.value) {\n            this.reformatInput();\n        }\n    };\n    BaseStrategy.prototype.setPattern = function (pattern) {\n        this.unformatInput();\n        this.formatter = new formatter_1.PatternFormatter(pattern);\n        this.formatIfNotEmpty();\n    };\n    BaseStrategy.prototype.attachListeners = function () {\n        var _this = this;\n        this.inputElement.addEventListener(\"keydown\", function (e) {\n            var event = e;\n            if (isSimulatedEvent(event)) {\n                _this.isFormatted = false;\n            }\n            if (key_cannot_mutate_value_1.keyCannotMutateValue(event)) {\n                return;\n            }\n            if (_this.isDeletion(event)) {\n                _this.unformatInput();\n            }\n        });\n        this.inputElement.addEventListener(\"keypress\", function (e) {\n            var event = e;\n            if (isSimulatedEvent(event)) {\n                _this.isFormatted = false;\n            }\n            if (key_cannot_mutate_value_1.keyCannotMutateValue(event)) {\n                return;\n            }\n            _this.unformatInput();\n        });\n        this.inputElement.addEventListener(\"keyup\", function () {\n            _this.reformatInput();\n        });\n        this.inputElement.addEventListener(\"input\", function (event) {\n            // Safari AutoFill fires CustomEvents\n            // LastPass sends an `isTrusted: false` property\n            // Since the input is changed all at once, set isFormatted\n            // to false so that reformatting actually occurs\n            if (event instanceof CustomEvent || !event.isTrusted) {\n                _this.isFormatted = false;\n            }\n            _this.reformatInput();\n        });\n        this.inputElement.addEventListener(\"paste\", function (event) {\n            _this.pasteEventHandler(event);\n        });\n    };\n    BaseStrategy.prototype.isDeletion = function (event) {\n        return is_delete_1.isDelete(event) || is_backspace_1.isBackspace(event);\n    };\n    BaseStrategy.prototype.reformatInput = function () {\n        if (this.isFormatted) {\n            return;\n        }\n        this.isFormatted = true;\n        var input = this.inputElement;\n        var formattedState = this.formatter.format({\n            selection: input_selection_1.get(input),\n            value: input.value,\n        });\n        input.value = formattedState.value;\n        input_selection_1.set(input, formattedState.selection.start, formattedState.selection.end);\n        this.afterReformatInput(formattedState);\n    };\n    // If a strategy needs to impliment specific behavior\n    // after reformatting has happend, the strategy just\n    // overwrites this method on their own prototype\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    BaseStrategy.prototype.afterReformatInput = function (formattedState) {\n        // noop\n    };\n    BaseStrategy.prototype.unformatInput = function () {\n        if (!this.isFormatted) {\n            return;\n        }\n        this.isFormatted = false;\n        var input = this.inputElement;\n        var selection = input_selection_1.get(input);\n        var unformattedState = this.formatter.unformat({\n            selection: selection,\n            value: input.value,\n        });\n        input.value = unformattedState.value;\n        input_selection_1.set(input, unformattedState.selection.start, unformattedState.selection.end);\n    };\n    BaseStrategy.prototype.prePasteEventHandler = function (event) {\n        // without this, the paste event is called twice\n        // so if you were pasting abc it would result in\n        // abcabc\n        event.preventDefault();\n    };\n    BaseStrategy.prototype.postPasteEventHandler = function () {\n        this.reformatAfterPaste();\n    };\n    BaseStrategy.prototype.pasteEventHandler = function (event) {\n        var splicedEntry;\n        var entryValue = \"\";\n        this.prePasteEventHandler(event);\n        this.unformatInput();\n        if (event.clipboardData) {\n            entryValue = event.clipboardData.getData(\"Text\");\n        }\n        else if (window.clipboardData) {\n            entryValue = window.clipboardData.getData(\"Text\");\n        }\n        var selection = input_selection_1.get(this.inputElement);\n        splicedEntry = this.inputElement.value.split(\"\");\n        splicedEntry.splice(selection.start, selection.end - selection.start, entryValue);\n        splicedEntry = splicedEntry.join(\"\");\n        if (this.onPasteEvent) {\n            this.onPasteEvent({\n                unformattedInputValue: splicedEntry,\n            });\n        }\n        this.inputElement.value = splicedEntry;\n        input_selection_1.set(this.inputElement, selection.start + entryValue.length, selection.start + entryValue.length);\n        this.postPasteEventHandler();\n    };\n    BaseStrategy.prototype.reformatAfterPaste = function () {\n        var event = document.createEvent(\"Event\");\n        this.reformatInput();\n        event.initEvent(\"input\", true, true);\n        this.inputElement.dispatchEvent(event);\n    };\n    BaseStrategy.prototype.getStateToFormat = function () {\n        var input = this.inputElement;\n        var selection = input_selection_1.get(input);\n        var stateToFormat = {\n            selection: selection,\n            value: input.value,\n        };\n        if (this.stateToFormat) {\n            stateToFormat = this.stateToFormat;\n            delete this.stateToFormat;\n        }\n        else if (selection.start === input.value.length && this.isFormatted) {\n            stateToFormat = this.formatter.unformat(stateToFormat);\n        }\n        return stateToFormat;\n    };\n    return BaseStrategy;\n}(strategy_interface_1.StrategyInterface));\nexports.BaseStrategy = BaseStrategy;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/strategies/ie9.js\":\n/*!************************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/strategies/ie9.js ***!\n  \\************************************************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.IE9Strategy = void 0;\nvar base_1 = __webpack_require__(/*! ./base */ \"./node_modules/credit-card-input-mask/dist/lib/strategies/base.js\");\nvar key_cannot_mutate_value_1 = __webpack_require__(/*! ../key-cannot-mutate-value */ \"./node_modules/credit-card-input-mask/dist/lib/key-cannot-mutate-value.js\");\nvar input_selection_1 = __webpack_require__(/*! ../input-selection */ \"./node_modules/credit-card-input-mask/dist/lib/input-selection.js\");\nfunction padSelection(selection, pad) {\n    return {\n        start: selection.start + pad,\n        end: selection.end + pad,\n    };\n}\nvar IE9Strategy = /** @class */ (function (_super) {\n    __extends(IE9Strategy, _super);\n    function IE9Strategy() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IE9Strategy.prototype.getUnformattedValue = function () {\n        return base_1.BaseStrategy.prototype.getUnformattedValue.call(this, true);\n    };\n    IE9Strategy.prototype.attachListeners = function () {\n        var _this = this;\n        this.inputElement.addEventListener(\"keydown\", function (event) {\n            _this.keydownListener(event);\n        });\n        this.inputElement.addEventListener(\"focus\", function () {\n            _this.format();\n        });\n        this.inputElement.addEventListener(\"paste\", function (event) {\n            _this.pasteEventHandler(event);\n        });\n    };\n    IE9Strategy.prototype.format = function () {\n        var input = this.inputElement;\n        var stateToFormat = this.getStateToFormat();\n        var formattedState = this.formatter.format(stateToFormat);\n        input.value = formattedState.value;\n        input_selection_1.set(input, formattedState.selection.start, formattedState.selection.end);\n    };\n    IE9Strategy.prototype.keydownListener = function (event) {\n        if (key_cannot_mutate_value_1.keyCannotMutateValue(event)) {\n            return;\n        }\n        event.preventDefault();\n        if (this.isDeletion(event)) {\n            this.stateToFormat = this.formatter.simulateDeletion({\n                event: event,\n                selection: input_selection_1.get(this.inputElement),\n                value: this.inputElement.value,\n            });\n        }\n        else {\n            // IE9 does not update the input's value attribute\n            // during key events, only after they complete.\n            // We must retrieve the key from event.key and\n            // add it to the input's value before formatting.\n            var oldValue = this.inputElement.value;\n            var selection = input_selection_1.get(this.inputElement);\n            var newValue = oldValue.slice(0, selection.start) +\n                event.key +\n                oldValue.slice(selection.start);\n            selection = padSelection(selection, 1);\n            this.stateToFormat = {\n                selection: selection,\n                value: newValue,\n            };\n            if (selection.start === newValue.length) {\n                this.stateToFormat = this.formatter.unformat(this.stateToFormat);\n            }\n        }\n        this.format();\n    };\n    IE9Strategy.prototype.reformatAfterPaste = function () {\n        var input = this.inputElement;\n        var selection = input_selection_1.get(this.inputElement);\n        var value = this.formatter.format({\n            selection: selection,\n            value: input.value,\n        }).value;\n        selection = padSelection(selection, 1);\n        input.value = value;\n        // IE9 sets the selection to the end of the input\n        // manually setting it in a setTimeout puts it\n        // in the correct position after pasting\n        setTimeout(function () {\n            input_selection_1.set(input, selection.start, selection.end);\n        }, 0);\n    };\n    return IE9Strategy;\n}(base_1.BaseStrategy));\nexports.IE9Strategy = IE9Strategy;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/strategies/ios.js\":\n/*!************************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/strategies/ios.js ***!\n  \\************************************************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.IosStrategy = void 0;\nvar base_1 = __webpack_require__(/*! ./base */ \"./node_modules/credit-card-input-mask/dist/lib/strategies/base.js\");\nvar key_cannot_mutate_value_1 = __webpack_require__(/*! ../key-cannot-mutate-value */ \"./node_modules/credit-card-input-mask/dist/lib/key-cannot-mutate-value.js\");\nvar input_selection_1 = __webpack_require__(/*! ../input-selection */ \"./node_modules/credit-card-input-mask/dist/lib/input-selection.js\");\nvar IosStrategy = /** @class */ (function (_super) {\n    __extends(IosStrategy, _super);\n    function IosStrategy() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IosStrategy.prototype.getUnformattedValue = function () {\n        return _super.prototype.getUnformattedValue.call(this, true);\n    };\n    IosStrategy.prototype.attachListeners = function () {\n        var _this = this;\n        this.inputElement.addEventListener(\"keydown\", function (event) {\n            _this.keydownListener(event);\n        });\n        this.inputElement.addEventListener(\"input\", function (event) {\n            var isCustomEvent = event instanceof CustomEvent;\n            // Safari AutoFill fires CustomEvents\n            // Set state to format before calling format listener\n            if (isCustomEvent) {\n                _this.stateToFormat = {\n                    selection: { start: 0, end: 0 },\n                    value: _this.inputElement.value,\n                };\n            }\n            _this.formatListener();\n            if (!isCustomEvent) {\n                _this.fixLeadingBlankSpaceOnIos();\n            }\n        });\n        this.inputElement.addEventListener(\"focus\", function () {\n            _this.formatListener();\n        });\n        this.inputElement.addEventListener(\"paste\", function (event) {\n            _this.pasteEventHandler(event);\n        });\n    };\n    // When deleting the last character on iOS, the cursor\n    // is positioned as if there is a blank space when there\n    // is not, setting it to '' in a setTimeout fixes it ¯\\_(ツ)_/¯\n    IosStrategy.prototype.fixLeadingBlankSpaceOnIos = function () {\n        var input = this.inputElement;\n        if (input.value === \"\") {\n            setTimeout(function () {\n                input.value = \"\";\n            }, 0);\n        }\n    };\n    IosStrategy.prototype.formatListener = function () {\n        var input = this.inputElement;\n        var stateToFormat = this.getStateToFormat();\n        var formattedState = this.formatter.format(stateToFormat);\n        input.value = formattedState.value;\n        input_selection_1.set(input, formattedState.selection.start, formattedState.selection.end);\n    };\n    IosStrategy.prototype.keydownListener = function (event) {\n        if (key_cannot_mutate_value_1.keyCannotMutateValue(event)) {\n            return;\n        }\n        if (this.isDeletion(event)) {\n            this.stateToFormat = this.formatter.simulateDeletion({\n                event: event,\n                selection: input_selection_1.get(this.inputElement),\n                value: this.inputElement.value,\n            });\n        }\n    };\n    return IosStrategy;\n}(base_1.BaseStrategy));\nexports.IosStrategy = IosStrategy;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/strategies/kitkat-chromium-based-webview.js\":\n/*!**************************************************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/strategies/kitkat-chromium-based-webview.js ***!\n  \\**************************************************************************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// Android Devices on KitKat use Chromium based webviews. For some reason,\n// the value of the inputs are not accessible in the event loop where the\n// key event listeners are called. This causes formatting to get stuck\n// on permacharacters. By putting them in setTimeouts, this fixes the\n// problem. This causes other problems in non-webviews, so we give it\n// its own strategy.\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.KitKatChromiumBasedWebViewStrategy = void 0;\nvar android_chrome_1 = __webpack_require__(/*! ./android-chrome */ \"./node_modules/credit-card-input-mask/dist/lib/strategies/android-chrome.js\");\nvar KitKatChromiumBasedWebViewStrategy = /** @class */ (function (_super) {\n    __extends(KitKatChromiumBasedWebViewStrategy, _super);\n    function KitKatChromiumBasedWebViewStrategy() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    KitKatChromiumBasedWebViewStrategy.prototype.reformatInput = function () {\n        var _this = this;\n        setTimeout(function () {\n            _super.prototype.reformatInput.call(_this);\n        }, 0);\n    };\n    KitKatChromiumBasedWebViewStrategy.prototype.unformatInput = function () {\n        var _this = this;\n        setTimeout(function () {\n            _super.prototype.unformatInput.call(_this);\n        }, 0);\n    };\n    return KitKatChromiumBasedWebViewStrategy;\n}(android_chrome_1.AndroidChromeStrategy));\nexports.KitKatChromiumBasedWebViewStrategy = KitKatChromiumBasedWebViewStrategy;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/strategies/noop.js\":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/strategies/noop.js ***!\n  \\*************************************************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.NoopKeyboardStrategy = void 0;\nvar strategy_interface_1 = __webpack_require__(/*! ./strategy-interface */ \"./node_modules/credit-card-input-mask/dist/lib/strategies/strategy-interface.js\");\nvar NoopKeyboardStrategy = /** @class */ (function (_super) {\n    __extends(NoopKeyboardStrategy, _super);\n    function NoopKeyboardStrategy() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoopKeyboardStrategy.prototype.getUnformattedValue = function () {\n        return this.inputElement.value;\n    };\n    NoopKeyboardStrategy.prototype.setPattern = function () {\n        // noop\n    };\n    return NoopKeyboardStrategy;\n}(strategy_interface_1.StrategyInterface));\nexports.NoopKeyboardStrategy = NoopKeyboardStrategy;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/lib/strategies/strategy-interface.js\":\n/*!***************************************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/lib/strategies/strategy-interface.js ***!\n  \\***************************************************************************************/\n/***/ (function(__unused_webpack_module, exports) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StrategyInterface = void 0;\nvar StrategyInterface = /** @class */ (function () {\n    function StrategyInterface(options) {\n        this.inputElement = options.element;\n        this.isFormatted = false;\n    }\n    return StrategyInterface;\n}());\nexports.StrategyInterface = StrategyInterface;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/main.js\":\n/*!**********************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/main.js ***!\n  \\**********************************************************/\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar RestrictedInput = __webpack_require__(/*! ./lib/restricted-input */ \"./node_modules/credit-card-input-mask/dist/lib/restricted-input.js\");\nmodule.exports = RestrictedInput;\n\n\n/***/ }),\n\n/***/ \"./node_modules/credit-card-input-mask/dist/supports-input-formatting.js\":\n/*!*******************************************************************************!*\\\n  !*** ./node_modules/credit-card-input-mask/dist/supports-input-formatting.js ***!\n  \\*******************************************************************************/\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar device_1 = __webpack_require__(/*! ./lib/device */ \"./node_modules/credit-card-input-mask/dist/lib/device.js\");\nmodule.exports = function supportsInputFormatting() {\n    // Digits get dropped in samsung browser\n    return !device_1.isSamsungBrowser();\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-6b3bd404.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/imask/esm/_rollupPluginBabelHelpers-6b3bd404.js ***!\n  \\**********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"_\": function() { return /* binding */ _objectWithoutPropertiesLoose; }\n/* harmony export */ });\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/controls/html-contenteditable-mask-element.js\":\n/*!******************************************************************************!*\\\n  !*** ./node_modules/imask/esm/controls/html-contenteditable-mask-element.js ***!\n  \\******************************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ HTMLContenteditableMaskElement; }\n/* harmony export */ });\n/* harmony import */ var _html_mask_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./html-mask-element.js */ \"./node_modules/imask/esm/controls/html-mask-element.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _mask_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mask-element.js */ \"./node_modules/imask/esm/controls/mask-element.js\");\n\n\n\n\nclass HTMLContenteditableMaskElement extends _html_mask_element_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\n    Returns HTMLElement selection start\n    @override\n  */\n  get _unsafeSelectionStart() {\n    const root = this.rootElement;\n    const selection = root.getSelection && root.getSelection();\n    const anchorOffset = selection && selection.anchorOffset;\n    const focusOffset = selection && selection.focusOffset;\n    if (focusOffset == null || anchorOffset == null || anchorOffset < focusOffset) {\n      return anchorOffset;\n    }\n    return focusOffset;\n  }\n\n  /**\n    Returns HTMLElement selection end\n    @override\n  */\n  get _unsafeSelectionEnd() {\n    const root = this.rootElement;\n    const selection = root.getSelection && root.getSelection();\n    const anchorOffset = selection && selection.anchorOffset;\n    const focusOffset = selection && selection.focusOffset;\n    if (focusOffset == null || anchorOffset == null || anchorOffset > focusOffset) {\n      return anchorOffset;\n    }\n    return focusOffset;\n  }\n\n  /**\n    Sets HTMLElement selection\n    @override\n  */\n  _unsafeSelect(start, end) {\n    if (!this.rootElement.createRange) return;\n    const range = this.rootElement.createRange();\n    range.setStart(this.input.firstChild || this.input, start);\n    range.setEnd(this.input.lastChild || this.input, end);\n    const root = this.rootElement;\n    const selection = root.getSelection && root.getSelection();\n    if (selection) {\n      selection.removeAllRanges();\n      selection.addRange(range);\n    }\n  }\n\n  /**\n    HTMLElement value\n    @override\n  */\n  get value() {\n    // $FlowFixMe\n    return this.input.textContent;\n  }\n  set value(value) {\n    this.input.textContent = value;\n  }\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].HTMLContenteditableMaskElement = HTMLContenteditableMaskElement;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/controls/html-mask-element.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/imask/esm/controls/html-mask-element.js ***!\n  \\**************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ HTMLMaskElement; }\n/* harmony export */ });\n/* harmony import */ var _mask_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mask-element.js */ \"./node_modules/imask/esm/controls/mask-element.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n/** Bridge between HTMLElement and {@link Masked} */\nclass HTMLMaskElement extends _mask_element_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /** Mapping between HTMLElement events and mask internal events */\n\n  /** HTMLElement to use mask on */\n\n  /**\n    @param {HTMLInputElement|HTMLTextAreaElement} input\n  */\n  constructor(input) {\n    super();\n    this.input = input;\n    this._handlers = {};\n  }\n\n  /** */\n  // $FlowFixMe https://github.com/facebook/flow/issues/2839\n  get rootElement() {\n    var _this$input$getRootNo, _this$input$getRootNo2, _this$input;\n    return (_this$input$getRootNo = (_this$input$getRootNo2 = (_this$input = this.input).getRootNode) === null || _this$input$getRootNo2 === void 0 ? void 0 : _this$input$getRootNo2.call(_this$input)) !== null && _this$input$getRootNo !== void 0 ? _this$input$getRootNo : document;\n  }\n\n  /**\n    Is element in focus\n    @readonly\n  */\n  get isActive() {\n    //$FlowFixMe\n    return this.input === this.rootElement.activeElement;\n  }\n\n  /**\n    Returns HTMLElement selection start\n    @override\n  */\n  get _unsafeSelectionStart() {\n    return this.input.selectionStart;\n  }\n\n  /**\n    Returns HTMLElement selection end\n    @override\n  */\n  get _unsafeSelectionEnd() {\n    return this.input.selectionEnd;\n  }\n\n  /**\n    Sets HTMLElement selection\n    @override\n  */\n  _unsafeSelect(start, end) {\n    this.input.setSelectionRange(start, end);\n  }\n\n  /**\n    HTMLElement value\n    @override\n  */\n  get value() {\n    return this.input.value;\n  }\n  set value(value) {\n    this.input.value = value;\n  }\n\n  /**\n    Binds HTMLElement events to mask internal events\n    @override\n  */\n  bindEvents(handlers) {\n    Object.keys(handlers).forEach(event => this._toggleEventHandler(HTMLMaskElement.EVENTS_MAP[event], handlers[event]));\n  }\n\n  /**\n    Unbinds HTMLElement events to mask internal events\n    @override\n  */\n  unbindEvents() {\n    Object.keys(this._handlers).forEach(event => this._toggleEventHandler(event));\n  }\n\n  /** */\n  _toggleEventHandler(event, handler) {\n    if (this._handlers[event]) {\n      this.input.removeEventListener(event, this._handlers[event]);\n      delete this._handlers[event];\n    }\n    if (handler) {\n      this.input.addEventListener(event, handler);\n      this._handlers[event] = handler;\n    }\n  }\n}\nHTMLMaskElement.EVENTS_MAP = {\n  selectionChange: 'keydown',\n  input: 'input',\n  drop: 'drop',\n  click: 'click',\n  focus: 'focus',\n  commit: 'blur'\n};\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].HTMLMaskElement = HTMLMaskElement;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/controls/input.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/imask/esm/controls/input.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ InputMask; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-6b3bd404.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-6b3bd404.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_action_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/action-details.js */ \"./node_modules/imask/esm/core/action-details.js\");\n/* harmony import */ var _masked_date_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../masked/date.js */ \"./node_modules/imask/esm/masked/date.js\");\n/* harmony import */ var _masked_factory_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../masked/factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _mask_element_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mask-element.js */ \"./node_modules/imask/esm/controls/mask-element.js\");\n/* harmony import */ var _html_mask_element_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./html-mask-element.js */ \"./node_modules/imask/esm/controls/html-mask-element.js\");\n/* harmony import */ var _html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./html-contenteditable-mask-element.js */ \"./node_modules/imask/esm/controls/html-contenteditable-mask-element.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _masked_pattern_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../masked/pattern.js */ \"./node_modules/imask/esm/masked/pattern.js\");\n/* harmony import */ var _masked_base_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../masked/base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _masked_pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../masked/pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _masked_pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../masked/pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _masked_pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../masked/pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _masked_pattern_cursor_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../masked/pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n/* harmony import */ var _masked_regexp_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../masked/regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n/* harmony import */ var _masked_range_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../masked/range.js */ \"./node_modules/imask/esm/masked/range.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst _excluded = [\"mask\"];\n\n/** Listens to element events and controls changes between element and {@link Masked} */\nclass InputMask {\n  /**\n    View element\n    @readonly\n  */\n\n  /**\n    Internal {@link Masked} model\n    @readonly\n  */\n\n  /**\n    @param {MaskElement|HTMLInputElement|HTMLTextAreaElement} el\n    @param {Object} opts\n  */\n  constructor(el, opts) {\n    this.el = el instanceof _mask_element_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"] ? el : el.isContentEditable && el.tagName !== 'INPUT' && el.tagName !== 'TEXTAREA' ? new _html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"](el) : new _html_mask_element_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"](el);\n    this.masked = (0,_masked_factory_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(opts);\n    this._listeners = {};\n    this._value = '';\n    this._unmaskedValue = '';\n    this._saveSelection = this._saveSelection.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onChange = this._onChange.bind(this);\n    this._onDrop = this._onDrop.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this.alignCursor = this.alignCursor.bind(this);\n    this.alignCursorFriendly = this.alignCursorFriendly.bind(this);\n    this._bindEvents();\n\n    // refresh\n    this.updateValue();\n    this._onChange();\n  }\n\n  /** Read or update mask */\n  get mask() {\n    return this.masked.mask;\n  }\n  maskEquals(mask) {\n    var _this$masked;\n    return mask == null || ((_this$masked = this.masked) === null || _this$masked === void 0 ? void 0 : _this$masked.maskEquals(mask));\n  }\n  set mask(mask) {\n    if (this.maskEquals(mask)) return;\n\n    // $FlowFixMe No ideas ... after update\n    if (!(mask instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].Masked) && this.masked.constructor === (0,_masked_factory_js__WEBPACK_IMPORTED_MODULE_4__.maskedClass)(mask)) {\n      this.masked.updateOptions({\n        mask\n      });\n      return;\n    }\n    const masked = (0,_masked_factory_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n      mask\n    });\n    masked.unmaskedValue = this.masked.unmaskedValue;\n    this.masked = masked;\n  }\n\n  /** Raw value */\n  get value() {\n    return this._value;\n  }\n  set value(str) {\n    if (this.value === str) return;\n    this.masked.value = str;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Unmasked value */\n  get unmaskedValue() {\n    return this._unmaskedValue;\n  }\n  set unmaskedValue(str) {\n    if (this.unmaskedValue === str) return;\n    this.masked.unmaskedValue = str;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Typed unmasked value */\n  get typedValue() {\n    return this.masked.typedValue;\n  }\n  set typedValue(val) {\n    if (this.masked.typedValueEquals(val)) return;\n    this.masked.typedValue = val;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Display value */\n  get displayValue() {\n    return this.masked.displayValue;\n  }\n\n  /**\n    Starts listening to element events\n    @protected\n  */\n  _bindEvents() {\n    this.el.bindEvents({\n      selectionChange: this._saveSelection,\n      input: this._onInput,\n      drop: this._onDrop,\n      click: this._onClick,\n      focus: this._onFocus,\n      commit: this._onChange\n    });\n  }\n\n  /**\n    Stops listening to element events\n    @protected\n   */\n  _unbindEvents() {\n    if (this.el) this.el.unbindEvents();\n  }\n\n  /**\n    Fires custom event\n    @protected\n   */\n  _fireEvent(ev) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    const listeners = this._listeners[ev];\n    if (!listeners) return;\n    listeners.forEach(l => l(...args));\n  }\n\n  /**\n    Current selection start\n    @readonly\n  */\n  get selectionStart() {\n    return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;\n  }\n\n  /** Current cursor position */\n  get cursorPos() {\n    return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;\n  }\n  set cursorPos(pos) {\n    if (!this.el || !this.el.isActive) return;\n    this.el.select(pos, pos);\n    this._saveSelection();\n  }\n\n  /**\n    Stores current selection\n    @protected\n  */\n  _saveSelection( /* ev */\n  ) {\n    if (this.displayValue !== this.el.value) {\n      console.warn('Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly.'); // eslint-disable-line no-console\n    }\n\n    this._selection = {\n      start: this.selectionStart,\n      end: this.cursorPos\n    };\n  }\n\n  /** Syncronizes model value from view */\n  updateValue() {\n    this.masked.value = this.el.value;\n    this._value = this.masked.value;\n  }\n\n  /** Syncronizes view from model value, fires change events */\n  updateControl() {\n    const newUnmaskedValue = this.masked.unmaskedValue;\n    const newValue = this.masked.value;\n    const newDisplayValue = this.displayValue;\n    const isChanged = this.unmaskedValue !== newUnmaskedValue || this.value !== newValue;\n    this._unmaskedValue = newUnmaskedValue;\n    this._value = newValue;\n    if (this.el.value !== newDisplayValue) this.el.value = newDisplayValue;\n    if (isChanged) this._fireChangeEvents();\n  }\n\n  /** Updates options with deep equal check, recreates @{link Masked} model if mask type changes */\n  updateOptions(opts) {\n    const {\n        mask\n      } = opts,\n      restOpts = (0,_rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_0__._)(opts, _excluded);\n    const updateMask = !this.maskEquals(mask);\n    const updateOpts = !(0,_core_utils_js__WEBPACK_IMPORTED_MODULE_1__.objectIncludes)(this.masked, restOpts);\n    if (updateMask) this.mask = mask;\n    if (updateOpts) this.masked.updateOptions(restOpts);\n    if (updateMask || updateOpts) this.updateControl();\n  }\n\n  /** Updates cursor */\n  updateCursor(cursorPos) {\n    if (cursorPos == null) return;\n    this.cursorPos = cursorPos;\n\n    // also queue change cursor for mobile browsers\n    this._delayUpdateCursor(cursorPos);\n  }\n\n  /**\n    Delays cursor update to support mobile browsers\n    @private\n  */\n  _delayUpdateCursor(cursorPos) {\n    this._abortUpdateCursor();\n    this._changingCursorPos = cursorPos;\n    this._cursorChanging = setTimeout(() => {\n      if (!this.el) return; // if was destroyed\n      this.cursorPos = this._changingCursorPos;\n      this._abortUpdateCursor();\n    }, 10);\n  }\n\n  /**\n    Fires custom events\n    @protected\n  */\n  _fireChangeEvents() {\n    this._fireEvent('accept', this._inputEvent);\n    if (this.masked.isComplete) this._fireEvent('complete', this._inputEvent);\n  }\n\n  /**\n    Aborts delayed cursor update\n    @private\n  */\n  _abortUpdateCursor() {\n    if (this._cursorChanging) {\n      clearTimeout(this._cursorChanging);\n      delete this._cursorChanging;\n    }\n  }\n\n  /** Aligns cursor to nearest available position */\n  alignCursor() {\n    this.cursorPos = this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos, _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT));\n  }\n\n  /** Aligns cursor only if selection is empty */\n  alignCursorFriendly() {\n    if (this.selectionStart !== this.cursorPos) return; // skip if range is selected\n    this.alignCursor();\n  }\n\n  /** Adds listener on custom event */\n  on(ev, handler) {\n    if (!this._listeners[ev]) this._listeners[ev] = [];\n    this._listeners[ev].push(handler);\n    return this;\n  }\n\n  /** Removes custom event listener */\n  off(ev, handler) {\n    if (!this._listeners[ev]) return this;\n    if (!handler) {\n      delete this._listeners[ev];\n      return this;\n    }\n    const hIndex = this._listeners[ev].indexOf(handler);\n    if (hIndex >= 0) this._listeners[ev].splice(hIndex, 1);\n    return this;\n  }\n\n  /** Handles view input event */\n  _onInput(e) {\n    this._inputEvent = e;\n    this._abortUpdateCursor();\n\n    // fix strange IE behavior\n    if (!this._selection) return this.updateValue();\n    const details = new _core_action_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](\n    // new state\n    this.el.value, this.cursorPos,\n    // old state\n    this.displayValue, this._selection);\n    const oldRawValue = this.masked.rawInputValue;\n    const offset = this.masked.splice(details.startChangePos, details.removed.length, details.inserted, details.removeDirection, {\n      input: true,\n      raw: true\n    }).offset;\n\n    // force align in remove direction only if no input chars were removed\n    // otherwise we still need to align with NONE (to get out from fixed symbols for instance)\n    const removeDirection = oldRawValue === this.masked.rawInputValue ? details.removeDirection : _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE;\n    let cursorPos = this.masked.nearestInputPos(details.startChangePos + offset, removeDirection);\n    if (removeDirection !== _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE) cursorPos = this.masked.nearestInputPos(cursorPos, _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE);\n    this.updateControl();\n    this.updateCursor(cursorPos);\n    delete this._inputEvent;\n  }\n\n  /** Handles view change event and commits model value */\n  _onChange() {\n    if (this.displayValue !== this.el.value) {\n      this.updateValue();\n    }\n    this.masked.doCommit();\n    this.updateControl();\n    this._saveSelection();\n  }\n\n  /** Handles view drop event, prevents by default */\n  _onDrop(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n  }\n\n  /** Restore last selection on focus */\n  _onFocus(ev) {\n    this.alignCursorFriendly();\n  }\n\n  /** Restore last selection on focus */\n  _onClick(ev) {\n    this.alignCursorFriendly();\n  }\n\n  /** Unbind view events and removes element reference */\n  destroy() {\n    this._unbindEvents();\n    // $FlowFixMe why not do so?\n    this._listeners.length = 0;\n    // $FlowFixMe\n    delete this.el;\n  }\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].InputMask = InputMask;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/controls/mask-element.js\":\n/*!*********************************************************!*\\\n  !*** ./node_modules/imask/esm/controls/mask-element.js ***!\n  \\*********************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskElement; }\n/* harmony export */ });\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n/**\n  Generic element API to use with mask\n  @interface\n*/\nclass MaskElement {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** Safely returns selection start */\n  get selectionStart() {\n    let start;\n    try {\n      start = this._unsafeSelectionStart;\n    } catch (e) {}\n    return start != null ? start : this.value.length;\n  }\n\n  /** Safely returns selection end */\n  get selectionEnd() {\n    let end;\n    try {\n      end = this._unsafeSelectionEnd;\n    } catch (e) {}\n    return end != null ? end : this.value.length;\n  }\n\n  /** Safely sets element selection */\n  select(start, end) {\n    if (start == null || end == null || start === this.selectionStart && end === this.selectionEnd) return;\n    try {\n      this._unsafeSelect(start, end);\n    } catch (e) {}\n  }\n\n  /** Should be overriden in subclasses */\n  _unsafeSelect(start, end) {}\n  /** Should be overriden in subclasses */\n  get isActive() {\n    return false;\n  }\n  /** Should be overriden in subclasses */\n  bindEvents(handlers) {}\n  /** Should be overriden in subclasses */\n  unbindEvents() {}\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].MaskElement = MaskElement;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/action-details.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/imask/esm/core/action-details.js ***!\n  \\*******************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ActionDetails; }\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _change_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _holder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n\n/** Provides details of changing input */\nclass ActionDetails {\n  /** Current input value */\n\n  /** Current cursor position */\n\n  /** Old input value */\n\n  /** Old selection */\n\n  constructor(value, cursorPos, oldValue, oldSelection) {\n    this.value = value;\n    this.cursorPos = cursorPos;\n    this.oldValue = oldValue;\n    this.oldSelection = oldSelection;\n\n    // double check if left part was changed (autofilling, other non-standard input triggers)\n    while (this.value.slice(0, this.startChangePos) !== this.oldValue.slice(0, this.startChangePos)) {\n      --this.oldSelection.start;\n    }\n  }\n\n  /**\n    Start changing position\n    @readonly\n  */\n  get startChangePos() {\n    return Math.min(this.cursorPos, this.oldSelection.start);\n  }\n\n  /**\n    Inserted symbols count\n    @readonly\n  */\n  get insertedCount() {\n    return this.cursorPos - this.startChangePos;\n  }\n\n  /**\n    Inserted symbols\n    @readonly\n  */\n  get inserted() {\n    return this.value.substr(this.startChangePos, this.insertedCount);\n  }\n\n  /**\n    Removed symbols count\n    @readonly\n  */\n  get removedCount() {\n    // Math.max for opposite operation\n    return Math.max(this.oldSelection.end - this.startChangePos ||\n    // for Delete\n    this.oldValue.length - this.value.length, 0);\n  }\n\n  /**\n    Removed symbols\n    @readonly\n  */\n  get removed() {\n    return this.oldValue.substr(this.startChangePos, this.removedCount);\n  }\n\n  /**\n    Unchanged head symbols\n    @readonly\n  */\n  get head() {\n    return this.value.substring(0, this.startChangePos);\n  }\n\n  /**\n    Unchanged tail symbols\n    @readonly\n  */\n  get tail() {\n    return this.value.substring(this.startChangePos + this.insertedCount);\n  }\n\n  /**\n    Remove direction\n    @readonly\n  */\n  get removeDirection() {\n    if (!this.removedCount || this.insertedCount) return _utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.NONE;\n\n    // align right if delete at right\n    return (this.oldSelection.end === this.cursorPos || this.oldSelection.start === this.cursorPos) &&\n    // if not range removed (event with backspace)\n    this.oldSelection.end === this.oldSelection.start ? _utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.RIGHT : _utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.LEFT;\n  }\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/change-details.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/imask/esm/core/change-details.js ***!\n  \\*******************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChangeDetails; }\n/* harmony export */ });\n/* harmony import */ var _holder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n/**\n  Provides details of changing model value\n  @param {Object} [details]\n  @param {string} [details.inserted] - Inserted symbols\n  @param {boolean} [details.skip] - Can skip chars\n  @param {number} [details.removeCount] - Removed symbols count\n  @param {number} [details.tailShift] - Additional offset if any changes occurred before tail\n*/\nclass ChangeDetails {\n  /** Inserted symbols */\n\n  /** Can skip chars */\n\n  /** Additional offset if any changes occurred before tail */\n\n  /** Raw inserted is used by dynamic mask */\n\n  constructor(details) {\n    Object.assign(this, {\n      inserted: '',\n      rawInserted: '',\n      skip: false,\n      tailShift: 0\n    }, details);\n  }\n\n  /**\n    Aggregate changes\n    @returns {ChangeDetails} `this`\n  */\n  aggregate(details) {\n    this.rawInserted += details.rawInserted;\n    this.skip = this.skip || details.skip;\n    this.inserted += details.inserted;\n    this.tailShift += details.tailShift;\n    return this;\n  }\n\n  /** Total offset considering all changes */\n  get offset() {\n    return this.tailShift + this.inserted.length;\n  }\n}\n_holder_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ChangeDetails = ChangeDetails;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/continuous-tail-details.js\":\n/*!****************************************************************!*\\\n  !*** ./node_modules/imask/esm/core/continuous-tail-details.js ***!\n  \\****************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ContinuousTailDetails; }\n/* harmony export */ });\n/** Provides details of continuous extracted tail */\nclass ContinuousTailDetails {\n  /** Tail value as string */\n\n  /** Tail start position */\n\n  /** Start position */\n\n  constructor() {\n    let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let stop = arguments.length > 2 ? arguments[2] : undefined;\n    this.value = value;\n    this.from = from;\n    this.stop = stop;\n  }\n  toString() {\n    return this.value;\n  }\n  extend(tail) {\n    this.value += String(tail);\n  }\n  appendTo(masked) {\n    return masked.append(this.toString(), {\n      tail: true\n    }).aggregate(masked._appendPlaceholder());\n  }\n  get state() {\n    return {\n      value: this.value,\n      from: this.from,\n      stop: this.stop\n    };\n  }\n  set state(state) {\n    Object.assign(this, state);\n  }\n  unshift(beforePos) {\n    if (!this.value.length || beforePos != null && this.from >= beforePos) return '';\n    const shiftChar = this.value[0];\n    this.value = this.value.slice(1);\n    return shiftChar;\n  }\n  shift() {\n    if (!this.value.length) return '';\n    const shiftChar = this.value[this.value.length - 1];\n    this.value = this.value.slice(0, -1);\n    return shiftChar;\n  }\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/holder.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/core/holder.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ IMask; }\n/* harmony export */ });\n/**\n * Applies mask on element.\n * @constructor\n * @param {HTMLInputElement|HTMLTextAreaElement|MaskElement} el - Element to apply mask\n * @param {Object} opts - Custom mask options\n * @return {InputMask}\n */\nfunction IMask(el) {\n  let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  // currently available only for input-like elements\n  return new IMask.InputMask(el, opts);\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/utils.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/imask/esm/core/utils.js ***!\n  \\**********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DIRECTION\": function() { return /* binding */ DIRECTION; },\n/* harmony export */   \"escapeRegExp\": function() { return /* binding */ escapeRegExp; },\n/* harmony export */   \"forceDirection\": function() { return /* binding */ forceDirection; },\n/* harmony export */   \"indexInDirection\": function() { return /* binding */ indexInDirection; },\n/* harmony export */   \"isString\": function() { return /* binding */ isString; },\n/* harmony export */   \"normalizePrepare\": function() { return /* binding */ normalizePrepare; },\n/* harmony export */   \"objectIncludes\": function() { return /* binding */ objectIncludes; },\n/* harmony export */   \"posInDirection\": function() { return /* binding */ posInDirection; }\n/* harmony export */ });\n/* harmony import */ var _change_details_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n/** Checks if value is string */\nfunction isString(str) {\n  return typeof str === 'string' || str instanceof String;\n}\n\n/**\n  Direction\n  @prop {string} NONE\n  @prop {string} LEFT\n  @prop {string} FORCE_LEFT\n  @prop {string} RIGHT\n  @prop {string} FORCE_RIGHT\n*/\nconst DIRECTION = {\n  NONE: 'NONE',\n  LEFT: 'LEFT',\n  FORCE_LEFT: 'FORCE_LEFT',\n  RIGHT: 'RIGHT',\n  FORCE_RIGHT: 'FORCE_RIGHT'\n};\n/**\n  Direction\n  @enum {string}\n*/\n\n/** Returns next char index in direction */\nfunction indexInDirection(pos, direction) {\n  if (direction === DIRECTION.LEFT) --pos;\n  return pos;\n}\n\n/** Returns next char position in direction */\nfunction posInDirection(pos, direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n    case DIRECTION.FORCE_LEFT:\n      return --pos;\n    case DIRECTION.RIGHT:\n    case DIRECTION.FORCE_RIGHT:\n      return ++pos;\n    default:\n      return pos;\n  }\n}\n\n/** */\nfunction forceDirection(direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n      return DIRECTION.FORCE_LEFT;\n    case DIRECTION.RIGHT:\n      return DIRECTION.FORCE_RIGHT;\n    default:\n      return direction;\n  }\n}\n\n/** Escapes regular expression control chars */\nfunction escapeRegExp(str) {\n  return str.replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g, '\\\\$1');\n}\nfunction normalizePrepare(prep) {\n  return Array.isArray(prep) ? prep : [prep, new _change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]()];\n}\n\n// cloned from https://github.com/epoberezkin/fast-deep-equal with small changes\nfunction objectIncludes(b, a) {\n  if (a === b) return true;\n  var arrA = Array.isArray(a),\n    arrB = Array.isArray(b),\n    i;\n  if (arrA && arrB) {\n    if (a.length != b.length) return false;\n    for (i = 0; i < a.length; i++) if (!objectIncludes(a[i], b[i])) return false;\n    return true;\n  }\n  if (arrA != arrB) return false;\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    var dateA = a instanceof Date,\n      dateB = b instanceof Date;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    if (dateA != dateB) return false;\n    var regexpA = a instanceof RegExp,\n      regexpB = b instanceof RegExp;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    if (regexpA != regexpB) return false;\n    var keys = Object.keys(a);\n    // if (keys.length !== Object.keys(b).length) return false;\n\n    for (i = 0; i < keys.length; i++)\n    // $FlowFixMe ... ???\n    if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    for (i = 0; i < keys.length; i++) if (!objectIncludes(b[keys[i]], a[keys[i]])) return false;\n    return true;\n  } else if (a && b && typeof a === 'function' && typeof b === 'function') {\n    return a.toString() === b.toString();\n  }\n  return false;\n}\n\n/** Selection range */\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/index.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/imask/esm/index.js ***!\n  \\*****************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChangeDetails\": function() { return /* reexport safe */ _core_change_details_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"]; },\n/* harmony export */   \"HTMLContenteditableMaskElement\": function() { return /* reexport safe */ _controls_html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]; },\n/* harmony export */   \"HTMLMaskElement\": function() { return /* reexport safe */ _controls_html_mask_element_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"]; },\n/* harmony export */   \"InputMask\": function() { return /* reexport safe */ _controls_input_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; },\n/* harmony export */   \"MaskElement\": function() { return /* reexport safe */ _controls_mask_element_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]; },\n/* harmony export */   \"Masked\": function() { return /* reexport safe */ _masked_base_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; },\n/* harmony export */   \"MaskedDate\": function() { return /* reexport safe */ _masked_date_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; },\n/* harmony export */   \"MaskedDynamic\": function() { return /* reexport safe */ _masked_dynamic_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; },\n/* harmony export */   \"MaskedEnum\": function() { return /* reexport safe */ _masked_enum_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; },\n/* harmony export */   \"MaskedFunction\": function() { return /* reexport safe */ _masked_function_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; },\n/* harmony export */   \"MaskedNumber\": function() { return /* reexport safe */ _masked_number_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; },\n/* harmony export */   \"MaskedPattern\": function() { return /* reexport safe */ _masked_pattern_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; },\n/* harmony export */   \"MaskedRange\": function() { return /* reexport safe */ _masked_range_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; },\n/* harmony export */   \"MaskedRegExp\": function() { return /* reexport safe */ _masked_regexp_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; },\n/* harmony export */   \"PIPE_TYPE\": function() { return /* reexport safe */ _masked_pipe_js__WEBPACK_IMPORTED_MODULE_15__.PIPE_TYPE; },\n/* harmony export */   \"createMask\": function() { return /* reexport safe */ _masked_factory_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]; },\n/* harmony export */   \"createPipe\": function() { return /* reexport safe */ _masked_pipe_js__WEBPACK_IMPORTED_MODULE_15__.createPipe; },\n/* harmony export */   \"default\": function() { return /* reexport safe */ _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; },\n/* harmony export */   \"pipe\": function() { return /* reexport safe */ _masked_pipe_js__WEBPACK_IMPORTED_MODULE_15__.pipe; }\n/* harmony export */ });\n/* harmony import */ var _controls_input_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./controls/input.js */ \"./node_modules/imask/esm/controls/input.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _masked_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./masked/base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _masked_pattern_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./masked/pattern.js */ \"./node_modules/imask/esm/masked/pattern.js\");\n/* harmony import */ var _masked_enum_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./masked/enum.js */ \"./node_modules/imask/esm/masked/enum.js\");\n/* harmony import */ var _masked_range_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./masked/range.js */ \"./node_modules/imask/esm/masked/range.js\");\n/* harmony import */ var _masked_number_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./masked/number.js */ \"./node_modules/imask/esm/masked/number.js\");\n/* harmony import */ var _masked_date_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./masked/date.js */ \"./node_modules/imask/esm/masked/date.js\");\n/* harmony import */ var _masked_regexp_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./masked/regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n/* harmony import */ var _masked_function_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./masked/function.js */ \"./node_modules/imask/esm/masked/function.js\");\n/* harmony import */ var _masked_dynamic_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./masked/dynamic.js */ \"./node_modules/imask/esm/masked/dynamic.js\");\n/* harmony import */ var _masked_factory_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./masked/factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _controls_mask_element_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./controls/mask-element.js */ \"./node_modules/imask/esm/controls/mask-element.js\");\n/* harmony import */ var _controls_html_mask_element_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./controls/html-mask-element.js */ \"./node_modules/imask/esm/controls/html-mask-element.js\");\n/* harmony import */ var _controls_html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./controls/html-contenteditable-mask-element.js */ \"./node_modules/imask/esm/controls/html-contenteditable-mask-element.js\");\n/* harmony import */ var _masked_pipe_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./masked/pipe.js */ \"./node_modules/imask/esm/masked/pipe.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./_rollupPluginBabelHelpers-6b3bd404.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-6b3bd404.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_action_details_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./core/action-details.js */ \"./node_modules/imask/esm/core/action-details.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _masked_pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./masked/pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _masked_pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./masked/pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _masked_pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./masked/pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _masked_pattern_cursor_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./masked/pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntry {\n  globalThis.IMask = _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n} catch (e) {}\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/base.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/masked/base.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Masked; }\n/* harmony export */ });\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n\n\n/** Supported mask type */\n\n/** Append flags */\n\n/** Extract flags */\n\n/** Provides common masking stuff */\nclass Masked {\n  // $Shape<MaskedOptions>; TODO after fix https://github.com/facebook/flow/issues/4773\n\n  /** @type {Mask} */\n\n  /** */ // $FlowFixMe no ideas\n  /** Transforms value before mask processing */\n  /** Validates if value is acceptable */\n  /** Does additional processing in the end of editing */\n  /** Format typed value to string */\n  /** Parse strgin to get typed value */\n  /** Enable characters overwriting */\n  /** */\n  /** */\n  /** */\n  constructor(opts) {\n    this._value = '';\n    this._update(Object.assign({}, Masked.DEFAULTS, opts));\n    this.isInitialized = true;\n  }\n\n  /** Sets and applies new options */\n  updateOptions(opts) {\n    if (!Object.keys(opts).length) return;\n    // $FlowFixMe\n    this.withValueRefresh(this._update.bind(this, opts));\n  }\n\n  /**\n    Sets new options\n    @protected\n  */\n  _update(opts) {\n    Object.assign(this, opts);\n  }\n\n  /** Mask state */\n  get state() {\n    return {\n      _value: this.value\n    };\n  }\n  set state(state) {\n    this._value = state._value;\n  }\n\n  /** Resets value */\n  reset() {\n    this._value = '';\n  }\n\n  /** */\n  get value() {\n    return this._value;\n  }\n  set value(value) {\n    this.resolve(value);\n  }\n\n  /** Resolve new value */\n  resolve(value) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      input: true\n    };\n    this.reset();\n    this.append(value, flags, '');\n    this.doCommit();\n    return this.value;\n  }\n\n  /** */\n  get unmaskedValue() {\n    return this.value;\n  }\n  set unmaskedValue(value) {\n    this.reset();\n    this.append(value, {}, '');\n    this.doCommit();\n  }\n\n  /** */\n  get typedValue() {\n    return this.doParse(this.value);\n  }\n  set typedValue(value) {\n    this.value = this.doFormat(value);\n  }\n\n  /** Value that includes raw user input */\n  get rawInputValue() {\n    return this.extractInput(0, this.value.length, {\n      raw: true\n    });\n  }\n  set rawInputValue(value) {\n    this.reset();\n    this.append(value, {\n      raw: true\n    }, '');\n    this.doCommit();\n  }\n  get displayValue() {\n    return this.value;\n  }\n\n  /** */\n  get isComplete() {\n    return true;\n  }\n\n  /** */\n  get isFilled() {\n    return this.isComplete;\n  }\n\n  /** Finds nearest input position in direction */\n  nearestInputPos(cursorPos, direction) {\n    return cursorPos;\n  }\n  totalInputPositions() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    return Math.min(this.value.length, toPos - fromPos);\n  }\n\n  /** Extracts value in range considering flags */\n  extractInput() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    return this.value.slice(fromPos, toPos);\n  }\n\n  /** Extracts tail in range */\n  extractTail() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    return new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.extractInput(fromPos, toPos), fromPos);\n  }\n\n  /** Appends tail */\n  // $FlowFixMe no ideas\n  appendTail(tail) {\n    if ((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(tail)) tail = new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](String(tail));\n    return tail.appendTo(this);\n  }\n\n  /** Appends char */\n  _appendCharRaw(ch) {\n    if (!ch) return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this._value += ch;\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n      inserted: ch,\n      rawInserted: ch\n    });\n  }\n\n  /** Appends char */\n  _appendChar(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let checkTail = arguments.length > 2 ? arguments[2] : undefined;\n    const consistentState = this.state;\n    let details;\n    [ch, details] = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.normalizePrepare)(this.doPrepare(ch, flags));\n    details = details.aggregate(this._appendCharRaw(ch, flags));\n    if (details.inserted) {\n      let consistentTail;\n      let appended = this.doValidate(flags) !== false;\n      if (appended && checkTail != null) {\n        // validation ok, check tail\n        const beforeTailState = this.state;\n        if (this.overwrite === true) {\n          consistentTail = checkTail.state;\n          checkTail.unshift(this.value.length - details.tailShift);\n        }\n        let tailDetails = this.appendTail(checkTail);\n        appended = tailDetails.rawInserted === checkTail.toString();\n\n        // not ok, try shift\n        if (!(appended && tailDetails.inserted) && this.overwrite === 'shift') {\n          this.state = beforeTailState;\n          consistentTail = checkTail.state;\n          checkTail.shift();\n          tailDetails = this.appendTail(checkTail);\n          appended = tailDetails.rawInserted === checkTail.toString();\n        }\n\n        // if ok, rollback state after tail\n        if (appended && tailDetails.inserted) this.state = beforeTailState;\n      }\n\n      // revert all if something went wrong\n      if (!appended) {\n        details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n        this.state = consistentState;\n        if (checkTail && consistentTail) checkTail.state = consistentTail;\n      }\n    }\n    return details;\n  }\n\n  /** Appends optional placeholder at end */\n  _appendPlaceholder() {\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n\n  /** Appends optional eager placeholder at end */\n  _appendEager() {\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n\n  /** Appends symbols considering flags */\n  // $FlowFixMe no ideas\n  append(str, flags, tail) {\n    if (!(0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(str)) throw new Error('value should be string');\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    const checkTail = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(tail) ? new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](String(tail)) : tail;\n    if (flags !== null && flags !== void 0 && flags.tail) flags._beforeTailState = this.state;\n    for (let ci = 0; ci < str.length; ++ci) {\n      const d = this._appendChar(str[ci], flags, checkTail);\n      if (!d.rawInserted && !this.doSkipInvalid(str[ci], flags, checkTail)) break;\n      details.aggregate(d);\n    }\n    if ((this.eager === true || this.eager === 'append') && flags !== null && flags !== void 0 && flags.input && str) {\n      details.aggregate(this._appendEager());\n    }\n\n    // append tail but aggregate only tailShift\n    if (checkTail != null) {\n      details.tailShift += this.appendTail(checkTail).tailShift;\n      // TODO it's a good idea to clear state after appending ends\n      // but it causes bugs when one append calls another (when dynamic dispatch set rawInputValue)\n      // this._resetBeforeTailState();\n    }\n\n    return details;\n  }\n\n  /** */\n  remove() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    this._value = this.value.slice(0, fromPos) + this.value.slice(toPos);\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n\n  /** Calls function and reapplies current value */\n  withValueRefresh(fn) {\n    if (this._refreshing || !this.isInitialized) return fn();\n    this._refreshing = true;\n    const rawInput = this.rawInputValue;\n    const value = this.value;\n    const ret = fn();\n    this.rawInputValue = rawInput;\n    // append lost trailing chars at end\n    if (this.value && this.value !== value && value.indexOf(this.value) === 0) {\n      this.append(value.slice(this.value.length), {}, '');\n    }\n    delete this._refreshing;\n    return ret;\n  }\n\n  /** */\n  runIsolated(fn) {\n    if (this._isolated || !this.isInitialized) return fn(this);\n    this._isolated = true;\n    const state = this.state;\n    const ret = fn(this);\n    this.state = state;\n    delete this._isolated;\n    return ret;\n  }\n\n  /** */\n  doSkipInvalid(ch) {\n    return this.skipInvalid;\n  }\n\n  /**\n    Prepares string before mask processing\n    @protected\n  */\n  doPrepare(str) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return this.prepare ? this.prepare(str, this, flags) : str;\n  }\n\n  /**\n    Validates if value is acceptable\n    @protected\n  */\n  doValidate(flags) {\n    return (!this.validate || this.validate(this.value, this, flags)) && (!this.parent || this.parent.doValidate(flags));\n  }\n\n  /**\n    Does additional processing in the end of editing\n    @protected\n  */\n  doCommit() {\n    if (this.commit) this.commit(this.value, this);\n  }\n\n  /** */\n  doFormat(value) {\n    return this.format ? this.format(value, this) : value;\n  }\n\n  /** */\n  doParse(str) {\n    return this.parse ? this.parse(str, this) : str;\n  }\n\n  /** */\n  splice(start, deleteCount, inserted, removeDirection) {\n    let flags = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      input: true\n    };\n    const tailPos = start + deleteCount;\n    const tail = this.extractTail(tailPos);\n    const eagerRemove = this.eager === true || this.eager === 'remove';\n    let oldRawValue;\n    if (eagerRemove) {\n      removeDirection = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.forceDirection)(removeDirection);\n      oldRawValue = this.extractInput(0, tailPos, {\n        raw: true\n      });\n    }\n    let startChangePos = start;\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n    // if it is just deletion without insertion\n    if (removeDirection !== _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.NONE) {\n      startChangePos = this.nearestInputPos(start, deleteCount > 1 && start !== 0 && !eagerRemove ? _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.NONE : removeDirection);\n\n      // adjust tailShift if start was aligned\n      details.tailShift = startChangePos - start;\n    }\n    details.aggregate(this.remove(startChangePos));\n    if (eagerRemove && removeDirection !== _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.NONE && oldRawValue === this.rawInputValue) {\n      if (removeDirection === _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.FORCE_LEFT) {\n        let valLength;\n        while (oldRawValue === this.rawInputValue && (valLength = this.value.length)) {\n          details.aggregate(new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n            tailShift: -1\n          })).aggregate(this.remove(valLength - 1));\n        }\n      } else if (removeDirection === _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.FORCE_RIGHT) {\n        tail.unshift();\n      }\n    }\n    return details.aggregate(this.append(inserted, flags, tail));\n  }\n  maskEquals(mask) {\n    return this.mask === mask;\n  }\n  typedValueEquals(value) {\n    const tval = this.typedValue;\n    return value === tval || Masked.EMPTY_VALUES.includes(value) && Masked.EMPTY_VALUES.includes(tval) || this.doFormat(value) === this.doFormat(this.typedValue);\n  }\n}\nMasked.DEFAULTS = {\n  format: String,\n  parse: v => v,\n  skipInvalid: true\n};\nMasked.EMPTY_VALUES = [undefined, null, ''];\n_core_holder_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Masked = Masked;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/date.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/masked/date.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedDate; }\n/* harmony export */ });\n/* harmony import */ var _pattern_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pattern.js */ \"./node_modules/imask/esm/masked/pattern.js\");\n/* harmony import */ var _range_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./range.js */ \"./node_modules/imask/esm/masked/range.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-6b3bd404.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-6b3bd404.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n/* harmony import */ var _regexp_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** Date mask */\nclass MaskedDate extends _pattern_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /** Pattern mask for date according to {@link MaskedDate#format} */\n\n  /** Start date */\n\n  /** End date */\n\n  /** */\n\n  /**\n    @param {Object} opts\n  */\n  constructor(opts) {\n    super(Object.assign({}, MaskedDate.DEFAULTS, opts));\n  }\n\n  /**\n    @override\n  */\n  _update(opts) {\n    if (opts.mask === Date) delete opts.mask;\n    if (opts.pattern) opts.mask = opts.pattern;\n    const blocks = opts.blocks;\n    opts.blocks = Object.assign({}, MaskedDate.GET_DEFAULT_BLOCKS());\n    // adjust year block\n    if (opts.min) opts.blocks.Y.from = opts.min.getFullYear();\n    if (opts.max) opts.blocks.Y.to = opts.max.getFullYear();\n    if (opts.min && opts.max && opts.blocks.Y.from === opts.blocks.Y.to) {\n      opts.blocks.m.from = opts.min.getMonth() + 1;\n      opts.blocks.m.to = opts.max.getMonth() + 1;\n      if (opts.blocks.m.from === opts.blocks.m.to) {\n        opts.blocks.d.from = opts.min.getDate();\n        opts.blocks.d.to = opts.max.getDate();\n      }\n    }\n    Object.assign(opts.blocks, this.blocks, blocks);\n\n    // add autofix\n    Object.keys(opts.blocks).forEach(bk => {\n      const b = opts.blocks[bk];\n      if (!('autofix' in b) && 'autofix' in opts) b.autofix = opts.autofix;\n    });\n    super._update(opts);\n  }\n\n  /**\n    @override\n  */\n  doValidate() {\n    const date = this.date;\n    return super.doValidate(...arguments) && (!this.isComplete || this.isDateExist(this.value) && date != null && (this.min == null || this.min <= date) && (this.max == null || date <= this.max));\n  }\n\n  /** Checks if date is exists */\n  isDateExist(str) {\n    return this.format(this.parse(str, this), this).indexOf(str) >= 0;\n  }\n\n  /** Parsed Date */\n  get date() {\n    return this.typedValue;\n  }\n  set date(date) {\n    this.typedValue = date;\n  }\n\n  /**\n    @override\n  */\n  get typedValue() {\n    return this.isComplete ? super.typedValue : null;\n  }\n  set typedValue(value) {\n    super.typedValue = value;\n  }\n\n  /**\n    @override\n  */\n  maskEquals(mask) {\n    return mask === Date || super.maskEquals(mask);\n  }\n}\nMaskedDate.DEFAULTS = {\n  pattern: 'd{.}`m{.}`Y',\n  format: date => {\n    if (!date) return '';\n    const day = String(date.getDate()).padStart(2, '0');\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const year = date.getFullYear();\n    return [day, month, year].join('.');\n  },\n  parse: str => {\n    const [day, month, year] = str.split('.');\n    return new Date(year, month - 1, day);\n  }\n};\nMaskedDate.GET_DEFAULT_BLOCKS = () => ({\n  d: {\n    mask: _range_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    from: 1,\n    to: 31,\n    maxLength: 2\n  },\n  m: {\n    mask: _range_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    from: 1,\n    to: 12,\n    maxLength: 2\n  },\n  Y: {\n    mask: _range_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    from: 1900,\n    to: 9999\n  }\n});\n_core_holder_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].MaskedDate = MaskedDate;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/dynamic.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/dynamic.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedDynamic; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-6b3bd404.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-6b3bd404.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n\n\n\n\n\n\n\n\nconst _excluded = [\"compiledMasks\", \"currentMaskRef\", \"currentMask\"],\n  _excluded2 = [\"mask\"];\n/** Dynamic mask for choosing apropriate mask in run-time */\nclass MaskedDynamic extends _base_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"] {\n  /** Currently chosen mask */\n\n  /** Compliled {@link Masked} options */\n\n  /** Chooses {@link Masked} depending on input value */\n\n  /**\n    @param {Object} opts\n  */\n  constructor(opts) {\n    super(Object.assign({}, MaskedDynamic.DEFAULTS, opts));\n    this.currentMask = null;\n  }\n\n  /**\n    @override\n  */\n  _update(opts) {\n    super._update(opts);\n    if ('mask' in opts) {\n      // mask could be totally dynamic with only `dispatch` option\n      this.compiledMasks = Array.isArray(opts.mask) ? opts.mask.map(m => (0,_factory_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(m)) : [];\n\n      // this.currentMask = this.doDispatch(''); // probably not needed but lets see\n    }\n  }\n\n  /**\n    @override\n  */\n  _appendCharRaw(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const details = this._applyDispatch(ch, flags);\n    if (this.currentMask) {\n      details.aggregate(this.currentMask._appendChar(ch, this.currentMaskFlags(flags)));\n    }\n    return details;\n  }\n  _applyDispatch() {\n    let appended = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let tail = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    const prevValueBeforeTail = flags.tail && flags._beforeTailState != null ? flags._beforeTailState._value : this.value;\n    const inputValue = this.rawInputValue;\n    const insertValue = flags.tail && flags._beforeTailState != null ?\n    // $FlowFixMe - tired to fight with type system\n    flags._beforeTailState._rawInputValue : inputValue;\n    const tailValue = inputValue.slice(insertValue.length);\n    const prevMask = this.currentMask;\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    const prevMaskState = prevMask === null || prevMask === void 0 ? void 0 : prevMask.state;\n\n    // clone flags to prevent overwriting `_beforeTailState`\n    this.currentMask = this.doDispatch(appended, Object.assign({}, flags), tail);\n\n    // restore state after dispatch\n    if (this.currentMask) {\n      if (this.currentMask !== prevMask) {\n        // if mask changed reapply input\n        this.currentMask.reset();\n        if (insertValue) {\n          // $FlowFixMe - it's ok, we don't change current mask above\n          const d = this.currentMask.append(insertValue, {\n            raw: true\n          });\n          details.tailShift = d.inserted.length - prevValueBeforeTail.length;\n        }\n        if (tailValue) {\n          // $FlowFixMe - it's ok, we don't change current mask above\n          details.tailShift += this.currentMask.append(tailValue, {\n            raw: true,\n            tail: true\n          }).tailShift;\n        }\n      } else {\n        // Dispatch can do something bad with state, so\n        // restore prev mask state\n        this.currentMask.state = prevMaskState;\n      }\n    }\n    return details;\n  }\n  _appendPlaceholder() {\n    const details = this._applyDispatch(...arguments);\n    if (this.currentMask) {\n      details.aggregate(this.currentMask._appendPlaceholder());\n    }\n    return details;\n  }\n\n  /**\n   @override\n  */\n  _appendEager() {\n    const details = this._applyDispatch(...arguments);\n    if (this.currentMask) {\n      details.aggregate(this.currentMask._appendEager());\n    }\n    return details;\n  }\n  appendTail(tail) {\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    if (tail) details.aggregate(this._applyDispatch('', {}, tail));\n    return details.aggregate(this.currentMask ? this.currentMask.appendTail(tail) : super.appendTail(tail));\n  }\n  currentMaskFlags(flags) {\n    var _flags$_beforeTailSta, _flags$_beforeTailSta2;\n    return Object.assign({}, flags, {\n      _beforeTailState: ((_flags$_beforeTailSta = flags._beforeTailState) === null || _flags$_beforeTailSta === void 0 ? void 0 : _flags$_beforeTailSta.currentMaskRef) === this.currentMask && ((_flags$_beforeTailSta2 = flags._beforeTailState) === null || _flags$_beforeTailSta2 === void 0 ? void 0 : _flags$_beforeTailSta2.currentMask) || flags._beforeTailState\n    });\n  }\n\n  /**\n    @override\n  */\n  doDispatch(appended) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let tail = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    return this.dispatch(appended, this, flags, tail);\n  }\n\n  /**\n    @override\n  */\n  doValidate(flags) {\n    return super.doValidate(flags) && (!this.currentMask || this.currentMask.doValidate(this.currentMaskFlags(flags)));\n  }\n\n  /**\n    @override\n  */\n  doPrepare(str) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let [s, details] = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_1__.normalizePrepare)(super.doPrepare(str, flags));\n    if (this.currentMask) {\n      let currentDetails;\n      [s, currentDetails] = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_1__.normalizePrepare)(super.doPrepare(s, this.currentMaskFlags(flags)));\n      details = details.aggregate(currentDetails);\n    }\n    return [s, details];\n  }\n\n  /**\n    @override\n  */\n  reset() {\n    var _this$currentMask;\n    (_this$currentMask = this.currentMask) === null || _this$currentMask === void 0 ? void 0 : _this$currentMask.reset();\n    this.compiledMasks.forEach(m => m.reset());\n  }\n\n  /**\n    @override\n  */\n  get value() {\n    return this.currentMask ? this.currentMask.value : '';\n  }\n  set value(value) {\n    super.value = value;\n  }\n\n  /**\n    @override\n  */\n  get unmaskedValue() {\n    return this.currentMask ? this.currentMask.unmaskedValue : '';\n  }\n  set unmaskedValue(unmaskedValue) {\n    super.unmaskedValue = unmaskedValue;\n  }\n\n  /**\n    @override\n  */\n  get typedValue() {\n    return this.currentMask ? this.currentMask.typedValue : '';\n  }\n\n  // probably typedValue should not be used with dynamic\n  set typedValue(value) {\n    let unmaskedValue = String(value);\n\n    // double check it\n    if (this.currentMask) {\n      this.currentMask.typedValue = value;\n      unmaskedValue = this.currentMask.unmaskedValue;\n    }\n    this.unmaskedValue = unmaskedValue;\n  }\n  get displayValue() {\n    return this.currentMask ? this.currentMask.displayValue : '';\n  }\n\n  /**\n    @override\n  */\n  get isComplete() {\n    var _this$currentMask2;\n    return Boolean((_this$currentMask2 = this.currentMask) === null || _this$currentMask2 === void 0 ? void 0 : _this$currentMask2.isComplete);\n  }\n\n  /**\n    @override\n  */\n  get isFilled() {\n    var _this$currentMask3;\n    return Boolean((_this$currentMask3 = this.currentMask) === null || _this$currentMask3 === void 0 ? void 0 : _this$currentMask3.isFilled);\n  }\n\n  /**\n    @override\n  */\n  remove() {\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    if (this.currentMask) {\n      details.aggregate(this.currentMask.remove(...arguments))\n      // update with dispatch\n      .aggregate(this._applyDispatch());\n    }\n    return details;\n  }\n\n  /**\n    @override\n  */\n  get state() {\n    var _this$currentMask4;\n    return Object.assign({}, super.state, {\n      _rawInputValue: this.rawInputValue,\n      compiledMasks: this.compiledMasks.map(m => m.state),\n      currentMaskRef: this.currentMask,\n      currentMask: (_this$currentMask4 = this.currentMask) === null || _this$currentMask4 === void 0 ? void 0 : _this$currentMask4.state\n    });\n  }\n  set state(state) {\n    const {\n        compiledMasks,\n        currentMaskRef,\n        currentMask\n      } = state,\n      maskedState = (0,_rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_0__._)(state, _excluded);\n    this.compiledMasks.forEach((m, mi) => m.state = compiledMasks[mi]);\n    if (currentMaskRef != null) {\n      this.currentMask = currentMaskRef;\n      this.currentMask.state = currentMask;\n    }\n    super.state = maskedState;\n  }\n\n  /**\n    @override\n  */\n  extractInput() {\n    return this.currentMask ? this.currentMask.extractInput(...arguments) : '';\n  }\n\n  /**\n    @override\n  */\n  extractTail() {\n    return this.currentMask ? this.currentMask.extractTail(...arguments) : super.extractTail(...arguments);\n  }\n\n  /**\n    @override\n  */\n  doCommit() {\n    if (this.currentMask) this.currentMask.doCommit();\n    super.doCommit();\n  }\n\n  /**\n    @override\n  */\n  nearestInputPos() {\n    return this.currentMask ? this.currentMask.nearestInputPos(...arguments) : super.nearestInputPos(...arguments);\n  }\n  get overwrite() {\n    return this.currentMask ? this.currentMask.overwrite : super.overwrite;\n  }\n  set overwrite(overwrite) {\n    console.warn('\"overwrite\" option is not available in dynamic mask, use this option in siblings');\n  }\n  get eager() {\n    return this.currentMask ? this.currentMask.eager : super.eager;\n  }\n  set eager(eager) {\n    console.warn('\"eager\" option is not available in dynamic mask, use this option in siblings');\n  }\n  get skipInvalid() {\n    return this.currentMask ? this.currentMask.skipInvalid : super.skipInvalid;\n  }\n  set skipInvalid(skipInvalid) {\n    if (this.isInitialized || skipInvalid !== _base_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].DEFAULTS.skipInvalid) {\n      console.warn('\"skipInvalid\" option is not available in dynamic mask, use this option in siblings');\n    }\n  }\n\n  /**\n    @override\n  */\n  maskEquals(mask) {\n    return Array.isArray(mask) && this.compiledMasks.every((m, mi) => {\n      if (!mask[mi]) return;\n      const _mask$mi = mask[mi],\n        {\n          mask: oldMask\n        } = _mask$mi,\n        restOpts = (0,_rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_0__._)(_mask$mi, _excluded2);\n      return (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_1__.objectIncludes)(m, restOpts) && m.maskEquals(oldMask);\n    });\n  }\n\n  /**\n    @override\n  */\n  typedValueEquals(value) {\n    var _this$currentMask5;\n    return Boolean((_this$currentMask5 = this.currentMask) === null || _this$currentMask5 === void 0 ? void 0 : _this$currentMask5.typedValueEquals(value));\n  }\n}\nMaskedDynamic.DEFAULTS = {\n  dispatch: (appended, masked, flags, tail) => {\n    if (!masked.compiledMasks.length) return;\n    const inputValue = masked.rawInputValue;\n\n    // simulate input\n    const inputs = masked.compiledMasks.map((m, index) => {\n      const isCurrent = masked.currentMask === m;\n      const startInputPos = isCurrent ? m.value.length : m.nearestInputPos(m.value.length, _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_LEFT);\n      if (m.rawInputValue !== inputValue) {\n        m.reset();\n        m.append(inputValue, {\n          raw: true\n        });\n      } else if (!isCurrent) {\n        m.remove(startInputPos);\n      }\n      m.append(appended, masked.currentMaskFlags(flags));\n      m.appendTail(tail);\n      return {\n        index,\n        weight: m.rawInputValue.length,\n        totalInputPositions: m.totalInputPositions(0, Math.max(startInputPos, m.nearestInputPos(m.value.length, _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_LEFT)))\n      };\n    });\n\n    // pop masks with longer values first\n    inputs.sort((i1, i2) => i2.weight - i1.weight || i2.totalInputPositions - i1.totalInputPositions);\n    return masked.compiledMasks[inputs[0].index];\n  }\n};\n_core_holder_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].MaskedDynamic = MaskedDynamic;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/enum.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/masked/enum.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedEnum; }\n/* harmony export */ });\n/* harmony import */ var _pattern_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pattern.js */ \"./node_modules/imask/esm/masked/pattern.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-6b3bd404.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-6b3bd404.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n/* harmony import */ var _regexp_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** Pattern which validates enum values */\nclass MaskedEnum extends _pattern_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\n    @override\n    @param {Object} opts\n  */\n  _update(opts) {\n    // TODO type\n    if (opts.enum) opts.mask = '*'.repeat(opts.enum[0].length);\n    super._update(opts);\n  }\n\n  /**\n    @override\n  */\n  doValidate() {\n    return this.enum.some(e => e.indexOf(this.unmaskedValue) >= 0) && super.doValidate(...arguments);\n  }\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedEnum = MaskedEnum;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/factory.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/factory.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ createMask; },\n/* harmony export */   \"maskedClass\": function() { return /* binding */ maskedClass; }\n/* harmony export */ });\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n\n\n\n\n/** Get Masked class by mask type */\nfunction maskedClass(mask) {\n  if (mask == null) {\n    throw new Error('mask property should be defined');\n  }\n\n  // $FlowFixMe\n  if (mask instanceof RegExp) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedRegExp;\n  // $FlowFixMe\n  if ((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(mask)) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedPattern;\n  // $FlowFixMe\n  if (mask instanceof Date || mask === Date) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedDate;\n  // $FlowFixMe\n  if (mask instanceof Number || typeof mask === 'number' || mask === Number) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedNumber;\n  // $FlowFixMe\n  if (Array.isArray(mask) || mask === Array) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedDynamic;\n  // $FlowFixMe\n  if (_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked && mask.prototype instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked) return mask;\n  // $FlowFixMe\n  if (mask instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked) return mask.constructor;\n  // $FlowFixMe\n  if (mask instanceof Function) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedFunction;\n  console.warn('Mask not found for mask', mask); // eslint-disable-line no-console\n  // $FlowFixMe\n  return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked;\n}\n\n/** Creates new {@link Masked} depending on mask type */\nfunction createMask(opts) {\n  // $FlowFixMe\n  if (_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked && opts instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked) return opts;\n  opts = Object.assign({}, opts);\n  const mask = opts.mask;\n\n  // $FlowFixMe\n  if (_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked && mask instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked) return mask;\n  const MaskedClass = maskedClass(mask);\n  if (!MaskedClass) throw new Error('Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.');\n  return new MaskedClass(opts);\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createMask = createMask;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/function.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/function.js ***!\n  \\***************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedFunction; }\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n\n\n\n\n\n\n/** Masking by custom Function */\nclass MaskedFunction extends _base_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\n    @override\n    @param {Object} opts\n  */\n  _update(opts) {\n    if (opts.mask) opts.validate = opts.mask;\n    super._update(opts);\n  }\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedFunction = MaskedFunction;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/number.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/number.js ***!\n  \\*************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedNumber; }\n/* harmony export */ });\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n\n\n\n\n\n\n/**\n  Number mask\n  @param {Object} opts\n  @param {string} opts.radix - Single char\n  @param {string} opts.thousandsSeparator - Single char\n  @param {Array<string>} opts.mapToRadix - Array of single chars\n  @param {number} opts.min\n  @param {number} opts.max\n  @param {number} opts.scale - Digits after point\n  @param {boolean} opts.signed - Allow negative\n  @param {boolean} opts.normalizeZeros - Flag to remove leading and trailing zeros in the end of editing\n  @param {boolean} opts.padFractionalZeros - Flag to pad trailing zeros after point in the end of editing\n*/\nclass MaskedNumber extends _base_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  /** Single char */\n\n  /** Single char */\n\n  /** Array of single chars */\n\n  /** */\n\n  /** */\n\n  /** Digits after point */\n\n  /** */\n\n  /** Flag to remove leading and trailing zeros in the end of editing */\n\n  /** Flag to pad trailing zeros after point in the end of editing */\n\n  constructor(opts) {\n    super(Object.assign({}, MaskedNumber.DEFAULTS, opts));\n  }\n\n  /**\n    @override\n  */\n  _update(opts) {\n    super._update(opts);\n    this._updateRegExps();\n  }\n\n  /** */\n  _updateRegExps() {\n    let start = '^' + (this.allowNegative ? '[+|\\\\-]?' : '');\n    let mid = '\\\\d*';\n    let end = (this.scale ? \"(\".concat((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.escapeRegExp)(this.radix), \"\\\\d{0,\").concat(this.scale, \"})?\") : '') + '$';\n    this._numberRegExp = new RegExp(start + mid + end);\n    this._mapToRadixRegExp = new RegExp(\"[\".concat(this.mapToRadix.map(_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.escapeRegExp).join(''), \"]\"), 'g');\n    this._thousandsSeparatorRegExp = new RegExp((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.escapeRegExp)(this.thousandsSeparator), 'g');\n  }\n\n  /** */\n  _removeThousandsSeparators(value) {\n    return value.replace(this._thousandsSeparatorRegExp, '');\n  }\n\n  /** */\n  _insertThousandsSeparators(value) {\n    // https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\n    const parts = value.split(this.radix);\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this.thousandsSeparator);\n    return parts.join(this.radix);\n  }\n\n  /**\n    @override\n  */\n  doPrepare(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    ch = this._removeThousandsSeparators(this.scale && this.mapToRadix.length && (\n    /*\n      radix should be mapped when\n      1) input is done from keyboard = flags.input && flags.raw\n      2) unmasked value is set = !flags.input && !flags.raw\n      and should not be mapped when\n      1) value is set = flags.input && !flags.raw\n      2) raw value is set = !flags.input && flags.raw\n    */\n    flags.input && flags.raw || !flags.input && !flags.raw) ? ch.replace(this._mapToRadixRegExp, this.radix) : ch);\n    const [prepCh, details] = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.normalizePrepare)(super.doPrepare(ch, flags));\n    if (ch && !prepCh) details.skip = true;\n    return [prepCh, details];\n  }\n\n  /** */\n  _separatorsCount(to) {\n    let extendOnSeparators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    let count = 0;\n    for (let pos = 0; pos < to; ++pos) {\n      if (this._value.indexOf(this.thousandsSeparator, pos) === pos) {\n        ++count;\n        if (extendOnSeparators) to += this.thousandsSeparator.length;\n      }\n    }\n    return count;\n  }\n\n  /** */\n  _separatorsCountFromSlice() {\n    let slice = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._value;\n    return this._separatorsCount(this._removeThousandsSeparators(slice).length, true);\n  }\n\n  /**\n    @override\n  */\n  extractInput() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    let flags = arguments.length > 2 ? arguments[2] : undefined;\n    [fromPos, toPos] = this._adjustRangeWithSeparators(fromPos, toPos);\n    return this._removeThousandsSeparators(super.extractInput(fromPos, toPos, flags));\n  }\n\n  /**\n    @override\n  */\n  _appendCharRaw(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.thousandsSeparator) return super._appendCharRaw(ch, flags);\n    const prevBeforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n    const prevBeforeTailSeparatorsCount = this._separatorsCountFromSlice(prevBeforeTailValue);\n    this._value = this._removeThousandsSeparators(this.value);\n    const appendDetails = super._appendCharRaw(ch, flags);\n    this._value = this._insertThousandsSeparators(this._value);\n    const beforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n    const beforeTailSeparatorsCount = this._separatorsCountFromSlice(beforeTailValue);\n    appendDetails.tailShift += (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length;\n    appendDetails.skip = !appendDetails.rawInserted && ch === this.thousandsSeparator;\n    return appendDetails;\n  }\n\n  /** */\n  _findSeparatorAround(pos) {\n    if (this.thousandsSeparator) {\n      const searchFrom = pos - this.thousandsSeparator.length + 1;\n      const separatorPos = this.value.indexOf(this.thousandsSeparator, searchFrom);\n      if (separatorPos <= pos) return separatorPos;\n    }\n    return -1;\n  }\n  _adjustRangeWithSeparators(from, to) {\n    const separatorAroundFromPos = this._findSeparatorAround(from);\n    if (separatorAroundFromPos >= 0) from = separatorAroundFromPos;\n    const separatorAroundToPos = this._findSeparatorAround(to);\n    if (separatorAroundToPos >= 0) to = separatorAroundToPos + this.thousandsSeparator.length;\n    return [from, to];\n  }\n\n  /**\n    @override\n  */\n  remove() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    [fromPos, toPos] = this._adjustRangeWithSeparators(fromPos, toPos);\n    const valueBeforePos = this.value.slice(0, fromPos);\n    const valueAfterPos = this.value.slice(toPos);\n    const prevBeforeTailSeparatorsCount = this._separatorsCount(valueBeforePos.length);\n    this._value = this._insertThousandsSeparators(this._removeThousandsSeparators(valueBeforePos + valueAfterPos));\n    const beforeTailSeparatorsCount = this._separatorsCountFromSlice(valueBeforePos);\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n      tailShift: (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length\n    });\n  }\n\n  /**\n    @override\n  */\n  nearestInputPos(cursorPos, direction) {\n    if (!this.thousandsSeparator) return cursorPos;\n    switch (direction) {\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.NONE:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.LEFT:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.FORCE_LEFT:\n        {\n          const separatorAtLeftPos = this._findSeparatorAround(cursorPos - 1);\n          if (separatorAtLeftPos >= 0) {\n            const separatorAtLeftEndPos = separatorAtLeftPos + this.thousandsSeparator.length;\n            if (cursorPos < separatorAtLeftEndPos || this.value.length <= separatorAtLeftEndPos || direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.FORCE_LEFT) {\n              return separatorAtLeftPos;\n            }\n          }\n          break;\n        }\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.RIGHT:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.FORCE_RIGHT:\n        {\n          const separatorAtRightPos = this._findSeparatorAround(cursorPos);\n          if (separatorAtRightPos >= 0) {\n            return separatorAtRightPos + this.thousandsSeparator.length;\n          }\n        }\n    }\n    return cursorPos;\n  }\n\n  /**\n    @override\n  */\n  doValidate(flags) {\n    // validate as string\n    let valid = Boolean(this._removeThousandsSeparators(this.value).match(this._numberRegExp));\n    if (valid) {\n      // validate as number\n      const number = this.number;\n      valid = valid && !isNaN(number) && (\n      // check min bound for negative values\n      this.min == null || this.min >= 0 || this.min <= this.number) && (\n      // check max bound for positive values\n      this.max == null || this.max <= 0 || this.number <= this.max);\n    }\n    return valid && super.doValidate(flags);\n  }\n\n  /**\n    @override\n  */\n  doCommit() {\n    if (this.value) {\n      const number = this.number;\n      let validnum = number;\n\n      // check bounds\n      if (this.min != null) validnum = Math.max(validnum, this.min);\n      if (this.max != null) validnum = Math.min(validnum, this.max);\n      if (validnum !== number) this.unmaskedValue = this.doFormat(validnum);\n      let formatted = this.value;\n      if (this.normalizeZeros) formatted = this._normalizeZeros(formatted);\n      if (this.padFractionalZeros && this.scale > 0) formatted = this._padFractionalZeros(formatted);\n      this._value = formatted;\n    }\n    super.doCommit();\n  }\n\n  /** */\n  _normalizeZeros(value) {\n    const parts = this._removeThousandsSeparators(value).split(this.radix);\n\n    // remove leading zeros\n    parts[0] = parts[0].replace(/^(\\D*)(0*)(\\d*)/, (match, sign, zeros, num) => sign + num);\n    // add leading zero\n    if (value.length && !/\\d$/.test(parts[0])) parts[0] = parts[0] + '0';\n    if (parts.length > 1) {\n      parts[1] = parts[1].replace(/0*$/, ''); // remove trailing zeros\n      if (!parts[1].length) parts.length = 1; // remove fractional\n    }\n\n    return this._insertThousandsSeparators(parts.join(this.radix));\n  }\n\n  /** */\n  _padFractionalZeros(value) {\n    if (!value) return value;\n    const parts = value.split(this.radix);\n    if (parts.length < 2) parts.push('');\n    parts[1] = parts[1].padEnd(this.scale, '0');\n    return parts.join(this.radix);\n  }\n\n  /** */\n  doSkipInvalid(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let checkTail = arguments.length > 2 ? arguments[2] : undefined;\n    const dropFractional = this.scale === 0 && ch !== this.thousandsSeparator && (ch === this.radix || ch === MaskedNumber.UNMASKED_RADIX || this.mapToRadix.includes(ch));\n    return super.doSkipInvalid(ch, flags, checkTail) && !dropFractional;\n  }\n\n  /**\n    @override\n  */\n  get unmaskedValue() {\n    return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix, MaskedNumber.UNMASKED_RADIX);\n  }\n  set unmaskedValue(unmaskedValue) {\n    super.unmaskedValue = unmaskedValue;\n  }\n\n  /**\n    @override\n  */\n  get typedValue() {\n    return this.doParse(this.unmaskedValue);\n  }\n  set typedValue(n) {\n    this.rawInputValue = this.doFormat(n).replace(MaskedNumber.UNMASKED_RADIX, this.radix);\n  }\n\n  /** Parsed Number */\n  get number() {\n    return this.typedValue;\n  }\n  set number(number) {\n    this.typedValue = number;\n  }\n\n  /**\n    Is negative allowed\n    @readonly\n  */\n  get allowNegative() {\n    return this.signed || this.min != null && this.min < 0 || this.max != null && this.max < 0;\n  }\n\n  /**\n    @override\n  */\n  typedValueEquals(value) {\n    // handle  0 -> '' case (typed = 0 even if value = '')\n    // for details see https://github.com/uNmAnNeR/imaskjs/issues/134\n    return (super.typedValueEquals(value) || MaskedNumber.EMPTY_VALUES.includes(value) && MaskedNumber.EMPTY_VALUES.includes(this.typedValue)) && !(value === 0 && this.value === '');\n  }\n}\nMaskedNumber.UNMASKED_RADIX = '.';\nMaskedNumber.DEFAULTS = {\n  radix: ',',\n  thousandsSeparator: '',\n  mapToRadix: [MaskedNumber.UNMASKED_RADIX],\n  scale: 2,\n  signed: false,\n  normalizeZeros: true,\n  padFractionalZeros: false,\n  parse: Number,\n  format: n => n.toLocaleString('en-US', {\n    useGrouping: false,\n    maximumFractionDigits: 20\n  })\n};\nMaskedNumber.EMPTY_VALUES = [..._base_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].EMPTY_VALUES, 0];\n_core_holder_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].MaskedNumber = MaskedNumber;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedPattern; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-6b3bd404.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-6b3bd404.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _regexp_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst _excluded = [\"_blocks\"];\n\n/**\n  Pattern mask\n  @param {Object} opts\n  @param {Object} opts.blocks\n  @param {Object} opts.definitions\n  @param {string} opts.placeholderChar\n  @param {string} opts.displayChar\n  @param {boolean} opts.lazy\n*/\nclass MaskedPattern extends _base_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  /** */\n\n  /** */\n\n  /** Single char for empty input */\n\n  /** Single char for filled input */\n\n  /** Show placeholder only when needed */\n\n  constructor() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO type $Shape<MaskedPatternOptions>={} does not work\n    opts.definitions = Object.assign({}, _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_INPUT_DEFINITIONS, opts.definitions);\n    super(Object.assign({}, MaskedPattern.DEFAULTS, opts));\n  }\n\n  /**\n    @override\n    @param {Object} opts\n  */\n  _update() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    opts.definitions = Object.assign({}, this.definitions, opts.definitions);\n    super._update(opts);\n    this._rebuildMask();\n  }\n\n  /** */\n  _rebuildMask() {\n    const defs = this.definitions;\n    this._blocks = [];\n    this._stops = [];\n    this._maskedBlocks = {};\n    let pattern = this.mask;\n    if (!pattern || !defs) return;\n    let unmaskingBlock = false;\n    let optionalBlock = false;\n    for (let i = 0; i < pattern.length; ++i) {\n      var _defs$char, _defs$char2;\n      if (this.blocks) {\n        const p = pattern.slice(i);\n        const bNames = Object.keys(this.blocks).filter(bName => p.indexOf(bName) === 0);\n        // order by key length\n        bNames.sort((a, b) => b.length - a.length);\n        // use block name with max length\n        const bName = bNames[0];\n        if (bName) {\n          // $FlowFixMe no ideas\n          const maskedBlock = (0,_factory_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(Object.assign({\n            parent: this,\n            lazy: this.lazy,\n            eager: this.eager,\n            placeholderChar: this.placeholderChar,\n            displayChar: this.displayChar,\n            overwrite: this.overwrite\n          }, this.blocks[bName]));\n          if (maskedBlock) {\n            this._blocks.push(maskedBlock);\n\n            // store block index\n            if (!this._maskedBlocks[bName]) this._maskedBlocks[bName] = [];\n            this._maskedBlocks[bName].push(this._blocks.length - 1);\n          }\n          i += bName.length - 1;\n          continue;\n        }\n      }\n      let char = pattern[i];\n      let isInput = (char in defs);\n      if (char === MaskedPattern.STOP_CHAR) {\n        this._stops.push(this._blocks.length);\n        continue;\n      }\n      if (char === '{' || char === '}') {\n        unmaskingBlock = !unmaskingBlock;\n        continue;\n      }\n      if (char === '[' || char === ']') {\n        optionalBlock = !optionalBlock;\n        continue;\n      }\n      if (char === MaskedPattern.ESCAPE_CHAR) {\n        ++i;\n        char = pattern[i];\n        if (!char) break;\n        isInput = false;\n      }\n      const maskOpts = (_defs$char = defs[char]) !== null && _defs$char !== void 0 && _defs$char.mask && !(((_defs$char2 = defs[char]) === null || _defs$char2 === void 0 ? void 0 : _defs$char2.mask.prototype) instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Masked) ? defs[char] : {\n        mask: defs[char]\n      };\n      const def = isInput ? new _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](Object.assign({\n        parent: this,\n        isOptional: optionalBlock,\n        lazy: this.lazy,\n        eager: this.eager,\n        placeholderChar: this.placeholderChar,\n        displayChar: this.displayChar\n      }, maskOpts)) : new _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n        char,\n        eager: this.eager,\n        isUnmasking: unmaskingBlock\n      });\n      this._blocks.push(def);\n    }\n  }\n\n  /**\n    @override\n  */\n  get state() {\n    return Object.assign({}, super.state, {\n      _blocks: this._blocks.map(b => b.state)\n    });\n  }\n  set state(state) {\n    const {\n        _blocks\n      } = state,\n      maskedState = (0,_rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_0__._)(state, _excluded);\n    this._blocks.forEach((b, bi) => b.state = _blocks[bi]);\n    super.state = maskedState;\n  }\n\n  /**\n    @override\n  */\n  reset() {\n    super.reset();\n    this._blocks.forEach(b => b.reset());\n  }\n\n  /**\n    @override\n  */\n  get isComplete() {\n    return this._blocks.every(b => b.isComplete);\n  }\n\n  /**\n    @override\n  */\n  get isFilled() {\n    return this._blocks.every(b => b.isFilled);\n  }\n  get isFixed() {\n    return this._blocks.every(b => b.isFixed);\n  }\n  get isOptional() {\n    return this._blocks.every(b => b.isOptional);\n  }\n\n  /**\n    @override\n  */\n  doCommit() {\n    this._blocks.forEach(b => b.doCommit());\n    super.doCommit();\n  }\n\n  /**\n    @override\n  */\n  get unmaskedValue() {\n    return this._blocks.reduce((str, b) => str += b.unmaskedValue, '');\n  }\n  set unmaskedValue(unmaskedValue) {\n    super.unmaskedValue = unmaskedValue;\n  }\n\n  /**\n    @override\n  */\n  get value() {\n    // TODO return _value when not in change?\n    return this._blocks.reduce((str, b) => str += b.value, '');\n  }\n  set value(value) {\n    super.value = value;\n  }\n  get displayValue() {\n    return this._blocks.reduce((str, b) => str += b.displayValue, '');\n  }\n\n  /**\n    @override\n  */\n  appendTail(tail) {\n    return super.appendTail(tail).aggregate(this._appendPlaceholder());\n  }\n\n  /**\n    @override\n  */\n  _appendEager() {\n    var _this$_mapPosToBlock;\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    let startBlockIndex = (_this$_mapPosToBlock = this._mapPosToBlock(this.value.length)) === null || _this$_mapPosToBlock === void 0 ? void 0 : _this$_mapPosToBlock.index;\n    if (startBlockIndex == null) return details;\n\n    // TODO test if it works for nested pattern masks\n    if (this._blocks[startBlockIndex].isFilled) ++startBlockIndex;\n    for (let bi = startBlockIndex; bi < this._blocks.length; ++bi) {\n      const d = this._blocks[bi]._appendEager();\n      if (!d.inserted) break;\n      details.aggregate(d);\n    }\n    return details;\n  }\n\n  /**\n    @override\n  */\n  _appendCharRaw(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const blockIter = this._mapPosToBlock(this.value.length);\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    if (!blockIter) return details;\n    for (let bi = blockIter.index;; ++bi) {\n      var _flags$_beforeTailSta, _flags$_beforeTailSta2;\n      const block = this._blocks[bi];\n      if (!block) break;\n      const blockDetails = block._appendChar(ch, Object.assign({}, flags, {\n        _beforeTailState: (_flags$_beforeTailSta = flags._beforeTailState) === null || _flags$_beforeTailSta === void 0 ? void 0 : (_flags$_beforeTailSta2 = _flags$_beforeTailSta._blocks) === null || _flags$_beforeTailSta2 === void 0 ? void 0 : _flags$_beforeTailSta2[bi]\n      }));\n      const skip = blockDetails.skip;\n      details.aggregate(blockDetails);\n      if (skip || blockDetails.rawInserted) break; // go next char\n    }\n\n    return details;\n  }\n\n  /**\n    @override\n  */\n  extractTail() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    const chunkTail = new _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n    if (fromPos === toPos) return chunkTail;\n    this._forEachBlocksInRange(fromPos, toPos, (b, bi, bFromPos, bToPos) => {\n      const blockChunk = b.extractTail(bFromPos, bToPos);\n      blockChunk.stop = this._findStopBefore(bi);\n      blockChunk.from = this._blockStartPos(bi);\n      if (blockChunk instanceof _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]) blockChunk.blockIndex = bi;\n      chunkTail.extend(blockChunk);\n    });\n    return chunkTail;\n  }\n\n  /**\n    @override\n  */\n  extractInput() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    let flags = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    if (fromPos === toPos) return '';\n    let input = '';\n    this._forEachBlocksInRange(fromPos, toPos, (b, _, fromPos, toPos) => {\n      input += b.extractInput(fromPos, toPos, flags);\n    });\n    return input;\n  }\n  _findStopBefore(blockIndex) {\n    let stopBefore;\n    for (let si = 0; si < this._stops.length; ++si) {\n      const stop = this._stops[si];\n      if (stop <= blockIndex) stopBefore = stop;else break;\n    }\n    return stopBefore;\n  }\n\n  /** Appends placeholder depending on laziness */\n  _appendPlaceholder(toBlockIndex) {\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    if (this.lazy && toBlockIndex == null) return details;\n    const startBlockIter = this._mapPosToBlock(this.value.length);\n    if (!startBlockIter) return details;\n    const startBlockIndex = startBlockIter.index;\n    const endBlockIndex = toBlockIndex != null ? toBlockIndex : this._blocks.length;\n    this._blocks.slice(startBlockIndex, endBlockIndex).forEach(b => {\n      if (!b.lazy || toBlockIndex != null) {\n        // $FlowFixMe `_blocks` may not be present\n        const args = b._blocks != null ? [b._blocks.length] : [];\n        const bDetails = b._appendPlaceholder(...args);\n        this._value += bDetails.inserted;\n        details.aggregate(bDetails);\n      }\n    });\n    return details;\n  }\n\n  /** Finds block in pos */\n  _mapPosToBlock(pos) {\n    let accVal = '';\n    for (let bi = 0; bi < this._blocks.length; ++bi) {\n      const block = this._blocks[bi];\n      const blockStartPos = accVal.length;\n      accVal += block.value;\n      if (pos <= accVal.length) {\n        return {\n          index: bi,\n          offset: pos - blockStartPos\n        };\n      }\n    }\n  }\n\n  /** */\n  _blockStartPos(blockIndex) {\n    return this._blocks.slice(0, blockIndex).reduce((pos, b) => pos += b.value.length, 0);\n  }\n\n  /** */\n  _forEachBlocksInRange(fromPos) {\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    let fn = arguments.length > 2 ? arguments[2] : undefined;\n    const fromBlockIter = this._mapPosToBlock(fromPos);\n    if (fromBlockIter) {\n      const toBlockIter = this._mapPosToBlock(toPos);\n      // process first block\n      const isSameBlock = toBlockIter && fromBlockIter.index === toBlockIter.index;\n      const fromBlockStartPos = fromBlockIter.offset;\n      const fromBlockEndPos = toBlockIter && isSameBlock ? toBlockIter.offset : this._blocks[fromBlockIter.index].value.length;\n      fn(this._blocks[fromBlockIter.index], fromBlockIter.index, fromBlockStartPos, fromBlockEndPos);\n      if (toBlockIter && !isSameBlock) {\n        // process intermediate blocks\n        for (let bi = fromBlockIter.index + 1; bi < toBlockIter.index; ++bi) {\n          fn(this._blocks[bi], bi, 0, this._blocks[bi].value.length);\n        }\n\n        // process last block\n        fn(this._blocks[toBlockIter.index], toBlockIter.index, 0, toBlockIter.offset);\n      }\n    }\n  }\n\n  /**\n    @override\n  */\n  remove() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    const removeDetails = super.remove(fromPos, toPos);\n    this._forEachBlocksInRange(fromPos, toPos, (b, _, bFromPos, bToPos) => {\n      removeDetails.aggregate(b.remove(bFromPos, bToPos));\n    });\n    return removeDetails;\n  }\n\n  /**\n    @override\n  */\n  nearestInputPos(cursorPos) {\n    let direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE;\n    if (!this._blocks.length) return 0;\n    const cursor = new _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"](this, cursorPos);\n    if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE) {\n      // -------------------------------------------------\n      // NONE should only go out from fixed to the right!\n      // -------------------------------------------------\n      if (cursor.pushRightBeforeInput()) return cursor.pos;\n      cursor.popState();\n      if (cursor.pushLeftBeforeInput()) return cursor.pos;\n      return this.value.length;\n    }\n\n    // FORCE is only about a|* otherwise is 0\n    if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT || direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_LEFT) {\n      // try to break fast when *|a\n      if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT) {\n        cursor.pushRightBeforeFilled();\n        if (cursor.ok && cursor.pos === cursorPos) return cursorPos;\n        cursor.popState();\n      }\n\n      // forward flow\n      cursor.pushLeftBeforeInput();\n      cursor.pushLeftBeforeRequired();\n      cursor.pushLeftBeforeFilled();\n\n      // backward flow\n      if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT) {\n        cursor.pushRightBeforeInput();\n        cursor.pushRightBeforeRequired();\n        if (cursor.ok && cursor.pos <= cursorPos) return cursor.pos;\n        cursor.popState();\n        if (cursor.ok && cursor.pos <= cursorPos) return cursor.pos;\n        cursor.popState();\n      }\n      if (cursor.ok) return cursor.pos;\n      if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_LEFT) return 0;\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n\n      // cursor.popState();\n      // if (\n      //   cursor.pushRightBeforeInput() &&\n      //   // TODO HACK for lazy if has aligned left inside fixed and has came to the start - use start position\n      //   (!this.lazy || this.extractInput())\n      // ) return cursor.pos;\n\n      return 0;\n    }\n    if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.RIGHT || direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_RIGHT) {\n      // forward flow\n      cursor.pushRightBeforeInput();\n      cursor.pushRightBeforeRequired();\n      if (cursor.pushRightBeforeFilled()) return cursor.pos;\n      if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_RIGHT) return this.value.length;\n\n      // backward flow\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n      return this.nearestInputPos(cursorPos, _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT);\n    }\n    return cursorPos;\n  }\n\n  /**\n    @override\n  */\n  totalInputPositions() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    let total = 0;\n    this._forEachBlocksInRange(fromPos, toPos, (b, _, bFromPos, bToPos) => {\n      total += b.totalInputPositions(bFromPos, bToPos);\n    });\n    return total;\n  }\n\n  /** Get block by name */\n  maskedBlock(name) {\n    return this.maskedBlocks(name)[0];\n  }\n\n  /** Get all blocks by name */\n  maskedBlocks(name) {\n    const indices = this._maskedBlocks[name];\n    if (!indices) return [];\n    return indices.map(gi => this._blocks[gi]);\n  }\n}\nMaskedPattern.DEFAULTS = {\n  lazy: true,\n  placeholderChar: '_'\n};\nMaskedPattern.STOP_CHAR = '`';\nMaskedPattern.ESCAPE_CHAR = '\\\\';\nMaskedPattern.InputDefinition = _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\nMaskedPattern.FixedDefinition = _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"];\n_core_holder_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"].MaskedPattern = MaskedPattern;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern/chunk-tail-details.js ***!\n  \\*********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChunksTailDetails; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_rollupPluginBabelHelpers-6b3bd404.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-6b3bd404.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n\n\n\nconst _excluded = [\"chunks\"];\nclass ChunksTailDetails {\n  /** */\n\n  constructor() {\n    let chunks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    let from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    this.chunks = chunks;\n    this.from = from;\n  }\n  toString() {\n    return this.chunks.map(String).join('');\n  }\n\n  // $FlowFixMe no ideas\n  extend(tailChunk) {\n    if (!String(tailChunk)) return;\n    if ((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(tailChunk)) tailChunk = new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](String(tailChunk));\n    const lastChunk = this.chunks[this.chunks.length - 1];\n    const extendLast = lastChunk && (\n    // if stops are same or tail has no stop\n    lastChunk.stop === tailChunk.stop || tailChunk.stop == null) &&\n    // if tail chunk goes just after last chunk\n    tailChunk.from === lastChunk.from + lastChunk.toString().length;\n    if (tailChunk instanceof _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]) {\n      // check the ability to extend previous chunk\n      if (extendLast) {\n        // extend previous chunk\n        lastChunk.extend(tailChunk.toString());\n      } else {\n        // append new chunk\n        this.chunks.push(tailChunk);\n      }\n    } else if (tailChunk instanceof ChunksTailDetails) {\n      if (tailChunk.stop == null) {\n        // unwrap floating chunks to parent, keeping `from` pos\n        let firstTailChunk;\n        while (tailChunk.chunks.length && tailChunk.chunks[0].stop == null) {\n          firstTailChunk = tailChunk.chunks.shift();\n          firstTailChunk.from += tailChunk.from;\n          this.extend(firstTailChunk);\n        }\n      }\n\n      // if tail chunk still has value\n      if (tailChunk.toString()) {\n        // if chunks contains stops, then popup stop to container\n        tailChunk.stop = tailChunk.blockIndex;\n        this.chunks.push(tailChunk);\n      }\n    }\n  }\n  appendTo(masked) {\n    // $FlowFixMe\n    if (!(masked instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].MaskedPattern)) {\n      const tail = new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.toString());\n      return tail.appendTo(masked);\n    }\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    for (let ci = 0; ci < this.chunks.length && !details.skip; ++ci) {\n      const chunk = this.chunks[ci];\n      const lastBlockIter = masked._mapPosToBlock(masked.value.length);\n      const stop = chunk.stop;\n      let chunkBlock;\n      if (stop != null && (\n      // if block not found or stop is behind lastBlock\n      !lastBlockIter || lastBlockIter.index <= stop)) {\n        if (chunk instanceof ChunksTailDetails ||\n        // for continuous block also check if stop is exist\n        masked._stops.indexOf(stop) >= 0) {\n          const phDetails = masked._appendPlaceholder(stop);\n          details.aggregate(phDetails);\n        }\n        chunkBlock = chunk instanceof ChunksTailDetails && masked._blocks[stop];\n      }\n      if (chunkBlock) {\n        const tailDetails = chunkBlock.appendTail(chunk);\n        tailDetails.skip = false; // always ignore skip, it will be set on last\n        details.aggregate(tailDetails);\n        masked._value += tailDetails.inserted;\n\n        // get not inserted chars\n        const remainChars = chunk.toString().slice(tailDetails.rawInserted.length);\n        if (remainChars) details.aggregate(masked.append(remainChars, {\n          tail: true\n        }));\n      } else {\n        details.aggregate(masked.append(chunk.toString(), {\n          tail: true\n        }));\n      }\n    }\n    return details;\n  }\n  get state() {\n    return {\n      chunks: this.chunks.map(c => c.state),\n      from: this.from,\n      stop: this.stop,\n      blockIndex: this.blockIndex\n    };\n  }\n  set state(state) {\n    const {\n        chunks\n      } = state,\n      props = (0,_rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_0__._)(state, _excluded);\n    Object.assign(this, props);\n    this.chunks = chunks.map(cstate => {\n      const chunk = \"chunks\" in cstate ? new ChunksTailDetails() : new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n      // $FlowFixMe already checked above\n      chunk.state = cstate;\n      return chunk;\n    });\n  }\n  unshift(beforePos) {\n    if (!this.chunks.length || beforePos != null && this.from >= beforePos) return '';\n    const chunkShiftPos = beforePos != null ? beforePos - this.from : beforePos;\n    let ci = 0;\n    while (ci < this.chunks.length) {\n      const chunk = this.chunks[ci];\n      const shiftChar = chunk.unshift(chunkShiftPos);\n      if (chunk.toString()) {\n        // chunk still contains value\n        // but not shifted - means no more available chars to shift\n        if (!shiftChar) break;\n        ++ci;\n      } else {\n        // clean if chunk has no value\n        this.chunks.splice(ci, 1);\n      }\n      if (shiftChar) return shiftChar;\n    }\n    return '';\n  }\n  shift() {\n    if (!this.chunks.length) return '';\n    let ci = this.chunks.length - 1;\n    while (0 <= ci) {\n      const chunk = this.chunks[ci];\n      const shiftChar = chunk.shift();\n      if (chunk.toString()) {\n        // chunk still contains value\n        // but not shifted - means no more available chars to shift\n        if (!shiftChar) break;\n        --ci;\n      } else {\n        // clean if chunk has no value\n        this.chunks.splice(ci, 1);\n      }\n      if (shiftChar) return shiftChar;\n    }\n    return '';\n  }\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern/cursor.js\":\n/*!*********************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern/cursor.js ***!\n  \\*********************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PatternCursor; }\n/* harmony export */ });\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n\nclass PatternCursor {\n  constructor(masked, pos) {\n    this.masked = masked;\n    this._log = [];\n    const {\n      offset,\n      index\n    } = masked._mapPosToBlock(pos) || (pos < 0 ?\n    // first\n    {\n      index: 0,\n      offset: 0\n    } :\n    // last\n    {\n      index: this.masked._blocks.length,\n      offset: 0\n    });\n    this.offset = offset;\n    this.index = index;\n    this.ok = false;\n  }\n  get block() {\n    return this.masked._blocks[this.index];\n  }\n  get pos() {\n    return this.masked._blockStartPos(this.index) + this.offset;\n  }\n  get state() {\n    return {\n      index: this.index,\n      offset: this.offset,\n      ok: this.ok\n    };\n  }\n  set state(s) {\n    Object.assign(this, s);\n  }\n  pushState() {\n    this._log.push(this.state);\n  }\n  popState() {\n    const s = this._log.pop();\n    this.state = s;\n    return s;\n  }\n  bindBlock() {\n    if (this.block) return;\n    if (this.index < 0) {\n      this.index = 0;\n      this.offset = 0;\n    }\n    if (this.index >= this.masked._blocks.length) {\n      this.index = this.masked._blocks.length - 1;\n      this.offset = this.block.value.length;\n    }\n  }\n  _pushLeft(fn) {\n    this.pushState();\n    for (this.bindBlock(); 0 <= this.index; --this.index, this.offset = ((_this$block = this.block) === null || _this$block === void 0 ? void 0 : _this$block.value.length) || 0) {\n      var _this$block;\n      if (fn()) return this.ok = true;\n    }\n    return this.ok = false;\n  }\n  _pushRight(fn) {\n    this.pushState();\n    for (this.bindBlock(); this.index < this.masked._blocks.length; ++this.index, this.offset = 0) {\n      if (fn()) return this.ok = true;\n    }\n    return this.ok = false;\n  }\n  pushLeftBeforeFilled() {\n    return this._pushLeft(() => {\n      if (this.block.isFixed || !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.FORCE_LEFT);\n      if (this.offset !== 0) return true;\n    });\n  }\n  pushLeftBeforeInput() {\n    // cases:\n    // filled input: 00|\n    // optional empty input: 00[]|\n    // nested block: XX<[]>|\n    return this._pushLeft(() => {\n      if (this.block.isFixed) return;\n      this.offset = this.block.nearestInputPos(this.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.LEFT);\n      return true;\n    });\n  }\n  pushLeftBeforeRequired() {\n    return this._pushLeft(() => {\n      if (this.block.isFixed || this.block.isOptional && !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.LEFT);\n      return true;\n    });\n  }\n  pushRightBeforeFilled() {\n    return this._pushRight(() => {\n      if (this.block.isFixed || !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.FORCE_RIGHT);\n      if (this.offset !== this.block.value.length) return true;\n    });\n  }\n  pushRightBeforeInput() {\n    return this._pushRight(() => {\n      if (this.block.isFixed) return;\n\n      // const o = this.offset;\n      this.offset = this.block.nearestInputPos(this.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.NONE);\n      // HACK cases like (STILL DOES NOT WORK FOR NESTED)\n      // aa|X\n      // aa<X|[]>X_    - this will not work\n      // if (o && o === this.offset && this.block instanceof PatternInputDefinition) continue;\n      return true;\n    });\n  }\n  pushRightBeforeRequired() {\n    return this._pushRight(() => {\n      if (this.block.isFixed || this.block.isOptional && !this.block.value) return;\n\n      // TODO check |[*]XX_\n      this.offset = this.block.nearestInputPos(this.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.NONE);\n      return true;\n    });\n  }\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern/fixed-definition.js ***!\n  \\*******************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PatternFixedDefinition; }\n/* harmony export */ });\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n\n\n/** */\n\nclass PatternFixedDefinition {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  constructor(opts) {\n    Object.assign(this, opts);\n    this._value = '';\n    this.isFixed = true;\n  }\n  get value() {\n    return this._value;\n  }\n  get unmaskedValue() {\n    return this.isUnmasking ? this.value : '';\n  }\n  get displayValue() {\n    return this.value;\n  }\n  reset() {\n    this._isRawInput = false;\n    this._value = '';\n  }\n  remove() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._value.length;\n    this._value = this._value.slice(0, fromPos) + this._value.slice(toPos);\n    if (!this._value) this._isRawInput = false;\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n  nearestInputPos(cursorPos) {\n    let direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE;\n    const minPos = 0;\n    const maxPos = this._value.length;\n    switch (direction) {\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_LEFT:\n        return minPos;\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.RIGHT:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_RIGHT:\n      default:\n        return maxPos;\n    }\n  }\n  totalInputPositions() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._value.length;\n    return this._isRawInput ? toPos - fromPos : 0;\n  }\n  extractInput() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._value.length;\n    let flags = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return flags.raw && this._isRawInput && this._value.slice(fromPos, toPos) || '';\n  }\n  get isComplete() {\n    return true;\n  }\n  get isFilled() {\n    return Boolean(this._value);\n  }\n  _appendChar(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    if (this.isFilled) return details;\n    const appendEager = this.eager === true || this.eager === 'append';\n    const appended = this.char === ch;\n    const isResolved = appended && (this.isUnmasking || flags.input || flags.raw) && (!flags.raw || !appendEager) && !flags.tail;\n    if (isResolved) details.rawInserted = this.char;\n    this._value = details.inserted = this.char;\n    this._isRawInput = isResolved && (flags.raw || flags.input);\n    return details;\n  }\n  _appendEager() {\n    return this._appendChar(this.char, {\n      tail: true\n    });\n  }\n  _appendPlaceholder() {\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    if (this.isFilled) return details;\n    this._value = details.inserted = this.char;\n    return details;\n  }\n  extractTail() {\n    arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    return new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]('');\n  }\n\n  // $FlowFixMe no ideas\n  appendTail(tail) {\n    if ((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(tail)) tail = new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](String(tail));\n    return tail.appendTo(this);\n  }\n  append(str, flags, tail) {\n    const details = this._appendChar(str[0], flags);\n    if (tail != null) {\n      details.tailShift += this.appendTail(tail).tailShift;\n    }\n    return details;\n  }\n  doCommit() {}\n  get state() {\n    return {\n      _value: this._value,\n      _isRawInput: this._isRawInput\n    };\n  }\n  set state(state) {\n    Object.assign(this, state);\n  }\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern/input-definition.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern/input-definition.js ***!\n  \\*******************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DEFAULT_INPUT_DEFINITIONS\": function() { return /* binding */ DEFAULT_INPUT_DEFINITIONS; },\n/* harmony export */   \"default\": function() { return /* binding */ PatternInputDefinition; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_rollupPluginBabelHelpers-6b3bd404.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-6b3bd404.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n\n\n\nconst _excluded = [\"parent\", \"isOptional\", \"placeholderChar\", \"displayChar\", \"lazy\", \"eager\"];\n\n/** */\n\nconst DEFAULT_INPUT_DEFINITIONS = {\n  '0': /\\d/,\n  'a': /[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\n  // http://stackoverflow.com/a/22075070\n  '*': /./\n};\n\n/** */\nclass PatternInputDefinition {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  constructor(opts) {\n    const {\n        parent,\n        isOptional,\n        placeholderChar,\n        displayChar,\n        lazy,\n        eager\n      } = opts,\n      maskOpts = (0,_rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_0__._)(opts, _excluded);\n    this.masked = (0,_factory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(maskOpts);\n    Object.assign(this, {\n      parent,\n      isOptional,\n      placeholderChar,\n      displayChar,\n      lazy,\n      eager\n    });\n  }\n  reset() {\n    this.isFilled = false;\n    this.masked.reset();\n  }\n  remove() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    if (fromPos === 0 && toPos >= 1) {\n      this.isFilled = false;\n      return this.masked.remove(fromPos, toPos);\n    }\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n  }\n  get value() {\n    return this.masked.value || (this.isFilled && !this.isOptional ? this.placeholderChar : '');\n  }\n  get unmaskedValue() {\n    return this.masked.unmaskedValue;\n  }\n  get displayValue() {\n    return this.masked.value && this.displayChar || this.value;\n  }\n  get isComplete() {\n    return Boolean(this.masked.value) || this.isOptional;\n  }\n  _appendChar(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (this.isFilled) return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    const state = this.masked.state;\n    // simulate input\n    const details = this.masked._appendChar(ch, flags);\n    if (details.inserted && this.doValidate(flags) === false) {\n      details.inserted = details.rawInserted = '';\n      this.masked.state = state;\n    }\n    if (!details.inserted && !this.isOptional && !this.lazy && !flags.input) {\n      details.inserted = this.placeholderChar;\n    }\n    details.skip = !details.inserted && !this.isOptional;\n    this.isFilled = Boolean(details.inserted);\n    return details;\n  }\n  append() {\n    // TODO probably should be done via _appendChar\n    return this.masked.append(...arguments);\n  }\n  _appendPlaceholder() {\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    if (this.isFilled || this.isOptional) return details;\n    this.isFilled = true;\n    details.inserted = this.placeholderChar;\n    return details;\n  }\n  _appendEager() {\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n  }\n  extractTail() {\n    return this.masked.extractTail(...arguments);\n  }\n  appendTail() {\n    return this.masked.appendTail(...arguments);\n  }\n  extractInput() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    let flags = arguments.length > 2 ? arguments[2] : undefined;\n    return this.masked.extractInput(fromPos, toPos, flags);\n  }\n  nearestInputPos(cursorPos) {\n    let direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.NONE;\n    const minPos = 0;\n    const maxPos = this.value.length;\n    const boundPos = Math.min(Math.max(cursorPos, minPos), maxPos);\n    switch (direction) {\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.LEFT:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.FORCE_LEFT:\n        return this.isComplete ? boundPos : minPos;\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.RIGHT:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.FORCE_RIGHT:\n        return this.isComplete ? boundPos : maxPos;\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.NONE:\n      default:\n        return boundPos;\n    }\n  }\n  totalInputPositions() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    return this.value.slice(fromPos, toPos).length;\n  }\n  doValidate() {\n    return this.masked.doValidate(...arguments) && (!this.parent || this.parent.doValidate(...arguments));\n  }\n  doCommit() {\n    this.masked.doCommit();\n  }\n  get state() {\n    return {\n      masked: this.masked.state,\n      isFilled: this.isFilled\n    };\n  }\n  set state(state) {\n    this.masked.state = state.masked;\n    this.isFilled = state.isFilled;\n  }\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pipe.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pipe.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PIPE_TYPE\": function() { return /* binding */ PIPE_TYPE; },\n/* harmony export */   \"createPipe\": function() { return /* binding */ createPipe; },\n/* harmony export */   \"pipe\": function() { return /* binding */ pipe; }\n/* harmony export */ });\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n\n\n\n\n\n/** Mask pipe source and destination types */\nconst PIPE_TYPE = {\n  MASKED: 'value',\n  UNMASKED: 'unmaskedValue',\n  TYPED: 'typedValue'\n};\n\n/** Creates new pipe function depending on mask type, source and destination options */\nfunction createPipe(mask) {\n  let from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : PIPE_TYPE.MASKED;\n  let to = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : PIPE_TYPE.MASKED;\n  const masked = (0,_factory_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(mask);\n  return value => masked.runIsolated(m => {\n    m[from] = value;\n    return m[to];\n  });\n}\n\n/** Pipes value through mask depending on mask type, source and destination options */\nfunction pipe(value) {\n  for (var _len = arguments.length, pipeArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    pipeArgs[_key - 1] = arguments[_key];\n  }\n  return createPipe(...pipeArgs)(value);\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].PIPE_TYPE = PIPE_TYPE;\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createPipe = createPipe;\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pipe = pipe;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/range.js\":\n/*!************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/range.js ***!\n  \\************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedRange; }\n/* harmony export */ });\n/* harmony import */ var _pattern_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pattern.js */ \"./node_modules/imask/esm/masked/pattern.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _rollupPluginBabelHelpers_6b3bd404_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-6b3bd404.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-6b3bd404.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n/* harmony import */ var _regexp_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** Pattern which accepts ranges */\nclass MaskedRange extends _pattern_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\n    Optionally sets max length of pattern.\n    Used when pattern length is longer then `to` param length. Pads zeros at start in this case.\n  */\n\n  /** Min bound */\n\n  /** Max bound */\n\n  /** */\n\n  get _matchFrom() {\n    return this.maxLength - String(this.from).length;\n  }\n\n  /**\n    @override\n  */\n  _update(opts) {\n    // TODO type\n    opts = Object.assign({\n      to: this.to || 0,\n      from: this.from || 0,\n      maxLength: this.maxLength || 0\n    }, opts);\n    let maxLength = String(opts.to).length;\n    if (opts.maxLength != null) maxLength = Math.max(maxLength, opts.maxLength);\n    opts.maxLength = maxLength;\n    const fromStr = String(opts.from).padStart(maxLength, '0');\n    const toStr = String(opts.to).padStart(maxLength, '0');\n    let sameCharsCount = 0;\n    while (sameCharsCount < toStr.length && toStr[sameCharsCount] === fromStr[sameCharsCount]) ++sameCharsCount;\n    opts.mask = toStr.slice(0, sameCharsCount).replace(/0/g, '\\\\0') + '0'.repeat(maxLength - sameCharsCount);\n    super._update(opts);\n  }\n\n  /**\n    @override\n  */\n  get isComplete() {\n    return super.isComplete && Boolean(this.value);\n  }\n  boundaries(str) {\n    let minstr = '';\n    let maxstr = '';\n    const [, placeholder, num] = str.match(/^(\\D*)(\\d*)(\\D*)/) || [];\n    if (num) {\n      minstr = '0'.repeat(placeholder.length) + num;\n      maxstr = '9'.repeat(placeholder.length) + num;\n    }\n    minstr = minstr.padEnd(this.maxLength, '0');\n    maxstr = maxstr.padEnd(this.maxLength, '9');\n    return [minstr, maxstr];\n  }\n\n  // TODO str is a single char everytime\n  /**\n    @override\n  */\n  doPrepare(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let details;\n    [ch, details] = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.normalizePrepare)(super.doPrepare(ch.replace(/\\D/g, ''), flags));\n    if (!this.autofix || !ch) return ch;\n    const fromStr = String(this.from).padStart(this.maxLength, '0');\n    const toStr = String(this.to).padStart(this.maxLength, '0');\n    let nextVal = this.value + ch;\n    if (nextVal.length > this.maxLength) return '';\n    const [minstr, maxstr] = this.boundaries(nextVal);\n    if (Number(maxstr) < this.from) return fromStr[nextVal.length - 1];\n    if (Number(minstr) > this.to) {\n      if (this.autofix === 'pad' && nextVal.length < this.maxLength) {\n        return ['', details.aggregate(this.append(fromStr[nextVal.length - 1] + ch, flags))];\n      }\n      return toStr[nextVal.length - 1];\n    }\n    return ch;\n  }\n\n  /**\n    @override\n  */\n  doValidate() {\n    const str = this.value;\n    const firstNonZero = str.search(/[^0]/);\n    if (firstNonZero === -1 && str.length <= this._matchFrom) return true;\n    const [minstr, maxstr] = this.boundaries(str);\n    return this.from <= Number(maxstr) && Number(minstr) <= this.to && super.doValidate(...arguments);\n  }\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].MaskedRange = MaskedRange;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/regexp.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/regexp.js ***!\n  \\*************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedRegExp; }\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n\n\n\n\n\n\n/** Masking by RegExp */\nclass MaskedRegExp extends _base_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\n    @override\n    @param {Object} opts\n  */\n  _update(opts) {\n    if (opts.mask) opts.validate = value => value.search(opts.mask) >= 0;\n    super._update(opts);\n  }\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedRegExp = MaskedRegExp;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/tippy.js/dist/tippy.esm.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/tippy.js/dist/tippy.esm.js ***!\n  \\*************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"animateFill\": function() { return /* binding */ animateFill; },\n/* harmony export */   \"createSingleton\": function() { return /* binding */ createSingleton; },\n/* harmony export */   \"delegate\": function() { return /* binding */ delegate; },\n/* harmony export */   \"followCursor\": function() { return /* binding */ followCursor; },\n/* harmony export */   \"hideAll\": function() { return /* binding */ hideAll; },\n/* harmony export */   \"inlinePositioning\": function() { return /* binding */ inlinePositioning; },\n/* harmony export */   \"roundArrow\": function() { return /* binding */ ROUND_ARROW; },\n/* harmony export */   \"sticky\": function() { return /* binding */ sticky; }\n/* harmony export */ });\n/* harmony import */ var _popperjs_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @popperjs/core */ \"./node_modules/@popperjs/core/lib/popper.js\");\n/* harmony import */ var _popperjs_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @popperjs/core */ \"./node_modules/@popperjs/core/lib/modifiers/applyStyles.js\");\n/**!\n* tippy.js v6.3.7\n* (c) 2017-2021 atomiks\n* MIT License\n*/\n\n\nvar ROUND_ARROW = '<svg width=\"16\" height=\"6\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z\"></svg>';\nvar BOX_CLASS = \"tippy-box\";\nvar CONTENT_CLASS = \"tippy-content\";\nvar BACKDROP_CLASS = \"tippy-backdrop\";\nvar ARROW_CLASS = \"tippy-arrow\";\nvar SVG_ARROW_CLASS = \"tippy-svg-arrow\";\nvar TOUCH_OPTIONS = {\n  passive: true,\n  capture: true\n};\nvar TIPPY_DEFAULT_APPEND_TO = function TIPPY_DEFAULT_APPEND_TO() {\n  return document.body;\n};\n\nfunction hasOwnProperty(obj, key) {\n  return {}.hasOwnProperty.call(obj, key);\n}\nfunction getValueAtIndexOrReturn(value, index, defaultValue) {\n  if (Array.isArray(value)) {\n    var v = value[index];\n    return v == null ? Array.isArray(defaultValue) ? defaultValue[index] : defaultValue : v;\n  }\n\n  return value;\n}\nfunction isType(value, type) {\n  var str = {}.toString.call(value);\n  return str.indexOf('[object') === 0 && str.indexOf(type + \"]\") > -1;\n}\nfunction invokeWithArgsOrReturn(value, args) {\n  return typeof value === 'function' ? value.apply(void 0, args) : value;\n}\nfunction debounce(fn, ms) {\n  // Avoid wrapping in `setTimeout` if ms is 0 anyway\n  if (ms === 0) {\n    return fn;\n  }\n\n  var timeout;\n  return function (arg) {\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      fn(arg);\n    }, ms);\n  };\n}\nfunction removeProperties(obj, keys) {\n  var clone = Object.assign({}, obj);\n  keys.forEach(function (key) {\n    delete clone[key];\n  });\n  return clone;\n}\nfunction splitBySpaces(value) {\n  return value.split(/\\s+/).filter(Boolean);\n}\nfunction normalizeToArray(value) {\n  return [].concat(value);\n}\nfunction pushIfUnique(arr, value) {\n  if (arr.indexOf(value) === -1) {\n    arr.push(value);\n  }\n}\nfunction unique(arr) {\n  return arr.filter(function (item, index) {\n    return arr.indexOf(item) === index;\n  });\n}\nfunction getBasePlacement(placement) {\n  return placement.split('-')[0];\n}\nfunction arrayFrom(value) {\n  return [].slice.call(value);\n}\nfunction removeUndefinedProps(obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (obj[key] !== undefined) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction div() {\n  return document.createElement('div');\n}\nfunction isElement(value) {\n  return ['Element', 'Fragment'].some(function (type) {\n    return isType(value, type);\n  });\n}\nfunction isNodeList(value) {\n  return isType(value, 'NodeList');\n}\nfunction isMouseEvent(value) {\n  return isType(value, 'MouseEvent');\n}\nfunction isReferenceElement(value) {\n  return !!(value && value._tippy && value._tippy.reference === value);\n}\nfunction getArrayOfElements(value) {\n  if (isElement(value)) {\n    return [value];\n  }\n\n  if (isNodeList(value)) {\n    return arrayFrom(value);\n  }\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return arrayFrom(document.querySelectorAll(value));\n}\nfunction setTransitionDuration(els, value) {\n  els.forEach(function (el) {\n    if (el) {\n      el.style.transitionDuration = value + \"ms\";\n    }\n  });\n}\nfunction setVisibilityState(els, state) {\n  els.forEach(function (el) {\n    if (el) {\n      el.setAttribute('data-state', state);\n    }\n  });\n}\nfunction getOwnerDocument(elementOrElements) {\n  var _element$ownerDocumen;\n\n  var _normalizeToArray = normalizeToArray(elementOrElements),\n      element = _normalizeToArray[0]; // Elements created via a <template> have an ownerDocument with no reference to the body\n\n\n  return element != null && (_element$ownerDocumen = element.ownerDocument) != null && _element$ownerDocumen.body ? element.ownerDocument : document;\n}\nfunction isCursorOutsideInteractiveBorder(popperTreeData, event) {\n  var clientX = event.clientX,\n      clientY = event.clientY;\n  return popperTreeData.every(function (_ref) {\n    var popperRect = _ref.popperRect,\n        popperState = _ref.popperState,\n        props = _ref.props;\n    var interactiveBorder = props.interactiveBorder;\n    var basePlacement = getBasePlacement(popperState.placement);\n    var offsetData = popperState.modifiersData.offset;\n\n    if (!offsetData) {\n      return true;\n    }\n\n    var topDistance = basePlacement === 'bottom' ? offsetData.top.y : 0;\n    var bottomDistance = basePlacement === 'top' ? offsetData.bottom.y : 0;\n    var leftDistance = basePlacement === 'right' ? offsetData.left.x : 0;\n    var rightDistance = basePlacement === 'left' ? offsetData.right.x : 0;\n    var exceedsTop = popperRect.top - clientY + topDistance > interactiveBorder;\n    var exceedsBottom = clientY - popperRect.bottom - bottomDistance > interactiveBorder;\n    var exceedsLeft = popperRect.left - clientX + leftDistance > interactiveBorder;\n    var exceedsRight = clientX - popperRect.right - rightDistance > interactiveBorder;\n    return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;\n  });\n}\nfunction updateTransitionEndListener(box, action, listener) {\n  var method = action + \"EventListener\"; // some browsers apparently support `transition` (unprefixed) but only fire\n  // `webkitTransitionEnd`...\n\n  ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n    box[method](event, listener);\n  });\n}\n/**\n * Compared to xxx.contains, this function works for dom structures with shadow\n * dom\n */\n\nfunction actualContains(parent, child) {\n  var target = child;\n\n  while (target) {\n    var _target$getRootNode;\n\n    if (parent.contains(target)) {\n      return true;\n    }\n\n    target = target.getRootNode == null ? void 0 : (_target$getRootNode = target.getRootNode()) == null ? void 0 : _target$getRootNode.host;\n  }\n\n  return false;\n}\n\nvar currentInput = {\n  isTouch: false\n};\nvar lastMouseMoveTime = 0;\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isTouch` property is fully dynamic and will handle\n * hybrid devices that use a mix of touch + mouse input.\n */\n\nfunction onDocumentTouchStart() {\n  if (currentInput.isTouch) {\n    return;\n  }\n\n  currentInput.isTouch = true;\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove);\n  }\n}\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\n\nfunction onDocumentMouseMove() {\n  var now = performance.now();\n\n  if (now - lastMouseMoveTime < 20) {\n    currentInput.isTouch = false;\n    document.removeEventListener('mousemove', onDocumentMouseMove);\n  }\n\n  lastMouseMoveTime = now;\n}\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\n\nfunction onWindowBlur() {\n  var activeElement = document.activeElement;\n\n  if (isReferenceElement(activeElement)) {\n    var instance = activeElement._tippy;\n\n    if (activeElement.blur && !instance.state.isVisible) {\n      activeElement.blur();\n    }\n  }\n}\nfunction bindGlobalEventListeners() {\n  document.addEventListener('touchstart', onDocumentTouchStart, TOUCH_OPTIONS);\n  window.addEventListener('blur', onWindowBlur);\n}\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\nvar isIE11 = isBrowser ? // @ts-ignore\n!!window.msCrypto : false;\n\nfunction createMemoryLeakWarning(method) {\n  var txt = method === 'destroy' ? 'n already-' : ' ';\n  return [method + \"() was called on a\" + txt + \"destroyed instance. This is a no-op but\", 'indicates a potential memory leak.'].join(' ');\n}\nfunction clean(value) {\n  var spacesAndTabs = /[ \\t]{2,}/g;\n  var lineStartWithSpaces = /^[ \\t]*/gm;\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n}\n\nfunction getDevMessage(message) {\n  return clean(\"\\n  %ctippy.js\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development-only message. It will be removed in production.\\n  \");\n}\n\nfunction getFormattedMessage(message) {\n  return [getDevMessage(message), // title\n  'color: #00C584; font-size: 1.3em; font-weight: bold;', // message\n  'line-height: 1.5', // footer\n  'color: #a6a095;'];\n} // Assume warnings and errors never have the same message\n\nvar visitedMessages;\n\nif (true) {\n  resetVisitedMessages();\n}\n\nfunction resetVisitedMessages() {\n  visitedMessages = new Set();\n}\nfunction warnWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console;\n\n    visitedMessages.add(message);\n\n    (_console = console).warn.apply(_console, getFormattedMessage(message));\n  }\n}\nfunction errorWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console2;\n\n    visitedMessages.add(message);\n\n    (_console2 = console).error.apply(_console2, getFormattedMessage(message));\n  }\n}\nfunction validateTargets(targets) {\n  var didPassFalsyValue = !targets;\n  var didPassPlainObject = Object.prototype.toString.call(targets) === '[object Object]' && !targets.addEventListener;\n  errorWhen(didPassFalsyValue, ['tippy() was passed', '`' + String(targets) + '`', 'as its targets (first) argument. Valid types are: String, Element,', 'Element[], or NodeList.'].join(' '));\n  errorWhen(didPassPlainObject, ['tippy() was passed a plain object which is not supported as an argument', 'for virtual positioning. Use props.getReferenceClientRect instead.'].join(' '));\n}\n\nvar pluginProps = {\n  animateFill: false,\n  followCursor: false,\n  inlinePositioning: false,\n  sticky: false\n};\nvar renderProps = {\n  allowHTML: false,\n  animation: 'fade',\n  arrow: true,\n  content: '',\n  inertia: false,\n  maxWidth: 350,\n  role: 'tooltip',\n  theme: '',\n  zIndex: 9999\n};\nvar defaultProps = Object.assign({\n  appendTo: TIPPY_DEFAULT_APPEND_TO,\n  aria: {\n    content: 'auto',\n    expanded: 'auto'\n  },\n  delay: 0,\n  duration: [300, 250],\n  getReferenceClientRect: null,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  moveTransition: '',\n  offset: [0, 10],\n  onAfterUpdate: function onAfterUpdate() {},\n  onBeforeUpdate: function onBeforeUpdate() {},\n  onCreate: function onCreate() {},\n  onDestroy: function onDestroy() {},\n  onHidden: function onHidden() {},\n  onHide: function onHide() {},\n  onMount: function onMount() {},\n  onShow: function onShow() {},\n  onShown: function onShown() {},\n  onTrigger: function onTrigger() {},\n  onUntrigger: function onUntrigger() {},\n  onClickOutside: function onClickOutside() {},\n  placement: 'top',\n  plugins: [],\n  popperOptions: {},\n  render: null,\n  showOnCreate: false,\n  touch: true,\n  trigger: 'mouseenter focus',\n  triggerTarget: null\n}, pluginProps, renderProps);\nvar defaultKeys = Object.keys(defaultProps);\nvar setDefaultProps = function setDefaultProps(partialProps) {\n  /* istanbul ignore else */\n  if (true) {\n    validateProps(partialProps, []);\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (key) {\n    defaultProps[key] = partialProps[key];\n  });\n};\nfunction getExtendedPassedProps(passedProps) {\n  var plugins = passedProps.plugins || [];\n  var pluginProps = plugins.reduce(function (acc, plugin) {\n    var name = plugin.name,\n        defaultValue = plugin.defaultValue;\n\n    if (name) {\n      var _name;\n\n      acc[name] = passedProps[name] !== undefined ? passedProps[name] : (_name = defaultProps[name]) != null ? _name : defaultValue;\n    }\n\n    return acc;\n  }, {});\n  return Object.assign({}, passedProps, pluginProps);\n}\nfunction getDataAttributeProps(reference, plugins) {\n  var propKeys = plugins ? Object.keys(getExtendedPassedProps(Object.assign({}, defaultProps, {\n    plugins: plugins\n  }))) : defaultKeys;\n  var props = propKeys.reduce(function (acc, key) {\n    var valueAsString = (reference.getAttribute(\"data-tippy-\" + key) || '').trim();\n\n    if (!valueAsString) {\n      return acc;\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString;\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString);\n      } catch (e) {\n        acc[key] = valueAsString;\n      }\n    }\n\n    return acc;\n  }, {});\n  return props;\n}\nfunction evaluateProps(reference, props) {\n  var out = Object.assign({}, props, {\n    content: invokeWithArgsOrReturn(props.content, [reference])\n  }, props.ignoreAttributes ? {} : getDataAttributeProps(reference, props.plugins));\n  out.aria = Object.assign({}, defaultProps.aria, out.aria);\n  out.aria = {\n    expanded: out.aria.expanded === 'auto' ? props.interactive : out.aria.expanded,\n    content: out.aria.content === 'auto' ? props.interactive ? null : 'describedby' : out.aria.content\n  };\n  return out;\n}\nfunction validateProps(partialProps, plugins) {\n  if (partialProps === void 0) {\n    partialProps = {};\n  }\n\n  if (plugins === void 0) {\n    plugins = [];\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (prop) {\n    var nonPluginProps = removeProperties(defaultProps, Object.keys(pluginProps));\n    var didPassUnknownProp = !hasOwnProperty(nonPluginProps, prop); // Check if the prop exists in `plugins`\n\n    if (didPassUnknownProp) {\n      didPassUnknownProp = plugins.filter(function (plugin) {\n        return plugin.name === prop;\n      }).length === 0;\n    }\n\n    warnWhen(didPassUnknownProp, [\"`\" + prop + \"`\", \"is not a valid prop. You may have spelled it incorrectly, or if it's\", 'a plugin, forgot to pass it in an array as props.plugins.', '\\n\\n', 'All props: https://atomiks.github.io/tippyjs/v6/all-props/\\n', 'Plugins: https://atomiks.github.io/tippyjs/v6/plugins/'].join(' '));\n  });\n}\n\nvar innerHTML = function innerHTML() {\n  return 'innerHTML';\n};\n\nfunction dangerouslySetInnerHTML(element, html) {\n  element[innerHTML()] = html;\n}\n\nfunction createArrowElement(value) {\n  var arrow = div();\n\n  if (value === true) {\n    arrow.className = ARROW_CLASS;\n  } else {\n    arrow.className = SVG_ARROW_CLASS;\n\n    if (isElement(value)) {\n      arrow.appendChild(value);\n    } else {\n      dangerouslySetInnerHTML(arrow, value);\n    }\n  }\n\n  return arrow;\n}\n\nfunction setContent(content, props) {\n  if (isElement(props.content)) {\n    dangerouslySetInnerHTML(content, '');\n    content.appendChild(props.content);\n  } else if (typeof props.content !== 'function') {\n    if (props.allowHTML) {\n      dangerouslySetInnerHTML(content, props.content);\n    } else {\n      content.textContent = props.content;\n    }\n  }\n}\nfunction getChildren(popper) {\n  var box = popper.firstElementChild;\n  var boxChildren = arrayFrom(box.children);\n  return {\n    box: box,\n    content: boxChildren.find(function (node) {\n      return node.classList.contains(CONTENT_CLASS);\n    }),\n    arrow: boxChildren.find(function (node) {\n      return node.classList.contains(ARROW_CLASS) || node.classList.contains(SVG_ARROW_CLASS);\n    }),\n    backdrop: boxChildren.find(function (node) {\n      return node.classList.contains(BACKDROP_CLASS);\n    })\n  };\n}\nfunction render(instance) {\n  var popper = div();\n  var box = div();\n  box.className = BOX_CLASS;\n  box.setAttribute('data-state', 'hidden');\n  box.setAttribute('tabindex', '-1');\n  var content = div();\n  content.className = CONTENT_CLASS;\n  content.setAttribute('data-state', 'hidden');\n  setContent(content, instance.props);\n  popper.appendChild(box);\n  box.appendChild(content);\n  onUpdate(instance.props, instance.props);\n\n  function onUpdate(prevProps, nextProps) {\n    var _getChildren = getChildren(popper),\n        box = _getChildren.box,\n        content = _getChildren.content,\n        arrow = _getChildren.arrow;\n\n    if (nextProps.theme) {\n      box.setAttribute('data-theme', nextProps.theme);\n    } else {\n      box.removeAttribute('data-theme');\n    }\n\n    if (typeof nextProps.animation === 'string') {\n      box.setAttribute('data-animation', nextProps.animation);\n    } else {\n      box.removeAttribute('data-animation');\n    }\n\n    if (nextProps.inertia) {\n      box.setAttribute('data-inertia', '');\n    } else {\n      box.removeAttribute('data-inertia');\n    }\n\n    box.style.maxWidth = typeof nextProps.maxWidth === 'number' ? nextProps.maxWidth + \"px\" : nextProps.maxWidth;\n\n    if (nextProps.role) {\n      box.setAttribute('role', nextProps.role);\n    } else {\n      box.removeAttribute('role');\n    }\n\n    if (prevProps.content !== nextProps.content || prevProps.allowHTML !== nextProps.allowHTML) {\n      setContent(content, instance.props);\n    }\n\n    if (nextProps.arrow) {\n      if (!arrow) {\n        box.appendChild(createArrowElement(nextProps.arrow));\n      } else if (prevProps.arrow !== nextProps.arrow) {\n        box.removeChild(arrow);\n        box.appendChild(createArrowElement(nextProps.arrow));\n      }\n    } else if (arrow) {\n      box.removeChild(arrow);\n    }\n  }\n\n  return {\n    popper: popper,\n    onUpdate: onUpdate\n  };\n} // Runtime check to identify if the render function is the default one; this\n// way we can apply default CSS transitions logic and it can be tree-shaken away\n\nrender.$$tippy = true;\n\nvar idCounter = 1;\nvar mouseMoveListeners = []; // Used by `hideAll()`\n\nvar mountedInstances = [];\nfunction createTippy(reference, passedProps) {\n  var props = evaluateProps(reference, Object.assign({}, defaultProps, getExtendedPassedProps(removeUndefinedProps(passedProps)))); // ===========================================================================\n  // 🔒 Private members\n  // ===========================================================================\n\n  var showTimeout;\n  var hideTimeout;\n  var scheduleHideAnimationFrame;\n  var isVisibleFromClick = false;\n  var didHideDueToDocumentMouseDown = false;\n  var didTouchMove = false;\n  var ignoreOnFirstUpdate = false;\n  var lastTriggerEvent;\n  var currentTransitionEndListener;\n  var onFirstUpdate;\n  var listeners = [];\n  var debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce);\n  var currentTarget; // ===========================================================================\n  // 🔑 Public members\n  // ===========================================================================\n\n  var id = idCounter++;\n  var popperInstance = null;\n  var plugins = unique(props.plugins);\n  var state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false\n  };\n  var instance = {\n    // properties\n    id: id,\n    reference: reference,\n    popper: div(),\n    popperInstance: popperInstance,\n    props: props,\n    state: state,\n    plugins: plugins,\n    // methods\n    clearDelayTimeouts: clearDelayTimeouts,\n    setProps: setProps,\n    setContent: setContent,\n    show: show,\n    hide: hide,\n    hideWithInteractivity: hideWithInteractivity,\n    enable: enable,\n    disable: disable,\n    unmount: unmount,\n    destroy: destroy\n  }; // TODO: Investigate why this early return causes a TDZ error in the tests —\n  // it doesn't seem to happen in the browser\n\n  /* istanbul ignore if */\n\n  if (!props.render) {\n    if (true) {\n      errorWhen(true, 'render() function has not been supplied.');\n    }\n\n    return instance;\n  } // ===========================================================================\n  // Initial mutations\n  // ===========================================================================\n\n\n  var _props$render = props.render(instance),\n      popper = _props$render.popper,\n      onUpdate = _props$render.onUpdate;\n\n  popper.setAttribute('data-tippy-root', '');\n  popper.id = \"tippy-\" + instance.id;\n  instance.popper = popper;\n  reference._tippy = instance;\n  popper._tippy = instance;\n  var pluginsHooks = plugins.map(function (plugin) {\n    return plugin.fn(instance);\n  });\n  var hasAriaExpanded = reference.hasAttribute('aria-expanded');\n  addListeners();\n  handleAriaExpandedAttribute();\n  handleStyles();\n  invokeHook('onCreate', [instance]);\n\n  if (props.showOnCreate) {\n    scheduleShow();\n  } // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n\n\n  popper.addEventListener('mouseenter', function () {\n    if (instance.props.interactive && instance.state.isVisible) {\n      instance.clearDelayTimeouts();\n    }\n  });\n  popper.addEventListener('mouseleave', function () {\n    if (instance.props.interactive && instance.props.trigger.indexOf('mouseenter') >= 0) {\n      getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    }\n  });\n  return instance; // ===========================================================================\n  // 🔒 Private methods\n  // ===========================================================================\n\n  function getNormalizedTouchSettings() {\n    var touch = instance.props.touch;\n    return Array.isArray(touch) ? touch : [touch, 0];\n  }\n\n  function getIsCustomTouchBehavior() {\n    return getNormalizedTouchSettings()[0] === 'hold';\n  }\n\n  function getIsDefaultRenderFn() {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    return !!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy);\n  }\n\n  function getCurrentTarget() {\n    return currentTarget || reference;\n  }\n\n  function getDocument() {\n    var parent = getCurrentTarget().parentNode;\n    return parent ? getOwnerDocument(parent) : document;\n  }\n\n  function getDefaultTemplateChildren() {\n    return getChildren(popper);\n  }\n\n  function getDelay(isShow) {\n    // For touch or keyboard input, force `0` delay for UX reasons\n    // Also if the instance is mounted but not visible (transitioning out),\n    // ignore delay\n    if (instance.state.isMounted && !instance.state.isVisible || currentInput.isTouch || lastTriggerEvent && lastTriggerEvent.type === 'focus') {\n      return 0;\n    }\n\n    return getValueAtIndexOrReturn(instance.props.delay, isShow ? 0 : 1, defaultProps.delay);\n  }\n\n  function handleStyles(fromHide) {\n    if (fromHide === void 0) {\n      fromHide = false;\n    }\n\n    popper.style.pointerEvents = instance.props.interactive && !fromHide ? '' : 'none';\n    popper.style.zIndex = \"\" + instance.props.zIndex;\n  }\n\n  function invokeHook(hook, args, shouldInvokePropsHook) {\n    if (shouldInvokePropsHook === void 0) {\n      shouldInvokePropsHook = true;\n    }\n\n    pluginsHooks.forEach(function (pluginHooks) {\n      if (pluginHooks[hook]) {\n        pluginHooks[hook].apply(pluginHooks, args);\n      }\n    });\n\n    if (shouldInvokePropsHook) {\n      var _instance$props;\n\n      (_instance$props = instance.props)[hook].apply(_instance$props, args);\n    }\n  }\n\n  function handleAriaContentAttribute() {\n    var aria = instance.props.aria;\n\n    if (!aria.content) {\n      return;\n    }\n\n    var attr = \"aria-\" + aria.content;\n    var id = popper.id;\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      var currentValue = node.getAttribute(attr);\n\n      if (instance.state.isVisible) {\n        node.setAttribute(attr, currentValue ? currentValue + \" \" + id : id);\n      } else {\n        var nextValue = currentValue && currentValue.replace(id, '').trim();\n\n        if (nextValue) {\n          node.setAttribute(attr, nextValue);\n        } else {\n          node.removeAttribute(attr);\n        }\n      }\n    });\n  }\n\n  function handleAriaExpandedAttribute() {\n    if (hasAriaExpanded || !instance.props.aria.expanded) {\n      return;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      if (instance.props.interactive) {\n        node.setAttribute('aria-expanded', instance.state.isVisible && node === getCurrentTarget() ? 'true' : 'false');\n      } else {\n        node.removeAttribute('aria-expanded');\n      }\n    });\n  }\n\n  function cleanupInteractiveMouseListeners() {\n    getDocument().removeEventListener('mousemove', debouncedOnMouseMove);\n    mouseMoveListeners = mouseMoveListeners.filter(function (listener) {\n      return listener !== debouncedOnMouseMove;\n    });\n  }\n\n  function onDocumentPress(event) {\n    // Moved finger to scroll instead of an intentional tap outside\n    if (currentInput.isTouch) {\n      if (didTouchMove || event.type === 'mousedown') {\n        return;\n      }\n    }\n\n    var actualTarget = event.composedPath && event.composedPath()[0] || event.target; // Clicked on interactive popper\n\n    if (instance.props.interactive && actualContains(popper, actualTarget)) {\n      return;\n    } // Clicked on the event listeners target\n\n\n    if (normalizeToArray(instance.props.triggerTarget || reference).some(function (el) {\n      return actualContains(el, actualTarget);\n    })) {\n      if (currentInput.isTouch) {\n        return;\n      }\n\n      if (instance.state.isVisible && instance.props.trigger.indexOf('click') >= 0) {\n        return;\n      }\n    } else {\n      invokeHook('onClickOutside', [instance, event]);\n    }\n\n    if (instance.props.hideOnClick === true) {\n      instance.clearDelayTimeouts();\n      instance.hide(); // `mousedown` event is fired right before `focus` if pressing the\n      // currentTarget. This lets a tippy with `focus` trigger know that it\n      // should not show\n\n      didHideDueToDocumentMouseDown = true;\n      setTimeout(function () {\n        didHideDueToDocumentMouseDown = false;\n      }); // The listener gets added in `scheduleShow()`, but this may be hiding it\n      // before it shows, and hide()'s early bail-out behavior can prevent it\n      // from being cleaned up\n\n      if (!instance.state.isMounted) {\n        removeDocumentPress();\n      }\n    }\n  }\n\n  function onTouchMove() {\n    didTouchMove = true;\n  }\n\n  function onTouchStart() {\n    didTouchMove = false;\n  }\n\n  function addDocumentPress() {\n    var doc = getDocument();\n    doc.addEventListener('mousedown', onDocumentPress, true);\n    doc.addEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.addEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.addEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function removeDocumentPress() {\n    var doc = getDocument();\n    doc.removeEventListener('mousedown', onDocumentPress, true);\n    doc.removeEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.removeEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.removeEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function onTransitionedOut(duration, callback) {\n    onTransitionEnd(duration, function () {\n      if (!instance.state.isVisible && popper.parentNode && popper.parentNode.contains(popper)) {\n        callback();\n      }\n    });\n  }\n\n  function onTransitionedIn(duration, callback) {\n    onTransitionEnd(duration, callback);\n  }\n\n  function onTransitionEnd(duration, callback) {\n    var box = getDefaultTemplateChildren().box;\n\n    function listener(event) {\n      if (event.target === box) {\n        updateTransitionEndListener(box, 'remove', listener);\n        callback();\n      }\n    } // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n\n\n    if (duration === 0) {\n      return callback();\n    }\n\n    updateTransitionEndListener(box, 'remove', currentTransitionEndListener);\n    updateTransitionEndListener(box, 'add', listener);\n    currentTransitionEndListener = listener;\n  }\n\n  function on(eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      node.addEventListener(eventType, handler, options);\n      listeners.push({\n        node: node,\n        eventType: eventType,\n        handler: handler,\n        options: options\n      });\n    });\n  }\n\n  function addListeners() {\n    if (getIsCustomTouchBehavior()) {\n      on('touchstart', onTrigger, {\n        passive: true\n      });\n      on('touchend', onMouseLeave, {\n        passive: true\n      });\n    }\n\n    splitBySpaces(instance.props.trigger).forEach(function (eventType) {\n      if (eventType === 'manual') {\n        return;\n      }\n\n      on(eventType, onTrigger);\n\n      switch (eventType) {\n        case 'mouseenter':\n          on('mouseleave', onMouseLeave);\n          break;\n\n        case 'focus':\n          on(isIE11 ? 'focusout' : 'blur', onBlurOrFocusOut);\n          break;\n\n        case 'focusin':\n          on('focusout', onBlurOrFocusOut);\n          break;\n      }\n    });\n  }\n\n  function removeListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function onTrigger(event) {\n    var _lastTriggerEvent;\n\n    var shouldScheduleClickHide = false;\n\n    if (!instance.state.isEnabled || isEventListenerStopped(event) || didHideDueToDocumentMouseDown) {\n      return;\n    }\n\n    var wasFocused = ((_lastTriggerEvent = lastTriggerEvent) == null ? void 0 : _lastTriggerEvent.type) === 'focus';\n    lastTriggerEvent = event;\n    currentTarget = event.currentTarget;\n    handleAriaExpandedAttribute();\n\n    if (!instance.state.isVisible && isMouseEvent(event)) {\n      // If scrolling, `mouseenter` events can be fired if the cursor lands\n      // over a new target, but `mousemove` events don't get fired. This\n      // causes interactive tooltips to get stuck open until the cursor is\n      // moved\n      mouseMoveListeners.forEach(function (listener) {\n        return listener(event);\n      });\n    } // Toggle show/hide when clicking click-triggered tooltips\n\n\n    if (event.type === 'click' && (instance.props.trigger.indexOf('mouseenter') < 0 || isVisibleFromClick) && instance.props.hideOnClick !== false && instance.state.isVisible) {\n      shouldScheduleClickHide = true;\n    } else {\n      scheduleShow(event);\n    }\n\n    if (event.type === 'click') {\n      isVisibleFromClick = !shouldScheduleClickHide;\n    }\n\n    if (shouldScheduleClickHide && !wasFocused) {\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseMove(event) {\n    var target = event.target;\n    var isCursorOverReferenceOrPopper = getCurrentTarget().contains(target) || popper.contains(target);\n\n    if (event.type === 'mousemove' && isCursorOverReferenceOrPopper) {\n      return;\n    }\n\n    var popperTreeData = getNestedPopperTree().concat(popper).map(function (popper) {\n      var _instance$popperInsta;\n\n      var instance = popper._tippy;\n      var state = (_instance$popperInsta = instance.popperInstance) == null ? void 0 : _instance$popperInsta.state;\n\n      if (state) {\n        return {\n          popperRect: popper.getBoundingClientRect(),\n          popperState: state,\n          props: props\n        };\n      }\n\n      return null;\n    }).filter(Boolean);\n\n    if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {\n      cleanupInteractiveMouseListeners();\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseLeave(event) {\n    var shouldBail = isEventListenerStopped(event) || instance.props.trigger.indexOf('click') >= 0 && isVisibleFromClick;\n\n    if (shouldBail) {\n      return;\n    }\n\n    if (instance.props.interactive) {\n      instance.hideWithInteractivity(event);\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function onBlurOrFocusOut(event) {\n    if (instance.props.trigger.indexOf('focusin') < 0 && event.target !== getCurrentTarget()) {\n      return;\n    } // If focus was moved to within the popper\n\n\n    if (instance.props.interactive && event.relatedTarget && popper.contains(event.relatedTarget)) {\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function isEventListenerStopped(event) {\n    return currentInput.isTouch ? getIsCustomTouchBehavior() !== event.type.indexOf('touch') >= 0 : false;\n  }\n\n  function createPopperInstance() {\n    destroyPopperInstance();\n    var _instance$props2 = instance.props,\n        popperOptions = _instance$props2.popperOptions,\n        placement = _instance$props2.placement,\n        offset = _instance$props2.offset,\n        getReferenceClientRect = _instance$props2.getReferenceClientRect,\n        moveTransition = _instance$props2.moveTransition;\n    var arrow = getIsDefaultRenderFn() ? getChildren(popper).arrow : null;\n    var computedReference = getReferenceClientRect ? {\n      getBoundingClientRect: getReferenceClientRect,\n      contextElement: getReferenceClientRect.contextElement || getCurrentTarget()\n    } : reference;\n    var tippyModifier = {\n      name: '$$tippy',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (getIsDefaultRenderFn()) {\n          var _getDefaultTemplateCh = getDefaultTemplateChildren(),\n              box = _getDefaultTemplateCh.box;\n\n          ['placement', 'reference-hidden', 'escaped'].forEach(function (attr) {\n            if (attr === 'placement') {\n              box.setAttribute('data-placement', state.placement);\n            } else {\n              if (state.attributes.popper[\"data-popper-\" + attr]) {\n                box.setAttribute(\"data-\" + attr, '');\n              } else {\n                box.removeAttribute(\"data-\" + attr);\n              }\n            }\n          });\n          state.attributes.popper = {};\n        }\n      }\n    };\n    var modifiers = [{\n      name: 'offset',\n      options: {\n        offset: offset\n      }\n    }, {\n      name: 'preventOverflow',\n      options: {\n        padding: {\n          top: 2,\n          bottom: 2,\n          left: 5,\n          right: 5\n        }\n      }\n    }, {\n      name: 'flip',\n      options: {\n        padding: 5\n      }\n    }, {\n      name: 'computeStyles',\n      options: {\n        adaptive: !moveTransition\n      }\n    }, tippyModifier];\n\n    if (getIsDefaultRenderFn() && arrow) {\n      modifiers.push({\n        name: 'arrow',\n        options: {\n          element: arrow,\n          padding: 3\n        }\n      });\n    }\n\n    modifiers.push.apply(modifiers, (popperOptions == null ? void 0 : popperOptions.modifiers) || []);\n    instance.popperInstance = (0,_popperjs_core__WEBPACK_IMPORTED_MODULE_0__.createPopper)(computedReference, popper, Object.assign({}, popperOptions, {\n      placement: placement,\n      onFirstUpdate: onFirstUpdate,\n      modifiers: modifiers\n    }));\n  }\n\n  function destroyPopperInstance() {\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy();\n      instance.popperInstance = null;\n    }\n  }\n\n  function mount() {\n    var appendTo = instance.props.appendTo;\n    var parentNode; // By default, we'll append the popper to the triggerTargets's parentNode so\n    // it's directly after the reference element so the elements inside the\n    // tippy can be tabbed to\n    // If there are clipping issues, the user can specify a different appendTo\n    // and ensure focus management is handled correctly manually\n\n    var node = getCurrentTarget();\n\n    if (instance.props.interactive && appendTo === TIPPY_DEFAULT_APPEND_TO || appendTo === 'parent') {\n      parentNode = node.parentNode;\n    } else {\n      parentNode = invokeWithArgsOrReturn(appendTo, [node]);\n    } // The popper element needs to exist on the DOM before its position can be\n    // updated as Popper needs to read its dimensions\n\n\n    if (!parentNode.contains(popper)) {\n      parentNode.appendChild(popper);\n    }\n\n    instance.state.isMounted = true;\n    createPopperInstance();\n    /* istanbul ignore else */\n\n    if (true) {\n      // Accessibility check\n      warnWhen(instance.props.interactive && appendTo === defaultProps.appendTo && node.nextElementSibling !== popper, ['Interactive tippy element may not be accessible via keyboard', 'navigation because it is not directly after the reference element', 'in the DOM source order.', '\\n\\n', 'Using a wrapper <div> or <span> tag around the reference element', 'solves this by creating a new parentNode context.', '\\n\\n', 'Specifying `appendTo: document.body` silences this warning, but it', 'assumes you are using a focus management solution to handle', 'keyboard navigation.', '\\n\\n', 'See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity'].join(' '));\n    }\n  }\n\n  function getNestedPopperTree() {\n    return arrayFrom(popper.querySelectorAll('[data-tippy-root]'));\n  }\n\n  function scheduleShow(event) {\n    instance.clearDelayTimeouts();\n\n    if (event) {\n      invokeHook('onTrigger', [instance, event]);\n    }\n\n    addDocumentPress();\n    var delay = getDelay(true);\n\n    var _getNormalizedTouchSe = getNormalizedTouchSettings(),\n        touchValue = _getNormalizedTouchSe[0],\n        touchDelay = _getNormalizedTouchSe[1];\n\n    if (currentInput.isTouch && touchValue === 'hold' && touchDelay) {\n      delay = touchDelay;\n    }\n\n    if (delay) {\n      showTimeout = setTimeout(function () {\n        instance.show();\n      }, delay);\n    } else {\n      instance.show();\n    }\n  }\n\n  function scheduleHide(event) {\n    instance.clearDelayTimeouts();\n    invokeHook('onUntrigger', [instance, event]);\n\n    if (!instance.state.isVisible) {\n      removeDocumentPress();\n      return;\n    } // For interactive tippies, scheduleHide is added to a document.body handler\n    // from onMouseLeave so must intercept scheduled hides from mousemove/leave\n    // events when trigger contains mouseenter and click, and the tip is\n    // currently shown as a result of a click.\n\n\n    if (instance.props.trigger.indexOf('mouseenter') >= 0 && instance.props.trigger.indexOf('click') >= 0 && ['mouseleave', 'mousemove'].indexOf(event.type) >= 0 && isVisibleFromClick) {\n      return;\n    }\n\n    var delay = getDelay(false);\n\n    if (delay) {\n      hideTimeout = setTimeout(function () {\n        if (instance.state.isVisible) {\n          instance.hide();\n        }\n      }, delay);\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      scheduleHideAnimationFrame = requestAnimationFrame(function () {\n        instance.hide();\n      });\n    }\n  } // ===========================================================================\n  // 🔑 Public methods\n  // ===========================================================================\n\n\n  function enable() {\n    instance.state.isEnabled = true;\n  }\n\n  function disable() {\n    // Disabling the instance should also hide it\n    // https://github.com/atomiks/tippy.js-react/issues/106\n    instance.hide();\n    instance.state.isEnabled = false;\n  }\n\n  function clearDelayTimeouts() {\n    clearTimeout(showTimeout);\n    clearTimeout(hideTimeout);\n    cancelAnimationFrame(scheduleHideAnimationFrame);\n  }\n\n  function setProps(partialProps) {\n    /* istanbul ignore else */\n    if (true) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('setProps'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    invokeHook('onBeforeUpdate', [instance, partialProps]);\n    removeListeners();\n    var prevProps = instance.props;\n    var nextProps = evaluateProps(reference, Object.assign({}, prevProps, removeUndefinedProps(partialProps), {\n      ignoreAttributes: true\n    }));\n    instance.props = nextProps;\n    addListeners();\n\n    if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {\n      cleanupInteractiveMouseListeners();\n      debouncedOnMouseMove = debounce(onMouseMove, nextProps.interactiveDebounce);\n    } // Ensure stale aria-expanded attributes are removed\n\n\n    if (prevProps.triggerTarget && !nextProps.triggerTarget) {\n      normalizeToArray(prevProps.triggerTarget).forEach(function (node) {\n        node.removeAttribute('aria-expanded');\n      });\n    } else if (nextProps.triggerTarget) {\n      reference.removeAttribute('aria-expanded');\n    }\n\n    handleAriaExpandedAttribute();\n    handleStyles();\n\n    if (onUpdate) {\n      onUpdate(prevProps, nextProps);\n    }\n\n    if (instance.popperInstance) {\n      createPopperInstance(); // Fixes an issue with nested tippies if they are all getting re-rendered,\n      // and the nested ones get re-rendered first.\n      // https://github.com/atomiks/tippyjs-react/issues/177\n      // TODO: find a cleaner / more efficient solution(!)\n\n      getNestedPopperTree().forEach(function (nestedPopper) {\n        // React (and other UI libs likely) requires a rAF wrapper as it flushes\n        // its work in one\n        requestAnimationFrame(nestedPopper._tippy.popperInstance.forceUpdate);\n      });\n    }\n\n    invokeHook('onAfterUpdate', [instance, partialProps]);\n  }\n\n  function setContent(content) {\n    instance.setProps({\n      content: content\n    });\n  }\n\n  function show() {\n    /* istanbul ignore else */\n    if (true) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('show'));\n    } // Early bail-out\n\n\n    var isAlreadyVisible = instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var isTouchAndTouchDisabled = currentInput.isTouch && !instance.props.touch;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 0, defaultProps.duration);\n\n    if (isAlreadyVisible || isDestroyed || isDisabled || isTouchAndTouchDisabled) {\n      return;\n    } // Normalize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n\n\n    if (getCurrentTarget().hasAttribute('disabled')) {\n      return;\n    }\n\n    invokeHook('onShow', [instance], false);\n\n    if (instance.props.onShow(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = true;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'visible';\n    }\n\n    handleStyles();\n    addDocumentPress();\n\n    if (!instance.state.isMounted) {\n      popper.style.transition = 'none';\n    } // If flipping to the opposite side after hiding at least once, the\n    // animation will use the wrong placement without resetting the duration\n\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh2 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh2.box,\n          content = _getDefaultTemplateCh2.content;\n\n      setTransitionDuration([box, content], 0);\n    }\n\n    onFirstUpdate = function onFirstUpdate() {\n      var _instance$popperInsta2;\n\n      if (!instance.state.isVisible || ignoreOnFirstUpdate) {\n        return;\n      }\n\n      ignoreOnFirstUpdate = true; // reflow\n\n      void popper.offsetHeight;\n      popper.style.transition = instance.props.moveTransition;\n\n      if (getIsDefaultRenderFn() && instance.props.animation) {\n        var _getDefaultTemplateCh3 = getDefaultTemplateChildren(),\n            _box = _getDefaultTemplateCh3.box,\n            _content = _getDefaultTemplateCh3.content;\n\n        setTransitionDuration([_box, _content], duration);\n        setVisibilityState([_box, _content], 'visible');\n      }\n\n      handleAriaContentAttribute();\n      handleAriaExpandedAttribute();\n      pushIfUnique(mountedInstances, instance); // certain modifiers (e.g. `maxSize`) require a second update after the\n      // popper has been positioned for the first time\n\n      (_instance$popperInsta2 = instance.popperInstance) == null ? void 0 : _instance$popperInsta2.forceUpdate();\n      invokeHook('onMount', [instance]);\n\n      if (instance.props.animation && getIsDefaultRenderFn()) {\n        onTransitionedIn(duration, function () {\n          instance.state.isShown = true;\n          invokeHook('onShown', [instance]);\n        });\n      }\n    };\n\n    mount();\n  }\n\n  function hide() {\n    /* istanbul ignore else */\n    if (true) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hide'));\n    } // Early bail-out\n\n\n    var isAlreadyHidden = !instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 1, defaultProps.duration);\n\n    if (isAlreadyHidden || isDestroyed || isDisabled) {\n      return;\n    }\n\n    invokeHook('onHide', [instance], false);\n\n    if (instance.props.onHide(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = false;\n    instance.state.isShown = false;\n    ignoreOnFirstUpdate = false;\n    isVisibleFromClick = false;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'hidden';\n    }\n\n    cleanupInteractiveMouseListeners();\n    removeDocumentPress();\n    handleStyles(true);\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh4 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh4.box,\n          content = _getDefaultTemplateCh4.content;\n\n      if (instance.props.animation) {\n        setTransitionDuration([box, content], duration);\n        setVisibilityState([box, content], 'hidden');\n      }\n    }\n\n    handleAriaContentAttribute();\n    handleAriaExpandedAttribute();\n\n    if (instance.props.animation) {\n      if (getIsDefaultRenderFn()) {\n        onTransitionedOut(duration, instance.unmount);\n      }\n    } else {\n      instance.unmount();\n    }\n  }\n\n  function hideWithInteractivity(event) {\n    /* istanbul ignore else */\n    if (true) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hideWithInteractivity'));\n    }\n\n    getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);\n    debouncedOnMouseMove(event);\n  }\n\n  function unmount() {\n    /* istanbul ignore else */\n    if (true) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('unmount'));\n    }\n\n    if (instance.state.isVisible) {\n      instance.hide();\n    }\n\n    if (!instance.state.isMounted) {\n      return;\n    }\n\n    destroyPopperInstance(); // If a popper is not interactive, it will be appended outside the popper\n    // tree by default. This seems mainly for interactive tippies, but we should\n    // find a workaround if possible\n\n    getNestedPopperTree().forEach(function (nestedPopper) {\n      nestedPopper._tippy.unmount();\n    });\n\n    if (popper.parentNode) {\n      popper.parentNode.removeChild(popper);\n    }\n\n    mountedInstances = mountedInstances.filter(function (i) {\n      return i !== instance;\n    });\n    instance.state.isMounted = false;\n    invokeHook('onHidden', [instance]);\n  }\n\n  function destroy() {\n    /* istanbul ignore else */\n    if (true) {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('destroy'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    instance.clearDelayTimeouts();\n    instance.unmount();\n    removeListeners();\n    delete reference._tippy;\n    instance.state.isDestroyed = true;\n    invokeHook('onDestroy', [instance]);\n  }\n}\n\nfunction tippy(targets, optionalProps) {\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  var plugins = defaultProps.plugins.concat(optionalProps.plugins || []);\n  /* istanbul ignore else */\n\n  if (true) {\n    validateTargets(targets);\n    validateProps(optionalProps, plugins);\n  }\n\n  bindGlobalEventListeners();\n  var passedProps = Object.assign({}, optionalProps, {\n    plugins: plugins\n  });\n  var elements = getArrayOfElements(targets);\n  /* istanbul ignore else */\n\n  if (true) {\n    var isSingleContentElement = isElement(passedProps.content);\n    var isMoreThanOneReferenceElement = elements.length > 1;\n    warnWhen(isSingleContentElement && isMoreThanOneReferenceElement, ['tippy() was passed an Element as the `content` prop, but more than', 'one tippy instance was created by this invocation. This means the', 'content element will only be appended to the last tippy instance.', '\\n\\n', 'Instead, pass the .innerHTML of the element, or use a function that', 'returns a cloned version of the element instead.', '\\n\\n', '1) content: element.innerHTML\\n', '2) content: () => element.cloneNode(true)'].join(' '));\n  }\n\n  var instances = elements.reduce(function (acc, reference) {\n    var instance = reference && createTippy(reference, passedProps);\n\n    if (instance) {\n      acc.push(instance);\n    }\n\n    return acc;\n  }, []);\n  return isElement(targets) ? instances[0] : instances;\n}\n\ntippy.defaultProps = defaultProps;\ntippy.setDefaultProps = setDefaultProps;\ntippy.currentInput = currentInput;\nvar hideAll = function hideAll(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      excludedReferenceOrInstance = _ref.exclude,\n      duration = _ref.duration;\n\n  mountedInstances.forEach(function (instance) {\n    var isExcluded = false;\n\n    if (excludedReferenceOrInstance) {\n      isExcluded = isReferenceElement(excludedReferenceOrInstance) ? instance.reference === excludedReferenceOrInstance : instance.popper === excludedReferenceOrInstance.popper;\n    }\n\n    if (!isExcluded) {\n      var originalDuration = instance.props.duration;\n      instance.setProps({\n        duration: duration\n      });\n      instance.hide();\n\n      if (!instance.state.isDestroyed) {\n        instance.setProps({\n          duration: originalDuration\n        });\n      }\n    }\n  });\n};\n\n// every time the popper is destroyed (i.e. a new target), removing the styles\n// and causing transitions to break for singletons when the console is open, but\n// most notably for non-transform styles being used, `gpuAcceleration: false`.\n\nvar applyStylesModifier = Object.assign({}, _popperjs_core__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n  effect: function effect(_ref) {\n    var state = _ref.state;\n    var initialStyles = {\n      popper: {\n        position: state.options.strategy,\n        left: '0',\n        top: '0',\n        margin: '0'\n      },\n      arrow: {\n        position: 'absolute'\n      },\n      reference: {}\n    };\n    Object.assign(state.elements.popper.style, initialStyles.popper);\n    state.styles = initialStyles;\n\n    if (state.elements.arrow) {\n      Object.assign(state.elements.arrow.style, initialStyles.arrow);\n    } // intentionally return no cleanup function\n    // return () => { ... }\n\n  }\n});\n\nvar createSingleton = function createSingleton(tippyInstances, optionalProps) {\n  var _optionalProps$popper;\n\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  /* istanbul ignore else */\n  if (true) {\n    errorWhen(!Array.isArray(tippyInstances), ['The first argument passed to createSingleton() must be an array of', 'tippy instances. The passed value was', String(tippyInstances)].join(' '));\n  }\n\n  var individualInstances = tippyInstances;\n  var references = [];\n  var triggerTargets = [];\n  var currentTarget;\n  var overrides = optionalProps.overrides;\n  var interceptSetPropsCleanups = [];\n  var shownOnCreate = false;\n\n  function setTriggerTargets() {\n    triggerTargets = individualInstances.map(function (instance) {\n      return normalizeToArray(instance.props.triggerTarget || instance.reference);\n    }).reduce(function (acc, item) {\n      return acc.concat(item);\n    }, []);\n  }\n\n  function setReferences() {\n    references = individualInstances.map(function (instance) {\n      return instance.reference;\n    });\n  }\n\n  function enableInstances(isEnabled) {\n    individualInstances.forEach(function (instance) {\n      if (isEnabled) {\n        instance.enable();\n      } else {\n        instance.disable();\n      }\n    });\n  }\n\n  function interceptSetProps(singleton) {\n    return individualInstances.map(function (instance) {\n      var originalSetProps = instance.setProps;\n\n      instance.setProps = function (props) {\n        originalSetProps(props);\n\n        if (instance.reference === currentTarget) {\n          singleton.setProps(props);\n        }\n      };\n\n      return function () {\n        instance.setProps = originalSetProps;\n      };\n    });\n  } // have to pass singleton, as it maybe undefined on first call\n\n\n  function prepareInstance(singleton, target) {\n    var index = triggerTargets.indexOf(target); // bail-out\n\n    if (target === currentTarget) {\n      return;\n    }\n\n    currentTarget = target;\n    var overrideProps = (overrides || []).concat('content').reduce(function (acc, prop) {\n      acc[prop] = individualInstances[index].props[prop];\n      return acc;\n    }, {});\n    singleton.setProps(Object.assign({}, overrideProps, {\n      getReferenceClientRect: typeof overrideProps.getReferenceClientRect === 'function' ? overrideProps.getReferenceClientRect : function () {\n        var _references$index;\n\n        return (_references$index = references[index]) == null ? void 0 : _references$index.getBoundingClientRect();\n      }\n    }));\n  }\n\n  enableInstances(false);\n  setReferences();\n  setTriggerTargets();\n  var plugin = {\n    fn: function fn() {\n      return {\n        onDestroy: function onDestroy() {\n          enableInstances(true);\n        },\n        onHidden: function onHidden() {\n          currentTarget = null;\n        },\n        onClickOutside: function onClickOutside(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            currentTarget = null;\n          }\n        },\n        onShow: function onShow(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            prepareInstance(instance, references[0]);\n          }\n        },\n        onTrigger: function onTrigger(instance, event) {\n          prepareInstance(instance, event.currentTarget);\n        }\n      };\n    }\n  };\n  var singleton = tippy(div(), Object.assign({}, removeProperties(optionalProps, ['overrides']), {\n    plugins: [plugin].concat(optionalProps.plugins || []),\n    triggerTarget: triggerTargets,\n    popperOptions: Object.assign({}, optionalProps.popperOptions, {\n      modifiers: [].concat(((_optionalProps$popper = optionalProps.popperOptions) == null ? void 0 : _optionalProps$popper.modifiers) || [], [applyStylesModifier])\n    })\n  }));\n  var originalShow = singleton.show;\n\n  singleton.show = function (target) {\n    originalShow(); // first time, showOnCreate or programmatic call with no params\n    // default to showing first instance\n\n    if (!currentTarget && target == null) {\n      return prepareInstance(singleton, references[0]);\n    } // triggered from event (do nothing as prepareInstance already called by onTrigger)\n    // programmatic call with no params when already visible (do nothing again)\n\n\n    if (currentTarget && target == null) {\n      return;\n    } // target is index of instance\n\n\n    if (typeof target === 'number') {\n      return references[target] && prepareInstance(singleton, references[target]);\n    } // target is a child tippy instance\n\n\n    if (individualInstances.indexOf(target) >= 0) {\n      var ref = target.reference;\n      return prepareInstance(singleton, ref);\n    } // target is a ReferenceElement\n\n\n    if (references.indexOf(target) >= 0) {\n      return prepareInstance(singleton, target);\n    }\n  };\n\n  singleton.showNext = function () {\n    var first = references[0];\n\n    if (!currentTarget) {\n      return singleton.show(0);\n    }\n\n    var index = references.indexOf(currentTarget);\n    singleton.show(references[index + 1] || first);\n  };\n\n  singleton.showPrevious = function () {\n    var last = references[references.length - 1];\n\n    if (!currentTarget) {\n      return singleton.show(last);\n    }\n\n    var index = references.indexOf(currentTarget);\n    var target = references[index - 1] || last;\n    singleton.show(target);\n  };\n\n  var originalSetProps = singleton.setProps;\n\n  singleton.setProps = function (props) {\n    overrides = props.overrides || overrides;\n    originalSetProps(props);\n  };\n\n  singleton.setInstances = function (nextInstances) {\n    enableInstances(true);\n    interceptSetPropsCleanups.forEach(function (fn) {\n      return fn();\n    });\n    individualInstances = nextInstances;\n    enableInstances(false);\n    setReferences();\n    setTriggerTargets();\n    interceptSetPropsCleanups = interceptSetProps(singleton);\n    singleton.setProps({\n      triggerTarget: triggerTargets\n    });\n  };\n\n  interceptSetPropsCleanups = interceptSetProps(singleton);\n  return singleton;\n};\n\nvar BUBBLING_EVENTS_MAP = {\n  mouseover: 'mouseenter',\n  focusin: 'focus',\n  click: 'click'\n};\n/**\n * Creates a delegate instance that controls the creation of tippy instances\n * for child elements (`target` CSS selector).\n */\n\nfunction delegate(targets, props) {\n  /* istanbul ignore else */\n  if (true) {\n    errorWhen(!(props && props.target), ['You must specity a `target` prop indicating a CSS selector string matching', 'the target elements that should receive a tippy.'].join(' '));\n  }\n\n  var listeners = [];\n  var childTippyInstances = [];\n  var disabled = false;\n  var target = props.target;\n  var nativeProps = removeProperties(props, ['target']);\n  var parentProps = Object.assign({}, nativeProps, {\n    trigger: 'manual',\n    touch: false\n  });\n  var childProps = Object.assign({\n    touch: defaultProps.touch\n  }, nativeProps, {\n    showOnCreate: true\n  });\n  var returnValue = tippy(targets, parentProps);\n  var normalizedReturnValue = normalizeToArray(returnValue);\n\n  function onTrigger(event) {\n    if (!event.target || disabled) {\n      return;\n    }\n\n    var targetNode = event.target.closest(target);\n\n    if (!targetNode) {\n      return;\n    } // Get relevant trigger with fallbacks:\n    // 1. Check `data-tippy-trigger` attribute on target node\n    // 2. Fallback to `trigger` passed to `delegate()`\n    // 3. Fallback to `defaultProps.trigger`\n\n\n    var trigger = targetNode.getAttribute('data-tippy-trigger') || props.trigger || defaultProps.trigger; // @ts-ignore\n\n    if (targetNode._tippy) {\n      return;\n    }\n\n    if (event.type === 'touchstart' && typeof childProps.touch === 'boolean') {\n      return;\n    }\n\n    if (event.type !== 'touchstart' && trigger.indexOf(BUBBLING_EVENTS_MAP[event.type]) < 0) {\n      return;\n    }\n\n    var instance = tippy(targetNode, childProps);\n\n    if (instance) {\n      childTippyInstances = childTippyInstances.concat(instance);\n    }\n  }\n\n  function on(node, eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    node.addEventListener(eventType, handler, options);\n    listeners.push({\n      node: node,\n      eventType: eventType,\n      handler: handler,\n      options: options\n    });\n  }\n\n  function addEventListeners(instance) {\n    var reference = instance.reference;\n    on(reference, 'touchstart', onTrigger, TOUCH_OPTIONS);\n    on(reference, 'mouseover', onTrigger);\n    on(reference, 'focusin', onTrigger);\n    on(reference, 'click', onTrigger);\n  }\n\n  function removeEventListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function applyMutations(instance) {\n    var originalDestroy = instance.destroy;\n    var originalEnable = instance.enable;\n    var originalDisable = instance.disable;\n\n    instance.destroy = function (shouldDestroyChildInstances) {\n      if (shouldDestroyChildInstances === void 0) {\n        shouldDestroyChildInstances = true;\n      }\n\n      if (shouldDestroyChildInstances) {\n        childTippyInstances.forEach(function (instance) {\n          instance.destroy();\n        });\n      }\n\n      childTippyInstances = [];\n      removeEventListeners();\n      originalDestroy();\n    };\n\n    instance.enable = function () {\n      originalEnable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.enable();\n      });\n      disabled = false;\n    };\n\n    instance.disable = function () {\n      originalDisable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.disable();\n      });\n      disabled = true;\n    };\n\n    addEventListeners(instance);\n  }\n\n  normalizedReturnValue.forEach(applyMutations);\n  return returnValue;\n}\n\nvar animateFill = {\n  name: 'animateFill',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    if (!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy)) {\n      if (true) {\n        errorWhen(instance.props.animateFill, 'The `animateFill` plugin requires the default render function.');\n      }\n\n      return {};\n    }\n\n    var _getChildren = getChildren(instance.popper),\n        box = _getChildren.box,\n        content = _getChildren.content;\n\n    var backdrop = instance.props.animateFill ? createBackdropElement() : null;\n    return {\n      onCreate: function onCreate() {\n        if (backdrop) {\n          box.insertBefore(backdrop, box.firstElementChild);\n          box.setAttribute('data-animatefill', '');\n          box.style.overflow = 'hidden';\n          instance.setProps({\n            arrow: false,\n            animation: 'shift-away'\n          });\n        }\n      },\n      onMount: function onMount() {\n        if (backdrop) {\n          var transitionDuration = box.style.transitionDuration;\n          var duration = Number(transitionDuration.replace('ms', '')); // The content should fade in after the backdrop has mostly filled the\n          // tooltip element. `clip-path` is the other alternative but is not\n          // well-supported and is buggy on some devices.\n\n          content.style.transitionDelay = Math.round(duration / 10) + \"ms\";\n          backdrop.style.transitionDuration = transitionDuration;\n          setVisibilityState([backdrop], 'visible');\n        }\n      },\n      onShow: function onShow() {\n        if (backdrop) {\n          backdrop.style.transitionDuration = '0ms';\n        }\n      },\n      onHide: function onHide() {\n        if (backdrop) {\n          setVisibilityState([backdrop], 'hidden');\n        }\n      }\n    };\n  }\n};\n\nfunction createBackdropElement() {\n  var backdrop = div();\n  backdrop.className = BACKDROP_CLASS;\n  setVisibilityState([backdrop], 'hidden');\n  return backdrop;\n}\n\nvar mouseCoords = {\n  clientX: 0,\n  clientY: 0\n};\nvar activeInstances = [];\n\nfunction storeMouseCoords(_ref) {\n  var clientX = _ref.clientX,\n      clientY = _ref.clientY;\n  mouseCoords = {\n    clientX: clientX,\n    clientY: clientY\n  };\n}\n\nfunction addMouseCoordsListener(doc) {\n  doc.addEventListener('mousemove', storeMouseCoords);\n}\n\nfunction removeMouseCoordsListener(doc) {\n  doc.removeEventListener('mousemove', storeMouseCoords);\n}\n\nvar followCursor = {\n  name: 'followCursor',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n    var doc = getOwnerDocument(instance.props.triggerTarget || reference);\n    var isInternalUpdate = false;\n    var wasFocusEvent = false;\n    var isUnmounted = true;\n    var prevProps = instance.props;\n\n    function getIsInitialBehavior() {\n      return instance.props.followCursor === 'initial' && instance.state.isVisible;\n    }\n\n    function addListener() {\n      doc.addEventListener('mousemove', onMouseMove);\n    }\n\n    function removeListener() {\n      doc.removeEventListener('mousemove', onMouseMove);\n    }\n\n    function unsetGetReferenceClientRect() {\n      isInternalUpdate = true;\n      instance.setProps({\n        getReferenceClientRect: null\n      });\n      isInternalUpdate = false;\n    }\n\n    function onMouseMove(event) {\n      // If the instance is interactive, avoid updating the position unless it's\n      // over the reference element\n      var isCursorOverReference = event.target ? reference.contains(event.target) : true;\n      var followCursor = instance.props.followCursor;\n      var clientX = event.clientX,\n          clientY = event.clientY;\n      var rect = reference.getBoundingClientRect();\n      var relativeX = clientX - rect.left;\n      var relativeY = clientY - rect.top;\n\n      if (isCursorOverReference || !instance.props.interactive) {\n        instance.setProps({\n          // @ts-ignore - unneeded DOMRect properties\n          getReferenceClientRect: function getReferenceClientRect() {\n            var rect = reference.getBoundingClientRect();\n            var x = clientX;\n            var y = clientY;\n\n            if (followCursor === 'initial') {\n              x = rect.left + relativeX;\n              y = rect.top + relativeY;\n            }\n\n            var top = followCursor === 'horizontal' ? rect.top : y;\n            var right = followCursor === 'vertical' ? rect.right : x;\n            var bottom = followCursor === 'horizontal' ? rect.bottom : y;\n            var left = followCursor === 'vertical' ? rect.left : x;\n            return {\n              width: right - left,\n              height: bottom - top,\n              top: top,\n              right: right,\n              bottom: bottom,\n              left: left\n            };\n          }\n        });\n      }\n    }\n\n    function create() {\n      if (instance.props.followCursor) {\n        activeInstances.push({\n          instance: instance,\n          doc: doc\n        });\n        addMouseCoordsListener(doc);\n      }\n    }\n\n    function destroy() {\n      activeInstances = activeInstances.filter(function (data) {\n        return data.instance !== instance;\n      });\n\n      if (activeInstances.filter(function (data) {\n        return data.doc === doc;\n      }).length === 0) {\n        removeMouseCoordsListener(doc);\n      }\n    }\n\n    return {\n      onCreate: create,\n      onDestroy: destroy,\n      onBeforeUpdate: function onBeforeUpdate() {\n        prevProps = instance.props;\n      },\n      onAfterUpdate: function onAfterUpdate(_, _ref2) {\n        var followCursor = _ref2.followCursor;\n\n        if (isInternalUpdate) {\n          return;\n        }\n\n        if (followCursor !== undefined && prevProps.followCursor !== followCursor) {\n          destroy();\n\n          if (followCursor) {\n            create();\n\n            if (instance.state.isMounted && !wasFocusEvent && !getIsInitialBehavior()) {\n              addListener();\n            }\n          } else {\n            removeListener();\n            unsetGetReferenceClientRect();\n          }\n        }\n      },\n      onMount: function onMount() {\n        if (instance.props.followCursor && !wasFocusEvent) {\n          if (isUnmounted) {\n            onMouseMove(mouseCoords);\n            isUnmounted = false;\n          }\n\n          if (!getIsInitialBehavior()) {\n            addListener();\n          }\n        }\n      },\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          mouseCoords = {\n            clientX: event.clientX,\n            clientY: event.clientY\n          };\n        }\n\n        wasFocusEvent = event.type === 'focus';\n      },\n      onHidden: function onHidden() {\n        if (instance.props.followCursor) {\n          unsetGetReferenceClientRect();\n          removeListener();\n          isUnmounted = true;\n        }\n      }\n    };\n  }\n};\n\nfunction getProps(props, modifier) {\n  var _props$popperOptions;\n\n  return {\n    popperOptions: Object.assign({}, props.popperOptions, {\n      modifiers: [].concat((((_props$popperOptions = props.popperOptions) == null ? void 0 : _props$popperOptions.modifiers) || []).filter(function (_ref) {\n        var name = _ref.name;\n        return name !== modifier.name;\n      }), [modifier])\n    })\n  };\n}\n\nvar inlinePositioning = {\n  name: 'inlinePositioning',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n\n    function isEnabled() {\n      return !!instance.props.inlinePositioning;\n    }\n\n    var placement;\n    var cursorRectIndex = -1;\n    var isInternalUpdate = false;\n    var triedPlacements = [];\n    var modifier = {\n      name: 'tippyInlinePositioning',\n      enabled: true,\n      phase: 'afterWrite',\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (isEnabled()) {\n          if (triedPlacements.indexOf(state.placement) !== -1) {\n            triedPlacements = [];\n          }\n\n          if (placement !== state.placement && triedPlacements.indexOf(state.placement) === -1) {\n            triedPlacements.push(state.placement);\n            instance.setProps({\n              // @ts-ignore - unneeded DOMRect properties\n              getReferenceClientRect: function getReferenceClientRect() {\n                return _getReferenceClientRect(state.placement);\n              }\n            });\n          }\n\n          placement = state.placement;\n        }\n      }\n    };\n\n    function _getReferenceClientRect(placement) {\n      return getInlineBoundingClientRect(getBasePlacement(placement), reference.getBoundingClientRect(), arrayFrom(reference.getClientRects()), cursorRectIndex);\n    }\n\n    function setInternalProps(partialProps) {\n      isInternalUpdate = true;\n      instance.setProps(partialProps);\n      isInternalUpdate = false;\n    }\n\n    function addModifier() {\n      if (!isInternalUpdate) {\n        setInternalProps(getProps(instance.props, modifier));\n      }\n    }\n\n    return {\n      onCreate: addModifier,\n      onAfterUpdate: addModifier,\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          var rects = arrayFrom(instance.reference.getClientRects());\n          var cursorRect = rects.find(function (rect) {\n            return rect.left - 2 <= event.clientX && rect.right + 2 >= event.clientX && rect.top - 2 <= event.clientY && rect.bottom + 2 >= event.clientY;\n          });\n          var index = rects.indexOf(cursorRect);\n          cursorRectIndex = index > -1 ? index : cursorRectIndex;\n        }\n      },\n      onHidden: function onHidden() {\n        cursorRectIndex = -1;\n      }\n    };\n  }\n};\nfunction getInlineBoundingClientRect(currentBasePlacement, boundingRect, clientRects, cursorRectIndex) {\n  // Not an inline element, or placement is not yet known\n  if (clientRects.length < 2 || currentBasePlacement === null) {\n    return boundingRect;\n  } // There are two rects and they are disjoined\n\n\n  if (clientRects.length === 2 && cursorRectIndex >= 0 && clientRects[0].left > clientRects[1].right) {\n    return clientRects[cursorRectIndex] || boundingRect;\n  }\n\n  switch (currentBasePlacement) {\n    case 'top':\n    case 'bottom':\n      {\n        var firstRect = clientRects[0];\n        var lastRect = clientRects[clientRects.length - 1];\n        var isTop = currentBasePlacement === 'top';\n        var top = firstRect.top;\n        var bottom = lastRect.bottom;\n        var left = isTop ? firstRect.left : lastRect.left;\n        var right = isTop ? firstRect.right : lastRect.right;\n        var width = right - left;\n        var height = bottom - top;\n        return {\n          top: top,\n          bottom: bottom,\n          left: left,\n          right: right,\n          width: width,\n          height: height\n        };\n      }\n\n    case 'left':\n    case 'right':\n      {\n        var minLeft = Math.min.apply(Math, clientRects.map(function (rects) {\n          return rects.left;\n        }));\n        var maxRight = Math.max.apply(Math, clientRects.map(function (rects) {\n          return rects.right;\n        }));\n        var measureRects = clientRects.filter(function (rect) {\n          return currentBasePlacement === 'left' ? rect.left === minLeft : rect.right === maxRight;\n        });\n        var _top = measureRects[0].top;\n        var _bottom = measureRects[measureRects.length - 1].bottom;\n        var _left = minLeft;\n        var _right = maxRight;\n\n        var _width = _right - _left;\n\n        var _height = _bottom - _top;\n\n        return {\n          top: _top,\n          bottom: _bottom,\n          left: _left,\n          right: _right,\n          width: _width,\n          height: _height\n        };\n      }\n\n    default:\n      {\n        return boundingRect;\n      }\n  }\n}\n\nvar sticky = {\n  name: 'sticky',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference,\n        popper = instance.popper;\n\n    function getReference() {\n      return instance.popperInstance ? instance.popperInstance.state.elements.reference : reference;\n    }\n\n    function shouldCheck(value) {\n      return instance.props.sticky === true || instance.props.sticky === value;\n    }\n\n    var prevRefRect = null;\n    var prevPopRect = null;\n\n    function updatePosition() {\n      var currentRefRect = shouldCheck('reference') ? getReference().getBoundingClientRect() : null;\n      var currentPopRect = shouldCheck('popper') ? popper.getBoundingClientRect() : null;\n\n      if (currentRefRect && areRectsDifferent(prevRefRect, currentRefRect) || currentPopRect && areRectsDifferent(prevPopRect, currentPopRect)) {\n        if (instance.popperInstance) {\n          instance.popperInstance.update();\n        }\n      }\n\n      prevRefRect = currentRefRect;\n      prevPopRect = currentPopRect;\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition);\n      }\n    }\n\n    return {\n      onMount: function onMount() {\n        if (instance.props.sticky) {\n          updatePosition();\n        }\n      }\n    };\n  }\n};\n\nfunction areRectsDifferent(rectA, rectB) {\n  if (rectA && rectB) {\n    return rectA.top !== rectB.top || rectA.right !== rectB.right || rectA.bottom !== rectB.bottom || rectA.left !== rectB.left;\n  }\n\n  return true;\n}\n\ntippy.setDefaultProps({\n  render: render\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (tippy);\n\n//# sourceMappingURL=tippy.esm.js.map\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n!function() {\n/*!*************************!*\\\n  !*** ./src/js/entry.js ***!\n  \\*************************/\n/*!*\n * ВНИМАНИЕ! Этот файл генерируется автоматически.\n * Любые изменения этого файла будут потеряны при следующей компиляции.\n * Любое изменение проекта без возможности компиляции ДОЛЬШЕ И ДОРОЖЕ в 2-5 раз.\n */\n\n/* global require */\n\n__webpack_require__(/*! ../blocks/form-pay/form-pay.js */ \"./src/blocks/form-pay/form-pay.js\");\n__webpack_require__(/*! ../blocks/input/input.js */ \"./src/blocks/input/input.js\");\n__webpack_require__(/*! ../blocks/tabs/tabs.js */ \"./src/blocks/tabs/tabs.js\");\n__webpack_require__(/*! ./script.js */ \"./src/js/script.js\");\n\n/*!*\n * ВНИМАНИЕ! Этот файл генерируется автоматически.\n * Любые изменения этого файла будут потеряны при следующей компиляции.\n * Любое изменение проекта без возможности компиляции ДОЛЬШЕ И ДОРОЖЕ в 2-5 раз.\n */\n}();\n/******/ })()\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LHVGQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixrQkFBa0I7QUFDL0MsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QXFCO0FBQzVDO0FBQ0E7QUFDQSx3QkFBd0IsK0RBQWE7QUFDckMscUJBQXFCLDBDQUEwQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLGNBQWMsd0VBQTZCO0FBQzNDO0FBQ0E7QUFDQSx1RUFBdUUsd0VBQXFCO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFd0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsS1E7QUFDVjtBQUNSOztBQUU5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHLElBQUk7QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0M7OztBQUd0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FB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QSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsd0VBQXdFO0FBQzFFOztBQUVBOztBQUVBO0FBQ0EsNkJBQTZCOztBQUU3QjtBQUNBO0FBQ0EsdURBQXVELDZFQUE2RTtBQUNwSTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQSxRQUFRLElBQXFDO0FBQzdDO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsbUJBQW1CO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNGQUFzRjs7QUFFdEY7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLEdBQUc7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07OztBQUdOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSw4QkFBOEIsNERBQVksNENBQTRDO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFFBQVEsSUFBcUM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUSxJQUFxQztBQUM3QztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxRQUFRLElBQXFDO0FBQzdDO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxrQ0FBa0M7O0FBRWxDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVEsSUFBcUM7QUFDN0M7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNO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Q0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSxJQUFxQztBQUMzQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7OztBQUdBLDBHQUEwRzs7QUFFMUc7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLElBQXFDO0FBQy9DO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFO0FBQ3ZFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVELCtEQUFlLEtBQUssRUFBQztBQUMwRztBQUMvSDs7Ozs7OztVQ3I3RUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTs7VUFFQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTs7Ozs7V0N0QkE7V0FDQTtXQUNBO1dBQ0EsZUFBZSw0QkFBNEI7V0FDM0MsZUFBZTtXQUNmLGlDQUFpQyxXQUFXO1dBQzVDO1dBQ0E7Ozs7O1dDUEE7V0FDQTtXQUNBO1dBQ0E7V0FDQSx5Q0FBeUMsd0NBQXdDO1dBQ2pGO1dBQ0E7V0FDQTs7Ozs7V0NQQSw4Q0FBOEM7Ozs7O1dDQTlDO1dBQ0E7V0FDQTtXQUNBLHVEQUF1RCxpQkFBaUI7V0FDeEU7V0FDQSxnREFBZ0QsYUFBYTtXQUM3RDs7Ozs7Ozs7OztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE4RixtQkFBTyxDQUFDLHlFQUFnQyxDQUFDO0FBQ3pDQSxtQkFBTyxDQUFDLDZEQUEwQixDQUFDO0FBQ25DQSxtQkFBTyxDQUFDLHlEQUF3QixDQUFDO0FBQ2pDQSxtQkFBTyxDQUFDLHVDQUFhLENBQUM7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2Rpc3QvaXMtYW5kcm9pZC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQGJyYWludHJlZS9icm93c2VyLWRldGVjdGlvbi9kaXN0L2lzLWNocm9tZS1vcy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQGJyYWludHJlZS9icm93c2VyLWRldGVjdGlvbi9kaXN0L2lzLWNocm9tZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQGJyYWludHJlZS9icm93c2VyLWRldGVjdGlvbi9kaXN0L2lzLWR1Y2tkdWNrZ28uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0BicmFpbnRyZWUvYnJvd3Nlci1kZXRlY3Rpb24vZGlzdC9pcy1lZGdlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2Rpc3QvaXMtaWU5LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2Rpc3QvaXMtaW9zLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2Rpc3QvaXMtaXBhZG9zLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2Rpc3QvaXMtb3BlcmEuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0BicmFpbnRyZWUvYnJvd3Nlci1kZXRlY3Rpb24vZGlzdC9pcy1zYW1zdW5nLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2Rpc3QvaXMtc2lsay5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQGJyYWludHJlZS9icm93c2VyLWRldGVjdGlvbi9pcy1hbmRyb2lkLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2lzLWNocm9tZS1vcy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQGJyYWludHJlZS9icm93c2VyLWRldGVjdGlvbi9pcy1jaHJvbWUuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0BicmFpbnRyZWUvYnJvd3Nlci1kZXRlY3Rpb24vaXMtaWU5LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2lzLWlvcy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2NyZWF0ZVBvcHBlci5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9jb250YWlucy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Q2xpcHBpbmdSZWN0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldENvbXBvc2l0ZVJlY3QuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Q29tcHV0ZWRTdHlsZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXREb2N1bWVudEVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0RG9jdW1lbnRSZWN0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldEhUTUxFbGVtZW50U2Nyb2xsLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldExheW91dFJlY3QuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Tm9kZU5hbWUuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Tm9kZVNjcm9sbC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRPZmZzZXRQYXJlbnQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0UGFyZW50Tm9kZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRTY3JvbGxQYXJlbnQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Vmlld3BvcnRSZWN0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldFdpbmRvdy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRXaW5kb3dTY3JvbGwuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0V2luZG93U2Nyb2xsQmFyWC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2lzTGF5b3V0Vmlld3BvcnQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvaXNTY3JvbGxQYXJlbnQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvaXNUYWJsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvbGlzdFNjcm9sbFBhcmVudHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9lbnVtcy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9hcHBseVN0eWxlcy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9hcnJvdy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9jb21wdXRlU3R5bGVzLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2V2ZW50TGlzdGVuZXJzLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2ZsaXAuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvaGlkZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9vZmZzZXQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvcG9wcGVyT2Zmc2V0cy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9wcmV2ZW50T3ZlcmZsb3cuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9wb3BwZXItbGl0ZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3BvcHBlci5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2NvbXB1dGVBdXRvUGxhY2VtZW50LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvY29tcHV0ZU9mZnNldHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9kZWJvdW5jZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2RldGVjdE92ZXJmbG93LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZXhwYW5kVG9IYXNoTWFwLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0QWx0QXhpcy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2dldEJhc2VQbGFjZW1lbnQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRGcmVzaFNpZGVPYmplY3QuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRPcHBvc2l0ZVBsYWNlbWVudC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2dldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0VmFyaWF0aW9uLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvbWF0aC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL21lcmdlQnlOYW1lLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvbWVyZ2VQYWRkaW5nT2JqZWN0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvb3JkZXJNb2RpZmllcnMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9yZWN0VG9DbGllbnRSZWN0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvdXNlckFnZW50LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvd2l0aGluLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL3NyYy9ibG9ja3MvZm9ybS1wYXkvZm9ybS1wYXkuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2Jsb2Nrcy9pbnB1dC9pbnB1dC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvYmxvY2tzL3RhYnMvdGFicy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvanMvY29tbW9uL3BvcHVwLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL3NyYy9qcy9zY3JpcHQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2pzL3V0aWxzL2RvY3VtZW50UmVhZHkuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2NyZWRpdC1jYXJkLWlucHV0LW1hc2svZGlzdC9saWIvZGV2aWNlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9jcmVkaXQtY2FyZC1pbnB1dC1tYXNrL2Rpc3QvbGliL2Zvcm1hdHRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvY3JlZGl0LWNhcmQtaW5wdXQtbWFzay9kaXN0L2xpYi9mb3JtYXR0ZXIvcGFyc2UtcGF0dGVybi5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvY3JlZGl0LWNhcmQtaW5wdXQtbWFzay9kaXN0L2xpYi9pbnB1dC1zZWxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2NyZWRpdC1jYXJkLWlucHV0LW1hc2svZGlzdC9saWIvaXMtYmFja3NwYWNlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9jcmVkaXQtY2FyZC1pbnB1dC1tYXNrL2Rpc3QvbGliL2lzLWRlbGV0ZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvY3JlZGl0LWNhcmQtaW5wdXQtbWFzay9kaXN0L2xpYi9rZXktY2Fubm90LW11dGF0ZS12YWx1ZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvY3JlZGl0LWNhcmQtaW5wdXQtbWFzay9kaXN0L2xpYi9yZXN0cmljdGVkLWlucHV0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9jcmVkaXQtY2FyZC1pbnB1dC1tYXNrL2Rpc3QvbGliL3N0cmF0ZWdpZXMvYW5kcm9pZC1jaHJvbWUuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2NyZWRpdC1jYXJkLWlucHV0LW1hc2svZGlzdC9saWIvc3RyYXRlZ2llcy9iYXNlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9jcmVkaXQtY2FyZC1pbnB1dC1tYXNrL2Rpc3QvbGliL3N0cmF0ZWdpZXMvaWU5LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9jcmVkaXQtY2FyZC1pbnB1dC1tYXNrL2Rpc3QvbGliL3N0cmF0ZWdpZXMvaW9zLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9jcmVkaXQtY2FyZC1pbnB1dC1tYXNrL2Rpc3QvbGliL3N0cmF0ZWdpZXMva2l0a2F0LWNocm9taXVtLWJhc2VkLXdlYnZpZXcuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2NyZWRpdC1jYXJkLWlucHV0LW1hc2svZGlzdC9saWIvc3RyYXRlZ2llcy9ub29wLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9jcmVkaXQtY2FyZC1pbnB1dC1tYXNrL2Rpc3QvbGliL3N0cmF0ZWdpZXMvc3RyYXRlZ3ktaW50ZXJmYWNlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9jcmVkaXQtY2FyZC1pbnB1dC1tYXNrL2Rpc3QvbWFpbi5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvY3JlZGl0LWNhcmQtaW5wdXQtbWFzay9kaXN0L3N1cHBvcnRzLWlucHV0LWZvcm1hdHRpbmcuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLTZiM2JkNDA0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vY29udHJvbHMvaHRtbC1jb250ZW50ZWRpdGFibGUtbWFzay1lbGVtZW50LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vY29udHJvbHMvaHRtbC1tYXNrLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9jb250cm9scy9pbnB1dC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL2NvbnRyb2xzL21hc2stZWxlbWVudC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL2NvcmUvYWN0aW9uLWRldGFpbHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9jb3JlL2NoYW5nZS1kZXRhaWxzLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL2NvcmUvaG9sZGVyLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vY29yZS91dGlscy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL2luZGV4LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL2Jhc2UuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvZGF0ZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL21hc2tlZC9keW5hbWljLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL2VudW0uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL21hc2tlZC9mdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL21hc2tlZC9udW1iZXIuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvcGF0dGVybi5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL21hc2tlZC9wYXR0ZXJuL2NodW5rLXRhaWwtZGV0YWlscy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL21hc2tlZC9wYXR0ZXJuL2N1cnNvci5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL21hc2tlZC9wYXR0ZXJuL2ZpeGVkLWRlZmluaXRpb24uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvcGF0dGVybi9pbnB1dC1kZWZpbml0aW9uLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL3BpcGUuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvcmFuZ2UuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvcmVnZXhwLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy90aXBweS5qcy9kaXN0L3RpcHB5LmVzbS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2pzL2VudHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0FuZHJvaWQodWEpIHtcbiAgICB1YSA9IHVhIHx8IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIHJldHVybiAvQW5kcm9pZC9pLnRlc3QodWEpO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Nocm9tZU9TKHVhKSB7XG4gICAgdWEgPSB1YSB8fCB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICByZXR1cm4gL0NyT1MvaS50ZXN0KHVhKTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBpc0VkZ2UgPSByZXF1aXJlKFwiLi9pcy1lZGdlXCIpO1xudmFyIGlzU2Ftc3VuZyA9IHJlcXVpcmUoXCIuL2lzLXNhbXN1bmdcIik7XG52YXIgaXNEdWNrRHVja0dvID0gcmVxdWlyZShcIi4vaXMtZHVja2R1Y2tnb1wiKTtcbnZhciBpc09wZXJhID0gcmVxdWlyZShcIi4vaXMtb3BlcmFcIik7XG52YXIgaXNTaWxrID0gcmVxdWlyZShcIi4vaXMtc2lsa1wiKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDaHJvbWUodWEpIHtcbiAgICB1YSA9IHVhIHx8IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIHJldHVybiAoKHVhLmluZGV4T2YoXCJDaHJvbWVcIikgIT09IC0xIHx8IHVhLmluZGV4T2YoXCJDcmlPU1wiKSAhPT0gLTEpICYmXG4gICAgICAgICFpc0VkZ2UodWEpICYmXG4gICAgICAgICFpc1NhbXN1bmcodWEpICYmXG4gICAgICAgICFpc0R1Y2tEdWNrR28odWEpICYmXG4gICAgICAgICFpc09wZXJhKHVhKSAmJlxuICAgICAgICAhaXNTaWxrKHVhKSk7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzRHVja0R1Y2tHbyh1YSkge1xuICAgIHVhID0gdWEgfHwgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgcmV0dXJuIHVhLmluZGV4T2YoXCJEdWNrRHVja0dvL1wiKSAhPT0gLTE7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzRWRnZSh1YSkge1xuICAgIHVhID0gdWEgfHwgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgcmV0dXJuIHVhLmluZGV4T2YoXCJFZGdlL1wiKSAhPT0gLTEgfHwgdWEuaW5kZXhPZihcIkVkZy9cIikgIT09IC0xO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0llOSh1YSkge1xuICAgIHVhID0gdWEgfHwgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgcmV0dXJuIHVhLmluZGV4T2YoXCJNU0lFIDlcIikgIT09IC0xO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIGlzSXBhZE9TID0gcmVxdWlyZShcIi4vaXMtaXBhZG9zXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0lvcyh1YSwgY2hlY2tJcGFkT1MsIGRvY3VtZW50KSB7XG4gICAgaWYgKGNoZWNrSXBhZE9TID09PSB2b2lkIDApIHsgY2hlY2tJcGFkT1MgPSB0cnVlOyB9XG4gICAgdWEgPSB1YSB8fCB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICB2YXIgaU9zVGVzdCA9IC9pUGhvbmV8aVBvZHxpUGFkL2kudGVzdCh1YSk7XG4gICAgcmV0dXJuIGNoZWNrSXBhZE9TID8gaU9zVGVzdCB8fCBpc0lwYWRPUyh1YSwgZG9jdW1lbnQpIDogaU9zVGVzdDtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNJcGFkT1ModWEsIGRvY3VtZW50KSB7XG4gICAgdWEgPSB1YSB8fCB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICBkb2N1bWVudCA9IGRvY3VtZW50IHx8IHdpbmRvdy5kb2N1bWVudDtcbiAgICAvLyBcIm9udG91Y2hlbmRcIiBpcyB1c2VkIHRvIGRldGVybWluZSBpZiBhIGJyb3dzZXIgaXMgb24gYW4gaVBhZCwgb3RoZXJ3aXNlXG4gICAgLy8gdXNlci1hZ2VudHMgZm9yIGlQYWRPUyBiZWhhdmUvaWRlbnRpZnkgYXMgYSBkZXNrdG9wIGJyb3dzZXJcbiAgICByZXR1cm4gL01hY3xpUGFkL2kudGVzdCh1YSkgJiYgXCJvbnRvdWNoZW5kXCIgaW4gZG9jdW1lbnQ7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzT3BlcmEodWEpIHtcbiAgICB1YSA9IHVhIHx8IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIHJldHVybiAodWEuaW5kZXhPZihcIk9QUi9cIikgIT09IC0xIHx8XG4gICAgICAgIHVhLmluZGV4T2YoXCJPcGVyYS9cIikgIT09IC0xIHx8XG4gICAgICAgIHVhLmluZGV4T2YoXCJPUFQvXCIpICE9PSAtMSk7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzU2Ftc3VuZ0Jyb3dzZXIodWEpIHtcbiAgICB1YSA9IHVhIHx8IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIHJldHVybiAvU2Ftc3VuZ0Jyb3dzZXIvaS50ZXN0KHVhKTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNTaWxrKHVhKSB7XG4gICAgdWEgPSB1YSB8fCB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICByZXR1cm4gdWEuaW5kZXhPZihcIlNpbGsvXCIpICE9PSAtMTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL2Rpc3QvaXMtYW5kcm9pZFwiKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vZGlzdC9pcy1jaHJvbWUtb3NcIik7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL2Rpc3QvaXMtY2hyb21lXCIpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9kaXN0L2lzLWllOVwiKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vZGlzdC9pcy1pb3NcIik7XG4iLCJpbXBvcnQgZ2V0Q29tcG9zaXRlUmVjdCBmcm9tIFwiLi9kb20tdXRpbHMvZ2V0Q29tcG9zaXRlUmVjdC5qc1wiO1xuaW1wb3J0IGdldExheW91dFJlY3QgZnJvbSBcIi4vZG9tLXV0aWxzL2dldExheW91dFJlY3QuanNcIjtcbmltcG9ydCBsaXN0U2Nyb2xsUGFyZW50cyBmcm9tIFwiLi9kb20tdXRpbHMvbGlzdFNjcm9sbFBhcmVudHMuanNcIjtcbmltcG9ydCBnZXRPZmZzZXRQYXJlbnQgZnJvbSBcIi4vZG9tLXV0aWxzL2dldE9mZnNldFBhcmVudC5qc1wiO1xuaW1wb3J0IG9yZGVyTW9kaWZpZXJzIGZyb20gXCIuL3V0aWxzL29yZGVyTW9kaWZpZXJzLmpzXCI7XG5pbXBvcnQgZGVib3VuY2UgZnJvbSBcIi4vdXRpbHMvZGVib3VuY2UuanNcIjtcbmltcG9ydCBtZXJnZUJ5TmFtZSBmcm9tIFwiLi91dGlscy9tZXJnZUJ5TmFtZS5qc1wiO1xuaW1wb3J0IGRldGVjdE92ZXJmbG93IGZyb20gXCIuL3V0aWxzL2RldGVjdE92ZXJmbG93LmpzXCI7XG5pbXBvcnQgeyBpc0VsZW1lbnQgfSBmcm9tIFwiLi9kb20tdXRpbHMvaW5zdGFuY2VPZi5qc1wiO1xudmFyIERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgcGxhY2VtZW50OiAnYm90dG9tJyxcbiAgbW9kaWZpZXJzOiBbXSxcbiAgc3RyYXRlZ3k6ICdhYnNvbHV0ZSdcbn07XG5cbmZ1bmN0aW9uIGFyZVZhbGlkRWxlbWVudHMoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gIWFyZ3Muc29tZShmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHJldHVybiAhKGVsZW1lbnQgJiYgdHlwZW9mIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ID09PSAnZnVuY3Rpb24nKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3BwZXJHZW5lcmF0b3IoZ2VuZXJhdG9yT3B0aW9ucykge1xuICBpZiAoZ2VuZXJhdG9yT3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgZ2VuZXJhdG9yT3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgdmFyIF9nZW5lcmF0b3JPcHRpb25zID0gZ2VuZXJhdG9yT3B0aW9ucyxcbiAgICAgIF9nZW5lcmF0b3JPcHRpb25zJGRlZiA9IF9nZW5lcmF0b3JPcHRpb25zLmRlZmF1bHRNb2RpZmllcnMsXG4gICAgICBkZWZhdWx0TW9kaWZpZXJzID0gX2dlbmVyYXRvck9wdGlvbnMkZGVmID09PSB2b2lkIDAgPyBbXSA6IF9nZW5lcmF0b3JPcHRpb25zJGRlZixcbiAgICAgIF9nZW5lcmF0b3JPcHRpb25zJGRlZjIgPSBfZ2VuZXJhdG9yT3B0aW9ucy5kZWZhdWx0T3B0aW9ucyxcbiAgICAgIGRlZmF1bHRPcHRpb25zID0gX2dlbmVyYXRvck9wdGlvbnMkZGVmMiA9PT0gdm9pZCAwID8gREVGQVVMVF9PUFRJT05TIDogX2dlbmVyYXRvck9wdGlvbnMkZGVmMjtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVBvcHBlcihyZWZlcmVuY2UsIHBvcHBlciwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSBkZWZhdWx0T3B0aW9ucztcbiAgICB9XG5cbiAgICB2YXIgc3RhdGUgPSB7XG4gICAgICBwbGFjZW1lbnQ6ICdib3R0b20nLFxuICAgICAgb3JkZXJlZE1vZGlmaWVyczogW10sXG4gICAgICBvcHRpb25zOiBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX09QVElPTlMsIGRlZmF1bHRPcHRpb25zKSxcbiAgICAgIG1vZGlmaWVyc0RhdGE6IHt9LFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgcmVmZXJlbmNlOiByZWZlcmVuY2UsXG4gICAgICAgIHBvcHBlcjogcG9wcGVyXG4gICAgICB9LFxuICAgICAgYXR0cmlidXRlczoge30sXG4gICAgICBzdHlsZXM6IHt9XG4gICAgfTtcbiAgICB2YXIgZWZmZWN0Q2xlYW51cEZucyA9IFtdO1xuICAgIHZhciBpc0Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgIHZhciBpbnN0YW5jZSA9IHtcbiAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgIHNldE9wdGlvbnM6IGZ1bmN0aW9uIHNldE9wdGlvbnMoc2V0T3B0aW9uc0FjdGlvbikge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBzZXRPcHRpb25zQWN0aW9uID09PSAnZnVuY3Rpb24nID8gc2V0T3B0aW9uc0FjdGlvbihzdGF0ZS5vcHRpb25zKSA6IHNldE9wdGlvbnNBY3Rpb247XG4gICAgICAgIGNsZWFudXBNb2RpZmllckVmZmVjdHMoKTtcbiAgICAgICAgc3RhdGUub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBzdGF0ZS5vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgc3RhdGUuc2Nyb2xsUGFyZW50cyA9IHtcbiAgICAgICAgICByZWZlcmVuY2U6IGlzRWxlbWVudChyZWZlcmVuY2UpID8gbGlzdFNjcm9sbFBhcmVudHMocmVmZXJlbmNlKSA6IHJlZmVyZW5jZS5jb250ZXh0RWxlbWVudCA/IGxpc3RTY3JvbGxQYXJlbnRzKHJlZmVyZW5jZS5jb250ZXh0RWxlbWVudCkgOiBbXSxcbiAgICAgICAgICBwb3BwZXI6IGxpc3RTY3JvbGxQYXJlbnRzKHBvcHBlcilcbiAgICAgICAgfTsgLy8gT3JkZXJzIHRoZSBtb2RpZmllcnMgYmFzZWQgb24gdGhlaXIgZGVwZW5kZW5jaWVzIGFuZCBgcGhhc2VgXG4gICAgICAgIC8vIHByb3BlcnRpZXNcblxuICAgICAgICB2YXIgb3JkZXJlZE1vZGlmaWVycyA9IG9yZGVyTW9kaWZpZXJzKG1lcmdlQnlOYW1lKFtdLmNvbmNhdChkZWZhdWx0TW9kaWZpZXJzLCBzdGF0ZS5vcHRpb25zLm1vZGlmaWVycykpKTsgLy8gU3RyaXAgb3V0IGRpc2FibGVkIG1vZGlmaWVyc1xuXG4gICAgICAgIHN0YXRlLm9yZGVyZWRNb2RpZmllcnMgPSBvcmRlcmVkTW9kaWZpZXJzLmZpbHRlcihmdW5jdGlvbiAobSkge1xuICAgICAgICAgIHJldHVybiBtLmVuYWJsZWQ7XG4gICAgICAgIH0pO1xuICAgICAgICBydW5Nb2RpZmllckVmZmVjdHMoKTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgICAgfSxcbiAgICAgIC8vIFN5bmMgdXBkYXRlIOKAkyBpdCB3aWxsIGFsd2F5cyBiZSBleGVjdXRlZCwgZXZlbiBpZiBub3QgbmVjZXNzYXJ5LiBUaGlzXG4gICAgICAvLyBpcyB1c2VmdWwgZm9yIGxvdyBmcmVxdWVuY3kgdXBkYXRlcyB3aGVyZSBzeW5jIGJlaGF2aW9yIHNpbXBsaWZpZXMgdGhlXG4gICAgICAvLyBsb2dpYy5cbiAgICAgIC8vIEZvciBoaWdoIGZyZXF1ZW5jeSB1cGRhdGVzIChlLmcuIGByZXNpemVgIGFuZCBgc2Nyb2xsYCBldmVudHMpLCBhbHdheXNcbiAgICAgIC8vIHByZWZlciB0aGUgYXN5bmMgUG9wcGVyI3VwZGF0ZSBtZXRob2RcbiAgICAgIGZvcmNlVXBkYXRlOiBmdW5jdGlvbiBmb3JjZVVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKGlzRGVzdHJveWVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9zdGF0ZSRlbGVtZW50cyA9IHN0YXRlLmVsZW1lbnRzLFxuICAgICAgICAgICAgcmVmZXJlbmNlID0gX3N0YXRlJGVsZW1lbnRzLnJlZmVyZW5jZSxcbiAgICAgICAgICAgIHBvcHBlciA9IF9zdGF0ZSRlbGVtZW50cy5wb3BwZXI7IC8vIERvbid0IHByb2NlZWQgaWYgYHJlZmVyZW5jZWAgb3IgYHBvcHBlcmAgYXJlIG5vdCB2YWxpZCBlbGVtZW50c1xuICAgICAgICAvLyBhbnltb3JlXG5cbiAgICAgICAgaWYgKCFhcmVWYWxpZEVsZW1lbnRzKHJlZmVyZW5jZSwgcG9wcGVyKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBTdG9yZSB0aGUgcmVmZXJlbmNlIGFuZCBwb3BwZXIgcmVjdHMgdG8gYmUgcmVhZCBieSBtb2RpZmllcnNcblxuXG4gICAgICAgIHN0YXRlLnJlY3RzID0ge1xuICAgICAgICAgIHJlZmVyZW5jZTogZ2V0Q29tcG9zaXRlUmVjdChyZWZlcmVuY2UsIGdldE9mZnNldFBhcmVudChwb3BwZXIpLCBzdGF0ZS5vcHRpb25zLnN0cmF0ZWd5ID09PSAnZml4ZWQnKSxcbiAgICAgICAgICBwb3BwZXI6IGdldExheW91dFJlY3QocG9wcGVyKVxuICAgICAgICB9OyAvLyBNb2RpZmllcnMgaGF2ZSB0aGUgYWJpbGl0eSB0byByZXNldCB0aGUgY3VycmVudCB1cGRhdGUgY3ljbGUuIFRoZVxuICAgICAgICAvLyBtb3N0IGNvbW1vbiB1c2UgY2FzZSBmb3IgdGhpcyBpcyB0aGUgYGZsaXBgIG1vZGlmaWVyIGNoYW5naW5nIHRoZVxuICAgICAgICAvLyBwbGFjZW1lbnQsIHdoaWNoIHRoZW4gbmVlZHMgdG8gcmUtcnVuIGFsbCB0aGUgbW9kaWZpZXJzLCBiZWNhdXNlIHRoZVxuICAgICAgICAvLyBsb2dpYyB3YXMgcHJldmlvdXNseSByYW4gZm9yIHRoZSBwcmV2aW91cyBwbGFjZW1lbnQgYW5kIGlzIHRoZXJlZm9yZVxuICAgICAgICAvLyBzdGFsZS9pbmNvcnJlY3RcblxuICAgICAgICBzdGF0ZS5yZXNldCA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5wbGFjZW1lbnQgPSBzdGF0ZS5vcHRpb25zLnBsYWNlbWVudDsgLy8gT24gZWFjaCB1cGRhdGUgY3ljbGUsIHRoZSBgbW9kaWZpZXJzRGF0YWAgcHJvcGVydHkgZm9yIGVhY2ggbW9kaWZpZXJcbiAgICAgICAgLy8gaXMgZmlsbGVkIHdpdGggdGhlIGluaXRpYWwgZGF0YSBzcGVjaWZpZWQgYnkgdGhlIG1vZGlmaWVyLiBUaGlzIG1lYW5zXG4gICAgICAgIC8vIGl0IGRvZXNuJ3QgcGVyc2lzdCBhbmQgaXMgZnJlc2ggb24gZWFjaCB1cGRhdGUuXG4gICAgICAgIC8vIFRvIGVuc3VyZSBwZXJzaXN0ZW50IGRhdGEsIHVzZSBgJHtuYW1lfSNwZXJzaXN0ZW50YFxuXG4gICAgICAgIHN0YXRlLm9yZGVyZWRNb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGUubW9kaWZpZXJzRGF0YVttb2RpZmllci5uYW1lXSA9IE9iamVjdC5hc3NpZ24oe30sIG1vZGlmaWVyLmRhdGEpO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgc3RhdGUub3JkZXJlZE1vZGlmaWVycy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICBpZiAoc3RhdGUucmVzZXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHN0YXRlLnJlc2V0ID0gZmFsc2U7XG4gICAgICAgICAgICBpbmRleCA9IC0xO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIF9zdGF0ZSRvcmRlcmVkTW9kaWZpZSA9IHN0YXRlLm9yZGVyZWRNb2RpZmllcnNbaW5kZXhdLFxuICAgICAgICAgICAgICBmbiA9IF9zdGF0ZSRvcmRlcmVkTW9kaWZpZS5mbixcbiAgICAgICAgICAgICAgX3N0YXRlJG9yZGVyZWRNb2RpZmllMiA9IF9zdGF0ZSRvcmRlcmVkTW9kaWZpZS5vcHRpb25zLFxuICAgICAgICAgICAgICBfb3B0aW9ucyA9IF9zdGF0ZSRvcmRlcmVkTW9kaWZpZTIgPT09IHZvaWQgMCA/IHt9IDogX3N0YXRlJG9yZGVyZWRNb2RpZmllMixcbiAgICAgICAgICAgICAgbmFtZSA9IF9zdGF0ZSRvcmRlcmVkTW9kaWZpZS5uYW1lO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3RhdGUgPSBmbih7XG4gICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgICAgICAgICAgb3B0aW9uczogX29wdGlvbnMsXG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgIGluc3RhbmNlOiBpbnN0YW5jZVxuICAgICAgICAgICAgfSkgfHwgc3RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gQXN5bmMgYW5kIG9wdGltaXN0aWNhbGx5IG9wdGltaXplZCB1cGRhdGUg4oCTIGl0IHdpbGwgbm90IGJlIGV4ZWN1dGVkIGlmXG4gICAgICAvLyBub3QgbmVjZXNzYXJ5IChkZWJvdW5jZWQgdG8gcnVuIGF0IG1vc3Qgb25jZS1wZXItdGljaylcbiAgICAgIHVwZGF0ZTogZGVib3VuY2UoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICBpbnN0YW5jZS5mb3JjZVVwZGF0ZSgpO1xuICAgICAgICAgIHJlc29sdmUoc3RhdGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pLFxuICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgY2xlYW51cE1vZGlmaWVyRWZmZWN0cygpO1xuICAgICAgICBpc0Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICghYXJlVmFsaWRFbGVtZW50cyhyZWZlcmVuY2UsIHBvcHBlcikpIHtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG5cbiAgICBpbnN0YW5jZS5zZXRPcHRpb25zKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBpZiAoIWlzRGVzdHJveWVkICYmIG9wdGlvbnMub25GaXJzdFVwZGF0ZSkge1xuICAgICAgICBvcHRpb25zLm9uRmlyc3RVcGRhdGUoc3RhdGUpO1xuICAgICAgfVxuICAgIH0pOyAvLyBNb2RpZmllcnMgaGF2ZSB0aGUgYWJpbGl0eSB0byBleGVjdXRlIGFyYml0cmFyeSBjb2RlIGJlZm9yZSB0aGUgZmlyc3RcbiAgICAvLyB1cGRhdGUgY3ljbGUgcnVucy4gVGhleSB3aWxsIGJlIGV4ZWN1dGVkIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSB1cGRhdGVcbiAgICAvLyBjeWNsZS4gVGhpcyBpcyB1c2VmdWwgd2hlbiBhIG1vZGlmaWVyIGFkZHMgc29tZSBwZXJzaXN0ZW50IGRhdGEgdGhhdFxuICAgIC8vIG90aGVyIG1vZGlmaWVycyBuZWVkIHRvIHVzZSwgYnV0IHRoZSBtb2RpZmllciBpcyBydW4gYWZ0ZXIgdGhlIGRlcGVuZGVudFxuICAgIC8vIG9uZS5cblxuICAgIGZ1bmN0aW9uIHJ1bk1vZGlmaWVyRWZmZWN0cygpIHtcbiAgICAgIHN0YXRlLm9yZGVyZWRNb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgICAgICAgIF9yZWYkb3B0aW9ucyA9IF9yZWYub3B0aW9ucyxcbiAgICAgICAgICAgIG9wdGlvbnMgPSBfcmVmJG9wdGlvbnMgPT09IHZvaWQgMCA/IHt9IDogX3JlZiRvcHRpb25zLFxuICAgICAgICAgICAgZWZmZWN0ID0gX3JlZi5lZmZlY3Q7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBlZmZlY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB2YXIgY2xlYW51cEZuID0gZWZmZWN0KHtcbiAgICAgICAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBpbnN0YW5jZTogaW5zdGFuY2UsXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB2YXIgbm9vcEZuID0gZnVuY3Rpb24gbm9vcEZuKCkge307XG5cbiAgICAgICAgICBlZmZlY3RDbGVhbnVwRm5zLnB1c2goY2xlYW51cEZuIHx8IG5vb3BGbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFudXBNb2RpZmllckVmZmVjdHMoKSB7XG4gICAgICBlZmZlY3RDbGVhbnVwRm5zLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgICAgfSk7XG4gICAgICBlZmZlY3RDbGVhbnVwRm5zID0gW107XG4gICAgfVxuXG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xufVxuZXhwb3J0IHZhciBjcmVhdGVQb3BwZXIgPSAvKiNfX1BVUkVfXyovcG9wcGVyR2VuZXJhdG9yKCk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IHsgZGV0ZWN0T3ZlcmZsb3cgfTsiLCJpbXBvcnQgeyBpc1NoYWRvd1Jvb3QgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb250YWlucyhwYXJlbnQsIGNoaWxkKSB7XG4gIHZhciByb290Tm9kZSA9IGNoaWxkLmdldFJvb3ROb2RlICYmIGNoaWxkLmdldFJvb3ROb2RlKCk7IC8vIEZpcnN0LCBhdHRlbXB0IHdpdGggZmFzdGVyIG5hdGl2ZSBtZXRob2RcblxuICBpZiAocGFyZW50LmNvbnRhaW5zKGNoaWxkKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIHRoZW4gZmFsbGJhY2sgdG8gY3VzdG9tIGltcGxlbWVudGF0aW9uIHdpdGggU2hhZG93IERPTSBzdXBwb3J0XG4gIGVsc2UgaWYgKHJvb3ROb2RlICYmIGlzU2hhZG93Um9vdChyb290Tm9kZSkpIHtcbiAgICAgIHZhciBuZXh0ID0gY2hpbGQ7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKG5leHQgJiYgcGFyZW50LmlzU2FtZU5vZGUobmV4dCkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ106IG5lZWQgYSBiZXR0ZXIgd2F5IHRvIGhhbmRsZSB0aGlzLi4uXG5cblxuICAgICAgICBuZXh0ID0gbmV4dC5wYXJlbnROb2RlIHx8IG5leHQuaG9zdDtcbiAgICAgIH0gd2hpbGUgKG5leHQpO1xuICAgIH0gLy8gR2l2ZSB1cCwgdGhlIHJlc3VsdCBpcyBmYWxzZVxuXG5cbiAgcmV0dXJuIGZhbHNlO1xufSIsImltcG9ydCB7IGlzRWxlbWVudCwgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCB7IHJvdW5kIH0gZnJvbSBcIi4uL3V0aWxzL21hdGguanNcIjtcbmltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgaXNMYXlvdXRWaWV3cG9ydCBmcm9tIFwiLi9pc0xheW91dFZpZXdwb3J0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgaW5jbHVkZVNjYWxlLCBpc0ZpeGVkU3RyYXRlZ3kpIHtcbiAgaWYgKGluY2x1ZGVTY2FsZSA9PT0gdm9pZCAwKSB7XG4gICAgaW5jbHVkZVNjYWxlID0gZmFsc2U7XG4gIH1cblxuICBpZiAoaXNGaXhlZFN0cmF0ZWd5ID09PSB2b2lkIDApIHtcbiAgICBpc0ZpeGVkU3RyYXRlZ3kgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBjbGllbnRSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHNjYWxlWCA9IDE7XG4gIHZhciBzY2FsZVkgPSAxO1xuXG4gIGlmIChpbmNsdWRlU2NhbGUgJiYgaXNIVE1MRWxlbWVudChlbGVtZW50KSkge1xuICAgIHNjYWxlWCA9IGVsZW1lbnQub2Zmc2V0V2lkdGggPiAwID8gcm91bmQoY2xpZW50UmVjdC53aWR0aCkgLyBlbGVtZW50Lm9mZnNldFdpZHRoIHx8IDEgOiAxO1xuICAgIHNjYWxlWSA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0ID4gMCA/IHJvdW5kKGNsaWVudFJlY3QuaGVpZ2h0KSAvIGVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8IDEgOiAxO1xuICB9XG5cbiAgdmFyIF9yZWYgPSBpc0VsZW1lbnQoZWxlbWVudCkgPyBnZXRXaW5kb3coZWxlbWVudCkgOiB3aW5kb3csXG4gICAgICB2aXN1YWxWaWV3cG9ydCA9IF9yZWYudmlzdWFsVmlld3BvcnQ7XG5cbiAgdmFyIGFkZFZpc3VhbE9mZnNldHMgPSAhaXNMYXlvdXRWaWV3cG9ydCgpICYmIGlzRml4ZWRTdHJhdGVneTtcbiAgdmFyIHggPSAoY2xpZW50UmVjdC5sZWZ0ICsgKGFkZFZpc3VhbE9mZnNldHMgJiYgdmlzdWFsVmlld3BvcnQgPyB2aXN1YWxWaWV3cG9ydC5vZmZzZXRMZWZ0IDogMCkpIC8gc2NhbGVYO1xuICB2YXIgeSA9IChjbGllbnRSZWN0LnRvcCArIChhZGRWaXN1YWxPZmZzZXRzICYmIHZpc3VhbFZpZXdwb3J0ID8gdmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wIDogMCkpIC8gc2NhbGVZO1xuICB2YXIgd2lkdGggPSBjbGllbnRSZWN0LndpZHRoIC8gc2NhbGVYO1xuICB2YXIgaGVpZ2h0ID0gY2xpZW50UmVjdC5oZWlnaHQgLyBzY2FsZVk7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHRvcDogeSxcbiAgICByaWdodDogeCArIHdpZHRoLFxuICAgIGJvdHRvbTogeSArIGhlaWdodCxcbiAgICBsZWZ0OiB4LFxuICAgIHg6IHgsXG4gICAgeTogeVxuICB9O1xufSIsImltcG9ydCB7IHZpZXdwb3J0IH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgZ2V0Vmlld3BvcnRSZWN0IGZyb20gXCIuL2dldFZpZXdwb3J0UmVjdC5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50UmVjdCBmcm9tIFwiLi9nZXREb2N1bWVudFJlY3QuanNcIjtcbmltcG9ydCBsaXN0U2Nyb2xsUGFyZW50cyBmcm9tIFwiLi9saXN0U2Nyb2xsUGFyZW50cy5qc1wiO1xuaW1wb3J0IGdldE9mZnNldFBhcmVudCBmcm9tIFwiLi9nZXRPZmZzZXRQYXJlbnQuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4vZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSBmcm9tIFwiLi9nZXRDb21wdXRlZFN0eWxlLmpzXCI7XG5pbXBvcnQgeyBpc0VsZW1lbnQsIGlzSFRNTEVsZW1lbnQgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGZyb20gXCIuL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qc1wiO1xuaW1wb3J0IGdldFBhcmVudE5vZGUgZnJvbSBcIi4vZ2V0UGFyZW50Tm9kZS5qc1wiO1xuaW1wb3J0IGNvbnRhaW5zIGZyb20gXCIuL2NvbnRhaW5zLmpzXCI7XG5pbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4vZ2V0Tm9kZU5hbWUuanNcIjtcbmltcG9ydCByZWN0VG9DbGllbnRSZWN0IGZyb20gXCIuLi91dGlscy9yZWN0VG9DbGllbnRSZWN0LmpzXCI7XG5pbXBvcnQgeyBtYXgsIG1pbiB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7XG5cbmZ1bmN0aW9uIGdldElubmVyQm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHN0cmF0ZWd5KSB7XG4gIHZhciByZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIGZhbHNlLCBzdHJhdGVneSA9PT0gJ2ZpeGVkJyk7XG4gIHJlY3QudG9wID0gcmVjdC50b3AgKyBlbGVtZW50LmNsaWVudFRvcDtcbiAgcmVjdC5sZWZ0ID0gcmVjdC5sZWZ0ICsgZWxlbWVudC5jbGllbnRMZWZ0O1xuICByZWN0LmJvdHRvbSA9IHJlY3QudG9wICsgZWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gIHJlY3QucmlnaHQgPSByZWN0LmxlZnQgKyBlbGVtZW50LmNsaWVudFdpZHRoO1xuICByZWN0LndpZHRoID0gZWxlbWVudC5jbGllbnRXaWR0aDtcbiAgcmVjdC5oZWlnaHQgPSBlbGVtZW50LmNsaWVudEhlaWdodDtcbiAgcmVjdC54ID0gcmVjdC5sZWZ0O1xuICByZWN0LnkgPSByZWN0LnRvcDtcbiAgcmV0dXJuIHJlY3Q7XG59XG5cbmZ1bmN0aW9uIGdldENsaWVudFJlY3RGcm9tTWl4ZWRUeXBlKGVsZW1lbnQsIGNsaXBwaW5nUGFyZW50LCBzdHJhdGVneSkge1xuICByZXR1cm4gY2xpcHBpbmdQYXJlbnQgPT09IHZpZXdwb3J0ID8gcmVjdFRvQ2xpZW50UmVjdChnZXRWaWV3cG9ydFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpKSA6IGlzRWxlbWVudChjbGlwcGluZ1BhcmVudCkgPyBnZXRJbm5lckJvdW5kaW5nQ2xpZW50UmVjdChjbGlwcGluZ1BhcmVudCwgc3RyYXRlZ3kpIDogcmVjdFRvQ2xpZW50UmVjdChnZXREb2N1bWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKSk7XG59IC8vIEEgXCJjbGlwcGluZyBwYXJlbnRcIiBpcyBhbiBvdmVyZmxvd2FibGUgY29udGFpbmVyIHdpdGggdGhlIGNoYXJhY3RlcmlzdGljIG9mXG4vLyBjbGlwcGluZyAob3IgaGlkaW5nKSBvdmVyZmxvd2luZyBlbGVtZW50cyB3aXRoIGEgcG9zaXRpb24gZGlmZmVyZW50IGZyb21cbi8vIGBpbml0aWFsYFxuXG5cbmZ1bmN0aW9uIGdldENsaXBwaW5nUGFyZW50cyhlbGVtZW50KSB7XG4gIHZhciBjbGlwcGluZ1BhcmVudHMgPSBsaXN0U2Nyb2xsUGFyZW50cyhnZXRQYXJlbnROb2RlKGVsZW1lbnQpKTtcbiAgdmFyIGNhbkVzY2FwZUNsaXBwaW5nID0gWydhYnNvbHV0ZScsICdmaXhlZCddLmluZGV4T2YoZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbikgPj0gMDtcbiAgdmFyIGNsaXBwZXJFbGVtZW50ID0gY2FuRXNjYXBlQ2xpcHBpbmcgJiYgaXNIVE1MRWxlbWVudChlbGVtZW50KSA/IGdldE9mZnNldFBhcmVudChlbGVtZW50KSA6IGVsZW1lbnQ7XG5cbiAgaWYgKCFpc0VsZW1lbnQoY2xpcHBlckVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl06IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy8xNDE0XG5cblxuICByZXR1cm4gY2xpcHBpbmdQYXJlbnRzLmZpbHRlcihmdW5jdGlvbiAoY2xpcHBpbmdQYXJlbnQpIHtcbiAgICByZXR1cm4gaXNFbGVtZW50KGNsaXBwaW5nUGFyZW50KSAmJiBjb250YWlucyhjbGlwcGluZ1BhcmVudCwgY2xpcHBlckVsZW1lbnQpICYmIGdldE5vZGVOYW1lKGNsaXBwaW5nUGFyZW50KSAhPT0gJ2JvZHknO1xuICB9KTtcbn0gLy8gR2V0cyB0aGUgbWF4aW11bSBhcmVhIHRoYXQgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSBpbiBkdWUgdG8gYW55IG51bWJlciBvZlxuLy8gY2xpcHBpbmcgcGFyZW50c1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldENsaXBwaW5nUmVjdChlbGVtZW50LCBib3VuZGFyeSwgcm9vdEJvdW5kYXJ5LCBzdHJhdGVneSkge1xuICB2YXIgbWFpbkNsaXBwaW5nUGFyZW50cyA9IGJvdW5kYXJ5ID09PSAnY2xpcHBpbmdQYXJlbnRzJyA/IGdldENsaXBwaW5nUGFyZW50cyhlbGVtZW50KSA6IFtdLmNvbmNhdChib3VuZGFyeSk7XG4gIHZhciBjbGlwcGluZ1BhcmVudHMgPSBbXS5jb25jYXQobWFpbkNsaXBwaW5nUGFyZW50cywgW3Jvb3RCb3VuZGFyeV0pO1xuICB2YXIgZmlyc3RDbGlwcGluZ1BhcmVudCA9IGNsaXBwaW5nUGFyZW50c1swXTtcbiAgdmFyIGNsaXBwaW5nUmVjdCA9IGNsaXBwaW5nUGFyZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGFjY1JlY3QsIGNsaXBwaW5nUGFyZW50KSB7XG4gICAgdmFyIHJlY3QgPSBnZXRDbGllbnRSZWN0RnJvbU1peGVkVHlwZShlbGVtZW50LCBjbGlwcGluZ1BhcmVudCwgc3RyYXRlZ3kpO1xuICAgIGFjY1JlY3QudG9wID0gbWF4KHJlY3QudG9wLCBhY2NSZWN0LnRvcCk7XG4gICAgYWNjUmVjdC5yaWdodCA9IG1pbihyZWN0LnJpZ2h0LCBhY2NSZWN0LnJpZ2h0KTtcbiAgICBhY2NSZWN0LmJvdHRvbSA9IG1pbihyZWN0LmJvdHRvbSwgYWNjUmVjdC5ib3R0b20pO1xuICAgIGFjY1JlY3QubGVmdCA9IG1heChyZWN0LmxlZnQsIGFjY1JlY3QubGVmdCk7XG4gICAgcmV0dXJuIGFjY1JlY3Q7XG4gIH0sIGdldENsaWVudFJlY3RGcm9tTWl4ZWRUeXBlKGVsZW1lbnQsIGZpcnN0Q2xpcHBpbmdQYXJlbnQsIHN0cmF0ZWd5KSk7XG4gIGNsaXBwaW5nUmVjdC53aWR0aCA9IGNsaXBwaW5nUmVjdC5yaWdodCAtIGNsaXBwaW5nUmVjdC5sZWZ0O1xuICBjbGlwcGluZ1JlY3QuaGVpZ2h0ID0gY2xpcHBpbmdSZWN0LmJvdHRvbSAtIGNsaXBwaW5nUmVjdC50b3A7XG4gIGNsaXBwaW5nUmVjdC54ID0gY2xpcHBpbmdSZWN0LmxlZnQ7XG4gIGNsaXBwaW5nUmVjdC55ID0gY2xpcHBpbmdSZWN0LnRvcDtcbiAgcmV0dXJuIGNsaXBwaW5nUmVjdDtcbn0iLCJpbXBvcnQgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGZyb20gXCIuL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qc1wiO1xuaW1wb3J0IGdldE5vZGVTY3JvbGwgZnJvbSBcIi4vZ2V0Tm9kZVNjcm9sbC5qc1wiO1xuaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuL2dldE5vZGVOYW1lLmpzXCI7XG5pbXBvcnQgeyBpc0hUTUxFbGVtZW50IH0gZnJvbSBcIi4vaW5zdGFuY2VPZi5qc1wiO1xuaW1wb3J0IGdldFdpbmRvd1Njcm9sbEJhclggZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsQmFyWC5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi9nZXREb2N1bWVudEVsZW1lbnQuanNcIjtcbmltcG9ydCBpc1Njcm9sbFBhcmVudCBmcm9tIFwiLi9pc1Njcm9sbFBhcmVudC5qc1wiO1xuaW1wb3J0IHsgcm91bmQgfSBmcm9tIFwiLi4vdXRpbHMvbWF0aC5qc1wiO1xuXG5mdW5jdGlvbiBpc0VsZW1lbnRTY2FsZWQoZWxlbWVudCkge1xuICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciBzY2FsZVggPSByb3VuZChyZWN0LndpZHRoKSAvIGVsZW1lbnQub2Zmc2V0V2lkdGggfHwgMTtcbiAgdmFyIHNjYWxlWSA9IHJvdW5kKHJlY3QuaGVpZ2h0KSAvIGVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8IDE7XG4gIHJldHVybiBzY2FsZVggIT09IDEgfHwgc2NhbGVZICE9PSAxO1xufSAvLyBSZXR1cm5zIHRoZSBjb21wb3NpdGUgcmVjdCBvZiBhbiBlbGVtZW50IHJlbGF0aXZlIHRvIGl0cyBvZmZzZXRQYXJlbnQuXG4vLyBDb21wb3NpdGUgbWVhbnMgaXQgdGFrZXMgaW50byBhY2NvdW50IHRyYW5zZm9ybXMgYXMgd2VsbCBhcyBsYXlvdXQuXG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Q29tcG9zaXRlUmVjdChlbGVtZW50T3JWaXJ0dWFsRWxlbWVudCwgb2Zmc2V0UGFyZW50LCBpc0ZpeGVkKSB7XG4gIGlmIChpc0ZpeGVkID09PSB2b2lkIDApIHtcbiAgICBpc0ZpeGVkID0gZmFsc2U7XG4gIH1cblxuICB2YXIgaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgPSBpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIHZhciBvZmZzZXRQYXJlbnRJc1NjYWxlZCA9IGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KSAmJiBpc0VsZW1lbnRTY2FsZWQob2Zmc2V0UGFyZW50KTtcbiAgdmFyIGRvY3VtZW50RWxlbWVudCA9IGdldERvY3VtZW50RWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICB2YXIgcmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50T3JWaXJ0dWFsRWxlbWVudCwgb2Zmc2V0UGFyZW50SXNTY2FsZWQsIGlzRml4ZWQpO1xuICB2YXIgc2Nyb2xsID0ge1xuICAgIHNjcm9sbExlZnQ6IDAsXG4gICAgc2Nyb2xsVG9wOiAwXG4gIH07XG4gIHZhciBvZmZzZXRzID0ge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9O1xuXG4gIGlmIChpc09mZnNldFBhcmVudEFuRWxlbWVudCB8fCAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgIWlzRml4ZWQpIHtcbiAgICBpZiAoZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSAhPT0gJ2JvZHknIHx8IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3BwZXJqcy9wb3BwZXItY29yZS9pc3N1ZXMvMTA3OFxuICAgIGlzU2Nyb2xsUGFyZW50KGRvY3VtZW50RWxlbWVudCkpIHtcbiAgICAgIHNjcm9sbCA9IGdldE5vZGVTY3JvbGwob2Zmc2V0UGFyZW50KTtcbiAgICB9XG5cbiAgICBpZiAoaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICBvZmZzZXRzID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG9mZnNldFBhcmVudCwgdHJ1ZSk7XG4gICAgICBvZmZzZXRzLnggKz0gb2Zmc2V0UGFyZW50LmNsaWVudExlZnQ7XG4gICAgICBvZmZzZXRzLnkgKz0gb2Zmc2V0UGFyZW50LmNsaWVudFRvcDtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50RWxlbWVudCkge1xuICAgICAgb2Zmc2V0cy54ID0gZ2V0V2luZG93U2Nyb2xsQmFyWChkb2N1bWVudEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgeDogcmVjdC5sZWZ0ICsgc2Nyb2xsLnNjcm9sbExlZnQgLSBvZmZzZXRzLngsXG4gICAgeTogcmVjdC50b3AgKyBzY3JvbGwuc2Nyb2xsVG9wIC0gb2Zmc2V0cy55LFxuICAgIHdpZHRoOiByZWN0LndpZHRoLFxuICAgIGhlaWdodDogcmVjdC5oZWlnaHRcbiAgfTtcbn0iLCJpbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB7XG4gIHJldHVybiBnZXRXaW5kb3coZWxlbWVudCkuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbn0iLCJpbXBvcnQgeyBpc0VsZW1lbnQgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCkge1xuICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dOiBhc3N1bWUgYm9keSBpcyBhbHdheXMgYXZhaWxhYmxlXG4gIHJldHVybiAoKGlzRWxlbWVudChlbGVtZW50KSA/IGVsZW1lbnQub3duZXJEb2N1bWVudCA6IC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICBlbGVtZW50LmRvY3VtZW50KSB8fCB3aW5kb3cuZG9jdW1lbnQpLmRvY3VtZW50RWxlbWVudDtcbn0iLCJpbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldENvbXB1dGVkU3R5bGUgZnJvbSBcIi4vZ2V0Q29tcHV0ZWRTdHlsZS5qc1wiO1xuaW1wb3J0IGdldFdpbmRvd1Njcm9sbEJhclggZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsQmFyWC5qc1wiO1xuaW1wb3J0IGdldFdpbmRvd1Njcm9sbCBmcm9tIFwiLi9nZXRXaW5kb3dTY3JvbGwuanNcIjtcbmltcG9ydCB7IG1heCB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7IC8vIEdldHMgdGhlIGVudGlyZSBzaXplIG9mIHRoZSBzY3JvbGxhYmxlIGRvY3VtZW50IGFyZWEsIGV2ZW4gZXh0ZW5kaW5nIG91dHNpZGVcbi8vIG9mIHRoZSBgPGh0bWw+YCBhbmQgYDxib2R5PmAgcmVjdCBib3VuZHMgaWYgaG9yaXpvbnRhbGx5IHNjcm9sbGFibGVcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRSZWN0KGVsZW1lbnQpIHtcbiAgdmFyIF9lbGVtZW50JG93bmVyRG9jdW1lbjtcblxuICB2YXIgaHRtbCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTtcbiAgdmFyIHdpblNjcm9sbCA9IGdldFdpbmRvd1Njcm9sbChlbGVtZW50KTtcbiAgdmFyIGJvZHkgPSAoX2VsZW1lbnQkb3duZXJEb2N1bWVuID0gZWxlbWVudC5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2VsZW1lbnQkb3duZXJEb2N1bWVuLmJvZHk7XG4gIHZhciB3aWR0aCA9IG1heChodG1sLnNjcm9sbFdpZHRoLCBodG1sLmNsaWVudFdpZHRoLCBib2R5ID8gYm9keS5zY3JvbGxXaWR0aCA6IDAsIGJvZHkgPyBib2R5LmNsaWVudFdpZHRoIDogMCk7XG4gIHZhciBoZWlnaHQgPSBtYXgoaHRtbC5zY3JvbGxIZWlnaHQsIGh0bWwuY2xpZW50SGVpZ2h0LCBib2R5ID8gYm9keS5zY3JvbGxIZWlnaHQgOiAwLCBib2R5ID8gYm9keS5jbGllbnRIZWlnaHQgOiAwKTtcbiAgdmFyIHggPSAtd2luU2Nyb2xsLnNjcm9sbExlZnQgKyBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpO1xuICB2YXIgeSA9IC13aW5TY3JvbGwuc2Nyb2xsVG9wO1xuXG4gIGlmIChnZXRDb21wdXRlZFN0eWxlKGJvZHkgfHwgaHRtbCkuZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgIHggKz0gbWF4KGh0bWwuY2xpZW50V2lkdGgsIGJvZHkgPyBib2R5LmNsaWVudFdpZHRoIDogMCkgLSB3aWR0aDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHg6IHgsXG4gICAgeTogeVxuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEhUTUxFbGVtZW50U2Nyb2xsKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHtcbiAgICBzY3JvbGxMZWZ0OiBlbGVtZW50LnNjcm9sbExlZnQsXG4gICAgc2Nyb2xsVG9wOiBlbGVtZW50LnNjcm9sbFRvcFxuICB9O1xufSIsImltcG9ydCBnZXRCb3VuZGluZ0NsaWVudFJlY3QgZnJvbSBcIi4vZ2V0Qm91bmRpbmdDbGllbnRSZWN0LmpzXCI7IC8vIFJldHVybnMgdGhlIGxheW91dCByZWN0IG9mIGFuIGVsZW1lbnQgcmVsYXRpdmUgdG8gaXRzIG9mZnNldFBhcmVudC4gTGF5b3V0XG4vLyBtZWFucyBpdCBkb2Vzbid0IHRha2UgaW50byBhY2NvdW50IHRyYW5zZm9ybXMuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldExheW91dFJlY3QoZWxlbWVudCkge1xuICB2YXIgY2xpZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50KTsgLy8gVXNlIHRoZSBjbGllbnRSZWN0IHNpemVzIGlmIGl0J3Mgbm90IGJlZW4gdHJhbnNmb3JtZWQuXG4gIC8vIEZpeGVzIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3BwZXJqcy9wb3BwZXItY29yZS9pc3N1ZXMvMTIyM1xuXG4gIHZhciB3aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gIHZhciBoZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcblxuICBpZiAoTWF0aC5hYnMoY2xpZW50UmVjdC53aWR0aCAtIHdpZHRoKSA8PSAxKSB7XG4gICAgd2lkdGggPSBjbGllbnRSZWN0LndpZHRoO1xuICB9XG5cbiAgaWYgKE1hdGguYWJzKGNsaWVudFJlY3QuaGVpZ2h0IC0gaGVpZ2h0KSA8PSAxKSB7XG4gICAgaGVpZ2h0ID0gY2xpZW50UmVjdC5oZWlnaHQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHg6IGVsZW1lbnQub2Zmc2V0TGVmdCxcbiAgICB5OiBlbGVtZW50Lm9mZnNldFRvcCxcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHRcbiAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXROb2RlTmFtZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50ID8gKGVsZW1lbnQubm9kZU5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCkgOiBudWxsO1xufSIsImltcG9ydCBnZXRXaW5kb3dTY3JvbGwgZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsLmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuaW1wb3J0IHsgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCBnZXRIVE1MRWxlbWVudFNjcm9sbCBmcm9tIFwiLi9nZXRIVE1MRWxlbWVudFNjcm9sbC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Tm9kZVNjcm9sbChub2RlKSB7XG4gIGlmIChub2RlID09PSBnZXRXaW5kb3cobm9kZSkgfHwgIWlzSFRNTEVsZW1lbnQobm9kZSkpIHtcbiAgICByZXR1cm4gZ2V0V2luZG93U2Nyb2xsKG5vZGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXRIVE1MRWxlbWVudFNjcm9sbChub2RlKTtcbiAgfVxufSIsImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4vZ2V0Tm9kZU5hbWUuanNcIjtcbmltcG9ydCBnZXRDb21wdXRlZFN0eWxlIGZyb20gXCIuL2dldENvbXB1dGVkU3R5bGUuanNcIjtcbmltcG9ydCB7IGlzSFRNTEVsZW1lbnQsIGlzU2hhZG93Um9vdCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCBpc1RhYmxlRWxlbWVudCBmcm9tIFwiLi9pc1RhYmxlRWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldFBhcmVudE5vZGUgZnJvbSBcIi4vZ2V0UGFyZW50Tm9kZS5qc1wiO1xuaW1wb3J0IGdldFVBU3RyaW5nIGZyb20gXCIuLi91dGlscy91c2VyQWdlbnQuanNcIjtcblxuZnVuY3Rpb24gZ2V0VHJ1ZU9mZnNldFBhcmVudChlbGVtZW50KSB7XG4gIGlmICghaXNIVE1MRWxlbWVudChlbGVtZW50KSB8fCAvLyBodHRwczovL2dpdGh1Yi5jb20vcG9wcGVyanMvcG9wcGVyLWNvcmUvaXNzdWVzLzgzN1xuICBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudC5vZmZzZXRQYXJlbnQ7XG59IC8vIGAub2Zmc2V0UGFyZW50YCByZXBvcnRzIGBudWxsYCBmb3IgZml4ZWQgZWxlbWVudHMsIHdoaWxlIGFic29sdXRlIGVsZW1lbnRzXG4vLyByZXR1cm4gdGhlIGNvbnRhaW5pbmcgYmxvY2tcblxuXG5mdW5jdGlvbiBnZXRDb250YWluaW5nQmxvY2soZWxlbWVudCkge1xuICB2YXIgaXNGaXJlZm94ID0gL2ZpcmVmb3gvaS50ZXN0KGdldFVBU3RyaW5nKCkpO1xuICB2YXIgaXNJRSA9IC9UcmlkZW50L2kudGVzdChnZXRVQVN0cmluZygpKTtcblxuICBpZiAoaXNJRSAmJiBpc0hUTUxFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgLy8gSW4gSUUgOSwgMTAgYW5kIDExIGZpeGVkIGVsZW1lbnRzIGNvbnRhaW5pbmcgYmxvY2sgaXMgYWx3YXlzIGVzdGFibGlzaGVkIGJ5IHRoZSB2aWV3cG9ydFxuICAgIHZhciBlbGVtZW50Q3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcblxuICAgIGlmIChlbGVtZW50Q3NzLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICB2YXIgY3VycmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGVsZW1lbnQpO1xuXG4gIGlmIChpc1NoYWRvd1Jvb3QoY3VycmVudE5vZGUpKSB7XG4gICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5ob3N0O1xuICB9XG5cbiAgd2hpbGUgKGlzSFRNTEVsZW1lbnQoY3VycmVudE5vZGUpICYmIFsnaHRtbCcsICdib2R5J10uaW5kZXhPZihnZXROb2RlTmFtZShjdXJyZW50Tm9kZSkpIDwgMCkge1xuICAgIHZhciBjc3MgPSBnZXRDb21wdXRlZFN0eWxlKGN1cnJlbnROb2RlKTsgLy8gVGhpcyBpcyBub24tZXhoYXVzdGl2ZSBidXQgY292ZXJzIHRoZSBtb3N0IGNvbW1vbiBDU1MgcHJvcGVydGllcyB0aGF0XG4gICAgLy8gY3JlYXRlIGEgY29udGFpbmluZyBibG9jay5cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQ29udGFpbmluZ19ibG9jayNpZGVudGlmeWluZ190aGVfY29udGFpbmluZ19ibG9ja1xuXG4gICAgaWYgKGNzcy50cmFuc2Zvcm0gIT09ICdub25lJyB8fCBjc3MucGVyc3BlY3RpdmUgIT09ICdub25lJyB8fCBjc3MuY29udGFpbiA9PT0gJ3BhaW50JyB8fCBbJ3RyYW5zZm9ybScsICdwZXJzcGVjdGl2ZSddLmluZGV4T2YoY3NzLndpbGxDaGFuZ2UpICE9PSAtMSB8fCBpc0ZpcmVmb3ggJiYgY3NzLndpbGxDaGFuZ2UgPT09ICdmaWx0ZXInIHx8IGlzRmlyZWZveCAmJiBjc3MuZmlsdGVyICYmIGNzcy5maWx0ZXIgIT09ICdub25lJykge1xuICAgICAgcmV0dXJuIGN1cnJlbnROb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59IC8vIEdldHMgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgcG9zaXRpb25lZCBlbGVtZW50LiBIYW5kbGVzIHNvbWUgZWRnZSBjYXNlcyxcbi8vIHN1Y2ggYXMgdGFibGUgYW5jZXN0b3JzIGFuZCBjcm9zcyBicm93c2VyIGJ1Z3MuXG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpIHtcbiAgdmFyIHdpbmRvdyA9IGdldFdpbmRvdyhlbGVtZW50KTtcbiAgdmFyIG9mZnNldFBhcmVudCA9IGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCk7XG5cbiAgd2hpbGUgKG9mZnNldFBhcmVudCAmJiBpc1RhYmxlRWxlbWVudChvZmZzZXRQYXJlbnQpICYmIGdldENvbXB1dGVkU3R5bGUob2Zmc2V0UGFyZW50KS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcbiAgICBvZmZzZXRQYXJlbnQgPSBnZXRUcnVlT2Zmc2V0UGFyZW50KG9mZnNldFBhcmVudCk7XG4gIH1cblxuICBpZiAob2Zmc2V0UGFyZW50ICYmIChnZXROb2RlTmFtZShvZmZzZXRQYXJlbnQpID09PSAnaHRtbCcgfHwgZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSA9PT0gJ2JvZHknICYmIGdldENvbXB1dGVkU3R5bGUob2Zmc2V0UGFyZW50KS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuXG4gIHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZ2V0Q29udGFpbmluZ0Jsb2NrKGVsZW1lbnQpIHx8IHdpbmRvdztcbn0iLCJpbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4vZ2V0Tm9kZU5hbWUuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4vZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgeyBpc1NoYWRvd1Jvb3QgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRQYXJlbnROb2RlKGVsZW1lbnQpIHtcbiAgaWYgKGdldE5vZGVOYW1lKGVsZW1lbnQpID09PSAnaHRtbCcpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHJldHVybiAoLy8gdGhpcyBpcyBhIHF1aWNrZXIgKGJ1dCBsZXNzIHR5cGUgc2FmZSkgd2F5IHRvIHNhdmUgcXVpdGUgc29tZSBieXRlcyBmcm9tIHRoZSBidW5kbGVcbiAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dXG4gICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgZWxlbWVudC5hc3NpZ25lZFNsb3QgfHwgLy8gc3RlcCBpbnRvIHRoZSBzaGFkb3cgRE9NIG9mIHRoZSBwYXJlbnQgb2YgYSBzbG90dGVkIG5vZGVcbiAgICBlbGVtZW50LnBhcmVudE5vZGUgfHwgKCAvLyBET00gRWxlbWVudCBkZXRlY3RlZFxuICAgIGlzU2hhZG93Um9vdChlbGVtZW50KSA/IGVsZW1lbnQuaG9zdCA6IG51bGwpIHx8IC8vIFNoYWRvd1Jvb3QgZGV0ZWN0ZWRcbiAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXTogSFRNTEVsZW1lbnQgaXMgYSBOb2RlXG4gICAgZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpIC8vIGZhbGxiYWNrXG5cbiAgKTtcbn0iLCJpbXBvcnQgZ2V0UGFyZW50Tm9kZSBmcm9tIFwiLi9nZXRQYXJlbnROb2RlLmpzXCI7XG5pbXBvcnQgaXNTY3JvbGxQYXJlbnQgZnJvbSBcIi4vaXNTY3JvbGxQYXJlbnQuanNcIjtcbmltcG9ydCBnZXROb2RlTmFtZSBmcm9tIFwiLi9nZXROb2RlTmFtZS5qc1wiO1xuaW1wb3J0IHsgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChub2RlKSB7XG4gIGlmIChbJ2h0bWwnLCAnYm9keScsICcjZG9jdW1lbnQnXS5pbmRleE9mKGdldE5vZGVOYW1lKG5vZGUpKSA+PSAwKSB7XG4gICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtcmV0dXJuXTogYXNzdW1lIGJvZHkgaXMgYWx3YXlzIGF2YWlsYWJsZVxuICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQuYm9keTtcbiAgfVxuXG4gIGlmIChpc0hUTUxFbGVtZW50KG5vZGUpICYmIGlzU2Nyb2xsUGFyZW50KG5vZGUpKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICByZXR1cm4gZ2V0U2Nyb2xsUGFyZW50KGdldFBhcmVudE5vZGUobm9kZSkpO1xufSIsImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldFdpbmRvd1Njcm9sbEJhclggZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsQmFyWC5qc1wiO1xuaW1wb3J0IGlzTGF5b3V0Vmlld3BvcnQgZnJvbSBcIi4vaXNMYXlvdXRWaWV3cG9ydC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Vmlld3BvcnRSZWN0KGVsZW1lbnQsIHN0cmF0ZWd5KSB7XG4gIHZhciB3aW4gPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIHZhciBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICB2YXIgdmlzdWFsVmlld3BvcnQgPSB3aW4udmlzdWFsVmlld3BvcnQ7XG4gIHZhciB3aWR0aCA9IGh0bWwuY2xpZW50V2lkdGg7XG4gIHZhciBoZWlnaHQgPSBodG1sLmNsaWVudEhlaWdodDtcbiAgdmFyIHggPSAwO1xuICB2YXIgeSA9IDA7XG5cbiAgaWYgKHZpc3VhbFZpZXdwb3J0KSB7XG4gICAgd2lkdGggPSB2aXN1YWxWaWV3cG9ydC53aWR0aDtcbiAgICBoZWlnaHQgPSB2aXN1YWxWaWV3cG9ydC5oZWlnaHQ7XG4gICAgdmFyIGxheW91dFZpZXdwb3J0ID0gaXNMYXlvdXRWaWV3cG9ydCgpO1xuXG4gICAgaWYgKGxheW91dFZpZXdwb3J0IHx8ICFsYXlvdXRWaWV3cG9ydCAmJiBzdHJhdGVneSA9PT0gJ2ZpeGVkJykge1xuICAgICAgeCA9IHZpc3VhbFZpZXdwb3J0Lm9mZnNldExlZnQ7XG4gICAgICB5ID0gdmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHg6IHggKyBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpLFxuICAgIHk6IHlcbiAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRXaW5kb3cobm9kZSkge1xuICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuXG4gIGlmIChub2RlLnRvU3RyaW5nKCkgIT09ICdbb2JqZWN0IFdpbmRvd10nKSB7XG4gICAgdmFyIG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgcmV0dXJuIG93bmVyRG9jdW1lbnQgPyBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdyA6IHdpbmRvdztcbiAgfVxuXG4gIHJldHVybiBub2RlO1xufSIsImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRXaW5kb3dTY3JvbGwobm9kZSkge1xuICB2YXIgd2luID0gZ2V0V2luZG93KG5vZGUpO1xuICB2YXIgc2Nyb2xsTGVmdCA9IHdpbi5wYWdlWE9mZnNldDtcbiAgdmFyIHNjcm9sbFRvcCA9IHdpbi5wYWdlWU9mZnNldDtcbiAgcmV0dXJuIHtcbiAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wXG4gIH07XG59IiwiaW1wb3J0IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBmcm9tIFwiLi9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4vZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93U2Nyb2xsIGZyb20gXCIuL2dldFdpbmRvd1Njcm9sbC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsQmFyWChlbGVtZW50KSB7XG4gIC8vIElmIDxodG1sPiBoYXMgYSBDU1Mgd2lkdGggZ3JlYXRlciB0aGFuIHRoZSB2aWV3cG9ydCwgdGhlbiB0aGlzIHdpbGwgYmVcbiAgLy8gaW5jb3JyZWN0IGZvciBSVEwuXG4gIC8vIFBvcHBlciAxIGlzIGJyb2tlbiBpbiB0aGlzIGNhc2UgYW5kIG5ldmVyIGhhZCBhIGJ1ZyByZXBvcnQgc28gbGV0J3MgYXNzdW1lXG4gIC8vIGl0J3Mgbm90IGFuIGlzc3VlLiBJIGRvbid0IHRoaW5rIGFueW9uZSBldmVyIHNwZWNpZmllcyB3aWR0aCBvbiA8aHRtbD5cbiAgLy8gYW55d2F5LlxuICAvLyBCcm93c2VycyB3aGVyZSB0aGUgbGVmdCBzY3JvbGxiYXIgZG9lc24ndCBjYXVzZSBhbiBpc3N1ZSByZXBvcnQgYDBgIGZvclxuICAvLyB0aGlzIChlLmcuIEVkZ2UgMjAxOSwgSUUxMSwgU2FmYXJpKVxuICByZXR1cm4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSkubGVmdCArIGdldFdpbmRvd1Njcm9sbChlbGVtZW50KS5zY3JvbGxMZWZ0O1xufSIsImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5cbmZ1bmN0aW9uIGlzRWxlbWVudChub2RlKSB7XG4gIHZhciBPd25FbGVtZW50ID0gZ2V0V2luZG93KG5vZGUpLkVsZW1lbnQ7XG4gIHJldHVybiBub2RlIGluc3RhbmNlb2YgT3duRWxlbWVudCB8fCBub2RlIGluc3RhbmNlb2YgRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gaXNIVE1MRWxlbWVudChub2RlKSB7XG4gIHZhciBPd25FbGVtZW50ID0gZ2V0V2luZG93KG5vZGUpLkhUTUxFbGVtZW50O1xuICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIE93bkVsZW1lbnQgfHwgbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBpc1NoYWRvd1Jvb3Qobm9kZSkge1xuICAvLyBJRSAxMSBoYXMgbm8gU2hhZG93Um9vdFxuICBpZiAodHlwZW9mIFNoYWRvd1Jvb3QgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIE93bkVsZW1lbnQgPSBnZXRXaW5kb3cobm9kZSkuU2hhZG93Um9vdDtcbiAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBPd25FbGVtZW50IHx8IG5vZGUgaW5zdGFuY2VvZiBTaGFkb3dSb290O1xufVxuXG5leHBvcnQgeyBpc0VsZW1lbnQsIGlzSFRNTEVsZW1lbnQsIGlzU2hhZG93Um9vdCB9OyIsImltcG9ydCBnZXRVQVN0cmluZyBmcm9tIFwiLi4vdXRpbHMvdXNlckFnZW50LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0xheW91dFZpZXdwb3J0KCkge1xuICByZXR1cm4gIS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QoZ2V0VUFTdHJpbmcoKSk7XG59IiwiaW1wb3J0IGdldENvbXB1dGVkU3R5bGUgZnJvbSBcIi4vZ2V0Q29tcHV0ZWRTdHlsZS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNTY3JvbGxQYXJlbnQoZWxlbWVudCkge1xuICAvLyBGaXJlZm94IHdhbnRzIHVzIHRvIGNoZWNrIGAteGAgYW5kIGAteWAgdmFyaWF0aW9ucyBhcyB3ZWxsXG4gIHZhciBfZ2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCksXG4gICAgICBvdmVyZmxvdyA9IF9nZXRDb21wdXRlZFN0eWxlLm92ZXJmbG93LFxuICAgICAgb3ZlcmZsb3dYID0gX2dldENvbXB1dGVkU3R5bGUub3ZlcmZsb3dYLFxuICAgICAgb3ZlcmZsb3dZID0gX2dldENvbXB1dGVkU3R5bGUub3ZlcmZsb3dZO1xuXG4gIHJldHVybiAvYXV0b3xzY3JvbGx8b3ZlcmxheXxoaWRkZW4vLnRlc3Qob3ZlcmZsb3cgKyBvdmVyZmxvd1kgKyBvdmVyZmxvd1gpO1xufSIsImltcG9ydCBnZXROb2RlTmFtZSBmcm9tIFwiLi9nZXROb2RlTmFtZS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNUYWJsZUVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gWyd0YWJsZScsICd0ZCcsICd0aCddLmluZGV4T2YoZ2V0Tm9kZU5hbWUoZWxlbWVudCkpID49IDA7XG59IiwiaW1wb3J0IGdldFNjcm9sbFBhcmVudCBmcm9tIFwiLi9nZXRTY3JvbGxQYXJlbnQuanNcIjtcbmltcG9ydCBnZXRQYXJlbnROb2RlIGZyb20gXCIuL2dldFBhcmVudE5vZGUuanNcIjtcbmltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgaXNTY3JvbGxQYXJlbnQgZnJvbSBcIi4vaXNTY3JvbGxQYXJlbnQuanNcIjtcbi8qXG5naXZlbiBhIERPTSBlbGVtZW50LCByZXR1cm4gdGhlIGxpc3Qgb2YgYWxsIHNjcm9sbCBwYXJlbnRzLCB1cCB0aGUgbGlzdCBvZiBhbmNlc29yc1xudW50aWwgd2UgZ2V0IHRvIHRoZSB0b3Agd2luZG93IG9iamVjdC4gVGhpcyBsaXN0IGlzIHdoYXQgd2UgYXR0YWNoIHNjcm9sbCBsaXN0ZW5lcnNcbnRvLCBiZWNhdXNlIGlmIGFueSBvZiB0aGVzZSBwYXJlbnQgZWxlbWVudHMgc2Nyb2xsLCB3ZSdsbCBuZWVkIHRvIHJlLWNhbGN1bGF0ZSB0aGVcbnJlZmVyZW5jZSBlbGVtZW50J3MgcG9zaXRpb24uXG4qL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsaXN0U2Nyb2xsUGFyZW50cyhlbGVtZW50LCBsaXN0KSB7XG4gIHZhciBfZWxlbWVudCRvd25lckRvY3VtZW47XG5cbiAgaWYgKGxpc3QgPT09IHZvaWQgMCkge1xuICAgIGxpc3QgPSBbXTtcbiAgfVxuXG4gIHZhciBzY3JvbGxQYXJlbnQgPSBnZXRTY3JvbGxQYXJlbnQoZWxlbWVudCk7XG4gIHZhciBpc0JvZHkgPSBzY3JvbGxQYXJlbnQgPT09ICgoX2VsZW1lbnQkb3duZXJEb2N1bWVuID0gZWxlbWVudC5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2VsZW1lbnQkb3duZXJEb2N1bWVuLmJvZHkpO1xuICB2YXIgd2luID0gZ2V0V2luZG93KHNjcm9sbFBhcmVudCk7XG4gIHZhciB0YXJnZXQgPSBpc0JvZHkgPyBbd2luXS5jb25jYXQod2luLnZpc3VhbFZpZXdwb3J0IHx8IFtdLCBpc1Njcm9sbFBhcmVudChzY3JvbGxQYXJlbnQpID8gc2Nyb2xsUGFyZW50IDogW10pIDogc2Nyb2xsUGFyZW50O1xuICB2YXIgdXBkYXRlZExpc3QgPSBsaXN0LmNvbmNhdCh0YXJnZXQpO1xuICByZXR1cm4gaXNCb2R5ID8gdXBkYXRlZExpc3QgOiAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXTogaXNCb2R5IHRlbGxzIHVzIHRhcmdldCB3aWxsIGJlIGFuIEhUTUxFbGVtZW50IGhlcmVcbiAgdXBkYXRlZExpc3QuY29uY2F0KGxpc3RTY3JvbGxQYXJlbnRzKGdldFBhcmVudE5vZGUodGFyZ2V0KSkpO1xufSIsImV4cG9ydCB2YXIgdG9wID0gJ3RvcCc7XG5leHBvcnQgdmFyIGJvdHRvbSA9ICdib3R0b20nO1xuZXhwb3J0IHZhciByaWdodCA9ICdyaWdodCc7XG5leHBvcnQgdmFyIGxlZnQgPSAnbGVmdCc7XG5leHBvcnQgdmFyIGF1dG8gPSAnYXV0byc7XG5leHBvcnQgdmFyIGJhc2VQbGFjZW1lbnRzID0gW3RvcCwgYm90dG9tLCByaWdodCwgbGVmdF07XG5leHBvcnQgdmFyIHN0YXJ0ID0gJ3N0YXJ0JztcbmV4cG9ydCB2YXIgZW5kID0gJ2VuZCc7XG5leHBvcnQgdmFyIGNsaXBwaW5nUGFyZW50cyA9ICdjbGlwcGluZ1BhcmVudHMnO1xuZXhwb3J0IHZhciB2aWV3cG9ydCA9ICd2aWV3cG9ydCc7XG5leHBvcnQgdmFyIHBvcHBlciA9ICdwb3BwZXInO1xuZXhwb3J0IHZhciByZWZlcmVuY2UgPSAncmVmZXJlbmNlJztcbmV4cG9ydCB2YXIgdmFyaWF0aW9uUGxhY2VtZW50cyA9IC8qI19fUFVSRV9fKi9iYXNlUGxhY2VtZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGxhY2VtZW50KSB7XG4gIHJldHVybiBhY2MuY29uY2F0KFtwbGFjZW1lbnQgKyBcIi1cIiArIHN0YXJ0LCBwbGFjZW1lbnQgKyBcIi1cIiArIGVuZF0pO1xufSwgW10pO1xuZXhwb3J0IHZhciBwbGFjZW1lbnRzID0gLyojX19QVVJFX18qL1tdLmNvbmNhdChiYXNlUGxhY2VtZW50cywgW2F1dG9dKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGxhY2VtZW50KSB7XG4gIHJldHVybiBhY2MuY29uY2F0KFtwbGFjZW1lbnQsIHBsYWNlbWVudCArIFwiLVwiICsgc3RhcnQsIHBsYWNlbWVudCArIFwiLVwiICsgZW5kXSk7XG59LCBbXSk7IC8vIG1vZGlmaWVycyB0aGF0IG5lZWQgdG8gcmVhZCB0aGUgRE9NXG5cbmV4cG9ydCB2YXIgYmVmb3JlUmVhZCA9ICdiZWZvcmVSZWFkJztcbmV4cG9ydCB2YXIgcmVhZCA9ICdyZWFkJztcbmV4cG9ydCB2YXIgYWZ0ZXJSZWFkID0gJ2FmdGVyUmVhZCc7IC8vIHB1cmUtbG9naWMgbW9kaWZpZXJzXG5cbmV4cG9ydCB2YXIgYmVmb3JlTWFpbiA9ICdiZWZvcmVNYWluJztcbmV4cG9ydCB2YXIgbWFpbiA9ICdtYWluJztcbmV4cG9ydCB2YXIgYWZ0ZXJNYWluID0gJ2FmdGVyTWFpbic7IC8vIG1vZGlmaWVyIHdpdGggdGhlIHB1cnBvc2UgdG8gd3JpdGUgdG8gdGhlIERPTSAob3Igd3JpdGUgaW50byBhIGZyYW1ld29yayBzdGF0ZSlcblxuZXhwb3J0IHZhciBiZWZvcmVXcml0ZSA9ICdiZWZvcmVXcml0ZSc7XG5leHBvcnQgdmFyIHdyaXRlID0gJ3dyaXRlJztcbmV4cG9ydCB2YXIgYWZ0ZXJXcml0ZSA9ICdhZnRlcldyaXRlJztcbmV4cG9ydCB2YXIgbW9kaWZpZXJQaGFzZXMgPSBbYmVmb3JlUmVhZCwgcmVhZCwgYWZ0ZXJSZWFkLCBiZWZvcmVNYWluLCBtYWluLCBhZnRlck1haW4sIGJlZm9yZVdyaXRlLCB3cml0ZSwgYWZ0ZXJXcml0ZV07IiwiaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0Tm9kZU5hbWUuanNcIjtcbmltcG9ydCB7IGlzSFRNTEVsZW1lbnQgfSBmcm9tIFwiLi4vZG9tLXV0aWxzL2luc3RhbmNlT2YuanNcIjsgLy8gVGhpcyBtb2RpZmllciB0YWtlcyB0aGUgc3R5bGVzIHByZXBhcmVkIGJ5IHRoZSBgY29tcHV0ZVN0eWxlc2AgbW9kaWZpZXJcbi8vIGFuZCBhcHBsaWVzIHRoZW0gdG8gdGhlIEhUTUxFbGVtZW50cyBzdWNoIGFzIHBvcHBlciBhbmQgYXJyb3dcblxuZnVuY3Rpb24gYXBwbHlTdHlsZXMoX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlO1xuICBPYmplY3Qua2V5cyhzdGF0ZS5lbGVtZW50cykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBzdHlsZSA9IHN0YXRlLnN0eWxlc1tuYW1lXSB8fCB7fTtcbiAgICB2YXIgYXR0cmlidXRlcyA9IHN0YXRlLmF0dHJpYnV0ZXNbbmFtZV0gfHwge307XG4gICAgdmFyIGVsZW1lbnQgPSBzdGF0ZS5lbGVtZW50c1tuYW1lXTsgLy8gYXJyb3cgaXMgb3B0aW9uYWwgKyB2aXJ0dWFsIGVsZW1lbnRzXG5cbiAgICBpZiAoIWlzSFRNTEVsZW1lbnQoZWxlbWVudCkgfHwgIWdldE5vZGVOYW1lKGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBGbG93IGRvZXNuJ3Qgc3VwcG9ydCB0byBleHRlbmQgdGhpcyBwcm9wZXJ0eSwgYnV0IGl0J3MgdGhlIG1vc3RcbiAgICAvLyBlZmZlY3RpdmUgd2F5IHRvIGFwcGx5IHN0eWxlcyB0byBhbiBIVE1MRWxlbWVudFxuICAgIC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXVxuXG5cbiAgICBPYmplY3QuYXNzaWduKGVsZW1lbnQuc3R5bGUsIHN0eWxlKTtcbiAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhdHRyaWJ1dGVzW25hbWVdO1xuXG4gICAgICBpZiAodmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUgPT09IHRydWUgPyAnJyA6IHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGVmZmVjdChfcmVmMikge1xuICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZTtcbiAgdmFyIGluaXRpYWxTdHlsZXMgPSB7XG4gICAgcG9wcGVyOiB7XG4gICAgICBwb3NpdGlvbjogc3RhdGUub3B0aW9ucy5zdHJhdGVneSxcbiAgICAgIGxlZnQ6ICcwJyxcbiAgICAgIHRvcDogJzAnLFxuICAgICAgbWFyZ2luOiAnMCdcbiAgICB9LFxuICAgIGFycm93OiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgIH0sXG4gICAgcmVmZXJlbmNlOiB7fVxuICB9O1xuICBPYmplY3QuYXNzaWduKHN0YXRlLmVsZW1lbnRzLnBvcHBlci5zdHlsZSwgaW5pdGlhbFN0eWxlcy5wb3BwZXIpO1xuICBzdGF0ZS5zdHlsZXMgPSBpbml0aWFsU3R5bGVzO1xuXG4gIGlmIChzdGF0ZS5lbGVtZW50cy5hcnJvdykge1xuICAgIE9iamVjdC5hc3NpZ24oc3RhdGUuZWxlbWVudHMuYXJyb3cuc3R5bGUsIGluaXRpYWxTdHlsZXMuYXJyb3cpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBPYmplY3Qua2V5cyhzdGF0ZS5lbGVtZW50cykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBzdGF0ZS5lbGVtZW50c1tuYW1lXTtcbiAgICAgIHZhciBhdHRyaWJ1dGVzID0gc3RhdGUuYXR0cmlidXRlc1tuYW1lXSB8fCB7fTtcbiAgICAgIHZhciBzdHlsZVByb3BlcnRpZXMgPSBPYmplY3Qua2V5cyhzdGF0ZS5zdHlsZXMuaGFzT3duUHJvcGVydHkobmFtZSkgPyBzdGF0ZS5zdHlsZXNbbmFtZV0gOiBpbml0aWFsU3R5bGVzW25hbWVdKTsgLy8gU2V0IGFsbCB2YWx1ZXMgdG8gYW4gZW1wdHkgc3RyaW5nIHRvIHVuc2V0IHRoZW1cblxuICAgICAgdmFyIHN0eWxlID0gc3R5bGVQcm9wZXJ0aWVzLnJlZHVjZShmdW5jdGlvbiAoc3R5bGUsIHByb3BlcnR5KSB7XG4gICAgICAgIHN0eWxlW3Byb3BlcnR5XSA9ICcnO1xuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICB9LCB7fSk7IC8vIGFycm93IGlzIG9wdGlvbmFsICsgdmlydHVhbCBlbGVtZW50c1xuXG4gICAgICBpZiAoIWlzSFRNTEVsZW1lbnQoZWxlbWVudCkgfHwgIWdldE5vZGVOYW1lKGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgT2JqZWN0LmFzc2lnbihlbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnYXBwbHlTdHlsZXMnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ3dyaXRlJyxcbiAgZm46IGFwcGx5U3R5bGVzLFxuICBlZmZlY3Q6IGVmZmVjdCxcbiAgcmVxdWlyZXM6IFsnY29tcHV0ZVN0eWxlcyddXG59OyIsImltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0TGF5b3V0UmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldExheW91dFJlY3QuanNcIjtcbmltcG9ydCBjb250YWlucyBmcm9tIFwiLi4vZG9tLXV0aWxzL2NvbnRhaW5zLmpzXCI7XG5pbXBvcnQgZ2V0T2Zmc2V0UGFyZW50IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0T2Zmc2V0UGFyZW50LmpzXCI7XG5pbXBvcnQgZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQuanNcIjtcbmltcG9ydCB7IHdpdGhpbiB9IGZyb20gXCIuLi91dGlscy93aXRoaW4uanNcIjtcbmltcG9ydCBtZXJnZVBhZGRpbmdPYmplY3QgZnJvbSBcIi4uL3V0aWxzL21lcmdlUGFkZGluZ09iamVjdC5qc1wiO1xuaW1wb3J0IGV4cGFuZFRvSGFzaE1hcCBmcm9tIFwiLi4vdXRpbHMvZXhwYW5kVG9IYXNoTWFwLmpzXCI7XG5pbXBvcnQgeyBsZWZ0LCByaWdodCwgYmFzZVBsYWNlbWVudHMsIHRvcCwgYm90dG9tIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxudmFyIHRvUGFkZGluZ09iamVjdCA9IGZ1bmN0aW9uIHRvUGFkZGluZ09iamVjdChwYWRkaW5nLCBzdGF0ZSkge1xuICBwYWRkaW5nID0gdHlwZW9mIHBhZGRpbmcgPT09ICdmdW5jdGlvbicgPyBwYWRkaW5nKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnJlY3RzLCB7XG4gICAgcGxhY2VtZW50OiBzdGF0ZS5wbGFjZW1lbnRcbiAgfSkpIDogcGFkZGluZztcbiAgcmV0dXJuIG1lcmdlUGFkZGluZ09iamVjdCh0eXBlb2YgcGFkZGluZyAhPT0gJ251bWJlcicgPyBwYWRkaW5nIDogZXhwYW5kVG9IYXNoTWFwKHBhZGRpbmcsIGJhc2VQbGFjZW1lbnRzKSk7XG59O1xuXG5mdW5jdGlvbiBhcnJvdyhfcmVmKSB7XG4gIHZhciBfc3RhdGUkbW9kaWZpZXJzRGF0YSQ7XG5cbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zO1xuICB2YXIgYXJyb3dFbGVtZW50ID0gc3RhdGUuZWxlbWVudHMuYXJyb3c7XG4gIHZhciBwb3BwZXJPZmZzZXRzID0gc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzO1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQoc3RhdGUucGxhY2VtZW50KTtcbiAgdmFyIGF4aXMgPSBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQoYmFzZVBsYWNlbWVudCk7XG4gIHZhciBpc1ZlcnRpY2FsID0gW2xlZnQsIHJpZ2h0XS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpID49IDA7XG4gIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gIGlmICghYXJyb3dFbGVtZW50IHx8ICFwb3BwZXJPZmZzZXRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHBhZGRpbmdPYmplY3QgPSB0b1BhZGRpbmdPYmplY3Qob3B0aW9ucy5wYWRkaW5nLCBzdGF0ZSk7XG4gIHZhciBhcnJvd1JlY3QgPSBnZXRMYXlvdXRSZWN0KGFycm93RWxlbWVudCk7XG4gIHZhciBtaW5Qcm9wID0gYXhpcyA9PT0gJ3knID8gdG9wIDogbGVmdDtcbiAgdmFyIG1heFByb3AgPSBheGlzID09PSAneScgPyBib3R0b20gOiByaWdodDtcbiAgdmFyIGVuZERpZmYgPSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2VbbGVuXSArIHN0YXRlLnJlY3RzLnJlZmVyZW5jZVtheGlzXSAtIHBvcHBlck9mZnNldHNbYXhpc10gLSBzdGF0ZS5yZWN0cy5wb3BwZXJbbGVuXTtcbiAgdmFyIHN0YXJ0RGlmZiA9IHBvcHBlck9mZnNldHNbYXhpc10gLSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2VbYXhpc107XG4gIHZhciBhcnJvd09mZnNldFBhcmVudCA9IGdldE9mZnNldFBhcmVudChhcnJvd0VsZW1lbnQpO1xuICB2YXIgY2xpZW50U2l6ZSA9IGFycm93T2Zmc2V0UGFyZW50ID8gYXhpcyA9PT0gJ3knID8gYXJyb3dPZmZzZXRQYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDAgOiBhcnJvd09mZnNldFBhcmVudC5jbGllbnRXaWR0aCB8fCAwIDogMDtcbiAgdmFyIGNlbnRlclRvUmVmZXJlbmNlID0gZW5kRGlmZiAvIDIgLSBzdGFydERpZmYgLyAyOyAvLyBNYWtlIHN1cmUgdGhlIGFycm93IGRvZXNuJ3Qgb3ZlcmZsb3cgdGhlIHBvcHBlciBpZiB0aGUgY2VudGVyIHBvaW50IGlzXG4gIC8vIG91dHNpZGUgb2YgdGhlIHBvcHBlciBib3VuZHNcblxuICB2YXIgbWluID0gcGFkZGluZ09iamVjdFttaW5Qcm9wXTtcbiAgdmFyIG1heCA9IGNsaWVudFNpemUgLSBhcnJvd1JlY3RbbGVuXSAtIHBhZGRpbmdPYmplY3RbbWF4UHJvcF07XG4gIHZhciBjZW50ZXIgPSBjbGllbnRTaXplIC8gMiAtIGFycm93UmVjdFtsZW5dIC8gMiArIGNlbnRlclRvUmVmZXJlbmNlO1xuICB2YXIgb2Zmc2V0ID0gd2l0aGluKG1pbiwgY2VudGVyLCBtYXgpOyAvLyBQcmV2ZW50cyBicmVha2luZyBzeW50YXggaGlnaGxpZ2h0aW5nLi4uXG5cbiAgdmFyIGF4aXNQcm9wID0gYXhpcztcbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IChfc3RhdGUkbW9kaWZpZXJzRGF0YSQgPSB7fSwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkW2F4aXNQcm9wXSA9IG9mZnNldCwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkLmNlbnRlck9mZnNldCA9IG9mZnNldCAtIGNlbnRlciwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkKTtcbn1cblxuZnVuY3Rpb24gZWZmZWN0KF9yZWYyKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYyLnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWYyLm9wdGlvbnM7XG4gIHZhciBfb3B0aW9ucyRlbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50LFxuICAgICAgYXJyb3dFbGVtZW50ID0gX29wdGlvbnMkZWxlbWVudCA9PT0gdm9pZCAwID8gJ1tkYXRhLXBvcHBlci1hcnJvd10nIDogX29wdGlvbnMkZWxlbWVudDtcblxuICBpZiAoYXJyb3dFbGVtZW50ID09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gQ1NTIHNlbGVjdG9yXG5cblxuICBpZiAodHlwZW9mIGFycm93RWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICBhcnJvd0VsZW1lbnQgPSBzdGF0ZS5lbGVtZW50cy5wb3BwZXIucXVlcnlTZWxlY3RvcihhcnJvd0VsZW1lbnQpO1xuXG4gICAgaWYgKCFhcnJvd0VsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbnRhaW5zKHN0YXRlLmVsZW1lbnRzLnBvcHBlciwgYXJyb3dFbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN0YXRlLmVsZW1lbnRzLmFycm93ID0gYXJyb3dFbGVtZW50O1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnYXJyb3cnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ21haW4nLFxuICBmbjogYXJyb3csXG4gIGVmZmVjdDogZWZmZWN0LFxuICByZXF1aXJlczogWydwb3BwZXJPZmZzZXRzJ10sXG4gIHJlcXVpcmVzSWZFeGlzdHM6IFsncHJldmVudE92ZXJmbG93J11cbn07IiwiaW1wb3J0IHsgdG9wLCBsZWZ0LCByaWdodCwgYm90dG9tLCBlbmQgfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbmltcG9ydCBnZXRPZmZzZXRQYXJlbnQgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRPZmZzZXRQYXJlbnQuanNcIjtcbmltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRXaW5kb3cuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4uL2RvbS11dGlscy9nZXREb2N1bWVudEVsZW1lbnQuanNcIjtcbmltcG9ydCBnZXRDb21wdXRlZFN0eWxlIGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0Q29tcHV0ZWRTdHlsZS5qc1wiO1xuaW1wb3J0IGdldEJhc2VQbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmltcG9ydCBnZXRWYXJpYXRpb24gZnJvbSBcIi4uL3V0aWxzL2dldFZhcmlhdGlvbi5qc1wiO1xuaW1wb3J0IHsgcm91bmQgfSBmcm9tIFwiLi4vdXRpbHMvbWF0aC5qc1wiOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbnZhciB1bnNldFNpZGVzID0ge1xuICB0b3A6ICdhdXRvJyxcbiAgcmlnaHQ6ICdhdXRvJyxcbiAgYm90dG9tOiAnYXV0bycsXG4gIGxlZnQ6ICdhdXRvJ1xufTsgLy8gUm91bmQgdGhlIG9mZnNldHMgdG8gdGhlIG5lYXJlc3Qgc3VpdGFibGUgc3VicGl4ZWwgYmFzZWQgb24gdGhlIERQUi5cbi8vIFpvb21pbmcgY2FuIGNoYW5nZSB0aGUgRFBSLCBidXQgaXQgc2VlbXMgdG8gcmVwb3J0IGEgdmFsdWUgdGhhdCB3aWxsXG4vLyBjbGVhbmx5IGRpdmlkZSB0aGUgdmFsdWVzIGludG8gdGhlIGFwcHJvcHJpYXRlIHN1YnBpeGVscy5cblxuZnVuY3Rpb24gcm91bmRPZmZzZXRzQnlEUFIoX3JlZiwgd2luKSB7XG4gIHZhciB4ID0gX3JlZi54LFxuICAgICAgeSA9IF9yZWYueTtcbiAgdmFyIGRwciA9IHdpbi5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gIHJldHVybiB7XG4gICAgeDogcm91bmQoeCAqIGRwcikgLyBkcHIgfHwgMCxcbiAgICB5OiByb3VuZCh5ICogZHByKSAvIGRwciB8fCAwXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXBUb1N0eWxlcyhfcmVmMikge1xuICB2YXIgX09iamVjdCRhc3NpZ24yO1xuXG4gIHZhciBwb3BwZXIgPSBfcmVmMi5wb3BwZXIsXG4gICAgICBwb3BwZXJSZWN0ID0gX3JlZjIucG9wcGVyUmVjdCxcbiAgICAgIHBsYWNlbWVudCA9IF9yZWYyLnBsYWNlbWVudCxcbiAgICAgIHZhcmlhdGlvbiA9IF9yZWYyLnZhcmlhdGlvbixcbiAgICAgIG9mZnNldHMgPSBfcmVmMi5vZmZzZXRzLFxuICAgICAgcG9zaXRpb24gPSBfcmVmMi5wb3NpdGlvbixcbiAgICAgIGdwdUFjY2VsZXJhdGlvbiA9IF9yZWYyLmdwdUFjY2VsZXJhdGlvbixcbiAgICAgIGFkYXB0aXZlID0gX3JlZjIuYWRhcHRpdmUsXG4gICAgICByb3VuZE9mZnNldHMgPSBfcmVmMi5yb3VuZE9mZnNldHMsXG4gICAgICBpc0ZpeGVkID0gX3JlZjIuaXNGaXhlZDtcbiAgdmFyIF9vZmZzZXRzJHggPSBvZmZzZXRzLngsXG4gICAgICB4ID0gX29mZnNldHMkeCA9PT0gdm9pZCAwID8gMCA6IF9vZmZzZXRzJHgsXG4gICAgICBfb2Zmc2V0cyR5ID0gb2Zmc2V0cy55LFxuICAgICAgeSA9IF9vZmZzZXRzJHkgPT09IHZvaWQgMCA/IDAgOiBfb2Zmc2V0cyR5O1xuXG4gIHZhciBfcmVmMyA9IHR5cGVvZiByb3VuZE9mZnNldHMgPT09ICdmdW5jdGlvbicgPyByb3VuZE9mZnNldHMoe1xuICAgIHg6IHgsXG4gICAgeTogeVxuICB9KSA6IHtcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfTtcblxuICB4ID0gX3JlZjMueDtcbiAgeSA9IF9yZWYzLnk7XG4gIHZhciBoYXNYID0gb2Zmc2V0cy5oYXNPd25Qcm9wZXJ0eSgneCcpO1xuICB2YXIgaGFzWSA9IG9mZnNldHMuaGFzT3duUHJvcGVydHkoJ3knKTtcbiAgdmFyIHNpZGVYID0gbGVmdDtcbiAgdmFyIHNpZGVZID0gdG9wO1xuICB2YXIgd2luID0gd2luZG93O1xuXG4gIGlmIChhZGFwdGl2ZSkge1xuICAgIHZhciBvZmZzZXRQYXJlbnQgPSBnZXRPZmZzZXRQYXJlbnQocG9wcGVyKTtcbiAgICB2YXIgaGVpZ2h0UHJvcCA9ICdjbGllbnRIZWlnaHQnO1xuICAgIHZhciB3aWR0aFByb3AgPSAnY2xpZW50V2lkdGgnO1xuXG4gICAgaWYgKG9mZnNldFBhcmVudCA9PT0gZ2V0V2luZG93KHBvcHBlcikpIHtcbiAgICAgIG9mZnNldFBhcmVudCA9IGdldERvY3VtZW50RWxlbWVudChwb3BwZXIpO1xuXG4gICAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShvZmZzZXRQYXJlbnQpLnBvc2l0aW9uICE9PSAnc3RhdGljJyAmJiBwb3NpdGlvbiA9PT0gJ2Fic29sdXRlJykge1xuICAgICAgICBoZWlnaHRQcm9wID0gJ3Njcm9sbEhlaWdodCc7XG4gICAgICAgIHdpZHRoUHJvcCA9ICdzY3JvbGxXaWR0aCc7XG4gICAgICB9XG4gICAgfSAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYXN0XTogZm9yY2UgdHlwZSByZWZpbmVtZW50LCB3ZSBjb21wYXJlIG9mZnNldFBhcmVudCB3aXRoIHdpbmRvdyBhYm92ZSwgYnV0IEZsb3cgZG9lc24ndCBkZXRlY3QgaXRcblxuXG4gICAgb2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50O1xuXG4gICAgaWYgKHBsYWNlbWVudCA9PT0gdG9wIHx8IChwbGFjZW1lbnQgPT09IGxlZnQgfHwgcGxhY2VtZW50ID09PSByaWdodCkgJiYgdmFyaWF0aW9uID09PSBlbmQpIHtcbiAgICAgIHNpZGVZID0gYm90dG9tO1xuICAgICAgdmFyIG9mZnNldFkgPSBpc0ZpeGVkICYmIG9mZnNldFBhcmVudCA9PT0gd2luICYmIHdpbi52aXN1YWxWaWV3cG9ydCA/IHdpbi52aXN1YWxWaWV3cG9ydC5oZWlnaHQgOiAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICAgIG9mZnNldFBhcmVudFtoZWlnaHRQcm9wXTtcbiAgICAgIHkgLT0gb2Zmc2V0WSAtIHBvcHBlclJlY3QuaGVpZ2h0O1xuICAgICAgeSAqPSBncHVBY2NlbGVyYXRpb24gPyAxIDogLTE7XG4gICAgfVxuXG4gICAgaWYgKHBsYWNlbWVudCA9PT0gbGVmdCB8fCAocGxhY2VtZW50ID09PSB0b3AgfHwgcGxhY2VtZW50ID09PSBib3R0b20pICYmIHZhcmlhdGlvbiA9PT0gZW5kKSB7XG4gICAgICBzaWRlWCA9IHJpZ2h0O1xuICAgICAgdmFyIG9mZnNldFggPSBpc0ZpeGVkICYmIG9mZnNldFBhcmVudCA9PT0gd2luICYmIHdpbi52aXN1YWxWaWV3cG9ydCA/IHdpbi52aXN1YWxWaWV3cG9ydC53aWR0aCA6IC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgb2Zmc2V0UGFyZW50W3dpZHRoUHJvcF07XG4gICAgICB4IC09IG9mZnNldFggLSBwb3BwZXJSZWN0LndpZHRoO1xuICAgICAgeCAqPSBncHVBY2NlbGVyYXRpb24gPyAxIDogLTE7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNvbW1vblN0eWxlcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIHBvc2l0aW9uOiBwb3NpdGlvblxuICB9LCBhZGFwdGl2ZSAmJiB1bnNldFNpZGVzKTtcblxuICB2YXIgX3JlZjQgPSByb3VuZE9mZnNldHMgPT09IHRydWUgPyByb3VuZE9mZnNldHNCeURQUih7XG4gICAgeDogeCxcbiAgICB5OiB5XG4gIH0sIGdldFdpbmRvdyhwb3BwZXIpKSA6IHtcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfTtcblxuICB4ID0gX3JlZjQueDtcbiAgeSA9IF9yZWY0Lnk7XG5cbiAgaWYgKGdwdUFjY2VsZXJhdGlvbikge1xuICAgIHZhciBfT2JqZWN0JGFzc2lnbjtcblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjb21tb25TdHlsZXMsIChfT2JqZWN0JGFzc2lnbiA9IHt9LCBfT2JqZWN0JGFzc2lnbltzaWRlWV0gPSBoYXNZID8gJzAnIDogJycsIF9PYmplY3QkYXNzaWduW3NpZGVYXSA9IGhhc1ggPyAnMCcgOiAnJywgX09iamVjdCRhc3NpZ24udHJhbnNmb3JtID0gKHdpbi5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpIDw9IDEgPyBcInRyYW5zbGF0ZShcIiArIHggKyBcInB4LCBcIiArIHkgKyBcInB4KVwiIDogXCJ0cmFuc2xhdGUzZChcIiArIHggKyBcInB4LCBcIiArIHkgKyBcInB4LCAwKVwiLCBfT2JqZWN0JGFzc2lnbikpO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNvbW1vblN0eWxlcywgKF9PYmplY3QkYXNzaWduMiA9IHt9LCBfT2JqZWN0JGFzc2lnbjJbc2lkZVldID0gaGFzWSA/IHkgKyBcInB4XCIgOiAnJywgX09iamVjdCRhc3NpZ24yW3NpZGVYXSA9IGhhc1ggPyB4ICsgXCJweFwiIDogJycsIF9PYmplY3QkYXNzaWduMi50cmFuc2Zvcm0gPSAnJywgX09iamVjdCRhc3NpZ24yKSk7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVTdHlsZXMoX3JlZjUpIHtcbiAgdmFyIHN0YXRlID0gX3JlZjUuc3RhdGUsXG4gICAgICBvcHRpb25zID0gX3JlZjUub3B0aW9ucztcbiAgdmFyIF9vcHRpb25zJGdwdUFjY2VsZXJhdCA9IG9wdGlvbnMuZ3B1QWNjZWxlcmF0aW9uLFxuICAgICAgZ3B1QWNjZWxlcmF0aW9uID0gX29wdGlvbnMkZ3B1QWNjZWxlcmF0ID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkZ3B1QWNjZWxlcmF0LFxuICAgICAgX29wdGlvbnMkYWRhcHRpdmUgPSBvcHRpb25zLmFkYXB0aXZlLFxuICAgICAgYWRhcHRpdmUgPSBfb3B0aW9ucyRhZGFwdGl2ZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJGFkYXB0aXZlLFxuICAgICAgX29wdGlvbnMkcm91bmRPZmZzZXRzID0gb3B0aW9ucy5yb3VuZE9mZnNldHMsXG4gICAgICByb3VuZE9mZnNldHMgPSBfb3B0aW9ucyRyb3VuZE9mZnNldHMgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRyb3VuZE9mZnNldHM7XG4gIHZhciBjb21tb25TdHlsZXMgPSB7XG4gICAgcGxhY2VtZW50OiBnZXRCYXNlUGxhY2VtZW50KHN0YXRlLnBsYWNlbWVudCksXG4gICAgdmFyaWF0aW9uOiBnZXRWYXJpYXRpb24oc3RhdGUucGxhY2VtZW50KSxcbiAgICBwb3BwZXI6IHN0YXRlLmVsZW1lbnRzLnBvcHBlcixcbiAgICBwb3BwZXJSZWN0OiBzdGF0ZS5yZWN0cy5wb3BwZXIsXG4gICAgZ3B1QWNjZWxlcmF0aW9uOiBncHVBY2NlbGVyYXRpb24sXG4gICAgaXNGaXhlZDogc3RhdGUub3B0aW9ucy5zdHJhdGVneSA9PT0gJ2ZpeGVkJ1xuICB9O1xuXG4gIGlmIChzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMgIT0gbnVsbCkge1xuICAgIHN0YXRlLnN0eWxlcy5wb3BwZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5zdHlsZXMucG9wcGVyLCBtYXBUb1N0eWxlcyhPYmplY3QuYXNzaWduKHt9LCBjb21tb25TdHlsZXMsIHtcbiAgICAgIG9mZnNldHM6IHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyxcbiAgICAgIHBvc2l0aW9uOiBzdGF0ZS5vcHRpb25zLnN0cmF0ZWd5LFxuICAgICAgYWRhcHRpdmU6IGFkYXB0aXZlLFxuICAgICAgcm91bmRPZmZzZXRzOiByb3VuZE9mZnNldHNcbiAgICB9KSkpO1xuICB9XG5cbiAgaWYgKHN0YXRlLm1vZGlmaWVyc0RhdGEuYXJyb3cgIT0gbnVsbCkge1xuICAgIHN0YXRlLnN0eWxlcy5hcnJvdyA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnN0eWxlcy5hcnJvdywgbWFwVG9TdHlsZXMoT2JqZWN0LmFzc2lnbih7fSwgY29tbW9uU3R5bGVzLCB7XG4gICAgICBvZmZzZXRzOiBzdGF0ZS5tb2RpZmllcnNEYXRhLmFycm93LFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBhZGFwdGl2ZTogZmFsc2UsXG4gICAgICByb3VuZE9mZnNldHM6IHJvdW5kT2Zmc2V0c1xuICAgIH0pKSk7XG4gIH1cblxuICBzdGF0ZS5hdHRyaWJ1dGVzLnBvcHBlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLmF0dHJpYnV0ZXMucG9wcGVyLCB7XG4gICAgJ2RhdGEtcG9wcGVyLXBsYWNlbWVudCc6IHN0YXRlLnBsYWNlbWVudFxuICB9KTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ2NvbXB1dGVTdHlsZXMnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ2JlZm9yZVdyaXRlJyxcbiAgZm46IGNvbXB1dGVTdHlsZXMsXG4gIGRhdGE6IHt9XG59OyIsImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRXaW5kb3cuanNcIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG52YXIgcGFzc2l2ZSA9IHtcbiAgcGFzc2l2ZTogdHJ1ZVxufTtcblxuZnVuY3Rpb24gZWZmZWN0KF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIGluc3RhbmNlID0gX3JlZi5pbnN0YW5jZSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmLm9wdGlvbnM7XG4gIHZhciBfb3B0aW9ucyRzY3JvbGwgPSBvcHRpb25zLnNjcm9sbCxcbiAgICAgIHNjcm9sbCA9IF9vcHRpb25zJHNjcm9sbCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHNjcm9sbCxcbiAgICAgIF9vcHRpb25zJHJlc2l6ZSA9IG9wdGlvbnMucmVzaXplLFxuICAgICAgcmVzaXplID0gX29wdGlvbnMkcmVzaXplID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkcmVzaXplO1xuICB2YXIgd2luZG93ID0gZ2V0V2luZG93KHN0YXRlLmVsZW1lbnRzLnBvcHBlcik7XG4gIHZhciBzY3JvbGxQYXJlbnRzID0gW10uY29uY2F0KHN0YXRlLnNjcm9sbFBhcmVudHMucmVmZXJlbmNlLCBzdGF0ZS5zY3JvbGxQYXJlbnRzLnBvcHBlcik7XG5cbiAgaWYgKHNjcm9sbCkge1xuICAgIHNjcm9sbFBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAoc2Nyb2xsUGFyZW50KSB7XG4gICAgICBzY3JvbGxQYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaW5zdGFuY2UudXBkYXRlLCBwYXNzaXZlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChyZXNpemUpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaW5zdGFuY2UudXBkYXRlLCBwYXNzaXZlKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHNjcm9sbCkge1xuICAgICAgc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzY3JvbGxQYXJlbnQpIHtcbiAgICAgICAgc2Nyb2xsUGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGluc3RhbmNlLnVwZGF0ZSwgcGFzc2l2ZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocmVzaXplKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaW5zdGFuY2UudXBkYXRlLCBwYXNzaXZlKTtcbiAgICB9XG4gIH07XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdldmVudExpc3RlbmVycycsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnd3JpdGUnLFxuICBmbjogZnVuY3Rpb24gZm4oKSB7fSxcbiAgZWZmZWN0OiBlZmZlY3QsXG4gIGRhdGE6IHt9XG59OyIsImltcG9ydCBnZXRPcHBvc2l0ZVBsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvZ2V0T3Bwb3NpdGVQbGFjZW1lbnQuanNcIjtcbmltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0T3Bwb3NpdGVWYXJpYXRpb25QbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZGV0ZWN0T3ZlcmZsb3cgZnJvbSBcIi4uL3V0aWxzL2RldGVjdE92ZXJmbG93LmpzXCI7XG5pbXBvcnQgY29tcHV0ZUF1dG9QbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2NvbXB1dGVBdXRvUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgeyBib3R0b20sIHRvcCwgc3RhcnQsIHJpZ2h0LCBsZWZ0LCBhdXRvIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgZ2V0VmFyaWF0aW9uIGZyb20gXCIuLi91dGlscy9nZXRWYXJpYXRpb24uanNcIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5mdW5jdGlvbiBnZXRFeHBhbmRlZEZhbGxiYWNrUGxhY2VtZW50cyhwbGFjZW1lbnQpIHtcbiAgaWYgKGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KSA9PT0gYXV0bykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBvcHBvc2l0ZVBsYWNlbWVudCA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gIHJldHVybiBbZ2V0T3Bwb3NpdGVWYXJpYXRpb25QbGFjZW1lbnQocGxhY2VtZW50KSwgb3Bwb3NpdGVQbGFjZW1lbnQsIGdldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50KG9wcG9zaXRlUGxhY2VtZW50KV07XG59XG5cbmZ1bmN0aW9uIGZsaXAoX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWYub3B0aW9ucyxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWU7XG5cbiAgaWYgKHN0YXRlLm1vZGlmaWVyc0RhdGFbbmFtZV0uX3NraXApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgX29wdGlvbnMkbWFpbkF4aXMgPSBvcHRpb25zLm1haW5BeGlzLFxuICAgICAgY2hlY2tNYWluQXhpcyA9IF9vcHRpb25zJG1haW5BeGlzID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkbWFpbkF4aXMsXG4gICAgICBfb3B0aW9ucyRhbHRBeGlzID0gb3B0aW9ucy5hbHRBeGlzLFxuICAgICAgY2hlY2tBbHRBeGlzID0gX29wdGlvbnMkYWx0QXhpcyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJGFsdEF4aXMsXG4gICAgICBzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMgPSBvcHRpb25zLmZhbGxiYWNrUGxhY2VtZW50cyxcbiAgICAgIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmcsXG4gICAgICBib3VuZGFyeSA9IG9wdGlvbnMuYm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnkgPSBvcHRpb25zLnJvb3RCb3VuZGFyeSxcbiAgICAgIGFsdEJvdW5kYXJ5ID0gb3B0aW9ucy5hbHRCb3VuZGFyeSxcbiAgICAgIF9vcHRpb25zJGZsaXBWYXJpYXRpbyA9IG9wdGlvbnMuZmxpcFZhcmlhdGlvbnMsXG4gICAgICBmbGlwVmFyaWF0aW9ucyA9IF9vcHRpb25zJGZsaXBWYXJpYXRpbyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJGZsaXBWYXJpYXRpbyxcbiAgICAgIGFsbG93ZWRBdXRvUGxhY2VtZW50cyA9IG9wdGlvbnMuYWxsb3dlZEF1dG9QbGFjZW1lbnRzO1xuICB2YXIgcHJlZmVycmVkUGxhY2VtZW50ID0gc3RhdGUub3B0aW9ucy5wbGFjZW1lbnQ7XG4gIHZhciBiYXNlUGxhY2VtZW50ID0gZ2V0QmFzZVBsYWNlbWVudChwcmVmZXJyZWRQbGFjZW1lbnQpO1xuICB2YXIgaXNCYXNlUGxhY2VtZW50ID0gYmFzZVBsYWNlbWVudCA9PT0gcHJlZmVycmVkUGxhY2VtZW50O1xuICB2YXIgZmFsbGJhY2tQbGFjZW1lbnRzID0gc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzIHx8IChpc0Jhc2VQbGFjZW1lbnQgfHwgIWZsaXBWYXJpYXRpb25zID8gW2dldE9wcG9zaXRlUGxhY2VtZW50KHByZWZlcnJlZFBsYWNlbWVudCldIDogZ2V0RXhwYW5kZWRGYWxsYmFja1BsYWNlbWVudHMocHJlZmVycmVkUGxhY2VtZW50KSk7XG4gIHZhciBwbGFjZW1lbnRzID0gW3ByZWZlcnJlZFBsYWNlbWVudF0uY29uY2F0KGZhbGxiYWNrUGxhY2VtZW50cykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBsYWNlbWVudCkge1xuICAgIHJldHVybiBhY2MuY29uY2F0KGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KSA9PT0gYXV0byA/IGNvbXB1dGVBdXRvUGxhY2VtZW50KHN0YXRlLCB7XG4gICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIGJvdW5kYXJ5OiBib3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeTogcm9vdEJvdW5kYXJ5LFxuICAgICAgcGFkZGluZzogcGFkZGluZyxcbiAgICAgIGZsaXBWYXJpYXRpb25zOiBmbGlwVmFyaWF0aW9ucyxcbiAgICAgIGFsbG93ZWRBdXRvUGxhY2VtZW50czogYWxsb3dlZEF1dG9QbGFjZW1lbnRzXG4gICAgfSkgOiBwbGFjZW1lbnQpO1xuICB9LCBbXSk7XG4gIHZhciByZWZlcmVuY2VSZWN0ID0gc3RhdGUucmVjdHMucmVmZXJlbmNlO1xuICB2YXIgcG9wcGVyUmVjdCA9IHN0YXRlLnJlY3RzLnBvcHBlcjtcbiAgdmFyIGNoZWNrc01hcCA9IG5ldyBNYXAoKTtcbiAgdmFyIG1ha2VGYWxsYmFja0NoZWNrcyA9IHRydWU7XG4gIHZhciBmaXJzdEZpdHRpbmdQbGFjZW1lbnQgPSBwbGFjZW1lbnRzWzBdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGxhY2VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwbGFjZW1lbnQgPSBwbGFjZW1lbnRzW2ldO1xuXG4gICAgdmFyIF9iYXNlUGxhY2VtZW50ID0gZ2V0QmFzZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuXG4gICAgdmFyIGlzU3RhcnRWYXJpYXRpb24gPSBnZXRWYXJpYXRpb24ocGxhY2VtZW50KSA9PT0gc3RhcnQ7XG4gICAgdmFyIGlzVmVydGljYWwgPSBbdG9wLCBib3R0b21dLmluZGV4T2YoX2Jhc2VQbGFjZW1lbnQpID49IDA7XG4gICAgdmFyIGxlbiA9IGlzVmVydGljYWwgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG4gICAgdmFyIG92ZXJmbG93ID0gZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgYm91bmRhcnk6IGJvdW5kYXJ5LFxuICAgICAgcm9vdEJvdW5kYXJ5OiByb290Qm91bmRhcnksXG4gICAgICBhbHRCb3VuZGFyeTogYWx0Qm91bmRhcnksXG4gICAgICBwYWRkaW5nOiBwYWRkaW5nXG4gICAgfSk7XG4gICAgdmFyIG1haW5WYXJpYXRpb25TaWRlID0gaXNWZXJ0aWNhbCA/IGlzU3RhcnRWYXJpYXRpb24gPyByaWdodCA6IGxlZnQgOiBpc1N0YXJ0VmFyaWF0aW9uID8gYm90dG9tIDogdG9wO1xuXG4gICAgaWYgKHJlZmVyZW5jZVJlY3RbbGVuXSA+IHBvcHBlclJlY3RbbGVuXSkge1xuICAgICAgbWFpblZhcmlhdGlvblNpZGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChtYWluVmFyaWF0aW9uU2lkZSk7XG4gICAgfVxuXG4gICAgdmFyIGFsdFZhcmlhdGlvblNpZGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChtYWluVmFyaWF0aW9uU2lkZSk7XG4gICAgdmFyIGNoZWNrcyA9IFtdO1xuXG4gICAgaWYgKGNoZWNrTWFpbkF4aXMpIHtcbiAgICAgIGNoZWNrcy5wdXNoKG92ZXJmbG93W19iYXNlUGxhY2VtZW50XSA8PSAwKTtcbiAgICB9XG5cbiAgICBpZiAoY2hlY2tBbHRBeGlzKSB7XG4gICAgICBjaGVja3MucHVzaChvdmVyZmxvd1ttYWluVmFyaWF0aW9uU2lkZV0gPD0gMCwgb3ZlcmZsb3dbYWx0VmFyaWF0aW9uU2lkZV0gPD0gMCk7XG4gICAgfVxuXG4gICAgaWYgKGNoZWNrcy5ldmVyeShmdW5jdGlvbiAoY2hlY2spIHtcbiAgICAgIHJldHVybiBjaGVjaztcbiAgICB9KSkge1xuICAgICAgZmlyc3RGaXR0aW5nUGxhY2VtZW50ID0gcGxhY2VtZW50O1xuICAgICAgbWFrZUZhbGxiYWNrQ2hlY2tzID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBjaGVja3NNYXAuc2V0KHBsYWNlbWVudCwgY2hlY2tzKTtcbiAgfVxuXG4gIGlmIChtYWtlRmFsbGJhY2tDaGVja3MpIHtcbiAgICAvLyBgMmAgbWF5IGJlIGRlc2lyZWQgaW4gc29tZSBjYXNlcyDigJMgcmVzZWFyY2ggbGF0ZXJcbiAgICB2YXIgbnVtYmVyT2ZDaGVja3MgPSBmbGlwVmFyaWF0aW9ucyA/IDMgOiAxO1xuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoX2kpIHtcbiAgICAgIHZhciBmaXR0aW5nUGxhY2VtZW50ID0gcGxhY2VtZW50cy5maW5kKGZ1bmN0aW9uIChwbGFjZW1lbnQpIHtcbiAgICAgICAgdmFyIGNoZWNrcyA9IGNoZWNrc01hcC5nZXQocGxhY2VtZW50KTtcblxuICAgICAgICBpZiAoY2hlY2tzKSB7XG4gICAgICAgICAgcmV0dXJuIGNoZWNrcy5zbGljZSgwLCBfaSkuZXZlcnkoZnVuY3Rpb24gKGNoZWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2s7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZml0dGluZ1BsYWNlbWVudCkge1xuICAgICAgICBmaXJzdEZpdHRpbmdQbGFjZW1lbnQgPSBmaXR0aW5nUGxhY2VtZW50O1xuICAgICAgICByZXR1cm4gXCJicmVha1wiO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBfaSA9IG51bWJlck9mQ2hlY2tzOyBfaSA+IDA7IF9pLS0pIHtcbiAgICAgIHZhciBfcmV0ID0gX2xvb3AoX2kpO1xuXG4gICAgICBpZiAoX3JldCA9PT0gXCJicmVha1wiKSBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoc3RhdGUucGxhY2VtZW50ICE9PSBmaXJzdEZpdHRpbmdQbGFjZW1lbnQpIHtcbiAgICBzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdLl9za2lwID0gdHJ1ZTtcbiAgICBzdGF0ZS5wbGFjZW1lbnQgPSBmaXJzdEZpdHRpbmdQbGFjZW1lbnQ7XG4gICAgc3RhdGUucmVzZXQgPSB0cnVlO1xuICB9XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdmbGlwJyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgcGhhc2U6ICdtYWluJyxcbiAgZm46IGZsaXAsXG4gIHJlcXVpcmVzSWZFeGlzdHM6IFsnb2Zmc2V0J10sXG4gIGRhdGE6IHtcbiAgICBfc2tpcDogZmFsc2VcbiAgfVxufTsiLCJpbXBvcnQgeyB0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHQgfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbmltcG9ydCBkZXRlY3RPdmVyZmxvdyBmcm9tIFwiLi4vdXRpbHMvZGV0ZWN0T3ZlcmZsb3cuanNcIjtcblxuZnVuY3Rpb24gZ2V0U2lkZU9mZnNldHMob3ZlcmZsb3csIHJlY3QsIHByZXZlbnRlZE9mZnNldHMpIHtcbiAgaWYgKHByZXZlbnRlZE9mZnNldHMgPT09IHZvaWQgMCkge1xuICAgIHByZXZlbnRlZE9mZnNldHMgPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRvcDogb3ZlcmZsb3cudG9wIC0gcmVjdC5oZWlnaHQgLSBwcmV2ZW50ZWRPZmZzZXRzLnksXG4gICAgcmlnaHQ6IG92ZXJmbG93LnJpZ2h0IC0gcmVjdC53aWR0aCArIHByZXZlbnRlZE9mZnNldHMueCxcbiAgICBib3R0b206IG92ZXJmbG93LmJvdHRvbSAtIHJlY3QuaGVpZ2h0ICsgcHJldmVudGVkT2Zmc2V0cy55LFxuICAgIGxlZnQ6IG92ZXJmbG93LmxlZnQgLSByZWN0LndpZHRoIC0gcHJldmVudGVkT2Zmc2V0cy54XG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChvdmVyZmxvdykge1xuICByZXR1cm4gW3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdF0uc29tZShmdW5jdGlvbiAoc2lkZSkge1xuICAgIHJldHVybiBvdmVyZmxvd1tzaWRlXSA+PSAwO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaGlkZShfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lO1xuICB2YXIgcmVmZXJlbmNlUmVjdCA9IHN0YXRlLnJlY3RzLnJlZmVyZW5jZTtcbiAgdmFyIHBvcHBlclJlY3QgPSBzdGF0ZS5yZWN0cy5wb3BwZXI7XG4gIHZhciBwcmV2ZW50ZWRPZmZzZXRzID0gc3RhdGUubW9kaWZpZXJzRGF0YS5wcmV2ZW50T3ZlcmZsb3c7XG4gIHZhciByZWZlcmVuY2VPdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7XG4gICAgZWxlbWVudENvbnRleHQ6ICdyZWZlcmVuY2UnXG4gIH0pO1xuICB2YXIgcG9wcGVyQWx0T3ZlcmZsb3cgPSBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgIGFsdEJvdW5kYXJ5OiB0cnVlXG4gIH0pO1xuICB2YXIgcmVmZXJlbmNlQ2xpcHBpbmdPZmZzZXRzID0gZ2V0U2lkZU9mZnNldHMocmVmZXJlbmNlT3ZlcmZsb3csIHJlZmVyZW5jZVJlY3QpO1xuICB2YXIgcG9wcGVyRXNjYXBlT2Zmc2V0cyA9IGdldFNpZGVPZmZzZXRzKHBvcHBlckFsdE92ZXJmbG93LCBwb3BwZXJSZWN0LCBwcmV2ZW50ZWRPZmZzZXRzKTtcbiAgdmFyIGlzUmVmZXJlbmNlSGlkZGVuID0gaXNBbnlTaWRlRnVsbHlDbGlwcGVkKHJlZmVyZW5jZUNsaXBwaW5nT2Zmc2V0cyk7XG4gIHZhciBoYXNQb3BwZXJFc2NhcGVkID0gaXNBbnlTaWRlRnVsbHlDbGlwcGVkKHBvcHBlckVzY2FwZU9mZnNldHMpO1xuICBzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdID0ge1xuICAgIHJlZmVyZW5jZUNsaXBwaW5nT2Zmc2V0czogcmVmZXJlbmNlQ2xpcHBpbmdPZmZzZXRzLFxuICAgIHBvcHBlckVzY2FwZU9mZnNldHM6IHBvcHBlckVzY2FwZU9mZnNldHMsXG4gICAgaXNSZWZlcmVuY2VIaWRkZW46IGlzUmVmZXJlbmNlSGlkZGVuLFxuICAgIGhhc1BvcHBlckVzY2FwZWQ6IGhhc1BvcHBlckVzY2FwZWRcbiAgfTtcbiAgc3RhdGUuYXR0cmlidXRlcy5wb3BwZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5hdHRyaWJ1dGVzLnBvcHBlciwge1xuICAgICdkYXRhLXBvcHBlci1yZWZlcmVuY2UtaGlkZGVuJzogaXNSZWZlcmVuY2VIaWRkZW4sXG4gICAgJ2RhdGEtcG9wcGVyLWVzY2FwZWQnOiBoYXNQb3BwZXJFc2NhcGVkXG4gIH0pO1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnaGlkZScsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnbWFpbicsXG4gIHJlcXVpcmVzSWZFeGlzdHM6IFsncHJldmVudE92ZXJmbG93J10sXG4gIGZuOiBoaWRlXG59OyIsImV4cG9ydCB7IGRlZmF1bHQgYXMgYXBwbHlTdHlsZXMgfSBmcm9tIFwiLi9hcHBseVN0eWxlcy5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBhcnJvdyB9IGZyb20gXCIuL2Fycm93LmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNvbXB1dGVTdHlsZXMgfSBmcm9tIFwiLi9jb21wdXRlU3R5bGVzLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGV2ZW50TGlzdGVuZXJzIH0gZnJvbSBcIi4vZXZlbnRMaXN0ZW5lcnMuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZmxpcCB9IGZyb20gXCIuL2ZsaXAuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaGlkZSB9IGZyb20gXCIuL2hpZGUuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgb2Zmc2V0IH0gZnJvbSBcIi4vb2Zmc2V0LmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHBvcHBlck9mZnNldHMgfSBmcm9tIFwiLi9wb3BwZXJPZmZzZXRzLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHByZXZlbnRPdmVyZmxvdyB9IGZyb20gXCIuL3ByZXZlbnRPdmVyZmxvdy5qc1wiOyIsImltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgeyB0b3AsIGxlZnQsIHJpZ2h0LCBwbGFjZW1lbnRzIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlQW5kU2tpZGRpbmdUb1hZKHBsYWNlbWVudCwgcmVjdHMsIG9mZnNldCkge1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgdmFyIGludmVydERpc3RhbmNlID0gW2xlZnQsIHRvcF0uaW5kZXhPZihiYXNlUGxhY2VtZW50KSA+PSAwID8gLTEgOiAxO1xuXG4gIHZhciBfcmVmID0gdHlwZW9mIG9mZnNldCA9PT0gJ2Z1bmN0aW9uJyA/IG9mZnNldChPYmplY3QuYXNzaWduKHt9LCByZWN0cywge1xuICAgIHBsYWNlbWVudDogcGxhY2VtZW50XG4gIH0pKSA6IG9mZnNldCxcbiAgICAgIHNraWRkaW5nID0gX3JlZlswXSxcbiAgICAgIGRpc3RhbmNlID0gX3JlZlsxXTtcblxuICBza2lkZGluZyA9IHNraWRkaW5nIHx8IDA7XG4gIGRpc3RhbmNlID0gKGRpc3RhbmNlIHx8IDApICogaW52ZXJ0RGlzdGFuY2U7XG4gIHJldHVybiBbbGVmdCwgcmlnaHRdLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgPj0gMCA/IHtcbiAgICB4OiBkaXN0YW5jZSxcbiAgICB5OiBza2lkZGluZ1xuICB9IDoge1xuICAgIHg6IHNraWRkaW5nLFxuICAgIHk6IGRpc3RhbmNlXG4gIH07XG59XG5cbmZ1bmN0aW9uIG9mZnNldChfcmVmMikge1xuICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmMi5vcHRpb25zLFxuICAgICAgbmFtZSA9IF9yZWYyLm5hbWU7XG4gIHZhciBfb3B0aW9ucyRvZmZzZXQgPSBvcHRpb25zLm9mZnNldCxcbiAgICAgIG9mZnNldCA9IF9vcHRpb25zJG9mZnNldCA9PT0gdm9pZCAwID8gWzAsIDBdIDogX29wdGlvbnMkb2Zmc2V0O1xuICB2YXIgZGF0YSA9IHBsYWNlbWVudHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBsYWNlbWVudCkge1xuICAgIGFjY1twbGFjZW1lbnRdID0gZGlzdGFuY2VBbmRTa2lkZGluZ1RvWFkocGxhY2VtZW50LCBzdGF0ZS5yZWN0cywgb2Zmc2V0KTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIHZhciBfZGF0YSRzdGF0ZSRwbGFjZW1lbnQgPSBkYXRhW3N0YXRlLnBsYWNlbWVudF0sXG4gICAgICB4ID0gX2RhdGEkc3RhdGUkcGxhY2VtZW50LngsXG4gICAgICB5ID0gX2RhdGEkc3RhdGUkcGxhY2VtZW50Lnk7XG5cbiAgaWYgKHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyAhPSBudWxsKSB7XG4gICAgc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzLnggKz0geDtcbiAgICBzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMueSArPSB5O1xuICB9XG5cbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IGRhdGE7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdvZmZzZXQnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ21haW4nLFxuICByZXF1aXJlczogWydwb3BwZXJPZmZzZXRzJ10sXG4gIGZuOiBvZmZzZXRcbn07IiwiaW1wb3J0IGNvbXB1dGVPZmZzZXRzIGZyb20gXCIuLi91dGlscy9jb21wdXRlT2Zmc2V0cy5qc1wiO1xuXG5mdW5jdGlvbiBwb3BwZXJPZmZzZXRzKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWU7XG4gIC8vIE9mZnNldHMgYXJlIHRoZSBhY3R1YWwgcG9zaXRpb24gdGhlIHBvcHBlciBuZWVkcyB0byBoYXZlIHRvIGJlXG4gIC8vIHByb3Blcmx5IHBvc2l0aW9uZWQgbmVhciBpdHMgcmVmZXJlbmNlIGVsZW1lbnRcbiAgLy8gVGhpcyBpcyB0aGUgbW9zdCBiYXNpYyBwbGFjZW1lbnQsIGFuZCB3aWxsIGJlIGFkanVzdGVkIGJ5XG4gIC8vIHRoZSBtb2RpZmllcnMgaW4gdGhlIG5leHQgc3RlcFxuICBzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdID0gY29tcHV0ZU9mZnNldHMoe1xuICAgIHJlZmVyZW5jZTogc3RhdGUucmVjdHMucmVmZXJlbmNlLFxuICAgIGVsZW1lbnQ6IHN0YXRlLnJlY3RzLnBvcHBlcixcbiAgICBzdHJhdGVneTogJ2Fic29sdXRlJyxcbiAgICBwbGFjZW1lbnQ6IHN0YXRlLnBsYWNlbWVudFxuICB9KTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ3BvcHBlck9mZnNldHMnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ3JlYWQnLFxuICBmbjogcG9wcGVyT2Zmc2V0cyxcbiAgZGF0YToge31cbn07IiwiaW1wb3J0IHsgdG9wLCBsZWZ0LCByaWdodCwgYm90dG9tLCBzdGFydCB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IGdldEJhc2VQbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmltcG9ydCBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldE1haW5BeGlzRnJvbVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldEFsdEF4aXMgZnJvbSBcIi4uL3V0aWxzL2dldEFsdEF4aXMuanNcIjtcbmltcG9ydCB7IHdpdGhpbiwgd2l0aGluTWF4Q2xhbXAgfSBmcm9tIFwiLi4vdXRpbHMvd2l0aGluLmpzXCI7XG5pbXBvcnQgZ2V0TGF5b3V0UmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldExheW91dFJlY3QuanNcIjtcbmltcG9ydCBnZXRPZmZzZXRQYXJlbnQgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRPZmZzZXRQYXJlbnQuanNcIjtcbmltcG9ydCBkZXRlY3RPdmVyZmxvdyBmcm9tIFwiLi4vdXRpbHMvZGV0ZWN0T3ZlcmZsb3cuanNcIjtcbmltcG9ydCBnZXRWYXJpYXRpb24gZnJvbSBcIi4uL3V0aWxzL2dldFZhcmlhdGlvbi5qc1wiO1xuaW1wb3J0IGdldEZyZXNoU2lkZU9iamVjdCBmcm9tIFwiLi4vdXRpbHMvZ2V0RnJlc2hTaWRlT2JqZWN0LmpzXCI7XG5pbXBvcnQgeyBtaW4gYXMgbWF0aE1pbiwgbWF4IGFzIG1hdGhNYXggfSBmcm9tIFwiLi4vdXRpbHMvbWF0aC5qc1wiO1xuXG5mdW5jdGlvbiBwcmV2ZW50T3ZlcmZsb3coX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWYub3B0aW9ucyxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWU7XG4gIHZhciBfb3B0aW9ucyRtYWluQXhpcyA9IG9wdGlvbnMubWFpbkF4aXMsXG4gICAgICBjaGVja01haW5BeGlzID0gX29wdGlvbnMkbWFpbkF4aXMgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRtYWluQXhpcyxcbiAgICAgIF9vcHRpb25zJGFsdEF4aXMgPSBvcHRpb25zLmFsdEF4aXMsXG4gICAgICBjaGVja0FsdEF4aXMgPSBfb3B0aW9ucyRhbHRBeGlzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJGFsdEF4aXMsXG4gICAgICBib3VuZGFyeSA9IG9wdGlvbnMuYm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnkgPSBvcHRpb25zLnJvb3RCb3VuZGFyeSxcbiAgICAgIGFsdEJvdW5kYXJ5ID0gb3B0aW9ucy5hbHRCb3VuZGFyeSxcbiAgICAgIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmcsXG4gICAgICBfb3B0aW9ucyR0ZXRoZXIgPSBvcHRpb25zLnRldGhlcixcbiAgICAgIHRldGhlciA9IF9vcHRpb25zJHRldGhlciA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHRldGhlcixcbiAgICAgIF9vcHRpb25zJHRldGhlck9mZnNldCA9IG9wdGlvbnMudGV0aGVyT2Zmc2V0LFxuICAgICAgdGV0aGVyT2Zmc2V0ID0gX29wdGlvbnMkdGV0aGVyT2Zmc2V0ID09PSB2b2lkIDAgPyAwIDogX29wdGlvbnMkdGV0aGVyT2Zmc2V0O1xuICB2YXIgb3ZlcmZsb3cgPSBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgIGJvdW5kYXJ5OiBib3VuZGFyeSxcbiAgICByb290Qm91bmRhcnk6IHJvb3RCb3VuZGFyeSxcbiAgICBwYWRkaW5nOiBwYWRkaW5nLFxuICAgIGFsdEJvdW5kYXJ5OiBhbHRCb3VuZGFyeVxuICB9KTtcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBnZXRCYXNlUGxhY2VtZW50KHN0YXRlLnBsYWNlbWVudCk7XG4gIHZhciB2YXJpYXRpb24gPSBnZXRWYXJpYXRpb24oc3RhdGUucGxhY2VtZW50KTtcbiAgdmFyIGlzQmFzZVBsYWNlbWVudCA9ICF2YXJpYXRpb247XG4gIHZhciBtYWluQXhpcyA9IGdldE1haW5BeGlzRnJvbVBsYWNlbWVudChiYXNlUGxhY2VtZW50KTtcbiAgdmFyIGFsdEF4aXMgPSBnZXRBbHRBeGlzKG1haW5BeGlzKTtcbiAgdmFyIHBvcHBlck9mZnNldHMgPSBzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHM7XG4gIHZhciByZWZlcmVuY2VSZWN0ID0gc3RhdGUucmVjdHMucmVmZXJlbmNlO1xuICB2YXIgcG9wcGVyUmVjdCA9IHN0YXRlLnJlY3RzLnBvcHBlcjtcbiAgdmFyIHRldGhlck9mZnNldFZhbHVlID0gdHlwZW9mIHRldGhlck9mZnNldCA9PT0gJ2Z1bmN0aW9uJyA/IHRldGhlck9mZnNldChPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5yZWN0cywge1xuICAgIHBsYWNlbWVudDogc3RhdGUucGxhY2VtZW50XG4gIH0pKSA6IHRldGhlck9mZnNldDtcbiAgdmFyIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZSA9IHR5cGVvZiB0ZXRoZXJPZmZzZXRWYWx1ZSA9PT0gJ251bWJlcicgPyB7XG4gICAgbWFpbkF4aXM6IHRldGhlck9mZnNldFZhbHVlLFxuICAgIGFsdEF4aXM6IHRldGhlck9mZnNldFZhbHVlXG4gIH0gOiBPYmplY3QuYXNzaWduKHtcbiAgICBtYWluQXhpczogMCxcbiAgICBhbHRBeGlzOiAwXG4gIH0sIHRldGhlck9mZnNldFZhbHVlKTtcbiAgdmFyIG9mZnNldE1vZGlmaWVyU3RhdGUgPSBzdGF0ZS5tb2RpZmllcnNEYXRhLm9mZnNldCA/IHN0YXRlLm1vZGlmaWVyc0RhdGEub2Zmc2V0W3N0YXRlLnBsYWNlbWVudF0gOiBudWxsO1xuICB2YXIgZGF0YSA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcblxuICBpZiAoIXBvcHBlck9mZnNldHMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgIHZhciBfb2Zmc2V0TW9kaWZpZXJTdGF0ZSQ7XG5cbiAgICB2YXIgbWFpblNpZGUgPSBtYWluQXhpcyA9PT0gJ3knID8gdG9wIDogbGVmdDtcbiAgICB2YXIgYWx0U2lkZSA9IG1haW5BeGlzID09PSAneScgPyBib3R0b20gOiByaWdodDtcbiAgICB2YXIgbGVuID0gbWFpbkF4aXMgPT09ICd5JyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICB2YXIgb2Zmc2V0ID0gcG9wcGVyT2Zmc2V0c1ttYWluQXhpc107XG4gICAgdmFyIG1pbiA9IG9mZnNldCArIG92ZXJmbG93W21haW5TaWRlXTtcbiAgICB2YXIgbWF4ID0gb2Zmc2V0IC0gb3ZlcmZsb3dbYWx0U2lkZV07XG4gICAgdmFyIGFkZGl0aXZlID0gdGV0aGVyID8gLXBvcHBlclJlY3RbbGVuXSAvIDIgOiAwO1xuICAgIHZhciBtaW5MZW4gPSB2YXJpYXRpb24gPT09IHN0YXJ0ID8gcmVmZXJlbmNlUmVjdFtsZW5dIDogcG9wcGVyUmVjdFtsZW5dO1xuICAgIHZhciBtYXhMZW4gPSB2YXJpYXRpb24gPT09IHN0YXJ0ID8gLXBvcHBlclJlY3RbbGVuXSA6IC1yZWZlcmVuY2VSZWN0W2xlbl07IC8vIFdlIG5lZWQgdG8gaW5jbHVkZSB0aGUgYXJyb3cgaW4gdGhlIGNhbGN1bGF0aW9uIHNvIHRoZSBhcnJvdyBkb2Vzbid0IGdvXG4gICAgLy8gb3V0c2lkZSB0aGUgcmVmZXJlbmNlIGJvdW5kc1xuXG4gICAgdmFyIGFycm93RWxlbWVudCA9IHN0YXRlLmVsZW1lbnRzLmFycm93O1xuICAgIHZhciBhcnJvd1JlY3QgPSB0ZXRoZXIgJiYgYXJyb3dFbGVtZW50ID8gZ2V0TGF5b3V0UmVjdChhcnJvd0VsZW1lbnQpIDoge1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9O1xuICAgIHZhciBhcnJvd1BhZGRpbmdPYmplY3QgPSBzdGF0ZS5tb2RpZmllcnNEYXRhWydhcnJvdyNwZXJzaXN0ZW50J10gPyBzdGF0ZS5tb2RpZmllcnNEYXRhWydhcnJvdyNwZXJzaXN0ZW50J10ucGFkZGluZyA6IGdldEZyZXNoU2lkZU9iamVjdCgpO1xuICAgIHZhciBhcnJvd1BhZGRpbmdNaW4gPSBhcnJvd1BhZGRpbmdPYmplY3RbbWFpblNpZGVdO1xuICAgIHZhciBhcnJvd1BhZGRpbmdNYXggPSBhcnJvd1BhZGRpbmdPYmplY3RbYWx0U2lkZV07IC8vIElmIHRoZSByZWZlcmVuY2UgbGVuZ3RoIGlzIHNtYWxsZXIgdGhhbiB0aGUgYXJyb3cgbGVuZ3RoLCB3ZSBkb24ndCB3YW50XG4gICAgLy8gdG8gaW5jbHVkZSBpdHMgZnVsbCBzaXplIGluIHRoZSBjYWxjdWxhdGlvbi4gSWYgdGhlIHJlZmVyZW5jZSBpcyBzbWFsbFxuICAgIC8vIGFuZCBuZWFyIHRoZSBlZGdlIG9mIGEgYm91bmRhcnksIHRoZSBwb3BwZXIgY2FuIG92ZXJmbG93IGV2ZW4gaWYgdGhlXG4gICAgLy8gcmVmZXJlbmNlIGlzIG5vdCBvdmVyZmxvd2luZyBhcyB3ZWxsIChlLmcuIHZpcnR1YWwgZWxlbWVudHMgd2l0aCBub1xuICAgIC8vIHdpZHRoIG9yIGhlaWdodClcblxuICAgIHZhciBhcnJvd0xlbiA9IHdpdGhpbigwLCByZWZlcmVuY2VSZWN0W2xlbl0sIGFycm93UmVjdFtsZW5dKTtcbiAgICB2YXIgbWluT2Zmc2V0ID0gaXNCYXNlUGxhY2VtZW50ID8gcmVmZXJlbmNlUmVjdFtsZW5dIC8gMiAtIGFkZGl0aXZlIC0gYXJyb3dMZW4gLSBhcnJvd1BhZGRpbmdNaW4gLSBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUubWFpbkF4aXMgOiBtaW5MZW4gLSBhcnJvd0xlbiAtIGFycm93UGFkZGluZ01pbiAtIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZS5tYWluQXhpcztcbiAgICB2YXIgbWF4T2Zmc2V0ID0gaXNCYXNlUGxhY2VtZW50ID8gLXJlZmVyZW5jZVJlY3RbbGVuXSAvIDIgKyBhZGRpdGl2ZSArIGFycm93TGVuICsgYXJyb3dQYWRkaW5nTWF4ICsgbm9ybWFsaXplZFRldGhlck9mZnNldFZhbHVlLm1haW5BeGlzIDogbWF4TGVuICsgYXJyb3dMZW4gKyBhcnJvd1BhZGRpbmdNYXggKyBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUubWFpbkF4aXM7XG4gICAgdmFyIGFycm93T2Zmc2V0UGFyZW50ID0gc3RhdGUuZWxlbWVudHMuYXJyb3cgJiYgZ2V0T2Zmc2V0UGFyZW50KHN0YXRlLmVsZW1lbnRzLmFycm93KTtcbiAgICB2YXIgY2xpZW50T2Zmc2V0ID0gYXJyb3dPZmZzZXRQYXJlbnQgPyBtYWluQXhpcyA9PT0gJ3knID8gYXJyb3dPZmZzZXRQYXJlbnQuY2xpZW50VG9wIHx8IDAgOiBhcnJvd09mZnNldFBhcmVudC5jbGllbnRMZWZ0IHx8IDAgOiAwO1xuICAgIHZhciBvZmZzZXRNb2RpZmllclZhbHVlID0gKF9vZmZzZXRNb2RpZmllclN0YXRlJCA9IG9mZnNldE1vZGlmaWVyU3RhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IG9mZnNldE1vZGlmaWVyU3RhdGVbbWFpbkF4aXNdKSAhPSBudWxsID8gX29mZnNldE1vZGlmaWVyU3RhdGUkIDogMDtcbiAgICB2YXIgdGV0aGVyTWluID0gb2Zmc2V0ICsgbWluT2Zmc2V0IC0gb2Zmc2V0TW9kaWZpZXJWYWx1ZSAtIGNsaWVudE9mZnNldDtcbiAgICB2YXIgdGV0aGVyTWF4ID0gb2Zmc2V0ICsgbWF4T2Zmc2V0IC0gb2Zmc2V0TW9kaWZpZXJWYWx1ZTtcbiAgICB2YXIgcHJldmVudGVkT2Zmc2V0ID0gd2l0aGluKHRldGhlciA/IG1hdGhNaW4obWluLCB0ZXRoZXJNaW4pIDogbWluLCBvZmZzZXQsIHRldGhlciA/IG1hdGhNYXgobWF4LCB0ZXRoZXJNYXgpIDogbWF4KTtcbiAgICBwb3BwZXJPZmZzZXRzW21haW5BeGlzXSA9IHByZXZlbnRlZE9mZnNldDtcbiAgICBkYXRhW21haW5BeGlzXSA9IHByZXZlbnRlZE9mZnNldCAtIG9mZnNldDtcbiAgfVxuXG4gIGlmIChjaGVja0FsdEF4aXMpIHtcbiAgICB2YXIgX29mZnNldE1vZGlmaWVyU3RhdGUkMjtcblxuICAgIHZhciBfbWFpblNpZGUgPSBtYWluQXhpcyA9PT0gJ3gnID8gdG9wIDogbGVmdDtcblxuICAgIHZhciBfYWx0U2lkZSA9IG1haW5BeGlzID09PSAneCcgPyBib3R0b20gOiByaWdodDtcblxuICAgIHZhciBfb2Zmc2V0ID0gcG9wcGVyT2Zmc2V0c1thbHRBeGlzXTtcblxuICAgIHZhciBfbGVuID0gYWx0QXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gICAgdmFyIF9taW4gPSBfb2Zmc2V0ICsgb3ZlcmZsb3dbX21haW5TaWRlXTtcblxuICAgIHZhciBfbWF4ID0gX29mZnNldCAtIG92ZXJmbG93W19hbHRTaWRlXTtcblxuICAgIHZhciBpc09yaWdpblNpZGUgPSBbdG9wLCBsZWZ0XS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcblxuICAgIHZhciBfb2Zmc2V0TW9kaWZpZXJWYWx1ZSA9IChfb2Zmc2V0TW9kaWZpZXJTdGF0ZSQyID0gb2Zmc2V0TW9kaWZpZXJTdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogb2Zmc2V0TW9kaWZpZXJTdGF0ZVthbHRBeGlzXSkgIT0gbnVsbCA/IF9vZmZzZXRNb2RpZmllclN0YXRlJDIgOiAwO1xuXG4gICAgdmFyIF90ZXRoZXJNaW4gPSBpc09yaWdpblNpZGUgPyBfbWluIDogX29mZnNldCAtIHJlZmVyZW5jZVJlY3RbX2xlbl0gLSBwb3BwZXJSZWN0W19sZW5dIC0gX29mZnNldE1vZGlmaWVyVmFsdWUgKyBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUuYWx0QXhpcztcblxuICAgIHZhciBfdGV0aGVyTWF4ID0gaXNPcmlnaW5TaWRlID8gX29mZnNldCArIHJlZmVyZW5jZVJlY3RbX2xlbl0gKyBwb3BwZXJSZWN0W19sZW5dIC0gX29mZnNldE1vZGlmaWVyVmFsdWUgLSBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUuYWx0QXhpcyA6IF9tYXg7XG5cbiAgICB2YXIgX3ByZXZlbnRlZE9mZnNldCA9IHRldGhlciAmJiBpc09yaWdpblNpZGUgPyB3aXRoaW5NYXhDbGFtcChfdGV0aGVyTWluLCBfb2Zmc2V0LCBfdGV0aGVyTWF4KSA6IHdpdGhpbih0ZXRoZXIgPyBfdGV0aGVyTWluIDogX21pbiwgX29mZnNldCwgdGV0aGVyID8gX3RldGhlck1heCA6IF9tYXgpO1xuXG4gICAgcG9wcGVyT2Zmc2V0c1thbHRBeGlzXSA9IF9wcmV2ZW50ZWRPZmZzZXQ7XG4gICAgZGF0YVthbHRBeGlzXSA9IF9wcmV2ZW50ZWRPZmZzZXQgLSBfb2Zmc2V0O1xuICB9XG5cbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IGRhdGE7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdwcmV2ZW50T3ZlcmZsb3cnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ21haW4nLFxuICBmbjogcHJldmVudE92ZXJmbG93LFxuICByZXF1aXJlc0lmRXhpc3RzOiBbJ29mZnNldCddXG59OyIsImltcG9ydCB7IHBvcHBlckdlbmVyYXRvciwgZGV0ZWN0T3ZlcmZsb3cgfSBmcm9tIFwiLi9jcmVhdGVQb3BwZXIuanNcIjtcbmltcG9ydCBldmVudExpc3RlbmVycyBmcm9tIFwiLi9tb2RpZmllcnMvZXZlbnRMaXN0ZW5lcnMuanNcIjtcbmltcG9ydCBwb3BwZXJPZmZzZXRzIGZyb20gXCIuL21vZGlmaWVycy9wb3BwZXJPZmZzZXRzLmpzXCI7XG5pbXBvcnQgY29tcHV0ZVN0eWxlcyBmcm9tIFwiLi9tb2RpZmllcnMvY29tcHV0ZVN0eWxlcy5qc1wiO1xuaW1wb3J0IGFwcGx5U3R5bGVzIGZyb20gXCIuL21vZGlmaWVycy9hcHBseVN0eWxlcy5qc1wiO1xudmFyIGRlZmF1bHRNb2RpZmllcnMgPSBbZXZlbnRMaXN0ZW5lcnMsIHBvcHBlck9mZnNldHMsIGNvbXB1dGVTdHlsZXMsIGFwcGx5U3R5bGVzXTtcbnZhciBjcmVhdGVQb3BwZXIgPSAvKiNfX1BVUkVfXyovcG9wcGVyR2VuZXJhdG9yKHtcbiAgZGVmYXVsdE1vZGlmaWVyczogZGVmYXVsdE1vZGlmaWVyc1xufSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IHsgY3JlYXRlUG9wcGVyLCBwb3BwZXJHZW5lcmF0b3IsIGRlZmF1bHRNb2RpZmllcnMsIGRldGVjdE92ZXJmbG93IH07IiwiaW1wb3J0IHsgcG9wcGVyR2VuZXJhdG9yLCBkZXRlY3RPdmVyZmxvdyB9IGZyb20gXCIuL2NyZWF0ZVBvcHBlci5qc1wiO1xuaW1wb3J0IGV2ZW50TGlzdGVuZXJzIGZyb20gXCIuL21vZGlmaWVycy9ldmVudExpc3RlbmVycy5qc1wiO1xuaW1wb3J0IHBvcHBlck9mZnNldHMgZnJvbSBcIi4vbW9kaWZpZXJzL3BvcHBlck9mZnNldHMuanNcIjtcbmltcG9ydCBjb21wdXRlU3R5bGVzIGZyb20gXCIuL21vZGlmaWVycy9jb21wdXRlU3R5bGVzLmpzXCI7XG5pbXBvcnQgYXBwbHlTdHlsZXMgZnJvbSBcIi4vbW9kaWZpZXJzL2FwcGx5U3R5bGVzLmpzXCI7XG5pbXBvcnQgb2Zmc2V0IGZyb20gXCIuL21vZGlmaWVycy9vZmZzZXQuanNcIjtcbmltcG9ydCBmbGlwIGZyb20gXCIuL21vZGlmaWVycy9mbGlwLmpzXCI7XG5pbXBvcnQgcHJldmVudE92ZXJmbG93IGZyb20gXCIuL21vZGlmaWVycy9wcmV2ZW50T3ZlcmZsb3cuanNcIjtcbmltcG9ydCBhcnJvdyBmcm9tIFwiLi9tb2RpZmllcnMvYXJyb3cuanNcIjtcbmltcG9ydCBoaWRlIGZyb20gXCIuL21vZGlmaWVycy9oaWRlLmpzXCI7XG52YXIgZGVmYXVsdE1vZGlmaWVycyA9IFtldmVudExpc3RlbmVycywgcG9wcGVyT2Zmc2V0cywgY29tcHV0ZVN0eWxlcywgYXBwbHlTdHlsZXMsIG9mZnNldCwgZmxpcCwgcHJldmVudE92ZXJmbG93LCBhcnJvdywgaGlkZV07XG52YXIgY3JlYXRlUG9wcGVyID0gLyojX19QVVJFX18qL3BvcHBlckdlbmVyYXRvcih7XG4gIGRlZmF1bHRNb2RpZmllcnM6IGRlZmF1bHRNb2RpZmllcnNcbn0pOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbmV4cG9ydCB7IGNyZWF0ZVBvcHBlciwgcG9wcGVyR2VuZXJhdG9yLCBkZWZhdWx0TW9kaWZpZXJzLCBkZXRlY3RPdmVyZmxvdyB9OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbmV4cG9ydCB7IGNyZWF0ZVBvcHBlciBhcyBjcmVhdGVQb3BwZXJMaXRlIH0gZnJvbSBcIi4vcG9wcGVyLWxpdGUuanNcIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5leHBvcnQgKiBmcm9tIFwiLi9tb2RpZmllcnMvaW5kZXguanNcIjsiLCJpbXBvcnQgZ2V0VmFyaWF0aW9uIGZyb20gXCIuL2dldFZhcmlhdGlvbi5qc1wiO1xuaW1wb3J0IHsgdmFyaWF0aW9uUGxhY2VtZW50cywgYmFzZVBsYWNlbWVudHMsIHBsYWNlbWVudHMgYXMgYWxsUGxhY2VtZW50cyB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IGRldGVjdE92ZXJmbG93IGZyb20gXCIuL2RldGVjdE92ZXJmbG93LmpzXCI7XG5pbXBvcnQgZ2V0QmFzZVBsYWNlbWVudCBmcm9tIFwiLi9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wdXRlQXV0b1BsYWNlbWVudChzdGF0ZSwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgIHBsYWNlbWVudCA9IF9vcHRpb25zLnBsYWNlbWVudCxcbiAgICAgIGJvdW5kYXJ5ID0gX29wdGlvbnMuYm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnkgPSBfb3B0aW9ucy5yb290Qm91bmRhcnksXG4gICAgICBwYWRkaW5nID0gX29wdGlvbnMucGFkZGluZyxcbiAgICAgIGZsaXBWYXJpYXRpb25zID0gX29wdGlvbnMuZmxpcFZhcmlhdGlvbnMsXG4gICAgICBfb3B0aW9ucyRhbGxvd2VkQXV0b1AgPSBfb3B0aW9ucy5hbGxvd2VkQXV0b1BsYWNlbWVudHMsXG4gICAgICBhbGxvd2VkQXV0b1BsYWNlbWVudHMgPSBfb3B0aW9ucyRhbGxvd2VkQXV0b1AgPT09IHZvaWQgMCA/IGFsbFBsYWNlbWVudHMgOiBfb3B0aW9ucyRhbGxvd2VkQXV0b1A7XG4gIHZhciB2YXJpYXRpb24gPSBnZXRWYXJpYXRpb24ocGxhY2VtZW50KTtcbiAgdmFyIHBsYWNlbWVudHMgPSB2YXJpYXRpb24gPyBmbGlwVmFyaWF0aW9ucyA/IHZhcmlhdGlvblBsYWNlbWVudHMgOiB2YXJpYXRpb25QbGFjZW1lbnRzLmZpbHRlcihmdW5jdGlvbiAocGxhY2VtZW50KSB7XG4gICAgcmV0dXJuIGdldFZhcmlhdGlvbihwbGFjZW1lbnQpID09PSB2YXJpYXRpb247XG4gIH0pIDogYmFzZVBsYWNlbWVudHM7XG4gIHZhciBhbGxvd2VkUGxhY2VtZW50cyA9IHBsYWNlbWVudHMuZmlsdGVyKGZ1bmN0aW9uIChwbGFjZW1lbnQpIHtcbiAgICByZXR1cm4gYWxsb3dlZEF1dG9QbGFjZW1lbnRzLmluZGV4T2YocGxhY2VtZW50KSA+PSAwO1xuICB9KTtcblxuICBpZiAoYWxsb3dlZFBsYWNlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgYWxsb3dlZFBsYWNlbWVudHMgPSBwbGFjZW1lbnRzO1xuICB9IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdOiBGbG93IHNlZW1zIHRvIGhhdmUgcHJvYmxlbXMgd2l0aCB0d28gYXJyYXkgdW5pb25zLi4uXG5cblxuICB2YXIgb3ZlcmZsb3dzID0gYWxsb3dlZFBsYWNlbWVudHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBsYWNlbWVudCkge1xuICAgIGFjY1twbGFjZW1lbnRdID0gZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgYm91bmRhcnk6IGJvdW5kYXJ5LFxuICAgICAgcm9vdEJvdW5kYXJ5OiByb290Qm91bmRhcnksXG4gICAgICBwYWRkaW5nOiBwYWRkaW5nXG4gICAgfSlbZ2V0QmFzZVBsYWNlbWVudChwbGFjZW1lbnQpXTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvdmVyZmxvd3MpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gb3ZlcmZsb3dzW2FdIC0gb3ZlcmZsb3dzW2JdO1xuICB9KTtcbn0iLCJpbXBvcnQgZ2V0QmFzZVBsYWNlbWVudCBmcm9tIFwiLi9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0VmFyaWF0aW9uIGZyb20gXCIuL2dldFZhcmlhdGlvbi5qc1wiO1xuaW1wb3J0IGdldE1haW5BeGlzRnJvbVBsYWNlbWVudCBmcm9tIFwiLi9nZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQuanNcIjtcbmltcG9ydCB7IHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCwgc3RhcnQsIGVuZCB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tcHV0ZU9mZnNldHMoX3JlZikge1xuICB2YXIgcmVmZXJlbmNlID0gX3JlZi5yZWZlcmVuY2UsXG4gICAgICBlbGVtZW50ID0gX3JlZi5lbGVtZW50LFxuICAgICAgcGxhY2VtZW50ID0gX3JlZi5wbGFjZW1lbnQ7XG4gIHZhciBiYXNlUGxhY2VtZW50ID0gcGxhY2VtZW50ID8gZ2V0QmFzZVBsYWNlbWVudChwbGFjZW1lbnQpIDogbnVsbDtcbiAgdmFyIHZhcmlhdGlvbiA9IHBsYWNlbWVudCA/IGdldFZhcmlhdGlvbihwbGFjZW1lbnQpIDogbnVsbDtcbiAgdmFyIGNvbW1vblggPSByZWZlcmVuY2UueCArIHJlZmVyZW5jZS53aWR0aCAvIDIgLSBlbGVtZW50LndpZHRoIC8gMjtcbiAgdmFyIGNvbW1vblkgPSByZWZlcmVuY2UueSArIHJlZmVyZW5jZS5oZWlnaHQgLyAyIC0gZWxlbWVudC5oZWlnaHQgLyAyO1xuICB2YXIgb2Zmc2V0cztcblxuICBzd2l0Y2ggKGJhc2VQbGFjZW1lbnQpIHtcbiAgICBjYXNlIHRvcDpcbiAgICAgIG9mZnNldHMgPSB7XG4gICAgICAgIHg6IGNvbW1vblgsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55IC0gZWxlbWVudC5oZWlnaHRcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgYm90dG9tOlxuICAgICAgb2Zmc2V0cyA9IHtcbiAgICAgICAgeDogY29tbW9uWCxcbiAgICAgICAgeTogcmVmZXJlbmNlLnkgKyByZWZlcmVuY2UuaGVpZ2h0XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIHJpZ2h0OlxuICAgICAgb2Zmc2V0cyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLnggKyByZWZlcmVuY2Uud2lkdGgsXG4gICAgICAgIHk6IGNvbW1vbllcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgbGVmdDpcbiAgICAgIG9mZnNldHMgPSB7XG4gICAgICAgIHg6IHJlZmVyZW5jZS54IC0gZWxlbWVudC53aWR0aCxcbiAgICAgICAgeTogY29tbW9uWVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIG9mZnNldHMgPSB7XG4gICAgICAgIHg6IHJlZmVyZW5jZS54LFxuICAgICAgICB5OiByZWZlcmVuY2UueVxuICAgICAgfTtcbiAgfVxuXG4gIHZhciBtYWluQXhpcyA9IGJhc2VQbGFjZW1lbnQgPyBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQoYmFzZVBsYWNlbWVudCkgOiBudWxsO1xuXG4gIGlmIChtYWluQXhpcyAhPSBudWxsKSB7XG4gICAgdmFyIGxlbiA9IG1haW5BeGlzID09PSAneScgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgICBzd2l0Y2ggKHZhcmlhdGlvbikge1xuICAgICAgY2FzZSBzdGFydDpcbiAgICAgICAgb2Zmc2V0c1ttYWluQXhpc10gPSBvZmZzZXRzW21haW5BeGlzXSAtIChyZWZlcmVuY2VbbGVuXSAvIDIgLSBlbGVtZW50W2xlbl0gLyAyKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgZW5kOlxuICAgICAgICBvZmZzZXRzW21haW5BeGlzXSA9IG9mZnNldHNbbWFpbkF4aXNdICsgKHJlZmVyZW5jZVtsZW5dIC8gMiAtIGVsZW1lbnRbbGVuXSAvIDIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0cztcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWJvdW5jZShmbikge1xuICB2YXIgcGVuZGluZztcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXBlbmRpbmcpIHtcbiAgICAgIHBlbmRpbmcgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBwZW5kaW5nID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHJlc29sdmUoZm4oKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBlbmRpbmc7XG4gIH07XG59IiwiaW1wb3J0IGdldENsaXBwaW5nUmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldENsaXBwaW5nUmVjdC5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qc1wiO1xuaW1wb3J0IGNvbXB1dGVPZmZzZXRzIGZyb20gXCIuL2NvbXB1dGVPZmZzZXRzLmpzXCI7XG5pbXBvcnQgcmVjdFRvQ2xpZW50UmVjdCBmcm9tIFwiLi9yZWN0VG9DbGllbnRSZWN0LmpzXCI7XG5pbXBvcnQgeyBjbGlwcGluZ1BhcmVudHMsIHJlZmVyZW5jZSwgcG9wcGVyLCBib3R0b20sIHRvcCwgcmlnaHQsIGJhc2VQbGFjZW1lbnRzLCB2aWV3cG9ydCB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSBcIi4uL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgbWVyZ2VQYWRkaW5nT2JqZWN0IGZyb20gXCIuL21lcmdlUGFkZGluZ09iamVjdC5qc1wiO1xuaW1wb3J0IGV4cGFuZFRvSGFzaE1hcCBmcm9tIFwiLi9leHBhbmRUb0hhc2hNYXAuanNcIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgIF9vcHRpb25zJHBsYWNlbWVudCA9IF9vcHRpb25zLnBsYWNlbWVudCxcbiAgICAgIHBsYWNlbWVudCA9IF9vcHRpb25zJHBsYWNlbWVudCA9PT0gdm9pZCAwID8gc3RhdGUucGxhY2VtZW50IDogX29wdGlvbnMkcGxhY2VtZW50LFxuICAgICAgX29wdGlvbnMkc3RyYXRlZ3kgPSBfb3B0aW9ucy5zdHJhdGVneSxcbiAgICAgIHN0cmF0ZWd5ID0gX29wdGlvbnMkc3RyYXRlZ3kgPT09IHZvaWQgMCA/IHN0YXRlLnN0cmF0ZWd5IDogX29wdGlvbnMkc3RyYXRlZ3ksXG4gICAgICBfb3B0aW9ucyRib3VuZGFyeSA9IF9vcHRpb25zLmJvdW5kYXJ5LFxuICAgICAgYm91bmRhcnkgPSBfb3B0aW9ucyRib3VuZGFyeSA9PT0gdm9pZCAwID8gY2xpcHBpbmdQYXJlbnRzIDogX29wdGlvbnMkYm91bmRhcnksXG4gICAgICBfb3B0aW9ucyRyb290Qm91bmRhcnkgPSBfb3B0aW9ucy5yb290Qm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnkgPSBfb3B0aW9ucyRyb290Qm91bmRhcnkgPT09IHZvaWQgMCA/IHZpZXdwb3J0IDogX29wdGlvbnMkcm9vdEJvdW5kYXJ5LFxuICAgICAgX29wdGlvbnMkZWxlbWVudENvbnRlID0gX29wdGlvbnMuZWxlbWVudENvbnRleHQsXG4gICAgICBlbGVtZW50Q29udGV4dCA9IF9vcHRpb25zJGVsZW1lbnRDb250ZSA9PT0gdm9pZCAwID8gcG9wcGVyIDogX29wdGlvbnMkZWxlbWVudENvbnRlLFxuICAgICAgX29wdGlvbnMkYWx0Qm91bmRhcnkgPSBfb3B0aW9ucy5hbHRCb3VuZGFyeSxcbiAgICAgIGFsdEJvdW5kYXJ5ID0gX29wdGlvbnMkYWx0Qm91bmRhcnkgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkYWx0Qm91bmRhcnksXG4gICAgICBfb3B0aW9ucyRwYWRkaW5nID0gX29wdGlvbnMucGFkZGluZyxcbiAgICAgIHBhZGRpbmcgPSBfb3B0aW9ucyRwYWRkaW5nID09PSB2b2lkIDAgPyAwIDogX29wdGlvbnMkcGFkZGluZztcbiAgdmFyIHBhZGRpbmdPYmplY3QgPSBtZXJnZVBhZGRpbmdPYmplY3QodHlwZW9mIHBhZGRpbmcgIT09ICdudW1iZXInID8gcGFkZGluZyA6IGV4cGFuZFRvSGFzaE1hcChwYWRkaW5nLCBiYXNlUGxhY2VtZW50cykpO1xuICB2YXIgYWx0Q29udGV4dCA9IGVsZW1lbnRDb250ZXh0ID09PSBwb3BwZXIgPyByZWZlcmVuY2UgOiBwb3BwZXI7XG4gIHZhciBwb3BwZXJSZWN0ID0gc3RhdGUucmVjdHMucG9wcGVyO1xuICB2YXIgZWxlbWVudCA9IHN0YXRlLmVsZW1lbnRzW2FsdEJvdW5kYXJ5ID8gYWx0Q29udGV4dCA6IGVsZW1lbnRDb250ZXh0XTtcbiAgdmFyIGNsaXBwaW5nQ2xpZW50UmVjdCA9IGdldENsaXBwaW5nUmVjdChpc0VsZW1lbnQoZWxlbWVudCkgPyBlbGVtZW50IDogZWxlbWVudC5jb250ZXh0RWxlbWVudCB8fCBnZXREb2N1bWVudEVsZW1lbnQoc3RhdGUuZWxlbWVudHMucG9wcGVyKSwgYm91bmRhcnksIHJvb3RCb3VuZGFyeSwgc3RyYXRlZ3kpO1xuICB2YXIgcmVmZXJlbmNlQ2xpZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChzdGF0ZS5lbGVtZW50cy5yZWZlcmVuY2UpO1xuICB2YXIgcG9wcGVyT2Zmc2V0cyA9IGNvbXB1dGVPZmZzZXRzKHtcbiAgICByZWZlcmVuY2U6IHJlZmVyZW5jZUNsaWVudFJlY3QsXG4gICAgZWxlbWVudDogcG9wcGVyUmVjdCxcbiAgICBzdHJhdGVneTogJ2Fic29sdXRlJyxcbiAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudFxuICB9KTtcbiAgdmFyIHBvcHBlckNsaWVudFJlY3QgPSByZWN0VG9DbGllbnRSZWN0KE9iamVjdC5hc3NpZ24oe30sIHBvcHBlclJlY3QsIHBvcHBlck9mZnNldHMpKTtcbiAgdmFyIGVsZW1lbnRDbGllbnRSZWN0ID0gZWxlbWVudENvbnRleHQgPT09IHBvcHBlciA/IHBvcHBlckNsaWVudFJlY3QgOiByZWZlcmVuY2VDbGllbnRSZWN0OyAvLyBwb3NpdGl2ZSA9IG92ZXJmbG93aW5nIHRoZSBjbGlwcGluZyByZWN0XG4gIC8vIDAgb3IgbmVnYXRpdmUgPSB3aXRoaW4gdGhlIGNsaXBwaW5nIHJlY3RcblxuICB2YXIgb3ZlcmZsb3dPZmZzZXRzID0ge1xuICAgIHRvcDogY2xpcHBpbmdDbGllbnRSZWN0LnRvcCAtIGVsZW1lbnRDbGllbnRSZWN0LnRvcCArIHBhZGRpbmdPYmplY3QudG9wLFxuICAgIGJvdHRvbTogZWxlbWVudENsaWVudFJlY3QuYm90dG9tIC0gY2xpcHBpbmdDbGllbnRSZWN0LmJvdHRvbSArIHBhZGRpbmdPYmplY3QuYm90dG9tLFxuICAgIGxlZnQ6IGNsaXBwaW5nQ2xpZW50UmVjdC5sZWZ0IC0gZWxlbWVudENsaWVudFJlY3QubGVmdCArIHBhZGRpbmdPYmplY3QubGVmdCxcbiAgICByaWdodDogZWxlbWVudENsaWVudFJlY3QucmlnaHQgLSBjbGlwcGluZ0NsaWVudFJlY3QucmlnaHQgKyBwYWRkaW5nT2JqZWN0LnJpZ2h0XG4gIH07XG4gIHZhciBvZmZzZXREYXRhID0gc3RhdGUubW9kaWZpZXJzRGF0YS5vZmZzZXQ7IC8vIE9mZnNldHMgY2FuIGJlIGFwcGxpZWQgb25seSB0byB0aGUgcG9wcGVyIGVsZW1lbnRcblxuICBpZiAoZWxlbWVudENvbnRleHQgPT09IHBvcHBlciAmJiBvZmZzZXREYXRhKSB7XG4gICAgdmFyIG9mZnNldCA9IG9mZnNldERhdGFbcGxhY2VtZW50XTtcbiAgICBPYmplY3Qua2V5cyhvdmVyZmxvd09mZnNldHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIG11bHRpcGx5ID0gW3JpZ2h0LCBib3R0b21dLmluZGV4T2Yoa2V5KSA+PSAwID8gMSA6IC0xO1xuICAgICAgdmFyIGF4aXMgPSBbdG9wLCBib3R0b21dLmluZGV4T2Yoa2V5KSA+PSAwID8gJ3knIDogJ3gnO1xuICAgICAgb3ZlcmZsb3dPZmZzZXRzW2tleV0gKz0gb2Zmc2V0W2F4aXNdICogbXVsdGlwbHk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gb3ZlcmZsb3dPZmZzZXRzO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGV4cGFuZFRvSGFzaE1hcCh2YWx1ZSwga2V5cykge1xuICByZXR1cm4ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKGhhc2hNYXAsIGtleSkge1xuICAgIGhhc2hNYXBba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiBoYXNoTWFwO1xuICB9LCB7fSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0QWx0QXhpcyhheGlzKSB7XG4gIHJldHVybiBheGlzID09PSAneCcgPyAneScgOiAneCc7XG59IiwiaW1wb3J0IHsgYXV0byB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0QmFzZVBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEZyZXNoU2lkZU9iamVjdCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDBcbiAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBbJ3RvcCcsICdib3R0b20nXS5pbmRleE9mKHBsYWNlbWVudCkgPj0gMCA/ICd4JyA6ICd5Jztcbn0iLCJ2YXIgaGFzaCA9IHtcbiAgbGVmdDogJ3JpZ2h0JyxcbiAgcmlnaHQ6ICdsZWZ0JyxcbiAgYm90dG9tOiAndG9wJyxcbiAgdG9wOiAnYm90dG9tJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnJlcGxhY2UoL2xlZnR8cmlnaHR8Ym90dG9tfHRvcC9nLCBmdW5jdGlvbiAobWF0Y2hlZCkge1xuICAgIHJldHVybiBoYXNoW21hdGNoZWRdO1xuICB9KTtcbn0iLCJ2YXIgaGFzaCA9IHtcbiAgc3RhcnQ6ICdlbmQnLFxuICBlbmQ6ICdzdGFydCdcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5yZXBsYWNlKC9zdGFydHxlbmQvZywgZnVuY3Rpb24gKG1hdGNoZWQpIHtcbiAgICByZXR1cm4gaGFzaFttYXRjaGVkXTtcbiAgfSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KCctJylbMV07XG59IiwiZXhwb3J0IHZhciBtYXggPSBNYXRoLm1heDtcbmV4cG9ydCB2YXIgbWluID0gTWF0aC5taW47XG5leHBvcnQgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZXJnZUJ5TmFtZShtb2RpZmllcnMpIHtcbiAgdmFyIG1lcmdlZCA9IG1vZGlmaWVycy5yZWR1Y2UoZnVuY3Rpb24gKG1lcmdlZCwgY3VycmVudCkge1xuICAgIHZhciBleGlzdGluZyA9IG1lcmdlZFtjdXJyZW50Lm5hbWVdO1xuICAgIG1lcmdlZFtjdXJyZW50Lm5hbWVdID0gZXhpc3RpbmcgPyBPYmplY3QuYXNzaWduKHt9LCBleGlzdGluZywgY3VycmVudCwge1xuICAgICAgb3B0aW9uczogT2JqZWN0LmFzc2lnbih7fSwgZXhpc3Rpbmcub3B0aW9ucywgY3VycmVudC5vcHRpb25zKSxcbiAgICAgIGRhdGE6IE9iamVjdC5hc3NpZ24oe30sIGV4aXN0aW5nLmRhdGEsIGN1cnJlbnQuZGF0YSlcbiAgICB9KSA6IGN1cnJlbnQ7XG4gICAgcmV0dXJuIG1lcmdlZDtcbiAgfSwge30pOyAvLyBJRTExIGRvZXMgbm90IHN1cHBvcnQgT2JqZWN0LnZhbHVlc1xuXG4gIHJldHVybiBPYmplY3Qua2V5cyhtZXJnZWQpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIG1lcmdlZFtrZXldO1xuICB9KTtcbn0iLCJpbXBvcnQgZ2V0RnJlc2hTaWRlT2JqZWN0IGZyb20gXCIuL2dldEZyZXNoU2lkZU9iamVjdC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVyZ2VQYWRkaW5nT2JqZWN0KHBhZGRpbmdPYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGdldEZyZXNoU2lkZU9iamVjdCgpLCBwYWRkaW5nT2JqZWN0KTtcbn0iLCJpbXBvcnQgeyBtb2RpZmllclBoYXNlcyB9IGZyb20gXCIuLi9lbnVtcy5qc1wiOyAvLyBzb3VyY2U6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ5ODc1MjU1XG5cbmZ1bmN0aW9uIG9yZGVyKG1vZGlmaWVycykge1xuICB2YXIgbWFwID0gbmV3IE1hcCgpO1xuICB2YXIgdmlzaXRlZCA9IG5ldyBTZXQoKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICBtYXAuc2V0KG1vZGlmaWVyLm5hbWUsIG1vZGlmaWVyKTtcbiAgfSk7IC8vIE9uIHZpc2l0aW5nIG9iamVjdCwgY2hlY2sgZm9yIGl0cyBkZXBlbmRlbmNpZXMgYW5kIHZpc2l0IHRoZW0gcmVjdXJzaXZlbHlcblxuICBmdW5jdGlvbiBzb3J0KG1vZGlmaWVyKSB7XG4gICAgdmlzaXRlZC5hZGQobW9kaWZpZXIubmFtZSk7XG4gICAgdmFyIHJlcXVpcmVzID0gW10uY29uY2F0KG1vZGlmaWVyLnJlcXVpcmVzIHx8IFtdLCBtb2RpZmllci5yZXF1aXJlc0lmRXhpc3RzIHx8IFtdKTtcbiAgICByZXF1aXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXApIHtcbiAgICAgIGlmICghdmlzaXRlZC5oYXMoZGVwKSkge1xuICAgICAgICB2YXIgZGVwTW9kaWZpZXIgPSBtYXAuZ2V0KGRlcCk7XG5cbiAgICAgICAgaWYgKGRlcE1vZGlmaWVyKSB7XG4gICAgICAgICAgc29ydChkZXBNb2RpZmllcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXN1bHQucHVzaChtb2RpZmllcik7XG4gIH1cblxuICBtb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICBpZiAoIXZpc2l0ZWQuaGFzKG1vZGlmaWVyLm5hbWUpKSB7XG4gICAgICAvLyBjaGVjayBmb3IgdmlzaXRlZCBvYmplY3RcbiAgICAgIHNvcnQobW9kaWZpZXIpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG9yZGVyTW9kaWZpZXJzKG1vZGlmaWVycykge1xuICAvLyBvcmRlciBiYXNlZCBvbiBkZXBlbmRlbmNpZXNcbiAgdmFyIG9yZGVyZWRNb2RpZmllcnMgPSBvcmRlcihtb2RpZmllcnMpOyAvLyBvcmRlciBiYXNlZCBvbiBwaGFzZVxuXG4gIHJldHVybiBtb2RpZmllclBoYXNlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGhhc2UpIHtcbiAgICByZXR1cm4gYWNjLmNvbmNhdChvcmRlcmVkTW9kaWZpZXJzLmZpbHRlcihmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICAgIHJldHVybiBtb2RpZmllci5waGFzZSA9PT0gcGhhc2U7XG4gICAgfSkpO1xuICB9LCBbXSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVjdFRvQ2xpZW50UmVjdChyZWN0KSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCByZWN0LCB7XG4gICAgbGVmdDogcmVjdC54LFxuICAgIHRvcDogcmVjdC55LFxuICAgIHJpZ2h0OiByZWN0LnggKyByZWN0LndpZHRoLFxuICAgIGJvdHRvbTogcmVjdC55ICsgcmVjdC5oZWlnaHRcbiAgfSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0VUFTdHJpbmcoKSB7XG4gIHZhciB1YURhdGEgPSBuYXZpZ2F0b3IudXNlckFnZW50RGF0YTtcblxuICBpZiAodWFEYXRhICE9IG51bGwgJiYgdWFEYXRhLmJyYW5kcyAmJiBBcnJheS5pc0FycmF5KHVhRGF0YS5icmFuZHMpKSB7XG4gICAgcmV0dXJuIHVhRGF0YS5icmFuZHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5icmFuZCArIFwiL1wiICsgaXRlbS52ZXJzaW9uO1xuICAgIH0pLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50O1xufSIsImltcG9ydCB7IG1heCBhcyBtYXRoTWF4LCBtaW4gYXMgbWF0aE1pbiB9IGZyb20gXCIuL21hdGguanNcIjtcbmV4cG9ydCBmdW5jdGlvbiB3aXRoaW4obWluLCB2YWx1ZSwgbWF4KSB7XG4gIHJldHVybiBtYXRoTWF4KG1pbiwgbWF0aE1pbih2YWx1ZSwgbWF4KSk7XG59XG5leHBvcnQgZnVuY3Rpb24gd2l0aGluTWF4Q2xhbXAobWluLCB2YWx1ZSwgbWF4KSB7XG4gIHZhciB2ID0gd2l0aGluKG1pbiwgdmFsdWUsIG1heCk7XG4gIHJldHVybiB2ID4gbWF4ID8gbWF4IDogdjtcbn0iLCJcbmltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeS5qc1wiO1xuLy8gaW1wb3J0IElNYXNrIGZyb20gXCJpbWFza1wiO1xuaW1wb3J0IENyZWRpdENhcmRJbnB1dE1hc2sgZnJvbSBcImNyZWRpdC1jYXJkLWlucHV0LW1hc2tcIjtcbmltcG9ydCB0aXBweSBmcm9tICd0aXBweS5qcyc7XG5pbXBvcnQgeyBpbml0UG9wdXAgfSBmcm9tIFwiLi4vLi4vanMvY29tbW9uL3BvcHVwLmpzXCI7XG5cbnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuICAgIGNvbnN0IGZvcm1QYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1wYXknKTtcbiAgICBjb25zdCBqc1JlcXVpcmVkID0gZm9ybVBheS5xdWVyeVNlbGVjdG9yQWxsKFwiLmpzLXJlcXVpcmVkXCIpO1xuICAgIGNvbnN0IGZvcm1QYXlTdWJtaXQgPSBmb3JtUGF5LnF1ZXJ5U2VsZWN0b3IoJy5qcy1mb3JtLXBheS1zdWJtaXQnKTtcbiAgICBjb25zdCBudW1iZXJDYXJkID0gZm9ybVBheS5xdWVyeVNlbGVjdG9yKCcuanMtY2FyZC1udW1iZXInKTtcbiAgICBjb25zdCBjdnZDYXJkID0gZm9ybVBheS5xdWVyeVNlbGVjdG9yKCcuanMtY2FyZC1jdnYnKTtcbiAgICBjb25zdCBtbUNhcmQgPSBmb3JtUGF5LnF1ZXJ5U2VsZWN0b3IoJy5qcy1tbScpO1xuICAgIGNvbnN0IHl5Q2FyZCA9IGZvcm1QYXkucXVlcnlTZWxlY3RvcignLmpzLXl5Jyk7XG4gICAgbGV0IGZsYWdTZW50Rm9ybSA9IHRydWU7XG5cbiAgICBjb25zdCBmb3JtYXR0ZWRDcmVkaXRDYXJkSW5wdXQgPSBuZXcgQ3JlZGl0Q2FyZElucHV0TWFzayh7XG4gICAgICAgIGVsZW1lbnQ6IG51bWJlckNhcmQsXG4gICAgICAgIHBhdHRlcm46IFwie3s5OTk5fX0ge3s5OTk5fX0ge3s5OTk5fX0ge3s5OTk5fX1cIixcbiAgICB9KTtcblxuICAgIGNvbnN0IGZvcm1hdHRlZEN2dkNhcmQgPSBuZXcgQ3JlZGl0Q2FyZElucHV0TWFzayh7XG4gICAgICAgIGVsZW1lbnQ6IGN2dkNhcmQsXG4gICAgICAgIHBhdHRlcm46IFwie3s5OTl9fVwiLFxuICAgIH0pO1xuXG4gICAgY29uc3QgZm9ybWF0dGVkTW0gPSBuZXcgQ3JlZGl0Q2FyZElucHV0TWFzayh7XG4gICAgICAgIGVsZW1lbnQ6IG1tQ2FyZCxcbiAgICAgICAgcGF0dGVybjogXCJ7ezk5fX1cIixcbiAgICB9KTtcblxuICAgIGNvbnN0IGZvcm1hdHRlZFl5ID0gbmV3IENyZWRpdENhcmRJbnB1dE1hc2soe1xuICAgICAgICBlbGVtZW50OiB5eUNhcmQsXG4gICAgICAgIHBhdHRlcm46IFwie3s5OX19XCIsXG4gICAgfSk7XG5cbiAgICB0aXBweSgnW2RhdGEtdGlwcHktY29udGVudF0nKTtcblxuICAgIGZ1bmN0aW9uIGNoZWNrZWRJbnB1dHMoKXtcbiAgICAgICAgZmxhZ1NlbnRGb3JtID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgaXRlbXNJbnB1dCA9IGZvcm1QYXkucXVlcnlTZWxlY3RvckFsbChcImlucHV0W3JlcXVpcmVkXVwiKTtcbiAgICAgICAgaXRlbXNJbnB1dC5mb3JFYWNoKChpdGVtKT0+e1xuICAgICAgICAgICAgaWYoaXRlbS50eXBlID09IFwiY2hlY2tib3hcIil7XG4gICAgICAgICAgICAgICAgaWYoaXRlbS5jaGVja2VkID09IGZhbHNlKXtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5jbG9zZXN0KFwiLmpzLXJlcXVpcmVkXCIpLmNsYXNzTGlzdC5hZGQoXCJyZXF1aXJlZC1lcnJvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgZmxhZ1NlbnRGb3JtID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmNsb3Nlc3QoXCIuanMtcmVxdWlyZWRcIikuY2xhc3NMaXN0LnJlbW92ZShcInJlcXVpcmVkLWVycm9yXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZXtcbiAgICAgICAgICAgICAgICBpZihpdGVtLnZhbHVlID09IFwiXCIpe1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmNsb3Nlc3QoXCIuanMtcmVxdWlyZWRcIikuY2xhc3NMaXN0LmFkZChcInJlcXVpcmVkLWVycm9yXCIpO1xuICAgICAgICAgICAgICAgICAgICBmbGFnU2VudEZvcm0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xvc2VzdChcIi5qcy1yZXF1aXJlZFwiKS5jbGFzc0xpc3QucmVtb3ZlKFwicmVxdWlyZWQtZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZihmbGFnU2VudEZvcm0pe1xuICAgICAgICAgICAgY29uc29sZS5sb2coZm9ybVBheVN1Ym1pdClcbiAgICAgICAgICAgIGZvcm1QYXlTdWJtaXQuc3VibWl0KCk7XG4gICAgICAgIH0gZWxzZXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGpzUmVxdWlyZWQuZm9yRWFjaCgoZWxlbWVudCk9PntcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgKCk9PntcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInJlcXVpcmVkLWVycm9yXCIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuXG4gICAgZm9ybVBheVN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCk9PntcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY2hlY2tlZElucHV0cygpO1xuICAgIH0pO1xuXG4gICAgLy9wb3B1cFxuICAgIGNvbnN0IGNob29zZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cFwiKTtcbiAgICBjb25zdCBjaG9vc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXBvcHVwXCIpO1xuICAgIGlmIChjaG9vc2VQb3B1cCAmJiBjaG9vc2VCdG4pIHtcbiAgICAgIGNvbnN0IHBvcHVwQ2xhc3MgPSBcIi5wb3B1cFwiO1xuICAgICAgY29uc3QgdHJpZ2dlckJ0biA9IFwiLmpzLXBvcHVwXCI7XG4gICAgICBpbml0UG9wdXAocG9wdXBDbGFzcywgdHJpZ2dlckJ0bik7XG4gICAgfVxufSk7XG4iLCJpbXBvcnQgcmVhZHkgZnJvbSBcIi4uLy4uL2pzL3V0aWxzL2RvY3VtZW50UmVhZHlcIjtcclxuaW1wb3J0IElNYXNrIGZyb20gXCJpbWFza1wiO1xyXG5cclxucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gIC8vIGlucHV0XHJcbiAgY29uc3QgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pbnB1dFwiKTtcclxuXHJcbiAgaWYgKGlucHV0cy5sZW5ndGggIT09IDApIHtcclxuICAgIGZvciAobGV0IGlucHV0IG9mIGlucHV0cykge1xyXG4gICAgICBpZiAoaW5wdXQudmFsdWUubGVuZ3RoICE9PSAwKSBpbnB1dC5jbGFzc0xpc3QuYWRkKFwiaW5wdXQtLWhhcy12YWx1ZVwiKTtcclxuXHJcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy52YWx1ZS5sZW5ndGggIT09IDBcclxuICAgICAgICAgID8gdGhpcy5jbGFzc0xpc3QuYWRkKFwiaW5wdXQtLWhhcy12YWx1ZVwiKVxyXG4gICAgICAgICAgOiB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnB1dC0taGFzLXZhbHVlXCIpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIHBob25lIGlucHV0XHJcbiAgY29uc3QgcGhvbmVGaWVsZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiIGlucHV0W3R5cGU9dGVsXVwiKTtcclxuXHJcbiAgaWYgKHBob25lRmllbGRzKSB7XHJcbiAgICBwaG9uZUZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xyXG4gICAgICBJTWFzayhmaWVsZCwge1xyXG4gICAgICAgIG1hc2s6IFwiK3s3fSAoMDAwKSAwMDAtMDAtMDBcIixcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG4iLCJpbXBvcnQgcmVhZHkgZnJvbSBcIi4uLy4uL2pzL3V0aWxzL2RvY3VtZW50UmVhZHkuanNcIjtcclxuXHJcbnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICBmdW5jdGlvbiBtYWtlVGFicyh0YWJzLCBwYW5lcykge1xyXG4gICAgY29uc3QgdGFic0xhYmVscyA9IHRhYnMuY2hpbGRyZW47XHJcbiAgICBjb25zdCB0YWJzUGFuZXMgPSBwYW5lcy5jaGlsZHJlbjtcclxuXHJcbiAgICBBcnJheS5mcm9tKHRhYnNMYWJlbHMpLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYWN0aXZhdGVUYWIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGVUYWIoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIEFycmF5LmZyb20odGFic0xhYmVscykuZm9yRWFjaChmdW5jdGlvbiAobGFiZWwpIHtcclxuICAgICAgICBsYWJlbC5jbGFzc0xpc3QucmVtb3ZlKFwidGFic19fbGFiZWwtLWFjdGl2ZVwiKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFtdLmZvckVhY2guY2FsbCh0YWJzUGFuZXMsIGZ1bmN0aW9uIChwYW5lKSB7XHJcbiAgICAgICAgcGFuZS5jbGFzc0xpc3QucmVtb3ZlKFwidGFic19fcGFuZS0tYWN0aXZlXCIpO1xyXG4gICAgICB9KTtcclxuICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcInRhYnNfX2xhYmVsLS1hY3RpdmVcIik7XHJcbiAgICAgIGxldCBjbGlja2VkVGFiID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1ocmVmXCIpO1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNsaWNrZWRUYWIpLmNsYXNzTGlzdC5hZGQoXCJ0YWJzX19wYW5lLS1hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZXQgdGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFic19fbGFiZWxzXCIpO1xyXG4gIGxldCBwYW5lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFic19fcGFuZXNcIik7XHJcblxyXG4gIG1ha2VUYWJzKHRhYnMsIHBhbmVzKTtcclxufSk7XHJcbiIsImV4cG9ydCBjb25zdCBpbml0UG9wdXAgPSAocG9wdXBDbGFzcywgdHJpZ2dlckJ0bikgPT4ge1xuICAvLyDQv9GA0LjQstGP0LfRi9Cy0LDQtdC8INC90LXQvtCx0YXQvtC00LjQvNGL0LUg0Y3Qu9C10LzQtdC90YLRi1xuICBjb25zdCB0cmlnZ2VyID0gdHJpZ2dlckJ0bjtcbiAgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwQ2xhc3MpO1xuICBjb25zdCBib2R5RWxlbWVudEhUTUwgPSBkb2N1bWVudC5ib2R5O1xuICBjb25zdCBtb2RhbEJhY2tncm91bmQgPSBwb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmpzLXBvcHVwLWJhY2tncm91bmRcIik7XG4gIGNvbnN0IG1vZGFsQ2xvc2UgPSBwb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmpzLXBvcHVwLWNsb3NlLWJ0blwiKTtcblxuICAvLyDRgdC+0LHRi9GC0LjQtSDQvdCw0LbQsNGC0LjRjyDQvdCwINGC0YDQuNCz0LPQtdGAINC+0YLQutGA0YvRgtC40Y8g0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LBcbiAgaWYgKHRyaWdnZXIpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xvc2VzdCh0cmlnZ2VyKSkge1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgLy8g0LTQtdC70LDQtdC8INC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviDQstC40LTQuNC80YvQvFxuICAgICAgICBtb2RhbEJhY2tncm91bmQuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICBib2R5RWxlbWVudEhUTUwuY2xhc3NMaXN0LmFkZChcImxvY2tcIik7XG5cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vINC+0YLQutGA0YvRgtC40LVcbiAgY29uc3QgaGFuZGxlU2hvd1BvcHVwID0gKCkgPT4ge1xuICAgIG1vZGFsQmFja2dyb3VuZC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwibG9ja1wiKTtcbiAgfTtcblxuICAvLyDQt9Cw0LrRgNGL0YLQuNC1XG4gIGNvbnN0IGhhbmRsZUNsb3NlUG9wdXAgPSAoKSA9PiB7XG4gICAgbW9kYWxCYWNrZ3JvdW5kLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBib2R5RWxlbWVudEhUTUwuY2xhc3NMaXN0LnJlbW92ZShcImxvY2tcIik7XG4gIH07XG5cbiAgLy8g0L3QsNC20LDRgtC40LUg0L3QsCDQutGA0LXRgdGC0LjQuiDQt9Cw0LrRgNGL0YLQuNGPINC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwXG4gIG1vZGFsQ2xvc2UgJiYgbW9kYWxDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xvc2VQb3B1cCk7XG5cbiAgLy8g0LfQsNC60YDRi9GC0LjQtSDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsCDQvdCwINC30L7QvdGDINCy0L3QtSDQvtC60L3QsFxuICBtb2RhbEJhY2tncm91bmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudC50YXJnZXQgPT09IG1vZGFsQmFja2dyb3VuZCkge1xuICAgICAgaGFuZGxlQ2xvc2VQb3B1cCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgcG9wdXAubWFrZVBvcHVwID0geyBoYW5kbGVTaG93UG9wdXAsIGhhbmRsZUNsb3NlUG9wdXAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBpbml0Wm9vbVBvcHVwID0gKHBvcHVwQ2xhc3MsIHRyaWdnZXJCdG4pID0+IHtcbiAgLy8g0L/RgNC40LLRj9C30YvQstCw0LXQvCDQvdC10L7QsdGF0L7QtNC40LzRi9C1INGN0LvQtdC80LXQvdGC0YtcbiAgbGV0IGN1cnJlbnRTbGlkZUluZGV4O1xuICBjb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBDbGFzcyk7XG4gIGNvbnN0IGJvZHlFbGVtZW50SFRNTCA9IGRvY3VtZW50LmJvZHk7XG4gIGNvbnN0IG1vZGFsQmFja2dyb3VuZCA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuanMtcG9wdXAtYmFja2dyb3VuZFwiKTtcbiAgY29uc3QgbW9kYWxDbG9zZSA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuanMtcG9wdXAtY2xvc2UtYnRuXCIpO1xuXG4gIC8vINGB0L7QsdGL0YLQuNC1INC90LDQttCw0YLQuNGPINC90LAg0YLRgNC40LPQs9C10YAg0L7RgtC60YDRi9GC0LjRjyDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsFxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgIGlmIChldnQudGFyZ2V0LmNsb3Nlc3QodHJpZ2dlckJ0bikpIHtcbiAgICAgIC8vINC00LXQu9Cw0LXQvCDQvNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4g0LLQuNC00LjQvNGL0LxcbiAgICAgIG1vZGFsQmFja2dyb3VuZC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgYm9keUVsZW1lbnRIVE1MLmNsYXNzTGlzdC5hZGQoXCJsb2NrXCIpO1xuICAgICAgY29uc3QgY3VycmVudFpvb21CdG4gPSBldnQudGFyZ2V0LmNsb3Nlc3QodHJpZ2dlckJ0bik7XG4gICAgICBjdXJyZW50U2xpZGVJbmRleCA9IGN1cnJlbnRab29tQnRuLmRhdGFzZXQuc2xpZGVJbmRleDtcbiAgICB9XG4gIH0pO1xuXG4gIC8vINC30LDQutGA0YvRgtC40LVcbiAgY29uc3QgaGFuZGxlQ2xvc2VQb3B1cCA9ICgpID0+IHtcbiAgICBtb2RhbEJhY2tncm91bmQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGJvZHlFbGVtZW50SFRNTC5jbGFzc0xpc3QucmVtb3ZlKFwibG9ja1wiKTtcbiAgfTtcblxuICAvLyDQvdCw0LbQsNGC0LjQtSDQvdCwINC60YDQtdGB0YLQuNC6INC30LDQutGA0YvRgtC40Y8g0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LBcbiAgbW9kYWxDbG9zZSAmJiBtb2RhbENsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVDbG9zZVBvcHVwKTtcblxuICAvLyDQt9Cw0LrRgNGL0YLQuNC1INC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwINC90LAg0LfQvtC90YMg0LLQvdC1INC+0LrQvdCwXG4gIG1vZGFsQmFja2dyb3VuZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gbW9kYWxCYWNrZ3JvdW5kKSB7XG4gICAgICBoYW5kbGVDbG9zZVBvcHVwKCk7XG4gICAgfVxuICB9KTtcbn07XG4iLCIvLyBpbXBvcnQgcmVhZHkgZnJvbSBcIi4uL2pzL3V0aWxzL2RvY3VtZW50UmVhZHkuanNcIjtcclxuLy8gaW1wb3J0IGdldFNjcm9sbFNpemUgZnJvbSBcIi4uL2pzL3V0aWxzL2dldFNjcm9sbFNpemUuanNcIjtcclxuXHJcbi8vIHJlYWR5KGZ1bmN0aW9uICgpIHtcclxuLy8gICBjb25zb2xlLmxvZyhcIkRPTSDQs9C10YDQvtC40YfQtdGB0LrQuCDQv9C+0YHRgtGA0L7QtdC9IVwiKTtcclxuLy8gICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YHRgtC+0LzQvdC+0LPQviDRgdCy0L7QudGB0YLQstCwINGBINGB0LjRgdGC0LXQvNC90L7QuSDRiNC40YDQuNC90L7QuSDRgdC60YDQvtC70LvQsFxyXG4vLyAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tY3NzLXNjcm9sbC1zaXplXCIsIGAke2dldFNjcm9sbFNpemUoKX1weGApO1xyXG4vLyB9KTtcclxuXHJcbi8vIGltcG9ydCAkIGZyb20gXCJqcXVlcnlcIjsgLy8g0J/QtdGA0LXQtCDQuNGB0L/QvtC70YzQt9C+0LLQsNC90LjQtdC8INGD0YHRgtCw0L3QvtCy0LjRgtGMINC60LDQuiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtGMXHJcbi8vICQoZnVuY3Rpb24gKCkge1xyXG4vLyAgIGNvbnNvbGUubG9nKFwialF1ZXJ5INCz0LXRgNC+0LjRh9C10YHQutC4INGB0YDQsNCx0L7RgtCw0LshXCIpO1xyXG4vLyB9KTtcclxuIiwiY29uc3QgcmVhZHkgPSBmdW5jdGlvbiAoZm4pIHtcclxuICBpZiAoXHJcbiAgICBkb2N1bWVudC5hdHRhY2hFdmVudCA/IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiA6IGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiXHJcbiAgKSB7XHJcbiAgICBmbigpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmbik7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmVhZHk7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc0lvcyA9IGV4cG9ydHMuaXNJRTkgPSBleHBvcnRzLmlzU2Ftc3VuZ0Jyb3dzZXIgPSBleHBvcnRzLmlzQW5kcm9pZENocm9tZSA9IGV4cG9ydHMuaXNLaXRLYXRXZWJ2aWV3ID0gdm9pZCAwO1xuLy8gc2VydmVyIHNpZGUgcmVuZGVyaW5nIGNoZWNrXG52YXIgVUEgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHdpbmRvdy5uYXZpZ2F0b3IgJiZcbiAgICB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4vLyBUT0RPIHJlbW92ZSB0aGlzIHdoZW4gYnJvd3NlciBkZXRlY3Rpb24gaXMgY29udmVydGVkIHRvIHR5cGVzY3JpcHRcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudCAqL1xuLy8gQHRzLWlnbm9yZVxudmFyIGlzQW5kcm9pZCA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2lzLWFuZHJvaWRcIik7XG4vLyBAdHMtaWdub3JlXG52YXIgaXNDaHJvbWVPcyA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2lzLWNocm9tZS1vc1wiKTtcbi8vIEB0cy1pZ25vcmVcbnZhciBpc0Nocm9tZSA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2lzLWNocm9tZVwiKTtcbi8vIEB0cy1pZ25vcmVcbnZhciBpc0lvcyA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2lzLWlvc1wiKTtcbmV4cG9ydHMuaXNJb3MgPSBpc0lvcztcbi8vIEB0cy1pZ25vcmVcbnZhciBpc0lFOSA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2lzLWllOVwiKTtcbmV4cG9ydHMuaXNJRTkgPSBpc0lFOTtcbi8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50ICovXG4vLyBPbGQgQW5kcm9pZCBXZWJ2aWV3cyB1c2VkIHNwZWNpZmljIHZlcnNpb25zIG9mIENocm9tZSB3aXRoIDAuMC4wIGFzIHRoZWlyIHZlcnNpb24gc3VmZml4XG4vLyBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL211bHRpZGV2aWNlL3VzZXItYWdlbnQjd2Vidmlld191c2VyX2FnZW50XG52YXIgS0lUS0FUX1dFQlZJRVdfUkVHRVggPSAvVmVyc2lvblxcL1xcZFxcLlxcZCogQ2hyb21lXFwvXFxkKlxcLjBcXC4wXFwuMC87XG5mdW5jdGlvbiBpc09sZFNhbXN1bmdCcm93c2VyT3JTYW1zdW5nV2Vidmlldyh1YSkge1xuICAgIHJldHVybiAhaXNDaHJvbWUodWEpICYmIHVhLmluZGV4T2YoXCJTYW1zdW5nXCIpID4gLTE7XG59XG5mdW5jdGlvbiBpc0tpdEthdFdlYnZpZXcodWEpIHtcbiAgICBpZiAodWEgPT09IHZvaWQgMCkgeyB1YSA9IFVBOyB9XG4gICAgcmV0dXJuIGlzQW5kcm9pZCh1YSkgJiYgS0lUS0FUX1dFQlZJRVdfUkVHRVgudGVzdCh1YSk7XG59XG5leHBvcnRzLmlzS2l0S2F0V2VidmlldyA9IGlzS2l0S2F0V2VidmlldztcbmZ1bmN0aW9uIGlzQW5kcm9pZENocm9tZSh1YSkge1xuICAgIGlmICh1YSA9PT0gdm9pZCAwKSB7IHVhID0gVUE7IH1cbiAgICByZXR1cm4gKGlzQW5kcm9pZCh1YSkgfHwgaXNDaHJvbWVPcyh1YSkpICYmIGlzQ2hyb21lKHVhKTtcbn1cbmV4cG9ydHMuaXNBbmRyb2lkQ2hyb21lID0gaXNBbmRyb2lkQ2hyb21lO1xuZnVuY3Rpb24gaXNTYW1zdW5nQnJvd3Nlcih1YSkge1xuICAgIGlmICh1YSA9PT0gdm9pZCAwKSB7IHVhID0gVUE7IH1cbiAgICByZXR1cm4gL1NhbXN1bmdCcm93c2VyLy50ZXN0KHVhKSB8fCBpc09sZFNhbXN1bmdCcm93c2VyT3JTYW1zdW5nV2Vidmlldyh1YSk7XG59XG5leHBvcnRzLmlzU2Ftc3VuZ0Jyb3dzZXIgPSBpc1NhbXN1bmdCcm93c2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBhdHRlcm5Gb3JtYXR0ZXIgPSB2b2lkIDA7XG52YXIgcGFyc2VfcGF0dGVybl8xID0gcmVxdWlyZShcIi4vcGFyc2UtcGF0dGVyblwiKTtcbnZhciBpc19iYWNrc3BhY2VfMSA9IHJlcXVpcmUoXCIuLi9pcy1iYWNrc3BhY2VcIik7XG52YXIgUGF0dGVybkZvcm1hdHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYXR0ZXJuRm9ybWF0dGVyKHBhdHRlcm4pIHtcbiAgICAgICAgdGhpcy5wYXR0ZXJuID0gcGFyc2VfcGF0dGVybl8xLnBhcnNlUGF0dGVybihwYXR0ZXJuKTtcbiAgICB9XG4gICAgUGF0dGVybkZvcm1hdHRlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsU3RyaW5nID0gb3B0aW9ucy52YWx1ZTtcbiAgICAgICAgdmFyIG9yaWdpbmFsU3RyaW5nSW5kZXggPSAwO1xuICAgICAgICB2YXIgZm9ybWF0dGVkU3RyaW5nID0gXCJcIjtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiBvcHRpb25zLnNlbGVjdGlvbi5zdGFydCxcbiAgICAgICAgICAgIGVuZDogb3B0aW9ucy5zZWxlY3Rpb24uZW5kLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGF0dGVybi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhdHRlcm5DaGFyID0gdGhpcy5wYXR0ZXJuW2ldO1xuICAgICAgICAgICAgdmFyIGlucHV0Q2hhciA9IG9yaWdpbmFsU3RyaW5nW29yaWdpbmFsU3RyaW5nSW5kZXhdO1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsU3RyaW5nSW5kZXggPiBvcmlnaW5hbFN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGF0dGVybkNoYXIudmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRDaGFyICE9IG51bGwgfHwgZm9ybWF0dGVkU3RyaW5nLmxlbmd0aCA9PT0gcGF0dGVybkNoYXIuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nICs9IHBhdHRlcm5DaGFyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGF0dGVybkNoYXIuaW5kZXggPD0gc2VsZWN0aW9uLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24uc3RhcnQrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0dGVybkNoYXIuaW5kZXggPD0gc2VsZWN0aW9uLmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uLmVuZCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlciBpbnB1dCBjaGFyXG4gICAgICAgICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICAgICAgZm9yICg7IG9yaWdpbmFsU3RyaW5nSW5kZXggPCBvcmlnaW5hbFN0cmluZy5sZW5ndGg7IG9yaWdpbmFsU3RyaW5nSW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dENoYXIgPSBvcmlnaW5hbFN0cmluZ1tvcmlnaW5hbFN0cmluZ0luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdHRlcm5DaGFyLnZhbHVlLnRlc3QoaW5wdXRDaGFyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nICs9IGlucHV0Q2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RyaW5nSW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdHRlcm5DaGFyLmluZGV4IDw9IHNlbGVjdGlvbi5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5zdGFydC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdHRlcm5DaGFyLmluZGV4IDw9IHNlbGVjdGlvbi5lbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24uZW5kLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBmb3JtYXR0ZWRTdHJpbmcsXG4gICAgICAgICAgICBzZWxlY3Rpb246IHNlbGVjdGlvbixcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFBhdHRlcm5Gb3JtYXR0ZXIucHJvdG90eXBlLnVuZm9ybWF0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gb3B0aW9ucy5zZWxlY3Rpb24uc3RhcnQ7XG4gICAgICAgIHZhciBlbmQgPSBvcHRpb25zLnNlbGVjdGlvbi5lbmQ7XG4gICAgICAgIHZhciB1bmZvcm1hdHRlZFN0cmluZyA9IFwiXCI7XG4gICAgICAgIHZhciBmb3JtYXRDb21wZW5zYXRpb24gPSAwO1xuICAgICAgICBmdW5jdGlvbiBpc1BhdHRlcm50Q2hhcihwYXR0ZXJuQ2hhciwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9wdGlvbnMudmFsdWVbaW5kZXggLSBmb3JtYXRDb21wZW5zYXRpb25dO1xuICAgICAgICAgICAgcmV0dXJuICh0eXBlb2YgcGF0dGVybkNoYXIudmFsdWUgIT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICB2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgcGF0dGVybkNoYXIudmFsdWUudGVzdCh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXR0ZXJuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGF0dGVybkNoYXIgPSB0aGlzLnBhdHRlcm5baV07XG4gICAgICAgICAgICBpZiAoaXNQYXR0ZXJudENoYXIocGF0dGVybkNoYXIsIGkpKSB7XG4gICAgICAgICAgICAgICAgdW5mb3JtYXR0ZWRTdHJpbmcgKz0gb3B0aW9ucy52YWx1ZVtpIC0gZm9ybWF0Q29tcGVuc2F0aW9uXTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXR0ZXJuQ2hhci52YWx1ZSAhPT0gb3B0aW9ucy52YWx1ZVtwYXR0ZXJuQ2hhci5pbmRleF0pIHtcbiAgICAgICAgICAgICAgICBmb3JtYXRDb21wZW5zYXRpb24rKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXR0ZXJuQ2hhci5pbmRleCA8IG9wdGlvbnMuc2VsZWN0aW9uLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgc3RhcnQtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXR0ZXJuQ2hhci5pbmRleCA8IG9wdGlvbnMuc2VsZWN0aW9uLmVuZCkge1xuICAgICAgICAgICAgICAgIGVuZC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZWxlY3Rpb246IHtcbiAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmFsdWU6IHVuZm9ybWF0dGVkU3RyaW5nLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgUGF0dGVybkZvcm1hdHRlci5wcm90b3R5cGUuc2ltdWxhdGVEZWxldGlvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWxldGlvblN0YXJ0LCBkZWxldGlvbkVuZDtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy51bmZvcm1hdChvcHRpb25zKTtcbiAgICAgICAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWU7XG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSBzdGF0ZS5zZWxlY3Rpb247XG4gICAgICAgIHZhciBkZWx0YSA9IE1hdGguYWJzKHN0YXRlLnNlbGVjdGlvbi5lbmQgLSBzdGF0ZS5zZWxlY3Rpb24uc3RhcnQpO1xuICAgICAgICBpZiAoZGVsdGEpIHtcbiAgICAgICAgICAgIGRlbGV0aW9uU3RhcnQgPSBzZWxlY3Rpb24uc3RhcnQ7XG4gICAgICAgICAgICBkZWxldGlvbkVuZCA9IHNlbGVjdGlvbi5lbmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNfYmFja3NwYWNlXzEuaXNCYWNrc3BhY2Uob3B0aW9ucy5ldmVudCkpIHtcbiAgICAgICAgICAgIGRlbGV0aW9uU3RhcnQgPSBNYXRoLm1heCgwLCBzZWxlY3Rpb24uc3RhcnQgLSAxKTtcbiAgICAgICAgICAgIGRlbGV0aW9uRW5kID0gc2VsZWN0aW9uLnN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGZvcndhcmQgZGVsZXRlXG4gICAgICAgICAgICBkZWxldGlvblN0YXJ0ID0gc2VsZWN0aW9uLnN0YXJ0O1xuICAgICAgICAgICAgZGVsZXRpb25FbmQgPSBNYXRoLm1pbih2YWx1ZS5sZW5ndGgsIHNlbGVjdGlvbi5zdGFydCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZWxlY3Rpb246IHtcbiAgICAgICAgICAgICAgICBzdGFydDogZGVsZXRpb25TdGFydCxcbiAgICAgICAgICAgICAgICBlbmQ6IGRlbGV0aW9uU3RhcnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLnN1YnN0cigwLCBkZWxldGlvblN0YXJ0KSArIHZhbHVlLnN1YnN0cihkZWxldGlvbkVuZCksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gUGF0dGVybkZvcm1hdHRlcjtcbn0oKSk7XG5leHBvcnRzLlBhdHRlcm5Gb3JtYXR0ZXIgPSBQYXR0ZXJuRm9ybWF0dGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlUGF0dGVybiA9IHZvaWQgMDtcbnZhciBBTFBIQV9SRUdFWCA9IC9bQS1aYS16XS87XG52YXIgRElHSVRfUkVHRVggPSAvXFxkLztcbnZhciBXSUxEX1JFR0VYID0gLy4vO1xudmFyIFBMQUNFSE9MREVSX1JFR0VYID0gL15bQS1aYS16MC05XFwqXSQvO1xudmFyIFBMQUNFSE9MREVSX1BBVFRFUk4gPSBcIih7e1tefV0rfX0pXCI7XG52YXIgUEVSTUFDSEFSX1JFR0VYID0gXCIoXFxcXHN8XFxcXFMpXCI7XG52YXIgUEFUVEVSTl9SRUdFWCA9IG5ldyBSZWdFeHAoUExBQ0VIT0xERVJfUEFUVEVSTiArIFwifFwiICsgUEVSTUFDSEFSX1JFR0VYLCBcImdcIik7XG52YXIgUExBQ0VIT0xERVJfUEFUVEVSTl9SRUdFWCA9IG5ldyBSZWdFeHAoXCJeXCIgKyBQTEFDRUhPTERFUl9QQVRURVJOICsgXCIkXCIpO1xudmFyIHJlcGxhY2VyUmVnZXggPSBuZXcgUmVnRXhwKFwie3x9XCIsIFwiZ1wiKTtcbmZ1bmN0aW9uIGlzRGlnaXQoY2hhcikge1xuICAgIHJldHVybiBESUdJVF9SRUdFWC50ZXN0KGNoYXIpO1xufVxuZnVuY3Rpb24gaXNBbHBoYShjaGFyKSB7XG4gICAgcmV0dXJuIEFMUEhBX1JFR0VYLnRlc3QoY2hhcik7XG59XG5mdW5jdGlvbiBjcmVhdGVSZWdleEZvckNoYXIoY2hhcikge1xuICAgIGlmIChpc0RpZ2l0KGNoYXIpKSB7XG4gICAgICAgIHJldHVybiBESUdJVF9SRUdFWDtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBbHBoYShjaGFyKSkge1xuICAgICAgICByZXR1cm4gQUxQSEFfUkVHRVg7XG4gICAgfVxuICAgIHJldHVybiBXSUxEX1JFR0VYO1xufVxuZnVuY3Rpb24gaXNQbGFjZWhvbGRlcihjaGFyKSB7XG4gICAgcmV0dXJuIFBMQUNFSE9MREVSX1JFR0VYLnRlc3QoY2hhcik7XG59XG5mdW5jdGlvbiBpc1BsYWNlaG9sZGVyUGF0dGVybihzdHIpIHtcbiAgICByZXR1cm4gUExBQ0VIT0xERVJfUEFUVEVSTl9SRUdFWC50ZXN0KHN0cik7XG59XG5mdW5jdGlvbiBwYXJzZVBhdHRlcm4ocGF0dGVyblN0cmluZykge1xuICAgIHZhciBwYXR0ZXJuQXJyYXkgPSBbXTtcbiAgICB2YXIgcGF0dGVyblBhcnRzID0gcGF0dGVyblN0cmluZy5tYXRjaChQQVRURVJOX1JFR0VYKTtcbiAgICBpZiAoIXBhdHRlcm5QYXJ0cykge1xuICAgICAgICByZXR1cm4gcGF0dGVybkFycmF5O1xuICAgIH1cbiAgICBmb3IgKHZhciBpbmRleCA9IDAsIGkgPSAwOyBpIDwgcGF0dGVyblBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXR0ZXJuUGFydCA9IHBhdHRlcm5QYXJ0c1tpXTtcbiAgICAgICAgaWYgKGlzUGxhY2Vob2xkZXJQYXR0ZXJuKHBhdHRlcm5QYXJ0KSkge1xuICAgICAgICAgICAgdmFyIHBsYWNlaG9sZGVyQ2hhcnMgPSBwYXR0ZXJuUGFydC5yZXBsYWNlKHJlcGxhY2VyUmVnZXgsIFwiXCIpLnNwbGl0KFwiXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwbGFjZWhvbGRlckNoYXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBsYWNlaG9sZGVyQ2hhciA9IHBsYWNlaG9sZGVyQ2hhcnNbal07XG4gICAgICAgICAgICAgICAgaWYgKCFpc1BsYWNlaG9sZGVyKHBsYWNlaG9sZGVyQ2hhcikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBhbHBoYW51bWVyaWMgb3Igd2lsZGNhcmQgcGF0dGVybiBtYXRjaGVycyBhcmUgYWxsb3dlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGF0dGVybkFycmF5LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3JlYXRlUmVnZXhGb3JDaGFyKHBsYWNlaG9sZGVyQ2hhciksXG4gICAgICAgICAgICAgICAgICAgIGlzUGVybWFDaGFyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4KyssXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXR0ZXJuQXJyYXkucHVzaCh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHBhdHRlcm5QYXJ0LFxuICAgICAgICAgICAgICAgIGlzUGVybWFDaGFyOiB0cnVlLFxuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCsrLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhdHRlcm5BcnJheTtcbn1cbmV4cG9ydHMucGFyc2VQYXR0ZXJuID0gcGFyc2VQYXR0ZXJuO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNldCA9IGV4cG9ydHMuZ2V0ID0gdm9pZCAwO1xuZnVuY3Rpb24gZ2V0KGVsZW1lbnQpIHtcbiAgICB2YXIgc3RhcnQgPSBlbGVtZW50LnNlbGVjdGlvblN0YXJ0IHx8IDA7XG4gICAgdmFyIGVuZCA9IGVsZW1lbnQuc2VsZWN0aW9uRW5kIHx8IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBlbmQ6IGVuZCxcbiAgICAgICAgZGVsdGE6IE1hdGguYWJzKGVuZCAtIHN0YXJ0KSxcbiAgICB9O1xufVxuZXhwb3J0cy5nZXQgPSBnZXQ7XG5mdW5jdGlvbiBzZXQoZWxlbWVudCwgc3RhcnQsIGVuZCkge1xuICAgIC8vIFNvbWUgYnJvd3NlcnMgZXhwbG9kZSBpZiB5b3UgdXNlIHNldFNlbGVjdGlvblJhbmdlXG4gICAgLy8gb24gYSBub24tZm9jdXNlZCBlbGVtZW50XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsZW1lbnQgJiYgZWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSkge1xuICAgICAgICBlbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBlbmQpO1xuICAgIH1cbn1cbmV4cG9ydHMuc2V0ID0gc2V0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzQmFja3NwYWNlID0gdm9pZCAwO1xuZnVuY3Rpb24gaXNCYWNrc3BhY2UoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQua2V5ID09PSBcIkJhY2tzcGFjZVwiIHx8IGV2ZW50LmtleUNvZGUgPT09IDg7XG59XG5leHBvcnRzLmlzQmFja3NwYWNlID0gaXNCYWNrc3BhY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNEZWxldGUgPSB2b2lkIDA7XG52YXIgREVMRVRFX1JFR0VYID0gL15EZWwoZXRlKT8kLztcbmZ1bmN0aW9uIGlzRGVsZXRlKGV2ZW50KSB7XG4gICAgcmV0dXJuIERFTEVURV9SRUdFWC50ZXN0KGV2ZW50LmtleSkgfHwgZXZlbnQua2V5Q29kZSA9PT0gNDY7XG59XG5leHBvcnRzLmlzRGVsZXRlID0gaXNEZWxldGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMua2V5Q2Fubm90TXV0YXRlVmFsdWUgPSB2b2lkIDA7XG52YXIgaW5wdXRfc2VsZWN0aW9uXzEgPSByZXF1aXJlKFwiLi9pbnB1dC1zZWxlY3Rpb25cIik7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24ga2V5Q2Fubm90TXV0YXRlVmFsdWUoZXZlbnQpIHtcbiAgICB2YXIgaW5wdXQgPSAoZXZlbnQuY3VycmVudFRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50KTtcbiAgICB2YXIgc2VsZWN0aW9uID0gaW5wdXRfc2VsZWN0aW9uXzEuZ2V0KGlucHV0KTtcbiAgICB2YXIgaXNBdEJlZ2lubmluZyA9IHNlbGVjdGlvbi5zdGFydCA9PT0gMDtcbiAgICB2YXIgaXNBdEVuZCA9IHNlbGVjdGlvbi5zdGFydCA9PT0gaW5wdXQudmFsdWUubGVuZ3RoO1xuICAgIHZhciBpc1NoaWZ0ZWQgPSBldmVudC5zaGlmdEtleSA9PT0gdHJ1ZTtcbiAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyN3aWRsLUtleWJvYXJkRXZlbnQta2V5XG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgICAgY2FzZSB1bmRlZmluZWQ6IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgY2FzZSBcIlVuaWRlbnRpZmllZFwiOiAvLyBDYW5ub3QgYmUgZGV0ZXJtaW5lZFxuICAgICAgICBjYXNlIFwiXCI6IC8vIFVuaW5pdGlhbGl6ZWRcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQmFja3NwYWNlXCI6IC8vIGJhY2tzcGFjZSBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgICByZXR1cm4gaXNBdEJlZ2lubmluZztcbiAgICAgICAgY2FzZSBcIkRlbFwiOiAvLyBkZWxldGUgYXQgdGhlIGVuZFxuICAgICAgICBjYXNlIFwiRGVsZXRlXCI6XG4gICAgICAgICAgICByZXR1cm4gaXNBdEVuZDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBldmVudC5rZXkubGVuZ3RoICE9PSAxO1xuICAgIH1cbiAgICAvLyBodHRwOi8vdW5peHBhcGEuY29tL2pzL2tleS5odG1sXG4gICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgOTogLy8gdGFiXG4gICAgICAgIGNhc2UgMTk6IC8vIHBhdXNlL2JyZWFrXG4gICAgICAgIGNhc2UgMjA6IC8vIGNhcHMgbG9ja1xuICAgICAgICBjYXNlIDI3OiAvLyBlc2NhcGVcbiAgICAgICAgY2FzZSAzOTogLy8gYXJyb3dzXG4gICAgICAgIGNhc2UgNDU6IC8vIGluc2VydFxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgMzM6IC8vIHBhZ2UgdXAgKGlmIHNoaWZ0ZWQsICchJylcbiAgICAgICAgY2FzZSAzNDogLy8gcGFnZSBkb3duIChpZiBzaGlmdGVkLCAnJycpXG4gICAgICAgIGNhc2UgMzU6IC8vIGVuZCAoaWYgc2hpZnRlZCwgJyMnKVxuICAgICAgICBjYXNlIDM2OiAvLyBob21lIChpZiBzaGlmdGVkLCAnJCcpXG4gICAgICAgIGNhc2UgMzc6IC8vIGFycm93cyAoaWYgc2hpZnRlZCwgJyUnKVxuICAgICAgICBjYXNlIDM4OiAvLyBhcnJvd3MgKGlmIHNoaWZ0ZWQsICcmJylcbiAgICAgICAgY2FzZSA0MDogLy8gYXJyb3dzIChpZiBzaGlmdGVkLCAnKCcpXG4gICAgICAgICAgICByZXR1cm4gIWlzU2hpZnRlZDtcbiAgICAgICAgY2FzZSA4OiAvLyBiYWNrc3BhY2UgYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAgICAgcmV0dXJuIGlzQXRCZWdpbm5pbmc7XG4gICAgICAgIGNhc2UgNDY6IC8vIGRlbGV0ZSBhdCB0aGUgZW5kXG4gICAgICAgICAgICByZXR1cm4gaXNBdEVuZDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnRzLmtleUNhbm5vdE11dGF0ZVZhbHVlID0ga2V5Q2Fubm90TXV0YXRlVmFsdWU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBkZXZpY2VfMSA9IHJlcXVpcmUoXCIuL2RldmljZVwiKTtcbnZhciBzdXBwb3J0c0lucHV0Rm9ybWF0dGluZyA9IHJlcXVpcmUoXCIuLi9zdXBwb3J0cy1pbnB1dC1mb3JtYXR0aW5nXCIpO1xudmFyIGlvc18xID0gcmVxdWlyZShcIi4vc3RyYXRlZ2llcy9pb3NcIik7XG52YXIgYW5kcm9pZF9jaHJvbWVfMSA9IHJlcXVpcmUoXCIuL3N0cmF0ZWdpZXMvYW5kcm9pZC1jaHJvbWVcIik7XG52YXIga2l0a2F0X2Nocm9taXVtX2Jhc2VkX3dlYnZpZXdfMSA9IHJlcXVpcmUoXCIuL3N0cmF0ZWdpZXMva2l0a2F0LWNocm9taXVtLWJhc2VkLXdlYnZpZXdcIik7XG52YXIgaWU5XzEgPSByZXF1aXJlKFwiLi9zdHJhdGVnaWVzL2llOVwiKTtcbnZhciBiYXNlXzEgPSByZXF1aXJlKFwiLi9zdHJhdGVnaWVzL2Jhc2VcIik7XG52YXIgbm9vcF8xID0gcmVxdWlyZShcIi4vc3RyYXRlZ2llcy9ub29wXCIpO1xuLyoqXG4gKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBjYW4gYmUgdXNlZCB0byBtb2RpZnkgdGhlIGZvcm1hdHRlciBmb3IgYW4gaW5wdXRcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgVGhlIGluaXRpYWxpemF0aW9uIHBhcmFtYXRlcnMgZm9yIHRoaXMgY2xhc3NcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zLmVsZW1lbnQgLSBBIElucHV0IERPTSBvYmplY3QgdGhhdCBSZXN0cmljdGVkSW5wdXQgb3BlcmF0ZXMgb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnBhdHRlcm4gLSBUaGUgcGF0dGVybiB0byBlbmZvcmNlIG9uIHRoaXMgZWxlbWVudFxuICovXG52YXIgUmVzdHJpY3RlZElucHV0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc3RyaWN0ZWRJbnB1dChvcHRpb25zKSB7XG4gICAgICAgIGlmICghUmVzdHJpY3RlZElucHV0LnN1cHBvcnRzRm9ybWF0dGluZygpKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmF0ZWd5ID0gbmV3IG5vb3BfMS5Ob29wS2V5Ym9hcmRTdHJhdGVneShvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZXZpY2VfMS5pc0lvcygpKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmF0ZWd5ID0gbmV3IGlvc18xLklvc1N0cmF0ZWd5KG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRldmljZV8xLmlzS2l0S2F0V2VidmlldygpKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmF0ZWd5ID0gbmV3IGtpdGthdF9jaHJvbWl1bV9iYXNlZF93ZWJ2aWV3XzEuS2l0S2F0Q2hyb21pdW1CYXNlZFdlYlZpZXdTdHJhdGVneShvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZXZpY2VfMS5pc0FuZHJvaWRDaHJvbWUoKSkge1xuICAgICAgICAgICAgdGhpcy5zdHJhdGVneSA9IG5ldyBhbmRyb2lkX2Nocm9tZV8xLkFuZHJvaWRDaHJvbWVTdHJhdGVneShvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZXZpY2VfMS5pc0lFOSgpKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmF0ZWd5ID0gbmV3IGllOV8xLklFOVN0cmF0ZWd5KG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdHJhdGVneSA9IG5ldyBiYXNlXzEuQmFzZVN0cmF0ZWd5KG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgdW5mb3JtYXR0ZWQgdmFsdWUgb2YgdGhlIGVsZW1lbnRcbiAgICAgKi9cbiAgICBSZXN0cmljdGVkSW5wdXQucHJvdG90eXBlLmdldFVuZm9ybWF0dGVkVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cmF0ZWd5LmdldFVuZm9ybWF0dGVkVmFsdWUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0dGVybiAtIHRoZSBwYXR0ZXJuIHRvIGVuZm9yY2Ugb24gdGhlIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIFJlc3RyaWN0ZWRJbnB1dC5wcm90b3R5cGUuc2V0UGF0dGVybiA9IGZ1bmN0aW9uIChwYXR0ZXJuKSB7XG4gICAgICAgIHRoaXMuc3RyYXRlZ3kuc2V0UGF0dGVybihwYXR0ZXJuKTtcbiAgICB9O1xuICAgIFJlc3RyaWN0ZWRJbnB1dC5zdXBwb3J0c0Zvcm1hdHRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzdXBwb3J0c0lucHV0Rm9ybWF0dGluZygpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc3RyaWN0ZWRJbnB1dDtcbn0oKSk7XG5tb2R1bGUuZXhwb3J0cyA9IFJlc3RyaWN0ZWRJbnB1dDtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQW5kcm9pZENocm9tZVN0cmF0ZWd5ID0gdm9pZCAwO1xudmFyIGtleV9jYW5ub3RfbXV0YXRlX3ZhbHVlXzEgPSByZXF1aXJlKFwiLi4va2V5LWNhbm5vdC1tdXRhdGUtdmFsdWVcIik7XG52YXIgYmFzZV8xID0gcmVxdWlyZShcIi4vYmFzZVwiKTtcbnZhciBpbnB1dF9zZWxlY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9pbnB1dC1zZWxlY3Rpb25cIik7XG52YXIgQW5kcm9pZENocm9tZVN0cmF0ZWd5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBbmRyb2lkQ2hyb21lU3RyYXRlZ3ksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQW5kcm9pZENocm9tZVN0cmF0ZWd5KCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEFuZHJvaWRDaHJvbWVTdHJhdGVneS5wcm90b3R5cGUuYXR0YWNoTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChrZXlfY2Fubm90X211dGF0ZV92YWx1ZV8xLmtleUNhbm5vdE11dGF0ZVZhbHVlKGV2ZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnVuZm9ybWF0SW5wdXQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vICdrZXlwcmVzcycgaXMgbm90IGZpcmVkIHdpdGggc29tZSBBbmRyb2lkIGtleWJvYXJkcyAoc2VlICMyMylcbiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKGtleV9jYW5ub3RfbXV0YXRlX3ZhbHVlXzEua2V5Q2Fubm90TXV0YXRlVmFsdWUoZXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMudW5mb3JtYXRJbnB1dCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnJlZm9ybWF0SW5wdXQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5yZWZvcm1hdElucHV0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwicGFzdGVcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgX3RoaXMucGFzdGVFdmVudEhhbmRsZXIoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEFuZHJvaWRDaHJvbWVTdHJhdGVneS5wcm90b3R5cGUucHJlUGFzdGVFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHRoZSBkZWZhdWx0IHN0cmF0ZWd5IGNhbGxzIHByZXZlbnREZWZhdWx0IGhlcmVcbiAgICAgICAgLy8gYnV0IHRoYXQgcmVtb3ZlcyB0aGUgY2xpcGJvYXJkIGRhdGEgaW4gQW5kcm9pZCBjaHJvbWVcbiAgICAgICAgLy8gc28gd2Ugbm9vcCBpbnN0ZWFkXG4gICAgfTtcbiAgICBBbmRyb2lkQ2hyb21lU3RyYXRlZ3kucHJvdG90eXBlLnBvc3RQYXN0ZUV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gdGhlIGRlZmF1bHQgc3RyYXRlZ3kgY2FsbHMgdGhpcyB3aXRob3V0IGEgdGltZW91dFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnJlZm9ybWF0QWZ0ZXJQYXN0ZSgpO1xuICAgICAgICB9LCAwKTtcbiAgICB9O1xuICAgIEFuZHJvaWRDaHJvbWVTdHJhdGVneS5wcm90b3R5cGUuYWZ0ZXJSZWZvcm1hdElucHV0ID0gZnVuY3Rpb24gKGZvcm1hdHRlZFN0YXRlKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IHRoaXMuaW5wdXRFbGVtZW50O1xuICAgICAgICAvLyBTb21lIEFuZHJvaWQgQ2hyb21lIGtleWJvYXJkcyAobm90YWJseSBTYW1zdW5nKVxuICAgICAgICAvLyBjYXVzZSB0aGUgYnJvd3NlciB0byBub3Qga25vdyB0aGF0IHRoZSB2YWx1ZVxuICAgICAgICAvLyBvZiB0aGUgaW5wdXQgaGFzIGNoYW5nZWQgd2hlbiBhZGRpbmdcbiAgICAgICAgLy8gcGVybWFjaGFyYWN0ZXJzLiBUaGlzIHJlc3VsdHMgaW4gdGhlIHNlbGVjdGlvblxuICAgICAgICAvLyBwdXR0aW5nIHRoZSBjdXJzb3IgYmVmb3JlIHRoZSBwZXJtYWNoYXJhY3RlcixcbiAgICAgICAgLy8gaW5zdGVhZCBvZiBhZnRlci5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlcmUgaXMgYWxzbyB0aGUgY2FzZSBvZiBzb21lIEFuZHJvaWQgQ2hyb21lXG4gICAgICAgIC8vIGtleWJvYXJkcyByZXBvcnRpbmcgYSByYW5nZWQgc2VsZWN0aW9uIG9uIHRoZVxuICAgICAgICAvLyBmaXJzdCBjaGFyYWN0ZXIgaW5wdXQuIFJlc3RyaWN0ZWQgSW5wdXQgbWFpbnRhaW5zXG4gICAgICAgIC8vIHRoYXQgcmFuZ2UgZXZlbiB0aG91Z2ggaXQgaXMgaW5jb3JyZWN0IGZyb20gdGhlXG4gICAgICAgIC8vIGtleWJvYXJkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUbyByZXNvbHZlIHRoZXNlIGlzc3VlcyB3ZSBzZXRUaW1lb3V0IGFuZCByZXNldFxuICAgICAgICAvLyB0aGUgc2VsZWN0aW9uIHRvIHRoZSBmb3JtYXR0ZWQgZW5kIHBvc2l0aW9uLlxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRTZWxlY3Rpb24gPSBmb3JtYXR0ZWRTdGF0ZS5zZWxlY3Rpb247XG4gICAgICAgICAgICBpbnB1dF9zZWxlY3Rpb25fMS5zZXQoaW5wdXQsIGZvcm1hdHRlZFNlbGVjdGlvbi5lbmQsIGZvcm1hdHRlZFNlbGVjdGlvbi5lbmQpO1xuICAgICAgICB9LCAwKTtcbiAgICB9O1xuICAgIHJldHVybiBBbmRyb2lkQ2hyb21lU3RyYXRlZ3k7XG59KGJhc2VfMS5CYXNlU3RyYXRlZ3kpKTtcbmV4cG9ydHMuQW5kcm9pZENocm9tZVN0cmF0ZWd5ID0gQW5kcm9pZENocm9tZVN0cmF0ZWd5O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CYXNlU3RyYXRlZ3kgPSB2b2lkIDA7XG52YXIgc3RyYXRlZ3lfaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9zdHJhdGVneS1pbnRlcmZhY2VcIik7XG52YXIga2V5X2Nhbm5vdF9tdXRhdGVfdmFsdWVfMSA9IHJlcXVpcmUoXCIuLi9rZXktY2Fubm90LW11dGF0ZS12YWx1ZVwiKTtcbnZhciBpbnB1dF9zZWxlY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9pbnB1dC1zZWxlY3Rpb25cIik7XG52YXIgaXNfYmFja3NwYWNlXzEgPSByZXF1aXJlKFwiLi4vaXMtYmFja3NwYWNlXCIpO1xudmFyIGlzX2RlbGV0ZV8xID0gcmVxdWlyZShcIi4uL2lzLWRlbGV0ZVwiKTtcbnZhciBmb3JtYXR0ZXJfMSA9IHJlcXVpcmUoXCIuLi9mb3JtYXR0ZXJcIik7XG5mdW5jdGlvbiBpc1NpbXVsYXRlZEV2ZW50KGV2ZW50KSB7XG4gICAgLy8gMVBhc3N3b3JkIHNldHMgaW5wdXQudmFsdWUgdGhlbiBmaXJlcyBrZXlib2FyZCBldmVudHMuIERlcGVuZGVudCBvbiBicm93c2VyXG4gICAgLy8gaGVyZSBtaWdodCBiZSBmYWxzeSB2YWx1ZXMgKGtleSA9ICcnLCBrZXlDb2RlID0gMCkgb3IgdGhlc2Uga2V5cyBtaWdodCBiZSBvbWl0dGVkXG4gICAgLy8gQ2hyb21lIGF1dG9maWxsIGluc2VydHMga2V5cyBhbGwgYXQgb25jZSBhbmQgZmlyZXMgYSBzaW5nbGUgZXZlbnQgd2l0aG91dCBrZXkgaW5mb1xuICAgIHJldHVybiAhZXZlbnQua2V5ICYmICFldmVudC5rZXlDb2RlO1xufVxudmFyIEJhc2VTdHJhdGVneSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZVN0cmF0ZWd5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJhc2VTdHJhdGVneShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmZvcm1hdHRlciA9IG5ldyBmb3JtYXR0ZXJfMS5QYXR0ZXJuRm9ybWF0dGVyKG9wdGlvbnMucGF0dGVybik7XG4gICAgICAgIF90aGlzLm9uUGFzdGVFdmVudCA9IG9wdGlvbnMub25QYXN0ZUV2ZW50O1xuICAgICAgICBfdGhpcy5hdHRhY2hMaXN0ZW5lcnMoKTtcbiAgICAgICAgX3RoaXMuZm9ybWF0SWZOb3RFbXB0eSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEJhc2VTdHJhdGVneS5wcm90b3R5cGUuZ2V0VW5mb3JtYXR0ZWRWYWx1ZSA9IGZ1bmN0aW9uIChmb3JjZVVuZm9ybWF0KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlO1xuICAgICAgICBpZiAoZm9yY2VVbmZvcm1hdCB8fCB0aGlzLmlzRm9ybWF0dGVkKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuZm9ybWF0dGVyLnVuZm9ybWF0KHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5pbnB1dEVsZW1lbnQudmFsdWUsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiB7IHN0YXJ0OiAwLCBlbmQ6IDAgfSxcbiAgICAgICAgICAgIH0pLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIEJhc2VTdHJhdGVneS5wcm90b3R5cGUuZm9ybWF0SWZOb3RFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnJlZm9ybWF0SW5wdXQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmFzZVN0cmF0ZWd5LnByb3RvdHlwZS5zZXRQYXR0ZXJuID0gZnVuY3Rpb24gKHBhdHRlcm4pIHtcbiAgICAgICAgdGhpcy51bmZvcm1hdElucHV0KCk7XG4gICAgICAgIHRoaXMuZm9ybWF0dGVyID0gbmV3IGZvcm1hdHRlcl8xLlBhdHRlcm5Gb3JtYXR0ZXIocGF0dGVybik7XG4gICAgICAgIHRoaXMuZm9ybWF0SWZOb3RFbXB0eSgpO1xuICAgIH07XG4gICAgQmFzZVN0cmF0ZWd5LnByb3RvdHlwZS5hdHRhY2hMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBlO1xuICAgICAgICAgICAgaWYgKGlzU2ltdWxhdGVkRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaXNGb3JtYXR0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXlfY2Fubm90X211dGF0ZV92YWx1ZV8xLmtleUNhbm5vdE11dGF0ZVZhbHVlKGV2ZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5pc0RlbGV0aW9uKGV2ZW50KSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnVuZm9ybWF0SW5wdXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZTtcbiAgICAgICAgICAgIGlmIChpc1NpbXVsYXRlZEV2ZW50KGV2ZW50KSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmlzRm9ybWF0dGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5X2Nhbm5vdF9tdXRhdGVfdmFsdWVfMS5rZXlDYW5ub3RNdXRhdGVWYWx1ZShldmVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy51bmZvcm1hdElucHV0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMucmVmb3JtYXRJbnB1dCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgLy8gU2FmYXJpIEF1dG9GaWxsIGZpcmVzIEN1c3RvbUV2ZW50c1xuICAgICAgICAgICAgLy8gTGFzdFBhc3Mgc2VuZHMgYW4gYGlzVHJ1c3RlZDogZmFsc2VgIHByb3BlcnR5XG4gICAgICAgICAgICAvLyBTaW5jZSB0aGUgaW5wdXQgaXMgY2hhbmdlZCBhbGwgYXQgb25jZSwgc2V0IGlzRm9ybWF0dGVkXG4gICAgICAgICAgICAvLyB0byBmYWxzZSBzbyB0aGF0IHJlZm9ybWF0dGluZyBhY3R1YWxseSBvY2N1cnNcbiAgICAgICAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIEN1c3RvbUV2ZW50IHx8ICFldmVudC5pc1RydXN0ZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pc0Zvcm1hdHRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucmVmb3JtYXRJbnB1dCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBhc3RlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3RoaXMucGFzdGVFdmVudEhhbmRsZXIoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEJhc2VTdHJhdGVneS5wcm90b3R5cGUuaXNEZWxldGlvbiA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gaXNfZGVsZXRlXzEuaXNEZWxldGUoZXZlbnQpIHx8IGlzX2JhY2tzcGFjZV8xLmlzQmFja3NwYWNlKGV2ZW50KTtcbiAgICB9O1xuICAgIEJhc2VTdHJhdGVneS5wcm90b3R5cGUucmVmb3JtYXRJbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNGb3JtYXR0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzRm9ybWF0dGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5pbnB1dEVsZW1lbnQ7XG4gICAgICAgIHZhciBmb3JtYXR0ZWRTdGF0ZSA9IHRoaXMuZm9ybWF0dGVyLmZvcm1hdCh7XG4gICAgICAgICAgICBzZWxlY3Rpb246IGlucHV0X3NlbGVjdGlvbl8xLmdldChpbnB1dCksXG4gICAgICAgICAgICB2YWx1ZTogaW5wdXQudmFsdWUsXG4gICAgICAgIH0pO1xuICAgICAgICBpbnB1dC52YWx1ZSA9IGZvcm1hdHRlZFN0YXRlLnZhbHVlO1xuICAgICAgICBpbnB1dF9zZWxlY3Rpb25fMS5zZXQoaW5wdXQsIGZvcm1hdHRlZFN0YXRlLnNlbGVjdGlvbi5zdGFydCwgZm9ybWF0dGVkU3RhdGUuc2VsZWN0aW9uLmVuZCk7XG4gICAgICAgIHRoaXMuYWZ0ZXJSZWZvcm1hdElucHV0KGZvcm1hdHRlZFN0YXRlKTtcbiAgICB9O1xuICAgIC8vIElmIGEgc3RyYXRlZ3kgbmVlZHMgdG8gaW1wbGltZW50IHNwZWNpZmljIGJlaGF2aW9yXG4gICAgLy8gYWZ0ZXIgcmVmb3JtYXR0aW5nIGhhcyBoYXBwZW5kLCB0aGUgc3RyYXRlZ3kganVzdFxuICAgIC8vIG92ZXJ3cml0ZXMgdGhpcyBtZXRob2Qgb24gdGhlaXIgb3duIHByb3RvdHlwZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBCYXNlU3RyYXRlZ3kucHJvdG90eXBlLmFmdGVyUmVmb3JtYXRJbnB1dCA9IGZ1bmN0aW9uIChmb3JtYXR0ZWRTdGF0ZSkge1xuICAgICAgICAvLyBub29wXG4gICAgfTtcbiAgICBCYXNlU3RyYXRlZ3kucHJvdG90eXBlLnVuZm9ybWF0SW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0Zvcm1hdHRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNGb3JtYXR0ZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5pbnB1dEVsZW1lbnQ7XG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSBpbnB1dF9zZWxlY3Rpb25fMS5nZXQoaW5wdXQpO1xuICAgICAgICB2YXIgdW5mb3JtYXR0ZWRTdGF0ZSA9IHRoaXMuZm9ybWF0dGVyLnVuZm9ybWF0KHtcbiAgICAgICAgICAgIHNlbGVjdGlvbjogc2VsZWN0aW9uLFxuICAgICAgICAgICAgdmFsdWU6IGlucHV0LnZhbHVlLFxuICAgICAgICB9KTtcbiAgICAgICAgaW5wdXQudmFsdWUgPSB1bmZvcm1hdHRlZFN0YXRlLnZhbHVlO1xuICAgICAgICBpbnB1dF9zZWxlY3Rpb25fMS5zZXQoaW5wdXQsIHVuZm9ybWF0dGVkU3RhdGUuc2VsZWN0aW9uLnN0YXJ0LCB1bmZvcm1hdHRlZFN0YXRlLnNlbGVjdGlvbi5lbmQpO1xuICAgIH07XG4gICAgQmFzZVN0cmF0ZWd5LnByb3RvdHlwZS5wcmVQYXN0ZUV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyB3aXRob3V0IHRoaXMsIHRoZSBwYXN0ZSBldmVudCBpcyBjYWxsZWQgdHdpY2VcbiAgICAgICAgLy8gc28gaWYgeW91IHdlcmUgcGFzdGluZyBhYmMgaXQgd291bGQgcmVzdWx0IGluXG4gICAgICAgIC8vIGFiY2FiY1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG4gICAgQmFzZVN0cmF0ZWd5LnByb3RvdHlwZS5wb3N0UGFzdGVFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVmb3JtYXRBZnRlclBhc3RlKCk7XG4gICAgfTtcbiAgICBCYXNlU3RyYXRlZ3kucHJvdG90eXBlLnBhc3RlRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBzcGxpY2VkRW50cnk7XG4gICAgICAgIHZhciBlbnRyeVZhbHVlID0gXCJcIjtcbiAgICAgICAgdGhpcy5wcmVQYXN0ZUV2ZW50SGFuZGxlcihldmVudCk7XG4gICAgICAgIHRoaXMudW5mb3JtYXRJbnB1dCgpO1xuICAgICAgICBpZiAoZXZlbnQuY2xpcGJvYXJkRGF0YSkge1xuICAgICAgICAgICAgZW50cnlWYWx1ZSA9IGV2ZW50LmNsaXBib2FyZERhdGEuZ2V0RGF0YShcIlRleHRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAod2luZG93LmNsaXBib2FyZERhdGEpIHtcbiAgICAgICAgICAgIGVudHJ5VmFsdWUgPSB3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwiVGV4dFwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VsZWN0aW9uID0gaW5wdXRfc2VsZWN0aW9uXzEuZ2V0KHRoaXMuaW5wdXRFbGVtZW50KTtcbiAgICAgICAgc3BsaWNlZEVudHJ5ID0gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWUuc3BsaXQoXCJcIik7XG4gICAgICAgIHNwbGljZWRFbnRyeS5zcGxpY2Uoc2VsZWN0aW9uLnN0YXJ0LCBzZWxlY3Rpb24uZW5kIC0gc2VsZWN0aW9uLnN0YXJ0LCBlbnRyeVZhbHVlKTtcbiAgICAgICAgc3BsaWNlZEVudHJ5ID0gc3BsaWNlZEVudHJ5LmpvaW4oXCJcIik7XG4gICAgICAgIGlmICh0aGlzLm9uUGFzdGVFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5vblBhc3RlRXZlbnQoe1xuICAgICAgICAgICAgICAgIHVuZm9ybWF0dGVkSW5wdXRWYWx1ZTogc3BsaWNlZEVudHJ5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQudmFsdWUgPSBzcGxpY2VkRW50cnk7XG4gICAgICAgIGlucHV0X3NlbGVjdGlvbl8xLnNldCh0aGlzLmlucHV0RWxlbWVudCwgc2VsZWN0aW9uLnN0YXJ0ICsgZW50cnlWYWx1ZS5sZW5ndGgsIHNlbGVjdGlvbi5zdGFydCArIGVudHJ5VmFsdWUubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5wb3N0UGFzdGVFdmVudEhhbmRsZXIoKTtcbiAgICB9O1xuICAgIEJhc2VTdHJhdGVneS5wcm90b3R5cGUucmVmb3JtYXRBZnRlclBhc3RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpO1xuICAgICAgICB0aGlzLnJlZm9ybWF0SW5wdXQoKTtcbiAgICAgICAgZXZlbnQuaW5pdEV2ZW50KFwiaW5wdXRcIiwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH07XG4gICAgQmFzZVN0cmF0ZWd5LnByb3RvdHlwZS5nZXRTdGF0ZVRvRm9ybWF0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLmlucHV0RWxlbWVudDtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGlucHV0X3NlbGVjdGlvbl8xLmdldChpbnB1dCk7XG4gICAgICAgIHZhciBzdGF0ZVRvRm9ybWF0ID0ge1xuICAgICAgICAgICAgc2VsZWN0aW9uOiBzZWxlY3Rpb24sXG4gICAgICAgICAgICB2YWx1ZTogaW5wdXQudmFsdWUsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnN0YXRlVG9Gb3JtYXQpIHtcbiAgICAgICAgICAgIHN0YXRlVG9Gb3JtYXQgPSB0aGlzLnN0YXRlVG9Gb3JtYXQ7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zdGF0ZVRvRm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNlbGVjdGlvbi5zdGFydCA9PT0gaW5wdXQudmFsdWUubGVuZ3RoICYmIHRoaXMuaXNGb3JtYXR0ZWQpIHtcbiAgICAgICAgICAgIHN0YXRlVG9Gb3JtYXQgPSB0aGlzLmZvcm1hdHRlci51bmZvcm1hdChzdGF0ZVRvRm9ybWF0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGVUb0Zvcm1hdDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlU3RyYXRlZ3k7XG59KHN0cmF0ZWd5X2ludGVyZmFjZV8xLlN0cmF0ZWd5SW50ZXJmYWNlKSk7XG5leHBvcnRzLkJhc2VTdHJhdGVneSA9IEJhc2VTdHJhdGVneTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSUU5U3RyYXRlZ3kgPSB2b2lkIDA7XG52YXIgYmFzZV8xID0gcmVxdWlyZShcIi4vYmFzZVwiKTtcbnZhciBrZXlfY2Fubm90X211dGF0ZV92YWx1ZV8xID0gcmVxdWlyZShcIi4uL2tleS1jYW5ub3QtbXV0YXRlLXZhbHVlXCIpO1xudmFyIGlucHV0X3NlbGVjdGlvbl8xID0gcmVxdWlyZShcIi4uL2lucHV0LXNlbGVjdGlvblwiKTtcbmZ1bmN0aW9uIHBhZFNlbGVjdGlvbihzZWxlY3Rpb24sIHBhZCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiBzZWxlY3Rpb24uc3RhcnQgKyBwYWQsXG4gICAgICAgIGVuZDogc2VsZWN0aW9uLmVuZCArIHBhZCxcbiAgICB9O1xufVxudmFyIElFOVN0cmF0ZWd5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJRTlTdHJhdGVneSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJRTlTdHJhdGVneSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBJRTlTdHJhdGVneS5wcm90b3R5cGUuZ2V0VW5mb3JtYXR0ZWRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VfMS5CYXNlU3RyYXRlZ3kucHJvdG90eXBlLmdldFVuZm9ybWF0dGVkVmFsdWUuY2FsbCh0aGlzLCB0cnVlKTtcbiAgICB9O1xuICAgIElFOVN0cmF0ZWd5LnByb3RvdHlwZS5hdHRhY2hMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3RoaXMua2V5ZG93bkxpc3RlbmVyKGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5mb3JtYXQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwYXN0ZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLnBhc3RlRXZlbnRIYW5kbGVyKGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBJRTlTdHJhdGVneS5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLmlucHV0RWxlbWVudDtcbiAgICAgICAgdmFyIHN0YXRlVG9Gb3JtYXQgPSB0aGlzLmdldFN0YXRlVG9Gb3JtYXQoKTtcbiAgICAgICAgdmFyIGZvcm1hdHRlZFN0YXRlID0gdGhpcy5mb3JtYXR0ZXIuZm9ybWF0KHN0YXRlVG9Gb3JtYXQpO1xuICAgICAgICBpbnB1dC52YWx1ZSA9IGZvcm1hdHRlZFN0YXRlLnZhbHVlO1xuICAgICAgICBpbnB1dF9zZWxlY3Rpb25fMS5zZXQoaW5wdXQsIGZvcm1hdHRlZFN0YXRlLnNlbGVjdGlvbi5zdGFydCwgZm9ybWF0dGVkU3RhdGUuc2VsZWN0aW9uLmVuZCk7XG4gICAgfTtcbiAgICBJRTlTdHJhdGVneS5wcm90b3R5cGUua2V5ZG93bkxpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChrZXlfY2Fubm90X211dGF0ZV92YWx1ZV8xLmtleUNhbm5vdE11dGF0ZVZhbHVlKGV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICh0aGlzLmlzRGVsZXRpb24oZXZlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVG9Gb3JtYXQgPSB0aGlzLmZvcm1hdHRlci5zaW11bGF0ZURlbGV0aW9uKHtcbiAgICAgICAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBpbnB1dF9zZWxlY3Rpb25fMS5nZXQodGhpcy5pbnB1dEVsZW1lbnQpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmlucHV0RWxlbWVudC52YWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSUU5IGRvZXMgbm90IHVwZGF0ZSB0aGUgaW5wdXQncyB2YWx1ZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vIGR1cmluZyBrZXkgZXZlbnRzLCBvbmx5IGFmdGVyIHRoZXkgY29tcGxldGUuXG4gICAgICAgICAgICAvLyBXZSBtdXN0IHJldHJpZXZlIHRoZSBrZXkgZnJvbSBldmVudC5rZXkgYW5kXG4gICAgICAgICAgICAvLyBhZGQgaXQgdG8gdGhlIGlucHV0J3MgdmFsdWUgYmVmb3JlIGZvcm1hdHRpbmcuXG4gICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLmlucHV0RWxlbWVudC52YWx1ZTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBpbnB1dF9zZWxlY3Rpb25fMS5nZXQodGhpcy5pbnB1dEVsZW1lbnQpO1xuICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gb2xkVmFsdWUuc2xpY2UoMCwgc2VsZWN0aW9uLnN0YXJ0KSArXG4gICAgICAgICAgICAgICAgZXZlbnQua2V5ICtcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZS5zbGljZShzZWxlY3Rpb24uc3RhcnQpO1xuICAgICAgICAgICAgc2VsZWN0aW9uID0gcGFkU2VsZWN0aW9uKHNlbGVjdGlvbiwgMSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVG9Gb3JtYXQgPSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBzZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgdmFsdWU6IG5ld1ZhbHVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChzZWxlY3Rpb24uc3RhcnQgPT09IG5ld1ZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUb0Zvcm1hdCA9IHRoaXMuZm9ybWF0dGVyLnVuZm9ybWF0KHRoaXMuc3RhdGVUb0Zvcm1hdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mb3JtYXQoKTtcbiAgICB9O1xuICAgIElFOVN0cmF0ZWd5LnByb3RvdHlwZS5yZWZvcm1hdEFmdGVyUGFzdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IHRoaXMuaW5wdXRFbGVtZW50O1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gaW5wdXRfc2VsZWN0aW9uXzEuZ2V0KHRoaXMuaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5mb3JtYXR0ZXIuZm9ybWF0KHtcbiAgICAgICAgICAgIHNlbGVjdGlvbjogc2VsZWN0aW9uLFxuICAgICAgICAgICAgdmFsdWU6IGlucHV0LnZhbHVlLFxuICAgICAgICB9KS52YWx1ZTtcbiAgICAgICAgc2VsZWN0aW9uID0gcGFkU2VsZWN0aW9uKHNlbGVjdGlvbiwgMSk7XG4gICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIC8vIElFOSBzZXRzIHRoZSBzZWxlY3Rpb24gdG8gdGhlIGVuZCBvZiB0aGUgaW5wdXRcbiAgICAgICAgLy8gbWFudWFsbHkgc2V0dGluZyBpdCBpbiBhIHNldFRpbWVvdXQgcHV0cyBpdFxuICAgICAgICAvLyBpbiB0aGUgY29ycmVjdCBwb3NpdGlvbiBhZnRlciBwYXN0aW5nXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW5wdXRfc2VsZWN0aW9uXzEuc2V0KGlucHV0LCBzZWxlY3Rpb24uc3RhcnQsIHNlbGVjdGlvbi5lbmQpO1xuICAgICAgICB9LCAwKTtcbiAgICB9O1xuICAgIHJldHVybiBJRTlTdHJhdGVneTtcbn0oYmFzZV8xLkJhc2VTdHJhdGVneSkpO1xuZXhwb3J0cy5JRTlTdHJhdGVneSA9IElFOVN0cmF0ZWd5O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Jb3NTdHJhdGVneSA9IHZvaWQgMDtcbnZhciBiYXNlXzEgPSByZXF1aXJlKFwiLi9iYXNlXCIpO1xudmFyIGtleV9jYW5ub3RfbXV0YXRlX3ZhbHVlXzEgPSByZXF1aXJlKFwiLi4va2V5LWNhbm5vdC1tdXRhdGUtdmFsdWVcIik7XG52YXIgaW5wdXRfc2VsZWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vaW5wdXQtc2VsZWN0aW9uXCIpO1xudmFyIElvc1N0cmF0ZWd5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJb3NTdHJhdGVneSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJb3NTdHJhdGVneSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBJb3NTdHJhdGVneS5wcm90b3R5cGUuZ2V0VW5mb3JtYXR0ZWRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0VW5mb3JtYXR0ZWRWYWx1ZS5jYWxsKHRoaXMsIHRydWUpO1xuICAgIH07XG4gICAgSW9zU3RyYXRlZ3kucHJvdG90eXBlLmF0dGFjaExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBfdGhpcy5rZXlkb3duTGlzdGVuZXIoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIGlzQ3VzdG9tRXZlbnQgPSBldmVudCBpbnN0YW5jZW9mIEN1c3RvbUV2ZW50O1xuICAgICAgICAgICAgLy8gU2FmYXJpIEF1dG9GaWxsIGZpcmVzIEN1c3RvbUV2ZW50c1xuICAgICAgICAgICAgLy8gU2V0IHN0YXRlIHRvIGZvcm1hdCBiZWZvcmUgY2FsbGluZyBmb3JtYXQgbGlzdGVuZXJcbiAgICAgICAgICAgIGlmIChpc0N1c3RvbUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdGVUb0Zvcm1hdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiB7IHN0YXJ0OiAwLCBlbmQ6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF90aGlzLmlucHV0RWxlbWVudC52YWx1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuZm9ybWF0TGlzdGVuZXIoKTtcbiAgICAgICAgICAgIGlmICghaXNDdXN0b21FdmVudCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmZpeExlYWRpbmdCbGFua1NwYWNlT25Jb3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5mb3JtYXRMaXN0ZW5lcigpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBhc3RlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3RoaXMucGFzdGVFdmVudEhhbmRsZXIoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIFdoZW4gZGVsZXRpbmcgdGhlIGxhc3QgY2hhcmFjdGVyIG9uIGlPUywgdGhlIGN1cnNvclxuICAgIC8vIGlzIHBvc2l0aW9uZWQgYXMgaWYgdGhlcmUgaXMgYSBibGFuayBzcGFjZSB3aGVuIHRoZXJlXG4gICAgLy8gaXMgbm90LCBzZXR0aW5nIGl0IHRvICcnIGluIGEgc2V0VGltZW91dCBmaXhlcyBpdCDCr1xcXyjjg4QpXy/Cr1xuICAgIElvc1N0cmF0ZWd5LnByb3RvdHlwZS5maXhMZWFkaW5nQmxhbmtTcGFjZU9uSW9zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLmlucHV0RWxlbWVudDtcbiAgICAgICAgaWYgKGlucHV0LnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW9zU3RyYXRlZ3kucHJvdG90eXBlLmZvcm1hdExpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLmlucHV0RWxlbWVudDtcbiAgICAgICAgdmFyIHN0YXRlVG9Gb3JtYXQgPSB0aGlzLmdldFN0YXRlVG9Gb3JtYXQoKTtcbiAgICAgICAgdmFyIGZvcm1hdHRlZFN0YXRlID0gdGhpcy5mb3JtYXR0ZXIuZm9ybWF0KHN0YXRlVG9Gb3JtYXQpO1xuICAgICAgICBpbnB1dC52YWx1ZSA9IGZvcm1hdHRlZFN0YXRlLnZhbHVlO1xuICAgICAgICBpbnB1dF9zZWxlY3Rpb25fMS5zZXQoaW5wdXQsIGZvcm1hdHRlZFN0YXRlLnNlbGVjdGlvbi5zdGFydCwgZm9ybWF0dGVkU3RhdGUuc2VsZWN0aW9uLmVuZCk7XG4gICAgfTtcbiAgICBJb3NTdHJhdGVneS5wcm90b3R5cGUua2V5ZG93bkxpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChrZXlfY2Fubm90X211dGF0ZV92YWx1ZV8xLmtleUNhbm5vdE11dGF0ZVZhbHVlKGV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzRGVsZXRpb24oZXZlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVG9Gb3JtYXQgPSB0aGlzLmZvcm1hdHRlci5zaW11bGF0ZURlbGV0aW9uKHtcbiAgICAgICAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBpbnB1dF9zZWxlY3Rpb25fMS5nZXQodGhpcy5pbnB1dEVsZW1lbnQpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmlucHV0RWxlbWVudC52YWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSW9zU3RyYXRlZ3k7XG59KGJhc2VfMS5CYXNlU3RyYXRlZ3kpKTtcbmV4cG9ydHMuSW9zU3RyYXRlZ3kgPSBJb3NTdHJhdGVneTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLy8gQW5kcm9pZCBEZXZpY2VzIG9uIEtpdEthdCB1c2UgQ2hyb21pdW0gYmFzZWQgd2Vidmlld3MuIEZvciBzb21lIHJlYXNvbixcbi8vIHRoZSB2YWx1ZSBvZiB0aGUgaW5wdXRzIGFyZSBub3QgYWNjZXNzaWJsZSBpbiB0aGUgZXZlbnQgbG9vcCB3aGVyZSB0aGVcbi8vIGtleSBldmVudCBsaXN0ZW5lcnMgYXJlIGNhbGxlZC4gVGhpcyBjYXVzZXMgZm9ybWF0dGluZyB0byBnZXQgc3R1Y2tcbi8vIG9uIHBlcm1hY2hhcmFjdGVycy4gQnkgcHV0dGluZyB0aGVtIGluIHNldFRpbWVvdXRzLCB0aGlzIGZpeGVzIHRoZVxuLy8gcHJvYmxlbS4gVGhpcyBjYXVzZXMgb3RoZXIgcHJvYmxlbXMgaW4gbm9uLXdlYnZpZXdzLCBzbyB3ZSBnaXZlIGl0XG4vLyBpdHMgb3duIHN0cmF0ZWd5LlxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuS2l0S2F0Q2hyb21pdW1CYXNlZFdlYlZpZXdTdHJhdGVneSA9IHZvaWQgMDtcbnZhciBhbmRyb2lkX2Nocm9tZV8xID0gcmVxdWlyZShcIi4vYW5kcm9pZC1jaHJvbWVcIik7XG52YXIgS2l0S2F0Q2hyb21pdW1CYXNlZFdlYlZpZXdTdHJhdGVneSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoS2l0S2F0Q2hyb21pdW1CYXNlZFdlYlZpZXdTdHJhdGVneSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBLaXRLYXRDaHJvbWl1bUJhc2VkV2ViVmlld1N0cmF0ZWd5KCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEtpdEthdENocm9taXVtQmFzZWRXZWJWaWV3U3RyYXRlZ3kucHJvdG90eXBlLnJlZm9ybWF0SW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWZvcm1hdElucHV0LmNhbGwoX3RoaXMpO1xuICAgICAgICB9LCAwKTtcbiAgICB9O1xuICAgIEtpdEthdENocm9taXVtQmFzZWRXZWJWaWV3U3RyYXRlZ3kucHJvdG90eXBlLnVuZm9ybWF0SW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bmZvcm1hdElucHV0LmNhbGwoX3RoaXMpO1xuICAgICAgICB9LCAwKTtcbiAgICB9O1xuICAgIHJldHVybiBLaXRLYXRDaHJvbWl1bUJhc2VkV2ViVmlld1N0cmF0ZWd5O1xufShhbmRyb2lkX2Nocm9tZV8xLkFuZHJvaWRDaHJvbWVTdHJhdGVneSkpO1xuZXhwb3J0cy5LaXRLYXRDaHJvbWl1bUJhc2VkV2ViVmlld1N0cmF0ZWd5ID0gS2l0S2F0Q2hyb21pdW1CYXNlZFdlYlZpZXdTdHJhdGVneTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTm9vcEtleWJvYXJkU3RyYXRlZ3kgPSB2b2lkIDA7XG52YXIgc3RyYXRlZ3lfaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9zdHJhdGVneS1pbnRlcmZhY2VcIik7XG52YXIgTm9vcEtleWJvYXJkU3RyYXRlZ3kgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5vb3BLZXlib2FyZFN0cmF0ZWd5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE5vb3BLZXlib2FyZFN0cmF0ZWd5KCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE5vb3BLZXlib2FyZFN0cmF0ZWd5LnByb3RvdHlwZS5nZXRVbmZvcm1hdHRlZFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XG4gICAgfTtcbiAgICBOb29wS2V5Ym9hcmRTdHJhdGVneS5wcm90b3R5cGUuc2V0UGF0dGVybiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gbm9vcFxuICAgIH07XG4gICAgcmV0dXJuIE5vb3BLZXlib2FyZFN0cmF0ZWd5O1xufShzdHJhdGVneV9pbnRlcmZhY2VfMS5TdHJhdGVneUludGVyZmFjZSkpO1xuZXhwb3J0cy5Ob29wS2V5Ym9hcmRTdHJhdGVneSA9IE5vb3BLZXlib2FyZFN0cmF0ZWd5O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN0cmF0ZWd5SW50ZXJmYWNlID0gdm9pZCAwO1xudmFyIFN0cmF0ZWd5SW50ZXJmYWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0cmF0ZWd5SW50ZXJmYWNlKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQgPSBvcHRpb25zLmVsZW1lbnQ7XG4gICAgICAgIHRoaXMuaXNGb3JtYXR0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmF0ZWd5SW50ZXJmYWNlO1xufSgpKTtcbmV4cG9ydHMuU3RyYXRlZ3lJbnRlcmZhY2UgPSBTdHJhdGVneUludGVyZmFjZTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIFJlc3RyaWN0ZWRJbnB1dCA9IHJlcXVpcmUoXCIuL2xpYi9yZXN0cmljdGVkLWlucHV0XCIpO1xubW9kdWxlLmV4cG9ydHMgPSBSZXN0cmljdGVkSW5wdXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBkZXZpY2VfMSA9IHJlcXVpcmUoXCIuL2xpYi9kZXZpY2VcIik7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN1cHBvcnRzSW5wdXRGb3JtYXR0aW5nKCkge1xuICAgIC8vIERpZ2l0cyBnZXQgZHJvcHBlZCBpbiBzYW1zdW5nIGJyb3dzZXJcbiAgICByZXR1cm4gIWRldmljZV8xLmlzU2Ftc3VuZ0Jyb3dzZXIoKTtcbn07XG4iLCJmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5leHBvcnQgeyBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBhcyBfIH07XG4iLCJpbXBvcnQgSFRNTE1hc2tFbGVtZW50IGZyb20gJy4vaHRtbC1tYXNrLWVsZW1lbnQuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi9tYXNrLWVsZW1lbnQuanMnO1xuXG5jbGFzcyBIVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQgZXh0ZW5kcyBIVE1MTWFza0VsZW1lbnQge1xuICAvKipcbiAgICBSZXR1cm5zIEhUTUxFbGVtZW50IHNlbGVjdGlvbiBzdGFydFxuICAgIEBvdmVycmlkZVxuICAqL1xuICBnZXQgX3Vuc2FmZVNlbGVjdGlvblN0YXJ0KCkge1xuICAgIGNvbnN0IHJvb3QgPSB0aGlzLnJvb3RFbGVtZW50O1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHJvb3QuZ2V0U2VsZWN0aW9uICYmIHJvb3QuZ2V0U2VsZWN0aW9uKCk7XG4gICAgY29uc3QgYW5jaG9yT2Zmc2V0ID0gc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5hbmNob3JPZmZzZXQ7XG4gICAgY29uc3QgZm9jdXNPZmZzZXQgPSBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmZvY3VzT2Zmc2V0O1xuICAgIGlmIChmb2N1c09mZnNldCA9PSBudWxsIHx8IGFuY2hvck9mZnNldCA9PSBudWxsIHx8IGFuY2hvck9mZnNldCA8IGZvY3VzT2Zmc2V0KSB7XG4gICAgICByZXR1cm4gYW5jaG9yT2Zmc2V0O1xuICAgIH1cbiAgICByZXR1cm4gZm9jdXNPZmZzZXQ7XG4gIH1cblxuICAvKipcbiAgICBSZXR1cm5zIEhUTUxFbGVtZW50IHNlbGVjdGlvbiBlbmRcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgZ2V0IF91bnNhZmVTZWxlY3Rpb25FbmQoKSB7XG4gICAgY29uc3Qgcm9vdCA9IHRoaXMucm9vdEVsZW1lbnQ7XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gcm9vdC5nZXRTZWxlY3Rpb24gJiYgcm9vdC5nZXRTZWxlY3Rpb24oKTtcbiAgICBjb25zdCBhbmNob3JPZmZzZXQgPSBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmFuY2hvck9mZnNldDtcbiAgICBjb25zdCBmb2N1c09mZnNldCA9IHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24uZm9jdXNPZmZzZXQ7XG4gICAgaWYgKGZvY3VzT2Zmc2V0ID09IG51bGwgfHwgYW5jaG9yT2Zmc2V0ID09IG51bGwgfHwgYW5jaG9yT2Zmc2V0ID4gZm9jdXNPZmZzZXQpIHtcbiAgICAgIHJldHVybiBhbmNob3JPZmZzZXQ7XG4gICAgfVxuICAgIHJldHVybiBmb2N1c09mZnNldDtcbiAgfVxuXG4gIC8qKlxuICAgIFNldHMgSFRNTEVsZW1lbnQgc2VsZWN0aW9uXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIF91bnNhZmVTZWxlY3Qoc3RhcnQsIGVuZCkge1xuICAgIGlmICghdGhpcy5yb290RWxlbWVudC5jcmVhdGVSYW5nZSkgcmV0dXJuO1xuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5yb290RWxlbWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHRoaXMuaW5wdXQuZmlyc3RDaGlsZCB8fCB0aGlzLmlucHV0LCBzdGFydCk7XG4gICAgcmFuZ2Uuc2V0RW5kKHRoaXMuaW5wdXQubGFzdENoaWxkIHx8IHRoaXMuaW5wdXQsIGVuZCk7XG4gICAgY29uc3Qgcm9vdCA9IHRoaXMucm9vdEVsZW1lbnQ7XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gcm9vdC5nZXRTZWxlY3Rpb24gJiYgcm9vdC5nZXRTZWxlY3Rpb24oKTtcbiAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgIEhUTUxFbGVtZW50IHZhbHVlXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIGdldCB2YWx1ZSgpIHtcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgcmV0dXJuIHRoaXMuaW5wdXQudGV4dENvbnRlbnQ7XG4gIH1cbiAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy5pbnB1dC50ZXh0Q29udGVudCA9IHZhbHVlO1xuICB9XG59XG5JTWFzay5IVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQgPSBIVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQ7XG5cbmV4cG9ydCB7IEhUTUxDb250ZW50ZWRpdGFibGVNYXNrRWxlbWVudCBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgTWFza0VsZW1lbnQgZnJvbSAnLi9tYXNrLWVsZW1lbnQuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcblxuLyoqIEJyaWRnZSBiZXR3ZWVuIEhUTUxFbGVtZW50IGFuZCB7QGxpbmsgTWFza2VkfSAqL1xuY2xhc3MgSFRNTE1hc2tFbGVtZW50IGV4dGVuZHMgTWFza0VsZW1lbnQge1xuICAvKiogTWFwcGluZyBiZXR3ZWVuIEhUTUxFbGVtZW50IGV2ZW50cyBhbmQgbWFzayBpbnRlcm5hbCBldmVudHMgKi9cblxuICAvKiogSFRNTEVsZW1lbnQgdG8gdXNlIG1hc2sgb24gKi9cblxuICAvKipcbiAgICBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR8SFRNTFRleHRBcmVhRWxlbWVudH0gaW5wdXRcbiAgKi9cbiAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICB0aGlzLl9oYW5kbGVycyA9IHt9O1xuICB9XG5cbiAgLyoqICovXG4gIC8vICRGbG93Rml4TWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzI4MzlcbiAgZ2V0IHJvb3RFbGVtZW50KCkge1xuICAgIHZhciBfdGhpcyRpbnB1dCRnZXRSb290Tm8sIF90aGlzJGlucHV0JGdldFJvb3RObzIsIF90aGlzJGlucHV0O1xuICAgIHJldHVybiAoX3RoaXMkaW5wdXQkZ2V0Um9vdE5vID0gKF90aGlzJGlucHV0JGdldFJvb3RObzIgPSAoX3RoaXMkaW5wdXQgPSB0aGlzLmlucHV0KS5nZXRSb290Tm9kZSkgPT09IG51bGwgfHwgX3RoaXMkaW5wdXQkZ2V0Um9vdE5vMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaW5wdXQkZ2V0Um9vdE5vMi5jYWxsKF90aGlzJGlucHV0KSkgIT09IG51bGwgJiYgX3RoaXMkaW5wdXQkZ2V0Um9vdE5vICE9PSB2b2lkIDAgPyBfdGhpcyRpbnB1dCRnZXRSb290Tm8gOiBkb2N1bWVudDtcbiAgfVxuXG4gIC8qKlxuICAgIElzIGVsZW1lbnQgaW4gZm9jdXNcbiAgICBAcmVhZG9ubHlcbiAgKi9cbiAgZ2V0IGlzQWN0aXZlKCkge1xuICAgIC8vJEZsb3dGaXhNZVxuICAgIHJldHVybiB0aGlzLmlucHV0ID09PSB0aGlzLnJvb3RFbGVtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gIH1cblxuICAvKipcbiAgICBSZXR1cm5zIEhUTUxFbGVtZW50IHNlbGVjdGlvbiBzdGFydFxuICAgIEBvdmVycmlkZVxuICAqL1xuICBnZXQgX3Vuc2FmZVNlbGVjdGlvblN0YXJ0KCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0LnNlbGVjdGlvblN0YXJ0O1xuICB9XG5cbiAgLyoqXG4gICAgUmV0dXJucyBIVE1MRWxlbWVudCBzZWxlY3Rpb24gZW5kXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIGdldCBfdW5zYWZlU2VsZWN0aW9uRW5kKCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0LnNlbGVjdGlvbkVuZDtcbiAgfVxuXG4gIC8qKlxuICAgIFNldHMgSFRNTEVsZW1lbnQgc2VsZWN0aW9uXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIF91bnNhZmVTZWxlY3Qoc3RhcnQsIGVuZCkge1xuICAgIHRoaXMuaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIGVuZCk7XG4gIH1cblxuICAvKipcbiAgICBIVE1MRWxlbWVudCB2YWx1ZVxuICAgIEBvdmVycmlkZVxuICAqL1xuICBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXQudmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy5pbnB1dC52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAgQmluZHMgSFRNTEVsZW1lbnQgZXZlbnRzIHRvIG1hc2sgaW50ZXJuYWwgZXZlbnRzXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIGJpbmRFdmVudHMoaGFuZGxlcnMpIHtcbiAgICBPYmplY3Qua2V5cyhoYW5kbGVycykuZm9yRWFjaChldmVudCA9PiB0aGlzLl90b2dnbGVFdmVudEhhbmRsZXIoSFRNTE1hc2tFbGVtZW50LkVWRU5UU19NQVBbZXZlbnRdLCBoYW5kbGVyc1tldmVudF0pKTtcbiAgfVxuXG4gIC8qKlxuICAgIFVuYmluZHMgSFRNTEVsZW1lbnQgZXZlbnRzIHRvIG1hc2sgaW50ZXJuYWwgZXZlbnRzXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIHVuYmluZEV2ZW50cygpIHtcbiAgICBPYmplY3Qua2V5cyh0aGlzLl9oYW5kbGVycykuZm9yRWFjaChldmVudCA9PiB0aGlzLl90b2dnbGVFdmVudEhhbmRsZXIoZXZlbnQpKTtcbiAgfVxuXG4gIC8qKiAqL1xuICBfdG9nZ2xlRXZlbnRIYW5kbGVyKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgaWYgKHRoaXMuX2hhbmRsZXJzW2V2ZW50XSkge1xuICAgICAgdGhpcy5pbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLl9oYW5kbGVyc1tldmVudF0pO1xuICAgICAgZGVsZXRlIHRoaXMuX2hhbmRsZXJzW2V2ZW50XTtcbiAgICB9XG4gICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlcik7XG4gICAgICB0aGlzLl9oYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyO1xuICAgIH1cbiAgfVxufVxuSFRNTE1hc2tFbGVtZW50LkVWRU5UU19NQVAgPSB7XG4gIHNlbGVjdGlvbkNoYW5nZTogJ2tleWRvd24nLFxuICBpbnB1dDogJ2lucHV0JyxcbiAgZHJvcDogJ2Ryb3AnLFxuICBjbGljazogJ2NsaWNrJyxcbiAgZm9jdXM6ICdmb2N1cycsXG4gIGNvbW1pdDogJ2JsdXInXG59O1xuSU1hc2suSFRNTE1hc2tFbGVtZW50ID0gSFRNTE1hc2tFbGVtZW50O1xuXG5leHBvcnQgeyBIVE1MTWFza0VsZW1lbnQgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgXyBhcyBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSB9IGZyb20gJy4uL19yb2xsdXBQbHVnaW5CYWJlbEhlbHBlcnMtNmIzYmQ0MDQuanMnO1xuaW1wb3J0IHsgb2JqZWN0SW5jbHVkZXMsIERJUkVDVElPTiB9IGZyb20gJy4uL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0IEFjdGlvbkRldGFpbHMgZnJvbSAnLi4vY29yZS9hY3Rpb24tZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4uL21hc2tlZC9kYXRlLmpzJztcbmltcG9ydCBjcmVhdGVNYXNrLCB7IG1hc2tlZENsYXNzIH0gZnJvbSAnLi4vbWFza2VkL2ZhY3RvcnkuanMnO1xuaW1wb3J0IE1hc2tFbGVtZW50IGZyb20gJy4vbWFzay1lbGVtZW50LmpzJztcbmltcG9ydCBIVE1MTWFza0VsZW1lbnQgZnJvbSAnLi9odG1sLW1hc2stZWxlbWVudC5qcyc7XG5pbXBvcnQgSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50IGZyb20gJy4vaHRtbC1jb250ZW50ZWRpdGFibGUtbWFzay1lbGVtZW50LmpzJztcbmltcG9ydCBJTWFzayBmcm9tICcuLi9jb3JlL2hvbGRlci5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuLi9tYXNrZWQvcGF0dGVybi5qcyc7XG5pbXBvcnQgJy4uL21hc2tlZC9iYXNlLmpzJztcbmltcG9ydCAnLi4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4uL21hc2tlZC9wYXR0ZXJuL2lucHV0LWRlZmluaXRpb24uanMnO1xuaW1wb3J0ICcuLi9tYXNrZWQvcGF0dGVybi9maXhlZC1kZWZpbml0aW9uLmpzJztcbmltcG9ydCAnLi4vbWFza2VkL3BhdHRlcm4vY2h1bmstdGFpbC1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi4vbWFza2VkL3BhdHRlcm4vY3Vyc29yLmpzJztcbmltcG9ydCAnLi4vbWFza2VkL3JlZ2V4cC5qcyc7XG5pbXBvcnQgJy4uL21hc2tlZC9yYW5nZS5qcyc7XG5cbmNvbnN0IF9leGNsdWRlZCA9IFtcIm1hc2tcIl07XG5cbi8qKiBMaXN0ZW5zIHRvIGVsZW1lbnQgZXZlbnRzIGFuZCBjb250cm9scyBjaGFuZ2VzIGJldHdlZW4gZWxlbWVudCBhbmQge0BsaW5rIE1hc2tlZH0gKi9cbmNsYXNzIElucHV0TWFzayB7XG4gIC8qKlxuICAgIFZpZXcgZWxlbWVudFxuICAgIEByZWFkb25seVxuICAqL1xuXG4gIC8qKlxuICAgIEludGVybmFsIHtAbGluayBNYXNrZWR9IG1vZGVsXG4gICAgQHJlYWRvbmx5XG4gICovXG5cbiAgLyoqXG4gICAgQHBhcmFtIHtNYXNrRWxlbWVudHxIVE1MSW5wdXRFbGVtZW50fEhUTUxUZXh0QXJlYUVsZW1lbnR9IGVsXG4gICAgQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAgKi9cbiAgY29uc3RydWN0b3IoZWwsIG9wdHMpIHtcbiAgICB0aGlzLmVsID0gZWwgaW5zdGFuY2VvZiBNYXNrRWxlbWVudCA/IGVsIDogZWwuaXNDb250ZW50RWRpdGFibGUgJiYgZWwudGFnTmFtZSAhPT0gJ0lOUFVUJyAmJiBlbC50YWdOYW1lICE9PSAnVEVYVEFSRUEnID8gbmV3IEhUTUxDb250ZW50ZWRpdGFibGVNYXNrRWxlbWVudChlbCkgOiBuZXcgSFRNTE1hc2tFbGVtZW50KGVsKTtcbiAgICB0aGlzLm1hc2tlZCA9IGNyZWF0ZU1hc2sob3B0cyk7XG4gICAgdGhpcy5fbGlzdGVuZXJzID0ge307XG4gICAgdGhpcy5fdmFsdWUgPSAnJztcbiAgICB0aGlzLl91bm1hc2tlZFZhbHVlID0gJyc7XG4gICAgdGhpcy5fc2F2ZVNlbGVjdGlvbiA9IHRoaXMuX3NhdmVTZWxlY3Rpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbklucHV0ID0gdGhpcy5fb25JbnB1dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2hhbmdlID0gdGhpcy5fb25DaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkRyb3AgPSB0aGlzLl9vbkRyb3AuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkZvY3VzID0gdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2xpY2sgPSB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hbGlnbkN1cnNvciA9IHRoaXMuYWxpZ25DdXJzb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLmFsaWduQ3Vyc29yRnJpZW5kbHkgPSB0aGlzLmFsaWduQ3Vyc29yRnJpZW5kbHkuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG5cbiAgICAvLyByZWZyZXNoXG4gICAgdGhpcy51cGRhdGVWYWx1ZSgpO1xuICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gIH1cblxuICAvKiogUmVhZCBvciB1cGRhdGUgbWFzayAqL1xuICBnZXQgbWFzaygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXNrZWQubWFzaztcbiAgfVxuICBtYXNrRXF1YWxzKG1hc2spIHtcbiAgICB2YXIgX3RoaXMkbWFza2VkO1xuICAgIHJldHVybiBtYXNrID09IG51bGwgfHwgKChfdGhpcyRtYXNrZWQgPSB0aGlzLm1hc2tlZCkgPT09IG51bGwgfHwgX3RoaXMkbWFza2VkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtYXNrZWQubWFza0VxdWFscyhtYXNrKSk7XG4gIH1cbiAgc2V0IG1hc2sobWFzaykge1xuICAgIGlmICh0aGlzLm1hc2tFcXVhbHMobWFzaykpIHJldHVybjtcblxuICAgIC8vICRGbG93Rml4TWUgTm8gaWRlYXMgLi4uIGFmdGVyIHVwZGF0ZVxuICAgIGlmICghKG1hc2sgaW5zdGFuY2VvZiBJTWFzay5NYXNrZWQpICYmIHRoaXMubWFza2VkLmNvbnN0cnVjdG9yID09PSBtYXNrZWRDbGFzcyhtYXNrKSkge1xuICAgICAgdGhpcy5tYXNrZWQudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIG1hc2tcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtYXNrZWQgPSBjcmVhdGVNYXNrKHtcbiAgICAgIG1hc2tcbiAgICB9KTtcbiAgICBtYXNrZWQudW5tYXNrZWRWYWx1ZSA9IHRoaXMubWFza2VkLnVubWFza2VkVmFsdWU7XG4gICAgdGhpcy5tYXNrZWQgPSBtYXNrZWQ7XG4gIH1cblxuICAvKiogUmF3IHZhbHVlICovXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKHN0cikge1xuICAgIGlmICh0aGlzLnZhbHVlID09PSBzdHIpIHJldHVybjtcbiAgICB0aGlzLm1hc2tlZC52YWx1ZSA9IHN0cjtcbiAgICB0aGlzLnVwZGF0ZUNvbnRyb2woKTtcbiAgICB0aGlzLmFsaWduQ3Vyc29yKCk7XG4gIH1cblxuICAvKiogVW5tYXNrZWQgdmFsdWUgKi9cbiAgZ2V0IHVubWFza2VkVmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3VubWFza2VkVmFsdWU7XG4gIH1cbiAgc2V0IHVubWFza2VkVmFsdWUoc3RyKSB7XG4gICAgaWYgKHRoaXMudW5tYXNrZWRWYWx1ZSA9PT0gc3RyKSByZXR1cm47XG4gICAgdGhpcy5tYXNrZWQudW5tYXNrZWRWYWx1ZSA9IHN0cjtcbiAgICB0aGlzLnVwZGF0ZUNvbnRyb2woKTtcbiAgICB0aGlzLmFsaWduQ3Vyc29yKCk7XG4gIH1cblxuICAvKiogVHlwZWQgdW5tYXNrZWQgdmFsdWUgKi9cbiAgZ2V0IHR5cGVkVmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFza2VkLnR5cGVkVmFsdWU7XG4gIH1cbiAgc2V0IHR5cGVkVmFsdWUodmFsKSB7XG4gICAgaWYgKHRoaXMubWFza2VkLnR5cGVkVmFsdWVFcXVhbHModmFsKSkgcmV0dXJuO1xuICAgIHRoaXMubWFza2VkLnR5cGVkVmFsdWUgPSB2YWw7XG4gICAgdGhpcy51cGRhdGVDb250cm9sKCk7XG4gICAgdGhpcy5hbGlnbkN1cnNvcigpO1xuICB9XG5cbiAgLyoqIERpc3BsYXkgdmFsdWUgKi9cbiAgZ2V0IGRpc3BsYXlWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXNrZWQuZGlzcGxheVZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAgU3RhcnRzIGxpc3RlbmluZyB0byBlbGVtZW50IGV2ZW50c1xuICAgIEBwcm90ZWN0ZWRcbiAgKi9cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgdGhpcy5lbC5iaW5kRXZlbnRzKHtcbiAgICAgIHNlbGVjdGlvbkNoYW5nZTogdGhpcy5fc2F2ZVNlbGVjdGlvbixcbiAgICAgIGlucHV0OiB0aGlzLl9vbklucHV0LFxuICAgICAgZHJvcDogdGhpcy5fb25Ecm9wLFxuICAgICAgY2xpY2s6IHRoaXMuX29uQ2xpY2ssXG4gICAgICBmb2N1czogdGhpcy5fb25Gb2N1cyxcbiAgICAgIGNvbW1pdDogdGhpcy5fb25DaGFuZ2VcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgIFN0b3BzIGxpc3RlbmluZyB0byBlbGVtZW50IGV2ZW50c1xuICAgIEBwcm90ZWN0ZWRcbiAgICovXG4gIF91bmJpbmRFdmVudHMoKSB7XG4gICAgaWYgKHRoaXMuZWwpIHRoaXMuZWwudW5iaW5kRXZlbnRzKCk7XG4gIH1cblxuICAvKipcbiAgICBGaXJlcyBjdXN0b20gZXZlbnRcbiAgICBAcHJvdGVjdGVkXG4gICAqL1xuICBfZmlyZUV2ZW50KGV2KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyc1tldl07XG4gICAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybjtcbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChsID0+IGwoLi4uYXJncykpO1xuICB9XG5cbiAgLyoqXG4gICAgQ3VycmVudCBzZWxlY3Rpb24gc3RhcnRcbiAgICBAcmVhZG9ubHlcbiAgKi9cbiAgZ2V0IHNlbGVjdGlvblN0YXJ0KCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJzb3JDaGFuZ2luZyA/IHRoaXMuX2NoYW5naW5nQ3Vyc29yUG9zIDogdGhpcy5lbC5zZWxlY3Rpb25TdGFydDtcbiAgfVxuXG4gIC8qKiBDdXJyZW50IGN1cnNvciBwb3NpdGlvbiAqL1xuICBnZXQgY3Vyc29yUG9zKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJzb3JDaGFuZ2luZyA/IHRoaXMuX2NoYW5naW5nQ3Vyc29yUG9zIDogdGhpcy5lbC5zZWxlY3Rpb25FbmQ7XG4gIH1cbiAgc2V0IGN1cnNvclBvcyhwb3MpIHtcbiAgICBpZiAoIXRoaXMuZWwgfHwgIXRoaXMuZWwuaXNBY3RpdmUpIHJldHVybjtcbiAgICB0aGlzLmVsLnNlbGVjdChwb3MsIHBvcyk7XG4gICAgdGhpcy5fc2F2ZVNlbGVjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAgU3RvcmVzIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgQHByb3RlY3RlZFxuICAqL1xuICBfc2F2ZVNlbGVjdGlvbiggLyogZXYgKi9cbiAgKSB7XG4gICAgaWYgKHRoaXMuZGlzcGxheVZhbHVlICE9PSB0aGlzLmVsLnZhbHVlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0VsZW1lbnQgdmFsdWUgd2FzIGNoYW5nZWQgb3V0c2lkZSBvZiBtYXNrLiBTeW5jcm9uaXplIG1hc2sgdXNpbmcgYG1hc2sudXBkYXRlVmFsdWUoKWAgdG8gd29yayBwcm9wZXJseS4nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuXG4gICAgdGhpcy5fc2VsZWN0aW9uID0ge1xuICAgICAgc3RhcnQ6IHRoaXMuc2VsZWN0aW9uU3RhcnQsXG4gICAgICBlbmQ6IHRoaXMuY3Vyc29yUG9zXG4gICAgfTtcbiAgfVxuXG4gIC8qKiBTeW5jcm9uaXplcyBtb2RlbCB2YWx1ZSBmcm9tIHZpZXcgKi9cbiAgdXBkYXRlVmFsdWUoKSB7XG4gICAgdGhpcy5tYXNrZWQudmFsdWUgPSB0aGlzLmVsLnZhbHVlO1xuICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5tYXNrZWQudmFsdWU7XG4gIH1cblxuICAvKiogU3luY3Jvbml6ZXMgdmlldyBmcm9tIG1vZGVsIHZhbHVlLCBmaXJlcyBjaGFuZ2UgZXZlbnRzICovXG4gIHVwZGF0ZUNvbnRyb2woKSB7XG4gICAgY29uc3QgbmV3VW5tYXNrZWRWYWx1ZSA9IHRoaXMubWFza2VkLnVubWFza2VkVmFsdWU7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB0aGlzLm1hc2tlZC52YWx1ZTtcbiAgICBjb25zdCBuZXdEaXNwbGF5VmFsdWUgPSB0aGlzLmRpc3BsYXlWYWx1ZTtcbiAgICBjb25zdCBpc0NoYW5nZWQgPSB0aGlzLnVubWFza2VkVmFsdWUgIT09IG5ld1VubWFza2VkVmFsdWUgfHwgdGhpcy52YWx1ZSAhPT0gbmV3VmFsdWU7XG4gICAgdGhpcy5fdW5tYXNrZWRWYWx1ZSA9IG5ld1VubWFza2VkVmFsdWU7XG4gICAgdGhpcy5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICBpZiAodGhpcy5lbC52YWx1ZSAhPT0gbmV3RGlzcGxheVZhbHVlKSB0aGlzLmVsLnZhbHVlID0gbmV3RGlzcGxheVZhbHVlO1xuICAgIGlmIChpc0NoYW5nZWQpIHRoaXMuX2ZpcmVDaGFuZ2VFdmVudHMoKTtcbiAgfVxuXG4gIC8qKiBVcGRhdGVzIG9wdGlvbnMgd2l0aCBkZWVwIGVxdWFsIGNoZWNrLCByZWNyZWF0ZXMgQHtsaW5rIE1hc2tlZH0gbW9kZWwgaWYgbWFzayB0eXBlIGNoYW5nZXMgKi9cbiAgdXBkYXRlT3B0aW9ucyhvcHRzKSB7XG4gICAgY29uc3Qge1xuICAgICAgICBtYXNrXG4gICAgICB9ID0gb3B0cyxcbiAgICAgIHJlc3RPcHRzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uob3B0cywgX2V4Y2x1ZGVkKTtcbiAgICBjb25zdCB1cGRhdGVNYXNrID0gIXRoaXMubWFza0VxdWFscyhtYXNrKTtcbiAgICBjb25zdCB1cGRhdGVPcHRzID0gIW9iamVjdEluY2x1ZGVzKHRoaXMubWFza2VkLCByZXN0T3B0cyk7XG4gICAgaWYgKHVwZGF0ZU1hc2spIHRoaXMubWFzayA9IG1hc2s7XG4gICAgaWYgKHVwZGF0ZU9wdHMpIHRoaXMubWFza2VkLnVwZGF0ZU9wdGlvbnMocmVzdE9wdHMpO1xuICAgIGlmICh1cGRhdGVNYXNrIHx8IHVwZGF0ZU9wdHMpIHRoaXMudXBkYXRlQ29udHJvbCgpO1xuICB9XG5cbiAgLyoqIFVwZGF0ZXMgY3Vyc29yICovXG4gIHVwZGF0ZUN1cnNvcihjdXJzb3JQb3MpIHtcbiAgICBpZiAoY3Vyc29yUG9zID09IG51bGwpIHJldHVybjtcbiAgICB0aGlzLmN1cnNvclBvcyA9IGN1cnNvclBvcztcblxuICAgIC8vIGFsc28gcXVldWUgY2hhbmdlIGN1cnNvciBmb3IgbW9iaWxlIGJyb3dzZXJzXG4gICAgdGhpcy5fZGVsYXlVcGRhdGVDdXJzb3IoY3Vyc29yUG9zKTtcbiAgfVxuXG4gIC8qKlxuICAgIERlbGF5cyBjdXJzb3IgdXBkYXRlIHRvIHN1cHBvcnQgbW9iaWxlIGJyb3dzZXJzXG4gICAgQHByaXZhdGVcbiAgKi9cbiAgX2RlbGF5VXBkYXRlQ3Vyc29yKGN1cnNvclBvcykge1xuICAgIHRoaXMuX2Fib3J0VXBkYXRlQ3Vyc29yKCk7XG4gICAgdGhpcy5fY2hhbmdpbmdDdXJzb3JQb3MgPSBjdXJzb3JQb3M7XG4gICAgdGhpcy5fY3Vyc29yQ2hhbmdpbmcgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5lbCkgcmV0dXJuOyAvLyBpZiB3YXMgZGVzdHJveWVkXG4gICAgICB0aGlzLmN1cnNvclBvcyA9IHRoaXMuX2NoYW5naW5nQ3Vyc29yUG9zO1xuICAgICAgdGhpcy5fYWJvcnRVcGRhdGVDdXJzb3IoKTtcbiAgICB9LCAxMCk7XG4gIH1cblxuICAvKipcbiAgICBGaXJlcyBjdXN0b20gZXZlbnRzXG4gICAgQHByb3RlY3RlZFxuICAqL1xuICBfZmlyZUNoYW5nZUV2ZW50cygpIHtcbiAgICB0aGlzLl9maXJlRXZlbnQoJ2FjY2VwdCcsIHRoaXMuX2lucHV0RXZlbnQpO1xuICAgIGlmICh0aGlzLm1hc2tlZC5pc0NvbXBsZXRlKSB0aGlzLl9maXJlRXZlbnQoJ2NvbXBsZXRlJywgdGhpcy5faW5wdXRFdmVudCk7XG4gIH1cblxuICAvKipcbiAgICBBYm9ydHMgZGVsYXllZCBjdXJzb3IgdXBkYXRlXG4gICAgQHByaXZhdGVcbiAgKi9cbiAgX2Fib3J0VXBkYXRlQ3Vyc29yKCkge1xuICAgIGlmICh0aGlzLl9jdXJzb3JDaGFuZ2luZykge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2N1cnNvckNoYW5naW5nKTtcbiAgICAgIGRlbGV0ZSB0aGlzLl9jdXJzb3JDaGFuZ2luZztcbiAgICB9XG4gIH1cblxuICAvKiogQWxpZ25zIGN1cnNvciB0byBuZWFyZXN0IGF2YWlsYWJsZSBwb3NpdGlvbiAqL1xuICBhbGlnbkN1cnNvcigpIHtcbiAgICB0aGlzLmN1cnNvclBvcyA9IHRoaXMubWFza2VkLm5lYXJlc3RJbnB1dFBvcyh0aGlzLm1hc2tlZC5uZWFyZXN0SW5wdXRQb3ModGhpcy5jdXJzb3JQb3MsIERJUkVDVElPTi5MRUZUKSk7XG4gIH1cblxuICAvKiogQWxpZ25zIGN1cnNvciBvbmx5IGlmIHNlbGVjdGlvbiBpcyBlbXB0eSAqL1xuICBhbGlnbkN1cnNvckZyaWVuZGx5KCkge1xuICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSB0aGlzLmN1cnNvclBvcykgcmV0dXJuOyAvLyBza2lwIGlmIHJhbmdlIGlzIHNlbGVjdGVkXG4gICAgdGhpcy5hbGlnbkN1cnNvcigpO1xuICB9XG5cbiAgLyoqIEFkZHMgbGlzdGVuZXIgb24gY3VzdG9tIGV2ZW50ICovXG4gIG9uKGV2LCBoYW5kbGVyKSB7XG4gICAgaWYgKCF0aGlzLl9saXN0ZW5lcnNbZXZdKSB0aGlzLl9saXN0ZW5lcnNbZXZdID0gW107XG4gICAgdGhpcy5fbGlzdGVuZXJzW2V2XS5wdXNoKGhhbmRsZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIFJlbW92ZXMgY3VzdG9tIGV2ZW50IGxpc3RlbmVyICovXG4gIG9mZihldiwgaGFuZGxlcikge1xuICAgIGlmICghdGhpcy5fbGlzdGVuZXJzW2V2XSkgcmV0dXJuIHRoaXM7XG4gICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICBkZWxldGUgdGhpcy5fbGlzdGVuZXJzW2V2XTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCBoSW5kZXggPSB0aGlzLl9saXN0ZW5lcnNbZXZdLmluZGV4T2YoaGFuZGxlcik7XG4gICAgaWYgKGhJbmRleCA+PSAwKSB0aGlzLl9saXN0ZW5lcnNbZXZdLnNwbGljZShoSW5kZXgsIDEpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIEhhbmRsZXMgdmlldyBpbnB1dCBldmVudCAqL1xuICBfb25JbnB1dChlKSB7XG4gICAgdGhpcy5faW5wdXRFdmVudCA9IGU7XG4gICAgdGhpcy5fYWJvcnRVcGRhdGVDdXJzb3IoKTtcblxuICAgIC8vIGZpeCBzdHJhbmdlIElFIGJlaGF2aW9yXG4gICAgaWYgKCF0aGlzLl9zZWxlY3Rpb24pIHJldHVybiB0aGlzLnVwZGF0ZVZhbHVlKCk7XG4gICAgY29uc3QgZGV0YWlscyA9IG5ldyBBY3Rpb25EZXRhaWxzKFxuICAgIC8vIG5ldyBzdGF0ZVxuICAgIHRoaXMuZWwudmFsdWUsIHRoaXMuY3Vyc29yUG9zLFxuICAgIC8vIG9sZCBzdGF0ZVxuICAgIHRoaXMuZGlzcGxheVZhbHVlLCB0aGlzLl9zZWxlY3Rpb24pO1xuICAgIGNvbnN0IG9sZFJhd1ZhbHVlID0gdGhpcy5tYXNrZWQucmF3SW5wdXRWYWx1ZTtcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLm1hc2tlZC5zcGxpY2UoZGV0YWlscy5zdGFydENoYW5nZVBvcywgZGV0YWlscy5yZW1vdmVkLmxlbmd0aCwgZGV0YWlscy5pbnNlcnRlZCwgZGV0YWlscy5yZW1vdmVEaXJlY3Rpb24sIHtcbiAgICAgIGlucHV0OiB0cnVlLFxuICAgICAgcmF3OiB0cnVlXG4gICAgfSkub2Zmc2V0O1xuXG4gICAgLy8gZm9yY2UgYWxpZ24gaW4gcmVtb3ZlIGRpcmVjdGlvbiBvbmx5IGlmIG5vIGlucHV0IGNoYXJzIHdlcmUgcmVtb3ZlZFxuICAgIC8vIG90aGVyd2lzZSB3ZSBzdGlsbCBuZWVkIHRvIGFsaWduIHdpdGggTk9ORSAodG8gZ2V0IG91dCBmcm9tIGZpeGVkIHN5bWJvbHMgZm9yIGluc3RhbmNlKVxuICAgIGNvbnN0IHJlbW92ZURpcmVjdGlvbiA9IG9sZFJhd1ZhbHVlID09PSB0aGlzLm1hc2tlZC5yYXdJbnB1dFZhbHVlID8gZGV0YWlscy5yZW1vdmVEaXJlY3Rpb24gOiBESVJFQ1RJT04uTk9ORTtcbiAgICBsZXQgY3Vyc29yUG9zID0gdGhpcy5tYXNrZWQubmVhcmVzdElucHV0UG9zKGRldGFpbHMuc3RhcnRDaGFuZ2VQb3MgKyBvZmZzZXQsIHJlbW92ZURpcmVjdGlvbik7XG4gICAgaWYgKHJlbW92ZURpcmVjdGlvbiAhPT0gRElSRUNUSU9OLk5PTkUpIGN1cnNvclBvcyA9IHRoaXMubWFza2VkLm5lYXJlc3RJbnB1dFBvcyhjdXJzb3JQb3MsIERJUkVDVElPTi5OT05FKTtcbiAgICB0aGlzLnVwZGF0ZUNvbnRyb2woKTtcbiAgICB0aGlzLnVwZGF0ZUN1cnNvcihjdXJzb3JQb3MpO1xuICAgIGRlbGV0ZSB0aGlzLl9pbnB1dEV2ZW50O1xuICB9XG5cbiAgLyoqIEhhbmRsZXMgdmlldyBjaGFuZ2UgZXZlbnQgYW5kIGNvbW1pdHMgbW9kZWwgdmFsdWUgKi9cbiAgX29uQ2hhbmdlKCkge1xuICAgIGlmICh0aGlzLmRpc3BsYXlWYWx1ZSAhPT0gdGhpcy5lbC52YWx1ZSkge1xuICAgICAgdGhpcy51cGRhdGVWYWx1ZSgpO1xuICAgIH1cbiAgICB0aGlzLm1hc2tlZC5kb0NvbW1pdCgpO1xuICAgIHRoaXMudXBkYXRlQ29udHJvbCgpO1xuICAgIHRoaXMuX3NhdmVTZWxlY3Rpb24oKTtcbiAgfVxuXG4gIC8qKiBIYW5kbGVzIHZpZXcgZHJvcCBldmVudCwgcHJldmVudHMgYnkgZGVmYXVsdCAqL1xuICBfb25Ecm9wKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuXG4gIC8qKiBSZXN0b3JlIGxhc3Qgc2VsZWN0aW9uIG9uIGZvY3VzICovXG4gIF9vbkZvY3VzKGV2KSB7XG4gICAgdGhpcy5hbGlnbkN1cnNvckZyaWVuZGx5KCk7XG4gIH1cblxuICAvKiogUmVzdG9yZSBsYXN0IHNlbGVjdGlvbiBvbiBmb2N1cyAqL1xuICBfb25DbGljayhldikge1xuICAgIHRoaXMuYWxpZ25DdXJzb3JGcmllbmRseSgpO1xuICB9XG5cbiAgLyoqIFVuYmluZCB2aWV3IGV2ZW50cyBhbmQgcmVtb3ZlcyBlbGVtZW50IHJlZmVyZW5jZSAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3VuYmluZEV2ZW50cygpO1xuICAgIC8vICRGbG93Rml4TWUgd2h5IG5vdCBkbyBzbz9cbiAgICB0aGlzLl9saXN0ZW5lcnMubGVuZ3RoID0gMDtcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgZGVsZXRlIHRoaXMuZWw7XG4gIH1cbn1cbklNYXNrLklucHV0TWFzayA9IElucHV0TWFzaztcblxuZXhwb3J0IHsgSW5wdXRNYXNrIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCBJTWFzayBmcm9tICcuLi9jb3JlL2hvbGRlci5qcyc7XG5cbi8qKlxuICBHZW5lcmljIGVsZW1lbnQgQVBJIHRvIHVzZSB3aXRoIG1hc2tcbiAgQGludGVyZmFjZVxuKi9cbmNsYXNzIE1hc2tFbGVtZW50IHtcbiAgLyoqICovXG5cbiAgLyoqICovXG5cbiAgLyoqICovXG5cbiAgLyoqIFNhZmVseSByZXR1cm5zIHNlbGVjdGlvbiBzdGFydCAqL1xuICBnZXQgc2VsZWN0aW9uU3RhcnQoKSB7XG4gICAgbGV0IHN0YXJ0O1xuICAgIHRyeSB7XG4gICAgICBzdGFydCA9IHRoaXMuX3Vuc2FmZVNlbGVjdGlvblN0YXJ0O1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIHN0YXJ0ICE9IG51bGwgPyBzdGFydCA6IHRoaXMudmFsdWUubGVuZ3RoO1xuICB9XG5cbiAgLyoqIFNhZmVseSByZXR1cm5zIHNlbGVjdGlvbiBlbmQgKi9cbiAgZ2V0IHNlbGVjdGlvbkVuZCgpIHtcbiAgICBsZXQgZW5kO1xuICAgIHRyeSB7XG4gICAgICBlbmQgPSB0aGlzLl91bnNhZmVTZWxlY3Rpb25FbmQ7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gZW5kICE9IG51bGwgPyBlbmQgOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgfVxuXG4gIC8qKiBTYWZlbHkgc2V0cyBlbGVtZW50IHNlbGVjdGlvbiAqL1xuICBzZWxlY3Qoc3RhcnQsIGVuZCkge1xuICAgIGlmIChzdGFydCA9PSBudWxsIHx8IGVuZCA9PSBudWxsIHx8IHN0YXJ0ID09PSB0aGlzLnNlbGVjdGlvblN0YXJ0ICYmIGVuZCA9PT0gdGhpcy5zZWxlY3Rpb25FbmQpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgdGhpcy5fdW5zYWZlU2VsZWN0KHN0YXJ0LCBlbmQpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cblxuICAvKiogU2hvdWxkIGJlIG92ZXJyaWRlbiBpbiBzdWJjbGFzc2VzICovXG4gIF91bnNhZmVTZWxlY3Qoc3RhcnQsIGVuZCkge31cbiAgLyoqIFNob3VsZCBiZSBvdmVycmlkZW4gaW4gc3ViY2xhc3NlcyAqL1xuICBnZXQgaXNBY3RpdmUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKiBTaG91bGQgYmUgb3ZlcnJpZGVuIGluIHN1YmNsYXNzZXMgKi9cbiAgYmluZEV2ZW50cyhoYW5kbGVycykge31cbiAgLyoqIFNob3VsZCBiZSBvdmVycmlkZW4gaW4gc3ViY2xhc3NlcyAqL1xuICB1bmJpbmRFdmVudHMoKSB7fVxufVxuSU1hc2suTWFza0VsZW1lbnQgPSBNYXNrRWxlbWVudDtcblxuZXhwb3J0IHsgTWFza0VsZW1lbnQgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgRElSRUNUSU9OIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgJy4vY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuL2hvbGRlci5qcyc7XG5cbi8qKiBQcm92aWRlcyBkZXRhaWxzIG9mIGNoYW5naW5nIGlucHV0ICovXG5jbGFzcyBBY3Rpb25EZXRhaWxzIHtcbiAgLyoqIEN1cnJlbnQgaW5wdXQgdmFsdWUgKi9cblxuICAvKiogQ3VycmVudCBjdXJzb3IgcG9zaXRpb24gKi9cblxuICAvKiogT2xkIGlucHV0IHZhbHVlICovXG5cbiAgLyoqIE9sZCBzZWxlY3Rpb24gKi9cblxuICBjb25zdHJ1Y3Rvcih2YWx1ZSwgY3Vyc29yUG9zLCBvbGRWYWx1ZSwgb2xkU2VsZWN0aW9uKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuY3Vyc29yUG9zID0gY3Vyc29yUG9zO1xuICAgIHRoaXMub2xkVmFsdWUgPSBvbGRWYWx1ZTtcbiAgICB0aGlzLm9sZFNlbGVjdGlvbiA9IG9sZFNlbGVjdGlvbjtcblxuICAgIC8vIGRvdWJsZSBjaGVjayBpZiBsZWZ0IHBhcnQgd2FzIGNoYW5nZWQgKGF1dG9maWxsaW5nLCBvdGhlciBub24tc3RhbmRhcmQgaW5wdXQgdHJpZ2dlcnMpXG4gICAgd2hpbGUgKHRoaXMudmFsdWUuc2xpY2UoMCwgdGhpcy5zdGFydENoYW5nZVBvcykgIT09IHRoaXMub2xkVmFsdWUuc2xpY2UoMCwgdGhpcy5zdGFydENoYW5nZVBvcykpIHtcbiAgICAgIC0tdGhpcy5vbGRTZWxlY3Rpb24uc3RhcnQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAgU3RhcnQgY2hhbmdpbmcgcG9zaXRpb25cbiAgICBAcmVhZG9ubHlcbiAgKi9cbiAgZ2V0IHN0YXJ0Q2hhbmdlUG9zKCkge1xuICAgIHJldHVybiBNYXRoLm1pbih0aGlzLmN1cnNvclBvcywgdGhpcy5vbGRTZWxlY3Rpb24uc3RhcnQpO1xuICB9XG5cbiAgLyoqXG4gICAgSW5zZXJ0ZWQgc3ltYm9scyBjb3VudFxuICAgIEByZWFkb25seVxuICAqL1xuICBnZXQgaW5zZXJ0ZWRDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJzb3JQb3MgLSB0aGlzLnN0YXJ0Q2hhbmdlUG9zO1xuICB9XG5cbiAgLyoqXG4gICAgSW5zZXJ0ZWQgc3ltYm9sc1xuICAgIEByZWFkb25seVxuICAqL1xuICBnZXQgaW5zZXJ0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWUuc3Vic3RyKHRoaXMuc3RhcnRDaGFuZ2VQb3MsIHRoaXMuaW5zZXJ0ZWRDb3VudCk7XG4gIH1cblxuICAvKipcbiAgICBSZW1vdmVkIHN5bWJvbHMgY291bnRcbiAgICBAcmVhZG9ubHlcbiAgKi9cbiAgZ2V0IHJlbW92ZWRDb3VudCgpIHtcbiAgICAvLyBNYXRoLm1heCBmb3Igb3Bwb3NpdGUgb3BlcmF0aW9uXG4gICAgcmV0dXJuIE1hdGgubWF4KHRoaXMub2xkU2VsZWN0aW9uLmVuZCAtIHRoaXMuc3RhcnRDaGFuZ2VQb3MgfHxcbiAgICAvLyBmb3IgRGVsZXRlXG4gICAgdGhpcy5vbGRWYWx1ZS5sZW5ndGggLSB0aGlzLnZhbHVlLmxlbmd0aCwgMCk7XG4gIH1cblxuICAvKipcbiAgICBSZW1vdmVkIHN5bWJvbHNcbiAgICBAcmVhZG9ubHlcbiAgKi9cbiAgZ2V0IHJlbW92ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMub2xkVmFsdWUuc3Vic3RyKHRoaXMuc3RhcnRDaGFuZ2VQb3MsIHRoaXMucmVtb3ZlZENvdW50KTtcbiAgfVxuXG4gIC8qKlxuICAgIFVuY2hhbmdlZCBoZWFkIHN5bWJvbHNcbiAgICBAcmVhZG9ubHlcbiAgKi9cbiAgZ2V0IGhlYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWUuc3Vic3RyaW5nKDAsIHRoaXMuc3RhcnRDaGFuZ2VQb3MpO1xuICB9XG5cbiAgLyoqXG4gICAgVW5jaGFuZ2VkIHRhaWwgc3ltYm9sc1xuICAgIEByZWFkb25seVxuICAqL1xuICBnZXQgdGFpbCgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcodGhpcy5zdGFydENoYW5nZVBvcyArIHRoaXMuaW5zZXJ0ZWRDb3VudCk7XG4gIH1cblxuICAvKipcbiAgICBSZW1vdmUgZGlyZWN0aW9uXG4gICAgQHJlYWRvbmx5XG4gICovXG4gIGdldCByZW1vdmVEaXJlY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLnJlbW92ZWRDb3VudCB8fCB0aGlzLmluc2VydGVkQ291bnQpIHJldHVybiBESVJFQ1RJT04uTk9ORTtcblxuICAgIC8vIGFsaWduIHJpZ2h0IGlmIGRlbGV0ZSBhdCByaWdodFxuICAgIHJldHVybiAodGhpcy5vbGRTZWxlY3Rpb24uZW5kID09PSB0aGlzLmN1cnNvclBvcyB8fCB0aGlzLm9sZFNlbGVjdGlvbi5zdGFydCA9PT0gdGhpcy5jdXJzb3JQb3MpICYmXG4gICAgLy8gaWYgbm90IHJhbmdlIHJlbW92ZWQgKGV2ZW50IHdpdGggYmFja3NwYWNlKVxuICAgIHRoaXMub2xkU2VsZWN0aW9uLmVuZCA9PT0gdGhpcy5vbGRTZWxlY3Rpb24uc3RhcnQgPyBESVJFQ1RJT04uUklHSFQgOiBESVJFQ1RJT04uTEVGVDtcbiAgfVxufVxuXG5leHBvcnQgeyBBY3Rpb25EZXRhaWxzIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCBJTWFzayBmcm9tICcuL2hvbGRlci5qcyc7XG5cbi8qKlxuICBQcm92aWRlcyBkZXRhaWxzIG9mIGNoYW5naW5nIG1vZGVsIHZhbHVlXG4gIEBwYXJhbSB7T2JqZWN0fSBbZGV0YWlsc11cbiAgQHBhcmFtIHtzdHJpbmd9IFtkZXRhaWxzLmluc2VydGVkXSAtIEluc2VydGVkIHN5bWJvbHNcbiAgQHBhcmFtIHtib29sZWFufSBbZGV0YWlscy5za2lwXSAtIENhbiBza2lwIGNoYXJzXG4gIEBwYXJhbSB7bnVtYmVyfSBbZGV0YWlscy5yZW1vdmVDb3VudF0gLSBSZW1vdmVkIHN5bWJvbHMgY291bnRcbiAgQHBhcmFtIHtudW1iZXJ9IFtkZXRhaWxzLnRhaWxTaGlmdF0gLSBBZGRpdGlvbmFsIG9mZnNldCBpZiBhbnkgY2hhbmdlcyBvY2N1cnJlZCBiZWZvcmUgdGFpbFxuKi9cbmNsYXNzIENoYW5nZURldGFpbHMge1xuICAvKiogSW5zZXJ0ZWQgc3ltYm9scyAqL1xuXG4gIC8qKiBDYW4gc2tpcCBjaGFycyAqL1xuXG4gIC8qKiBBZGRpdGlvbmFsIG9mZnNldCBpZiBhbnkgY2hhbmdlcyBvY2N1cnJlZCBiZWZvcmUgdGFpbCAqL1xuXG4gIC8qKiBSYXcgaW5zZXJ0ZWQgaXMgdXNlZCBieSBkeW5hbWljIG1hc2sgKi9cblxuICBjb25zdHJ1Y3RvcihkZXRhaWxzKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICBpbnNlcnRlZDogJycsXG4gICAgICByYXdJbnNlcnRlZDogJycsXG4gICAgICBza2lwOiBmYWxzZSxcbiAgICAgIHRhaWxTaGlmdDogMFxuICAgIH0sIGRldGFpbHMpO1xuICB9XG5cbiAgLyoqXG4gICAgQWdncmVnYXRlIGNoYW5nZXNcbiAgICBAcmV0dXJucyB7Q2hhbmdlRGV0YWlsc30gYHRoaXNgXG4gICovXG4gIGFnZ3JlZ2F0ZShkZXRhaWxzKSB7XG4gICAgdGhpcy5yYXdJbnNlcnRlZCArPSBkZXRhaWxzLnJhd0luc2VydGVkO1xuICAgIHRoaXMuc2tpcCA9IHRoaXMuc2tpcCB8fCBkZXRhaWxzLnNraXA7XG4gICAgdGhpcy5pbnNlcnRlZCArPSBkZXRhaWxzLmluc2VydGVkO1xuICAgIHRoaXMudGFpbFNoaWZ0ICs9IGRldGFpbHMudGFpbFNoaWZ0O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIFRvdGFsIG9mZnNldCBjb25zaWRlcmluZyBhbGwgY2hhbmdlcyAqL1xuICBnZXQgb2Zmc2V0KCkge1xuICAgIHJldHVybiB0aGlzLnRhaWxTaGlmdCArIHRoaXMuaW5zZXJ0ZWQubGVuZ3RoO1xuICB9XG59XG5JTWFzay5DaGFuZ2VEZXRhaWxzID0gQ2hhbmdlRGV0YWlscztcblxuZXhwb3J0IHsgQ2hhbmdlRGV0YWlscyBhcyBkZWZhdWx0IH07XG4iLCIvKiogUHJvdmlkZXMgZGV0YWlscyBvZiBjb250aW51b3VzIGV4dHJhY3RlZCB0YWlsICovXG5jbGFzcyBDb250aW51b3VzVGFpbERldGFpbHMge1xuICAvKiogVGFpbCB2YWx1ZSBhcyBzdHJpbmcgKi9cblxuICAvKiogVGFpbCBzdGFydCBwb3NpdGlvbiAqL1xuXG4gIC8qKiBTdGFydCBwb3NpdGlvbiAqL1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgbGV0IGZyb20gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgbGV0IHN0b3AgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICB0aGlzLnN0b3AgPSBzdG9wO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICB9XG4gIGV4dGVuZCh0YWlsKSB7XG4gICAgdGhpcy52YWx1ZSArPSBTdHJpbmcodGFpbCk7XG4gIH1cbiAgYXBwZW5kVG8obWFza2VkKSB7XG4gICAgcmV0dXJuIG1hc2tlZC5hcHBlbmQodGhpcy50b1N0cmluZygpLCB7XG4gICAgICB0YWlsOiB0cnVlXG4gICAgfSkuYWdncmVnYXRlKG1hc2tlZC5fYXBwZW5kUGxhY2Vob2xkZXIoKSk7XG4gIH1cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgIGZyb206IHRoaXMuZnJvbSxcbiAgICAgIHN0b3A6IHRoaXMuc3RvcFxuICAgIH07XG4gIH1cbiAgc2V0IHN0YXRlKHN0YXRlKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBzdGF0ZSk7XG4gIH1cbiAgdW5zaGlmdChiZWZvcmVQb3MpIHtcbiAgICBpZiAoIXRoaXMudmFsdWUubGVuZ3RoIHx8IGJlZm9yZVBvcyAhPSBudWxsICYmIHRoaXMuZnJvbSA+PSBiZWZvcmVQb3MpIHJldHVybiAnJztcbiAgICBjb25zdCBzaGlmdENoYXIgPSB0aGlzLnZhbHVlWzBdO1xuICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnNsaWNlKDEpO1xuICAgIHJldHVybiBzaGlmdENoYXI7XG4gIH1cbiAgc2hpZnQoKSB7XG4gICAgaWYgKCF0aGlzLnZhbHVlLmxlbmd0aCkgcmV0dXJuICcnO1xuICAgIGNvbnN0IHNoaWZ0Q2hhciA9IHRoaXMudmFsdWVbdGhpcy52YWx1ZS5sZW5ndGggLSAxXTtcbiAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5zbGljZSgwLCAtMSk7XG4gICAgcmV0dXJuIHNoaWZ0Q2hhcjtcbiAgfVxufVxuXG5leHBvcnQgeyBDb250aW51b3VzVGFpbERldGFpbHMgYXMgZGVmYXVsdCB9O1xuIiwiLyoqXG4gKiBBcHBsaWVzIG1hc2sgb24gZWxlbWVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fEhUTUxUZXh0QXJlYUVsZW1lbnR8TWFza0VsZW1lbnR9IGVsIC0gRWxlbWVudCB0byBhcHBseSBtYXNrXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIEN1c3RvbSBtYXNrIG9wdGlvbnNcbiAqIEByZXR1cm4ge0lucHV0TWFza31cbiAqL1xuZnVuY3Rpb24gSU1hc2soZWwpIHtcbiAgbGV0IG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAvLyBjdXJyZW50bHkgYXZhaWxhYmxlIG9ubHkgZm9yIGlucHV0LWxpa2UgZWxlbWVudHNcbiAgcmV0dXJuIG5ldyBJTWFzay5JbnB1dE1hc2soZWwsIG9wdHMpO1xufVxuXG5leHBvcnQgeyBJTWFzayBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgQ2hhbmdlRGV0YWlscyBmcm9tICcuL2NoYW5nZS1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi9ob2xkZXIuanMnO1xuXG4vKiogQ2hlY2tzIGlmIHZhbHVlIGlzIHN0cmluZyAqL1xuZnVuY3Rpb24gaXNTdHJpbmcoc3RyKSB7XG4gIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyB8fCBzdHIgaW5zdGFuY2VvZiBTdHJpbmc7XG59XG5cbi8qKlxuICBEaXJlY3Rpb25cbiAgQHByb3Age3N0cmluZ30gTk9ORVxuICBAcHJvcCB7c3RyaW5nfSBMRUZUXG4gIEBwcm9wIHtzdHJpbmd9IEZPUkNFX0xFRlRcbiAgQHByb3Age3N0cmluZ30gUklHSFRcbiAgQHByb3Age3N0cmluZ30gRk9SQ0VfUklHSFRcbiovXG5jb25zdCBESVJFQ1RJT04gPSB7XG4gIE5PTkU6ICdOT05FJyxcbiAgTEVGVDogJ0xFRlQnLFxuICBGT1JDRV9MRUZUOiAnRk9SQ0VfTEVGVCcsXG4gIFJJR0hUOiAnUklHSFQnLFxuICBGT1JDRV9SSUdIVDogJ0ZPUkNFX1JJR0hUJ1xufTtcbi8qKlxuICBEaXJlY3Rpb25cbiAgQGVudW0ge3N0cmluZ31cbiovXG5cbi8qKiBSZXR1cm5zIG5leHQgY2hhciBpbmRleCBpbiBkaXJlY3Rpb24gKi9cbmZ1bmN0aW9uIGluZGV4SW5EaXJlY3Rpb24ocG9zLCBkaXJlY3Rpb24pIHtcbiAgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLkxFRlQpIC0tcG9zO1xuICByZXR1cm4gcG9zO1xufVxuXG4vKiogUmV0dXJucyBuZXh0IGNoYXIgcG9zaXRpb24gaW4gZGlyZWN0aW9uICovXG5mdW5jdGlvbiBwb3NJbkRpcmVjdGlvbihwb3MsIGRpcmVjdGlvbikge1xuICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgY2FzZSBESVJFQ1RJT04uRk9SQ0VfTEVGVDpcbiAgICAgIHJldHVybiAtLXBvcztcbiAgICBjYXNlIERJUkVDVElPTi5SSUdIVDpcbiAgICBjYXNlIERJUkVDVElPTi5GT1JDRV9SSUdIVDpcbiAgICAgIHJldHVybiArK3BvcztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHBvcztcbiAgfVxufVxuXG4vKiogKi9cbmZ1bmN0aW9uIGZvcmNlRGlyZWN0aW9uKGRpcmVjdGlvbikge1xuICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICByZXR1cm4gRElSRUNUSU9OLkZPUkNFX0xFRlQ7XG4gICAgY2FzZSBESVJFQ1RJT04uUklHSFQ6XG4gICAgICByZXR1cm4gRElSRUNUSU9OLkZPUkNFX1JJR0hUO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZGlyZWN0aW9uO1xuICB9XG59XG5cbi8qKiBFc2NhcGVzIHJlZ3VsYXIgZXhwcmVzc2lvbiBjb250cm9sIGNoYXJzICovXG5mdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFtcXF1cXC9cXFxcXSkvZywgJ1xcXFwkMScpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUHJlcGFyZShwcmVwKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHByZXApID8gcHJlcCA6IFtwcmVwLCBuZXcgQ2hhbmdlRGV0YWlscygpXTtcbn1cblxuLy8gY2xvbmVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Vwb2JlcmV6a2luL2Zhc3QtZGVlcC1lcXVhbCB3aXRoIHNtYWxsIGNoYW5nZXNcbmZ1bmN0aW9uIG9iamVjdEluY2x1ZGVzKGIsIGEpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuICB2YXIgYXJyQSA9IEFycmF5LmlzQXJyYXkoYSksXG4gICAgYXJyQiA9IEFycmF5LmlzQXJyYXkoYiksXG4gICAgaTtcbiAgaWYgKGFyckEgJiYgYXJyQikge1xuICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSBpZiAoIW9iamVjdEluY2x1ZGVzKGFbaV0sIGJbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGFyckEgIT0gYXJyQikgcmV0dXJuIGZhbHNlO1xuICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgZGF0ZUEgPSBhIGluc3RhbmNlb2YgRGF0ZSxcbiAgICAgIGRhdGVCID0gYiBpbnN0YW5jZW9mIERhdGU7XG4gICAgaWYgKGRhdGVBICYmIGRhdGVCKSByZXR1cm4gYS5nZXRUaW1lKCkgPT0gYi5nZXRUaW1lKCk7XG4gICAgaWYgKGRhdGVBICE9IGRhdGVCKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHJlZ2V4cEEgPSBhIGluc3RhbmNlb2YgUmVnRXhwLFxuICAgICAgcmVnZXhwQiA9IGIgaW5zdGFuY2VvZiBSZWdFeHA7XG4gICAgaWYgKHJlZ2V4cEEgJiYgcmVnZXhwQikgcmV0dXJuIGEudG9TdHJpbmcoKSA9PSBiLnRvU3RyaW5nKCk7XG4gICAgaWYgKHJlZ2V4cEEgIT0gcmVnZXhwQikgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgLy8gaWYgKGtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKVxuICAgIC8vICRGbG93Rml4TWUgLi4uID8/P1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIGtleXNbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIGlmICghb2JqZWN0SW5jbHVkZXMoYltrZXlzW2ldXSwgYVtrZXlzW2ldXSkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGIgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKiogU2VsZWN0aW9uIHJhbmdlICovXG5cbmV4cG9ydCB7IERJUkVDVElPTiwgZXNjYXBlUmVnRXhwLCBmb3JjZURpcmVjdGlvbiwgaW5kZXhJbkRpcmVjdGlvbiwgaXNTdHJpbmcsIG5vcm1hbGl6ZVByZXBhcmUsIG9iamVjdEluY2x1ZGVzLCBwb3NJbkRpcmVjdGlvbiB9O1xuIiwiZXhwb3J0IHsgZGVmYXVsdCBhcyBJbnB1dE1hc2sgfSBmcm9tICcuL2NvbnRyb2xzL2lucHV0LmpzJztcbmltcG9ydCBJTWFzayBmcm9tICcuL2NvcmUvaG9sZGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tICcuL2NvcmUvaG9sZGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFza2VkIH0gZnJvbSAnLi9tYXNrZWQvYmFzZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1hc2tlZFBhdHRlcm4gfSBmcm9tICcuL21hc2tlZC9wYXR0ZXJuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFza2VkRW51bSB9IGZyb20gJy4vbWFza2VkL2VudW0uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXNrZWRSYW5nZSB9IGZyb20gJy4vbWFza2VkL3JhbmdlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFza2VkTnVtYmVyIH0gZnJvbSAnLi9tYXNrZWQvbnVtYmVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFza2VkRGF0ZSB9IGZyb20gJy4vbWFza2VkL2RhdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXNrZWRSZWdFeHAgfSBmcm9tICcuL21hc2tlZC9yZWdleHAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXNrZWRGdW5jdGlvbiB9IGZyb20gJy4vbWFza2VkL2Z1bmN0aW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFza2VkRHluYW1pYyB9IGZyb20gJy4vbWFza2VkL2R5bmFtaWMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjcmVhdGVNYXNrIH0gZnJvbSAnLi9tYXNrZWQvZmFjdG9yeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1hc2tFbGVtZW50IH0gZnJvbSAnLi9jb250cm9scy9tYXNrLWVsZW1lbnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBIVE1MTWFza0VsZW1lbnQgfSBmcm9tICcuL2NvbnRyb2xzL2h0bWwtbWFzay1lbGVtZW50LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50IH0gZnJvbSAnLi9jb250cm9scy9odG1sLWNvbnRlbnRlZGl0YWJsZS1tYXNrLWVsZW1lbnQuanMnO1xuZXhwb3J0IHsgUElQRV9UWVBFLCBjcmVhdGVQaXBlLCBwaXBlIH0gZnJvbSAnLi9tYXNrZWQvcGlwZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENoYW5nZURldGFpbHMgfSBmcm9tICcuL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuL19yb2xsdXBQbHVnaW5CYWJlbEhlbHBlcnMtNmIzYmQ0MDQuanMnO1xuaW1wb3J0ICcuL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0ICcuL2NvcmUvYWN0aW9uLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuL21hc2tlZC9wYXR0ZXJuL2lucHV0LWRlZmluaXRpb24uanMnO1xuaW1wb3J0ICcuL21hc2tlZC9wYXR0ZXJuL2ZpeGVkLWRlZmluaXRpb24uanMnO1xuaW1wb3J0ICcuL21hc2tlZC9wYXR0ZXJuL2NodW5rLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4vbWFza2VkL3BhdHRlcm4vY3Vyc29yLmpzJztcblxudHJ5IHtcbiAgZ2xvYmFsVGhpcy5JTWFzayA9IElNYXNrO1xufSBjYXRjaCAoZSkge31cbiIsImltcG9ydCBDaGFuZ2VEZXRhaWxzIGZyb20gJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0IENvbnRpbnVvdXNUYWlsRGV0YWlscyBmcm9tICcuLi9jb3JlL2NvbnRpbnVvdXMtdGFpbC1kZXRhaWxzLmpzJztcbmltcG9ydCB7IGlzU3RyaW5nLCBub3JtYWxpemVQcmVwYXJlLCBESVJFQ1RJT04sIGZvcmNlRGlyZWN0aW9uIH0gZnJvbSAnLi4vY29yZS91dGlscy5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi4vY29yZS9ob2xkZXIuanMnO1xuXG4vKiogU3VwcG9ydGVkIG1hc2sgdHlwZSAqL1xuXG4vKiogQXBwZW5kIGZsYWdzICovXG5cbi8qKiBFeHRyYWN0IGZsYWdzICovXG5cbi8qKiBQcm92aWRlcyBjb21tb24gbWFza2luZyBzdHVmZiAqL1xuY2xhc3MgTWFza2VkIHtcbiAgLy8gJFNoYXBlPE1hc2tlZE9wdGlvbnM+OyBUT0RPIGFmdGVyIGZpeCBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmxvdy9pc3N1ZXMvNDc3M1xuXG4gIC8qKiBAdHlwZSB7TWFza30gKi9cblxuICAvKiogKi8gLy8gJEZsb3dGaXhNZSBubyBpZGVhc1xuICAvKiogVHJhbnNmb3JtcyB2YWx1ZSBiZWZvcmUgbWFzayBwcm9jZXNzaW5nICovXG4gIC8qKiBWYWxpZGF0ZXMgaWYgdmFsdWUgaXMgYWNjZXB0YWJsZSAqL1xuICAvKiogRG9lcyBhZGRpdGlvbmFsIHByb2Nlc3NpbmcgaW4gdGhlIGVuZCBvZiBlZGl0aW5nICovXG4gIC8qKiBGb3JtYXQgdHlwZWQgdmFsdWUgdG8gc3RyaW5nICovXG4gIC8qKiBQYXJzZSBzdHJnaW4gdG8gZ2V0IHR5cGVkIHZhbHVlICovXG4gIC8qKiBFbmFibGUgY2hhcmFjdGVycyBvdmVyd3JpdGluZyAqL1xuICAvKiogKi9cbiAgLyoqICovXG4gIC8qKiAqL1xuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgdGhpcy5fdmFsdWUgPSAnJztcbiAgICB0aGlzLl91cGRhdGUoT2JqZWN0LmFzc2lnbih7fSwgTWFza2VkLkRFRkFVTFRTLCBvcHRzKSk7XG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKiBTZXRzIGFuZCBhcHBsaWVzIG5ldyBvcHRpb25zICovXG4gIHVwZGF0ZU9wdGlvbnMob3B0cykge1xuICAgIGlmICghT2JqZWN0LmtleXMob3B0cykubGVuZ3RoKSByZXR1cm47XG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIHRoaXMud2l0aFZhbHVlUmVmcmVzaCh0aGlzLl91cGRhdGUuYmluZCh0aGlzLCBvcHRzKSk7XG4gIH1cblxuICAvKipcbiAgICBTZXRzIG5ldyBvcHRpb25zXG4gICAgQHByb3RlY3RlZFxuICAqL1xuICBfdXBkYXRlKG9wdHMpIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdHMpO1xuICB9XG5cbiAgLyoqIE1hc2sgc3RhdGUgKi9cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfdmFsdWU6IHRoaXMudmFsdWVcbiAgICB9O1xuICB9XG4gIHNldCBzdGF0ZShzdGF0ZSkge1xuICAgIHRoaXMuX3ZhbHVlID0gc3RhdGUuX3ZhbHVlO1xuICB9XG5cbiAgLyoqIFJlc2V0cyB2YWx1ZSAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLl92YWx1ZSA9ICcnO1xuICB9XG5cbiAgLyoqICovXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy5yZXNvbHZlKHZhbHVlKTtcbiAgfVxuXG4gIC8qKiBSZXNvbHZlIG5ldyB2YWx1ZSAqL1xuICByZXNvbHZlKHZhbHVlKSB7XG4gICAgbGV0IGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7XG4gICAgICBpbnB1dDogdHJ1ZVxuICAgIH07XG4gICAgdGhpcy5yZXNldCgpO1xuICAgIHRoaXMuYXBwZW5kKHZhbHVlLCBmbGFncywgJycpO1xuICAgIHRoaXMuZG9Db21taXQoKTtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxuXG4gIC8qKiAqL1xuICBnZXQgdW5tYXNrZWRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxuICBzZXQgdW5tYXNrZWRWYWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgICB0aGlzLmFwcGVuZCh2YWx1ZSwge30sICcnKTtcbiAgICB0aGlzLmRvQ29tbWl0KCk7XG4gIH1cblxuICAvKiogKi9cbiAgZ2V0IHR5cGVkVmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9QYXJzZSh0aGlzLnZhbHVlKTtcbiAgfVxuICBzZXQgdHlwZWRWYWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMudmFsdWUgPSB0aGlzLmRvRm9ybWF0KHZhbHVlKTtcbiAgfVxuXG4gIC8qKiBWYWx1ZSB0aGF0IGluY2x1ZGVzIHJhdyB1c2VyIGlucHV0ICovXG4gIGdldCByYXdJbnB1dFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLmV4dHJhY3RJbnB1dCgwLCB0aGlzLnZhbHVlLmxlbmd0aCwge1xuICAgICAgcmF3OiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgc2V0IHJhd0lucHV0VmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgdGhpcy5hcHBlbmQodmFsdWUsIHtcbiAgICAgIHJhdzogdHJ1ZVxuICAgIH0sICcnKTtcbiAgICB0aGlzLmRvQ29tbWl0KCk7XG4gIH1cbiAgZ2V0IGRpc3BsYXlWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxuXG4gIC8qKiAqL1xuICBnZXQgaXNDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKiAqL1xuICBnZXQgaXNGaWxsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNDb21wbGV0ZTtcbiAgfVxuXG4gIC8qKiBGaW5kcyBuZWFyZXN0IGlucHV0IHBvc2l0aW9uIGluIGRpcmVjdGlvbiAqL1xuICBuZWFyZXN0SW5wdXRQb3MoY3Vyc29yUG9zLCBkaXJlY3Rpb24pIHtcbiAgICByZXR1cm4gY3Vyc29yUG9zO1xuICB9XG4gIHRvdGFsSW5wdXRQb3NpdGlvbnMoKSB7XG4gICAgbGV0IGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgbGV0IHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICByZXR1cm4gTWF0aC5taW4odGhpcy52YWx1ZS5sZW5ndGgsIHRvUG9zIC0gZnJvbVBvcyk7XG4gIH1cblxuICAvKiogRXh0cmFjdHMgdmFsdWUgaW4gcmFuZ2UgY29uc2lkZXJpbmcgZmxhZ3MgKi9cbiAgZXh0cmFjdElucHV0KCkge1xuICAgIGxldCBmcm9tUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIGxldCB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgcmV0dXJuIHRoaXMudmFsdWUuc2xpY2UoZnJvbVBvcywgdG9Qb3MpO1xuICB9XG5cbiAgLyoqIEV4dHJhY3RzIHRhaWwgaW4gcmFuZ2UgKi9cbiAgZXh0cmFjdFRhaWwoKSB7XG4gICAgbGV0IGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgbGV0IHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICByZXR1cm4gbmV3IENvbnRpbnVvdXNUYWlsRGV0YWlscyh0aGlzLmV4dHJhY3RJbnB1dChmcm9tUG9zLCB0b1BvcyksIGZyb21Qb3MpO1xuICB9XG5cbiAgLyoqIEFwcGVuZHMgdGFpbCAqL1xuICAvLyAkRmxvd0ZpeE1lIG5vIGlkZWFzXG4gIGFwcGVuZFRhaWwodGFpbCkge1xuICAgIGlmIChpc1N0cmluZyh0YWlsKSkgdGFpbCA9IG5ldyBDb250aW51b3VzVGFpbERldGFpbHMoU3RyaW5nKHRhaWwpKTtcbiAgICByZXR1cm4gdGFpbC5hcHBlbmRUbyh0aGlzKTtcbiAgfVxuXG4gIC8qKiBBcHBlbmRzIGNoYXIgKi9cbiAgX2FwcGVuZENoYXJSYXcoY2gpIHtcbiAgICBpZiAoIWNoKSByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICB0aGlzLl92YWx1ZSArPSBjaDtcbiAgICByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoe1xuICAgICAgaW5zZXJ0ZWQ6IGNoLFxuICAgICAgcmF3SW5zZXJ0ZWQ6IGNoXG4gICAgfSk7XG4gIH1cblxuICAvKiogQXBwZW5kcyBjaGFyICovXG4gIF9hcHBlbmRDaGFyKGNoKSB7XG4gICAgbGV0IGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBsZXQgY2hlY2tUYWlsID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgY29uc2lzdGVudFN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBsZXQgZGV0YWlscztcbiAgICBbY2gsIGRldGFpbHNdID0gbm9ybWFsaXplUHJlcGFyZSh0aGlzLmRvUHJlcGFyZShjaCwgZmxhZ3MpKTtcbiAgICBkZXRhaWxzID0gZGV0YWlscy5hZ2dyZWdhdGUodGhpcy5fYXBwZW5kQ2hhclJhdyhjaCwgZmxhZ3MpKTtcbiAgICBpZiAoZGV0YWlscy5pbnNlcnRlZCkge1xuICAgICAgbGV0IGNvbnNpc3RlbnRUYWlsO1xuICAgICAgbGV0IGFwcGVuZGVkID0gdGhpcy5kb1ZhbGlkYXRlKGZsYWdzKSAhPT0gZmFsc2U7XG4gICAgICBpZiAoYXBwZW5kZWQgJiYgY2hlY2tUYWlsICE9IG51bGwpIHtcbiAgICAgICAgLy8gdmFsaWRhdGlvbiBvaywgY2hlY2sgdGFpbFxuICAgICAgICBjb25zdCBiZWZvcmVUYWlsU3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICBpZiAodGhpcy5vdmVyd3JpdGUgPT09IHRydWUpIHtcbiAgICAgICAgICBjb25zaXN0ZW50VGFpbCA9IGNoZWNrVGFpbC5zdGF0ZTtcbiAgICAgICAgICBjaGVja1RhaWwudW5zaGlmdCh0aGlzLnZhbHVlLmxlbmd0aCAtIGRldGFpbHMudGFpbFNoaWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGFpbERldGFpbHMgPSB0aGlzLmFwcGVuZFRhaWwoY2hlY2tUYWlsKTtcbiAgICAgICAgYXBwZW5kZWQgPSB0YWlsRGV0YWlscy5yYXdJbnNlcnRlZCA9PT0gY2hlY2tUYWlsLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgLy8gbm90IG9rLCB0cnkgc2hpZnRcbiAgICAgICAgaWYgKCEoYXBwZW5kZWQgJiYgdGFpbERldGFpbHMuaW5zZXJ0ZWQpICYmIHRoaXMub3ZlcndyaXRlID09PSAnc2hpZnQnKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IGJlZm9yZVRhaWxTdGF0ZTtcbiAgICAgICAgICBjb25zaXN0ZW50VGFpbCA9IGNoZWNrVGFpbC5zdGF0ZTtcbiAgICAgICAgICBjaGVja1RhaWwuc2hpZnQoKTtcbiAgICAgICAgICB0YWlsRGV0YWlscyA9IHRoaXMuYXBwZW5kVGFpbChjaGVja1RhaWwpO1xuICAgICAgICAgIGFwcGVuZGVkID0gdGFpbERldGFpbHMucmF3SW5zZXJ0ZWQgPT09IGNoZWNrVGFpbC50b1N0cmluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgb2ssIHJvbGxiYWNrIHN0YXRlIGFmdGVyIHRhaWxcbiAgICAgICAgaWYgKGFwcGVuZGVkICYmIHRhaWxEZXRhaWxzLmluc2VydGVkKSB0aGlzLnN0YXRlID0gYmVmb3JlVGFpbFN0YXRlO1xuICAgICAgfVxuXG4gICAgICAvLyByZXZlcnQgYWxsIGlmIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICBpZiAoIWFwcGVuZGVkKSB7XG4gICAgICAgIGRldGFpbHMgPSBuZXcgQ2hhbmdlRGV0YWlscygpO1xuICAgICAgICB0aGlzLnN0YXRlID0gY29uc2lzdGVudFN0YXRlO1xuICAgICAgICBpZiAoY2hlY2tUYWlsICYmIGNvbnNpc3RlbnRUYWlsKSBjaGVja1RhaWwuc3RhdGUgPSBjb25zaXN0ZW50VGFpbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRldGFpbHM7XG4gIH1cblxuICAvKiogQXBwZW5kcyBvcHRpb25hbCBwbGFjZWhvbGRlciBhdCBlbmQgKi9cbiAgX2FwcGVuZFBsYWNlaG9sZGVyKCkge1xuICAgIHJldHVybiBuZXcgQ2hhbmdlRGV0YWlscygpO1xuICB9XG5cbiAgLyoqIEFwcGVuZHMgb3B0aW9uYWwgZWFnZXIgcGxhY2Vob2xkZXIgYXQgZW5kICovXG4gIF9hcHBlbmRFYWdlcigpIHtcbiAgICByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgfVxuXG4gIC8qKiBBcHBlbmRzIHN5bWJvbHMgY29uc2lkZXJpbmcgZmxhZ3MgKi9cbiAgLy8gJEZsb3dGaXhNZSBubyBpZGVhc1xuICBhcHBlbmQoc3RyLCBmbGFncywgdGFpbCkge1xuICAgIGlmICghaXNTdHJpbmcoc3RyKSkgdGhyb3cgbmV3IEVycm9yKCd2YWx1ZSBzaG91bGQgYmUgc3RyaW5nJyk7XG4gICAgY29uc3QgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgY29uc3QgY2hlY2tUYWlsID0gaXNTdHJpbmcodGFpbCkgPyBuZXcgQ29udGludW91c1RhaWxEZXRhaWxzKFN0cmluZyh0YWlsKSkgOiB0YWlsO1xuICAgIGlmIChmbGFncyAhPT0gbnVsbCAmJiBmbGFncyAhPT0gdm9pZCAwICYmIGZsYWdzLnRhaWwpIGZsYWdzLl9iZWZvcmVUYWlsU3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGZvciAobGV0IGNpID0gMDsgY2kgPCBzdHIubGVuZ3RoOyArK2NpKSB7XG4gICAgICBjb25zdCBkID0gdGhpcy5fYXBwZW5kQ2hhcihzdHJbY2ldLCBmbGFncywgY2hlY2tUYWlsKTtcbiAgICAgIGlmICghZC5yYXdJbnNlcnRlZCAmJiAhdGhpcy5kb1NraXBJbnZhbGlkKHN0cltjaV0sIGZsYWdzLCBjaGVja1RhaWwpKSBicmVhaztcbiAgICAgIGRldGFpbHMuYWdncmVnYXRlKGQpO1xuICAgIH1cbiAgICBpZiAoKHRoaXMuZWFnZXIgPT09IHRydWUgfHwgdGhpcy5lYWdlciA9PT0gJ2FwcGVuZCcpICYmIGZsYWdzICE9PSBudWxsICYmIGZsYWdzICE9PSB2b2lkIDAgJiYgZmxhZ3MuaW5wdXQgJiYgc3RyKSB7XG4gICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZSh0aGlzLl9hcHBlbmRFYWdlcigpKTtcbiAgICB9XG5cbiAgICAvLyBhcHBlbmQgdGFpbCBidXQgYWdncmVnYXRlIG9ubHkgdGFpbFNoaWZ0XG4gICAgaWYgKGNoZWNrVGFpbCAhPSBudWxsKSB7XG4gICAgICBkZXRhaWxzLnRhaWxTaGlmdCArPSB0aGlzLmFwcGVuZFRhaWwoY2hlY2tUYWlsKS50YWlsU2hpZnQ7XG4gICAgICAvLyBUT0RPIGl0J3MgYSBnb29kIGlkZWEgdG8gY2xlYXIgc3RhdGUgYWZ0ZXIgYXBwZW5kaW5nIGVuZHNcbiAgICAgIC8vIGJ1dCBpdCBjYXVzZXMgYnVncyB3aGVuIG9uZSBhcHBlbmQgY2FsbHMgYW5vdGhlciAod2hlbiBkeW5hbWljIGRpc3BhdGNoIHNldCByYXdJbnB1dFZhbHVlKVxuICAgICAgLy8gdGhpcy5fcmVzZXRCZWZvcmVUYWlsU3RhdGUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGV0YWlscztcbiAgfVxuXG4gIC8qKiAqL1xuICByZW1vdmUoKSB7XG4gICAgbGV0IGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgbGV0IHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICB0aGlzLl92YWx1ZSA9IHRoaXMudmFsdWUuc2xpY2UoMCwgZnJvbVBvcykgKyB0aGlzLnZhbHVlLnNsaWNlKHRvUG9zKTtcbiAgICByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgfVxuXG4gIC8qKiBDYWxscyBmdW5jdGlvbiBhbmQgcmVhcHBsaWVzIGN1cnJlbnQgdmFsdWUgKi9cbiAgd2l0aFZhbHVlUmVmcmVzaChmbikge1xuICAgIGlmICh0aGlzLl9yZWZyZXNoaW5nIHx8ICF0aGlzLmlzSW5pdGlhbGl6ZWQpIHJldHVybiBmbigpO1xuICAgIHRoaXMuX3JlZnJlc2hpbmcgPSB0cnVlO1xuICAgIGNvbnN0IHJhd0lucHV0ID0gdGhpcy5yYXdJbnB1dFZhbHVlO1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICBjb25zdCByZXQgPSBmbigpO1xuICAgIHRoaXMucmF3SW5wdXRWYWx1ZSA9IHJhd0lucHV0O1xuICAgIC8vIGFwcGVuZCBsb3N0IHRyYWlsaW5nIGNoYXJzIGF0IGVuZFxuICAgIGlmICh0aGlzLnZhbHVlICYmIHRoaXMudmFsdWUgIT09IHZhbHVlICYmIHZhbHVlLmluZGV4T2YodGhpcy52YWx1ZSkgPT09IDApIHtcbiAgICAgIHRoaXMuYXBwZW5kKHZhbHVlLnNsaWNlKHRoaXMudmFsdWUubGVuZ3RoKSwge30sICcnKTtcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMuX3JlZnJlc2hpbmc7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8qKiAqL1xuICBydW5Jc29sYXRlZChmbikge1xuICAgIGlmICh0aGlzLl9pc29sYXRlZCB8fCAhdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm4gZm4odGhpcyk7XG4gICAgdGhpcy5faXNvbGF0ZWQgPSB0cnVlO1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCByZXQgPSBmbih0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgZGVsZXRlIHRoaXMuX2lzb2xhdGVkO1xuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvKiogKi9cbiAgZG9Ta2lwSW52YWxpZChjaCkge1xuICAgIHJldHVybiB0aGlzLnNraXBJbnZhbGlkO1xuICB9XG5cbiAgLyoqXG4gICAgUHJlcGFyZXMgc3RyaW5nIGJlZm9yZSBtYXNrIHByb2Nlc3NpbmdcbiAgICBAcHJvdGVjdGVkXG4gICovXG4gIGRvUHJlcGFyZShzdHIpIHtcbiAgICBsZXQgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHJldHVybiB0aGlzLnByZXBhcmUgPyB0aGlzLnByZXBhcmUoc3RyLCB0aGlzLCBmbGFncykgOiBzdHI7XG4gIH1cblxuICAvKipcbiAgICBWYWxpZGF0ZXMgaWYgdmFsdWUgaXMgYWNjZXB0YWJsZVxuICAgIEBwcm90ZWN0ZWRcbiAgKi9cbiAgZG9WYWxpZGF0ZShmbGFncykge1xuICAgIHJldHVybiAoIXRoaXMudmFsaWRhdGUgfHwgdGhpcy52YWxpZGF0ZSh0aGlzLnZhbHVlLCB0aGlzLCBmbGFncykpICYmICghdGhpcy5wYXJlbnQgfHwgdGhpcy5wYXJlbnQuZG9WYWxpZGF0ZShmbGFncykpO1xuICB9XG5cbiAgLyoqXG4gICAgRG9lcyBhZGRpdGlvbmFsIHByb2Nlc3NpbmcgaW4gdGhlIGVuZCBvZiBlZGl0aW5nXG4gICAgQHByb3RlY3RlZFxuICAqL1xuICBkb0NvbW1pdCgpIHtcbiAgICBpZiAodGhpcy5jb21taXQpIHRoaXMuY29tbWl0KHRoaXMudmFsdWUsIHRoaXMpO1xuICB9XG5cbiAgLyoqICovXG4gIGRvRm9ybWF0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0ID8gdGhpcy5mb3JtYXQodmFsdWUsIHRoaXMpIDogdmFsdWU7XG4gIH1cblxuICAvKiogKi9cbiAgZG9QYXJzZShzdHIpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJzZSA/IHRoaXMucGFyc2Uoc3RyLCB0aGlzKSA6IHN0cjtcbiAgfVxuXG4gIC8qKiAqL1xuICBzcGxpY2Uoc3RhcnQsIGRlbGV0ZUNvdW50LCBpbnNlcnRlZCwgcmVtb3ZlRGlyZWN0aW9uKSB7XG4gICAgbGV0IGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB7XG4gICAgICBpbnB1dDogdHJ1ZVxuICAgIH07XG4gICAgY29uc3QgdGFpbFBvcyA9IHN0YXJ0ICsgZGVsZXRlQ291bnQ7XG4gICAgY29uc3QgdGFpbCA9IHRoaXMuZXh0cmFjdFRhaWwodGFpbFBvcyk7XG4gICAgY29uc3QgZWFnZXJSZW1vdmUgPSB0aGlzLmVhZ2VyID09PSB0cnVlIHx8IHRoaXMuZWFnZXIgPT09ICdyZW1vdmUnO1xuICAgIGxldCBvbGRSYXdWYWx1ZTtcbiAgICBpZiAoZWFnZXJSZW1vdmUpIHtcbiAgICAgIHJlbW92ZURpcmVjdGlvbiA9IGZvcmNlRGlyZWN0aW9uKHJlbW92ZURpcmVjdGlvbik7XG4gICAgICBvbGRSYXdWYWx1ZSA9IHRoaXMuZXh0cmFjdElucHV0KDAsIHRhaWxQb3MsIHtcbiAgICAgICAgcmF3OiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHN0YXJ0Q2hhbmdlUG9zID0gc3RhcnQ7XG4gICAgY29uc3QgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG5cbiAgICAvLyBpZiBpdCBpcyBqdXN0IGRlbGV0aW9uIHdpdGhvdXQgaW5zZXJ0aW9uXG4gICAgaWYgKHJlbW92ZURpcmVjdGlvbiAhPT0gRElSRUNUSU9OLk5PTkUpIHtcbiAgICAgIHN0YXJ0Q2hhbmdlUG9zID0gdGhpcy5uZWFyZXN0SW5wdXRQb3Moc3RhcnQsIGRlbGV0ZUNvdW50ID4gMSAmJiBzdGFydCAhPT0gMCAmJiAhZWFnZXJSZW1vdmUgPyBESVJFQ1RJT04uTk9ORSA6IHJlbW92ZURpcmVjdGlvbik7XG5cbiAgICAgIC8vIGFkanVzdCB0YWlsU2hpZnQgaWYgc3RhcnQgd2FzIGFsaWduZWRcbiAgICAgIGRldGFpbHMudGFpbFNoaWZ0ID0gc3RhcnRDaGFuZ2VQb3MgLSBzdGFydDtcbiAgICB9XG4gICAgZGV0YWlscy5hZ2dyZWdhdGUodGhpcy5yZW1vdmUoc3RhcnRDaGFuZ2VQb3MpKTtcbiAgICBpZiAoZWFnZXJSZW1vdmUgJiYgcmVtb3ZlRGlyZWN0aW9uICE9PSBESVJFQ1RJT04uTk9ORSAmJiBvbGRSYXdWYWx1ZSA9PT0gdGhpcy5yYXdJbnB1dFZhbHVlKSB7XG4gICAgICBpZiAocmVtb3ZlRGlyZWN0aW9uID09PSBESVJFQ1RJT04uRk9SQ0VfTEVGVCkge1xuICAgICAgICBsZXQgdmFsTGVuZ3RoO1xuICAgICAgICB3aGlsZSAob2xkUmF3VmFsdWUgPT09IHRoaXMucmF3SW5wdXRWYWx1ZSAmJiAodmFsTGVuZ3RoID0gdGhpcy52YWx1ZS5sZW5ndGgpKSB7XG4gICAgICAgICAgZGV0YWlscy5hZ2dyZWdhdGUobmV3IENoYW5nZURldGFpbHMoe1xuICAgICAgICAgICAgdGFpbFNoaWZ0OiAtMVxuICAgICAgICAgIH0pKS5hZ2dyZWdhdGUodGhpcy5yZW1vdmUodmFsTGVuZ3RoIC0gMSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlbW92ZURpcmVjdGlvbiA9PT0gRElSRUNUSU9OLkZPUkNFX1JJR0hUKSB7XG4gICAgICAgIHRhaWwudW5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGV0YWlscy5hZ2dyZWdhdGUodGhpcy5hcHBlbmQoaW5zZXJ0ZWQsIGZsYWdzLCB0YWlsKSk7XG4gIH1cbiAgbWFza0VxdWFscyhtYXNrKSB7XG4gICAgcmV0dXJuIHRoaXMubWFzayA9PT0gbWFzaztcbiAgfVxuICB0eXBlZFZhbHVlRXF1YWxzKHZhbHVlKSB7XG4gICAgY29uc3QgdHZhbCA9IHRoaXMudHlwZWRWYWx1ZTtcbiAgICByZXR1cm4gdmFsdWUgPT09IHR2YWwgfHwgTWFza2VkLkVNUFRZX1ZBTFVFUy5pbmNsdWRlcyh2YWx1ZSkgJiYgTWFza2VkLkVNUFRZX1ZBTFVFUy5pbmNsdWRlcyh0dmFsKSB8fCB0aGlzLmRvRm9ybWF0KHZhbHVlKSA9PT0gdGhpcy5kb0Zvcm1hdCh0aGlzLnR5cGVkVmFsdWUpO1xuICB9XG59XG5NYXNrZWQuREVGQVVMVFMgPSB7XG4gIGZvcm1hdDogU3RyaW5nLFxuICBwYXJzZTogdiA9PiB2LFxuICBza2lwSW52YWxpZDogdHJ1ZVxufTtcbk1hc2tlZC5FTVBUWV9WQUxVRVMgPSBbdW5kZWZpbmVkLCBudWxsLCAnJ107XG5JTWFzay5NYXNrZWQgPSBNYXNrZWQ7XG5cbmV4cG9ydCB7IE1hc2tlZCBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgTWFza2VkUGF0dGVybiBmcm9tICcuL3BhdHRlcm4uanMnO1xuaW1wb3J0IE1hc2tlZFJhbmdlIGZyb20gJy4vcmFuZ2UuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi4vX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy02YjNiZDQwNC5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0ICcuLi9jb3JlL2NoYW5nZS1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi9iYXNlLmpzJztcbmltcG9ydCAnLi4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4vcGF0dGVybi9pbnB1dC1kZWZpbml0aW9uLmpzJztcbmltcG9ydCAnLi9mYWN0b3J5LmpzJztcbmltcG9ydCAnLi9wYXR0ZXJuL2ZpeGVkLWRlZmluaXRpb24uanMnO1xuaW1wb3J0ICcuL3BhdHRlcm4vY2h1bmstdGFpbC1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi9wYXR0ZXJuL2N1cnNvci5qcyc7XG5pbXBvcnQgJy4vcmVnZXhwLmpzJztcblxuLyoqIERhdGUgbWFzayAqL1xuY2xhc3MgTWFza2VkRGF0ZSBleHRlbmRzIE1hc2tlZFBhdHRlcm4ge1xuICAvKiogUGF0dGVybiBtYXNrIGZvciBkYXRlIGFjY29yZGluZyB0byB7QGxpbmsgTWFza2VkRGF0ZSNmb3JtYXR9ICovXG5cbiAgLyoqIFN0YXJ0IGRhdGUgKi9cblxuICAvKiogRW5kIGRhdGUgKi9cblxuICAvKiogKi9cblxuICAvKipcbiAgICBAcGFyYW0ge09iamVjdH0gb3B0c1xuICAqL1xuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgc3VwZXIoT2JqZWN0LmFzc2lnbih7fSwgTWFza2VkRGF0ZS5ERUZBVUxUUywgb3B0cykpO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIF91cGRhdGUob3B0cykge1xuICAgIGlmIChvcHRzLm1hc2sgPT09IERhdGUpIGRlbGV0ZSBvcHRzLm1hc2s7XG4gICAgaWYgKG9wdHMucGF0dGVybikgb3B0cy5tYXNrID0gb3B0cy5wYXR0ZXJuO1xuICAgIGNvbnN0IGJsb2NrcyA9IG9wdHMuYmxvY2tzO1xuICAgIG9wdHMuYmxvY2tzID0gT2JqZWN0LmFzc2lnbih7fSwgTWFza2VkRGF0ZS5HRVRfREVGQVVMVF9CTE9DS1MoKSk7XG4gICAgLy8gYWRqdXN0IHllYXIgYmxvY2tcbiAgICBpZiAob3B0cy5taW4pIG9wdHMuYmxvY2tzLlkuZnJvbSA9IG9wdHMubWluLmdldEZ1bGxZZWFyKCk7XG4gICAgaWYgKG9wdHMubWF4KSBvcHRzLmJsb2Nrcy5ZLnRvID0gb3B0cy5tYXguZ2V0RnVsbFllYXIoKTtcbiAgICBpZiAob3B0cy5taW4gJiYgb3B0cy5tYXggJiYgb3B0cy5ibG9ja3MuWS5mcm9tID09PSBvcHRzLmJsb2Nrcy5ZLnRvKSB7XG4gICAgICBvcHRzLmJsb2Nrcy5tLmZyb20gPSBvcHRzLm1pbi5nZXRNb250aCgpICsgMTtcbiAgICAgIG9wdHMuYmxvY2tzLm0udG8gPSBvcHRzLm1heC5nZXRNb250aCgpICsgMTtcbiAgICAgIGlmIChvcHRzLmJsb2Nrcy5tLmZyb20gPT09IG9wdHMuYmxvY2tzLm0udG8pIHtcbiAgICAgICAgb3B0cy5ibG9ja3MuZC5mcm9tID0gb3B0cy5taW4uZ2V0RGF0ZSgpO1xuICAgICAgICBvcHRzLmJsb2Nrcy5kLnRvID0gb3B0cy5tYXguZ2V0RGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKG9wdHMuYmxvY2tzLCB0aGlzLmJsb2NrcywgYmxvY2tzKTtcblxuICAgIC8vIGFkZCBhdXRvZml4XG4gICAgT2JqZWN0LmtleXMob3B0cy5ibG9ja3MpLmZvckVhY2goYmsgPT4ge1xuICAgICAgY29uc3QgYiA9IG9wdHMuYmxvY2tzW2JrXTtcbiAgICAgIGlmICghKCdhdXRvZml4JyBpbiBiKSAmJiAnYXV0b2ZpeCcgaW4gb3B0cykgYi5hdXRvZml4ID0gb3B0cy5hdXRvZml4O1xuICAgIH0pO1xuICAgIHN1cGVyLl91cGRhdGUob3B0cyk7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgZG9WYWxpZGF0ZSgpIHtcbiAgICBjb25zdCBkYXRlID0gdGhpcy5kYXRlO1xuICAgIHJldHVybiBzdXBlci5kb1ZhbGlkYXRlKC4uLmFyZ3VtZW50cykgJiYgKCF0aGlzLmlzQ29tcGxldGUgfHwgdGhpcy5pc0RhdGVFeGlzdCh0aGlzLnZhbHVlKSAmJiBkYXRlICE9IG51bGwgJiYgKHRoaXMubWluID09IG51bGwgfHwgdGhpcy5taW4gPD0gZGF0ZSkgJiYgKHRoaXMubWF4ID09IG51bGwgfHwgZGF0ZSA8PSB0aGlzLm1heCkpO1xuICB9XG5cbiAgLyoqIENoZWNrcyBpZiBkYXRlIGlzIGV4aXN0cyAqL1xuICBpc0RhdGVFeGlzdChzdHIpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXQodGhpcy5wYXJzZShzdHIsIHRoaXMpLCB0aGlzKS5pbmRleE9mKHN0cikgPj0gMDtcbiAgfVxuXG4gIC8qKiBQYXJzZWQgRGF0ZSAqL1xuICBnZXQgZGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlZFZhbHVlO1xuICB9XG4gIHNldCBkYXRlKGRhdGUpIHtcbiAgICB0aGlzLnR5cGVkVmFsdWUgPSBkYXRlO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIGdldCB0eXBlZFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLmlzQ29tcGxldGUgPyBzdXBlci50eXBlZFZhbHVlIDogbnVsbDtcbiAgfVxuICBzZXQgdHlwZWRWYWx1ZSh2YWx1ZSkge1xuICAgIHN1cGVyLnR5cGVkVmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBtYXNrRXF1YWxzKG1hc2spIHtcbiAgICByZXR1cm4gbWFzayA9PT0gRGF0ZSB8fCBzdXBlci5tYXNrRXF1YWxzKG1hc2spO1xuICB9XG59XG5NYXNrZWREYXRlLkRFRkFVTFRTID0ge1xuICBwYXR0ZXJuOiAnZHsufWBtey59YFknLFxuICBmb3JtYXQ6IGRhdGUgPT4ge1xuICAgIGlmICghZGF0ZSkgcmV0dXJuICcnO1xuICAgIGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgcmV0dXJuIFtkYXksIG1vbnRoLCB5ZWFyXS5qb2luKCcuJyk7XG4gIH0sXG4gIHBhcnNlOiBzdHIgPT4ge1xuICAgIGNvbnN0IFtkYXksIG1vbnRoLCB5ZWFyXSA9IHN0ci5zcGxpdCgnLicpO1xuICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSk7XG4gIH1cbn07XG5NYXNrZWREYXRlLkdFVF9ERUZBVUxUX0JMT0NLUyA9ICgpID0+ICh7XG4gIGQ6IHtcbiAgICBtYXNrOiBNYXNrZWRSYW5nZSxcbiAgICBmcm9tOiAxLFxuICAgIHRvOiAzMSxcbiAgICBtYXhMZW5ndGg6IDJcbiAgfSxcbiAgbToge1xuICAgIG1hc2s6IE1hc2tlZFJhbmdlLFxuICAgIGZyb206IDEsXG4gICAgdG86IDEyLFxuICAgIG1heExlbmd0aDogMlxuICB9LFxuICBZOiB7XG4gICAgbWFzazogTWFza2VkUmFuZ2UsXG4gICAgZnJvbTogMTkwMCxcbiAgICB0bzogOTk5OVxuICB9XG59KTtcbklNYXNrLk1hc2tlZERhdGUgPSBNYXNrZWREYXRlO1xuXG5leHBvcnQgeyBNYXNrZWREYXRlIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IF8gYXMgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgfSBmcm9tICcuLi9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLTZiM2JkNDA0LmpzJztcbmltcG9ydCB7IERJUkVDVElPTiwgbm9ybWFsaXplUHJlcGFyZSwgb2JqZWN0SW5jbHVkZXMgfSBmcm9tICcuLi9jb3JlL3V0aWxzLmpzJztcbmltcG9ydCBDaGFuZ2VEZXRhaWxzIGZyb20gJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0IGNyZWF0ZU1hc2sgZnJvbSAnLi9mYWN0b3J5LmpzJztcbmltcG9ydCBNYXNrZWQgZnJvbSAnLi9iYXNlLmpzJztcbmltcG9ydCBJTWFzayBmcm9tICcuLi9jb3JlL2hvbGRlci5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMnO1xuXG5jb25zdCBfZXhjbHVkZWQgPSBbXCJjb21waWxlZE1hc2tzXCIsIFwiY3VycmVudE1hc2tSZWZcIiwgXCJjdXJyZW50TWFza1wiXSxcbiAgX2V4Y2x1ZGVkMiA9IFtcIm1hc2tcIl07XG4vKiogRHluYW1pYyBtYXNrIGZvciBjaG9vc2luZyBhcHJvcHJpYXRlIG1hc2sgaW4gcnVuLXRpbWUgKi9cbmNsYXNzIE1hc2tlZER5bmFtaWMgZXh0ZW5kcyBNYXNrZWQge1xuICAvKiogQ3VycmVudGx5IGNob3NlbiBtYXNrICovXG5cbiAgLyoqIENvbXBsaWxlZCB7QGxpbmsgTWFza2VkfSBvcHRpb25zICovXG5cbiAgLyoqIENob29zZXMge0BsaW5rIE1hc2tlZH0gZGVwZW5kaW5nIG9uIGlucHV0IHZhbHVlICovXG5cbiAgLyoqXG4gICAgQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAgKi9cbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHN1cGVyKE9iamVjdC5hc3NpZ24oe30sIE1hc2tlZER5bmFtaWMuREVGQVVMVFMsIG9wdHMpKTtcbiAgICB0aGlzLmN1cnJlbnRNYXNrID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBfdXBkYXRlKG9wdHMpIHtcbiAgICBzdXBlci5fdXBkYXRlKG9wdHMpO1xuICAgIGlmICgnbWFzaycgaW4gb3B0cykge1xuICAgICAgLy8gbWFzayBjb3VsZCBiZSB0b3RhbGx5IGR5bmFtaWMgd2l0aCBvbmx5IGBkaXNwYXRjaGAgb3B0aW9uXG4gICAgICB0aGlzLmNvbXBpbGVkTWFza3MgPSBBcnJheS5pc0FycmF5KG9wdHMubWFzaykgPyBvcHRzLm1hc2subWFwKG0gPT4gY3JlYXRlTWFzayhtKSkgOiBbXTtcblxuICAgICAgLy8gdGhpcy5jdXJyZW50TWFzayA9IHRoaXMuZG9EaXNwYXRjaCgnJyk7IC8vIHByb2JhYmx5IG5vdCBuZWVkZWQgYnV0IGxldHMgc2VlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIF9hcHBlbmRDaGFyUmF3KGNoKSB7XG4gICAgbGV0IGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBjb25zdCBkZXRhaWxzID0gdGhpcy5fYXBwbHlEaXNwYXRjaChjaCwgZmxhZ3MpO1xuICAgIGlmICh0aGlzLmN1cnJlbnRNYXNrKSB7XG4gICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZSh0aGlzLmN1cnJlbnRNYXNrLl9hcHBlbmRDaGFyKGNoLCB0aGlzLmN1cnJlbnRNYXNrRmxhZ3MoZmxhZ3MpKSk7XG4gICAgfVxuICAgIHJldHVybiBkZXRhaWxzO1xuICB9XG4gIF9hcHBseURpc3BhdGNoKCkge1xuICAgIGxldCBhcHBlbmRlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgbGV0IGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBsZXQgdGFpbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJyc7XG4gICAgY29uc3QgcHJldlZhbHVlQmVmb3JlVGFpbCA9IGZsYWdzLnRhaWwgJiYgZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZSAhPSBudWxsID8gZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZS5fdmFsdWUgOiB0aGlzLnZhbHVlO1xuICAgIGNvbnN0IGlucHV0VmFsdWUgPSB0aGlzLnJhd0lucHV0VmFsdWU7XG4gICAgY29uc3QgaW5zZXJ0VmFsdWUgPSBmbGFncy50YWlsICYmIGZsYWdzLl9iZWZvcmVUYWlsU3RhdGUgIT0gbnVsbCA/XG4gICAgLy8gJEZsb3dGaXhNZSAtIHRpcmVkIHRvIGZpZ2h0IHdpdGggdHlwZSBzeXN0ZW1cbiAgICBmbGFncy5fYmVmb3JlVGFpbFN0YXRlLl9yYXdJbnB1dFZhbHVlIDogaW5wdXRWYWx1ZTtcbiAgICBjb25zdCB0YWlsVmFsdWUgPSBpbnB1dFZhbHVlLnNsaWNlKGluc2VydFZhbHVlLmxlbmd0aCk7XG4gICAgY29uc3QgcHJldk1hc2sgPSB0aGlzLmN1cnJlbnRNYXNrO1xuICAgIGNvbnN0IGRldGFpbHMgPSBuZXcgQ2hhbmdlRGV0YWlscygpO1xuICAgIGNvbnN0IHByZXZNYXNrU3RhdGUgPSBwcmV2TWFzayA9PT0gbnVsbCB8fCBwcmV2TWFzayA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJldk1hc2suc3RhdGU7XG5cbiAgICAvLyBjbG9uZSBmbGFncyB0byBwcmV2ZW50IG92ZXJ3cml0aW5nIGBfYmVmb3JlVGFpbFN0YXRlYFxuICAgIHRoaXMuY3VycmVudE1hc2sgPSB0aGlzLmRvRGlzcGF0Y2goYXBwZW5kZWQsIE9iamVjdC5hc3NpZ24oe30sIGZsYWdzKSwgdGFpbCk7XG5cbiAgICAvLyByZXN0b3JlIHN0YXRlIGFmdGVyIGRpc3BhdGNoXG4gICAgaWYgKHRoaXMuY3VycmVudE1hc2spIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRNYXNrICE9PSBwcmV2TWFzaykge1xuICAgICAgICAvLyBpZiBtYXNrIGNoYW5nZWQgcmVhcHBseSBpbnB1dFxuICAgICAgICB0aGlzLmN1cnJlbnRNYXNrLnJlc2V0KCk7XG4gICAgICAgIGlmIChpbnNlcnRWYWx1ZSkge1xuICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBpdCdzIG9rLCB3ZSBkb24ndCBjaGFuZ2UgY3VycmVudCBtYXNrIGFib3ZlXG4gICAgICAgICAgY29uc3QgZCA9IHRoaXMuY3VycmVudE1hc2suYXBwZW5kKGluc2VydFZhbHVlLCB7XG4gICAgICAgICAgICByYXc6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkZXRhaWxzLnRhaWxTaGlmdCA9IGQuaW5zZXJ0ZWQubGVuZ3RoIC0gcHJldlZhbHVlQmVmb3JlVGFpbC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhaWxWYWx1ZSkge1xuICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBpdCdzIG9rLCB3ZSBkb24ndCBjaGFuZ2UgY3VycmVudCBtYXNrIGFib3ZlXG4gICAgICAgICAgZGV0YWlscy50YWlsU2hpZnQgKz0gdGhpcy5jdXJyZW50TWFzay5hcHBlbmQodGFpbFZhbHVlLCB7XG4gICAgICAgICAgICByYXc6IHRydWUsXG4gICAgICAgICAgICB0YWlsOiB0cnVlXG4gICAgICAgICAgfSkudGFpbFNoaWZ0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBEaXNwYXRjaCBjYW4gZG8gc29tZXRoaW5nIGJhZCB3aXRoIHN0YXRlLCBzb1xuICAgICAgICAvLyByZXN0b3JlIHByZXYgbWFzayBzdGF0ZVxuICAgICAgICB0aGlzLmN1cnJlbnRNYXNrLnN0YXRlID0gcHJldk1hc2tTdGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRldGFpbHM7XG4gIH1cbiAgX2FwcGVuZFBsYWNlaG9sZGVyKCkge1xuICAgIGNvbnN0IGRldGFpbHMgPSB0aGlzLl9hcHBseURpc3BhdGNoKC4uLmFyZ3VtZW50cyk7XG4gICAgaWYgKHRoaXMuY3VycmVudE1hc2spIHtcbiAgICAgIGRldGFpbHMuYWdncmVnYXRlKHRoaXMuY3VycmVudE1hc2suX2FwcGVuZFBsYWNlaG9sZGVyKCkpO1xuICAgIH1cbiAgICByZXR1cm4gZGV0YWlscztcbiAgfVxuXG4gIC8qKlxuICAgQG92ZXJyaWRlXG4gICovXG4gIF9hcHBlbmRFYWdlcigpIHtcbiAgICBjb25zdCBkZXRhaWxzID0gdGhpcy5fYXBwbHlEaXNwYXRjaCguLi5hcmd1bWVudHMpO1xuICAgIGlmICh0aGlzLmN1cnJlbnRNYXNrKSB7XG4gICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZSh0aGlzLmN1cnJlbnRNYXNrLl9hcHBlbmRFYWdlcigpKTtcbiAgICB9XG4gICAgcmV0dXJuIGRldGFpbHM7XG4gIH1cbiAgYXBwZW5kVGFpbCh0YWlsKSB7XG4gICAgY29uc3QgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgaWYgKHRhaWwpIGRldGFpbHMuYWdncmVnYXRlKHRoaXMuX2FwcGx5RGlzcGF0Y2goJycsIHt9LCB0YWlsKSk7XG4gICAgcmV0dXJuIGRldGFpbHMuYWdncmVnYXRlKHRoaXMuY3VycmVudE1hc2sgPyB0aGlzLmN1cnJlbnRNYXNrLmFwcGVuZFRhaWwodGFpbCkgOiBzdXBlci5hcHBlbmRUYWlsKHRhaWwpKTtcbiAgfVxuICBjdXJyZW50TWFza0ZsYWdzKGZsYWdzKSB7XG4gICAgdmFyIF9mbGFncyRfYmVmb3JlVGFpbFN0YSwgX2ZsYWdzJF9iZWZvcmVUYWlsU3RhMjtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZmxhZ3MsIHtcbiAgICAgIF9iZWZvcmVUYWlsU3RhdGU6ICgoX2ZsYWdzJF9iZWZvcmVUYWlsU3RhID0gZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZSkgPT09IG51bGwgfHwgX2ZsYWdzJF9iZWZvcmVUYWlsU3RhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZmxhZ3MkX2JlZm9yZVRhaWxTdGEuY3VycmVudE1hc2tSZWYpID09PSB0aGlzLmN1cnJlbnRNYXNrICYmICgoX2ZsYWdzJF9iZWZvcmVUYWlsU3RhMiA9IGZsYWdzLl9iZWZvcmVUYWlsU3RhdGUpID09PSBudWxsIHx8IF9mbGFncyRfYmVmb3JlVGFpbFN0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mbGFncyRfYmVmb3JlVGFpbFN0YTIuY3VycmVudE1hc2spIHx8IGZsYWdzLl9iZWZvcmVUYWlsU3RhdGVcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBkb0Rpc3BhdGNoKGFwcGVuZGVkKSB7XG4gICAgbGV0IGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBsZXQgdGFpbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJyc7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goYXBwZW5kZWQsIHRoaXMsIGZsYWdzLCB0YWlsKTtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBkb1ZhbGlkYXRlKGZsYWdzKSB7XG4gICAgcmV0dXJuIHN1cGVyLmRvVmFsaWRhdGUoZmxhZ3MpICYmICghdGhpcy5jdXJyZW50TWFzayB8fCB0aGlzLmN1cnJlbnRNYXNrLmRvVmFsaWRhdGUodGhpcy5jdXJyZW50TWFza0ZsYWdzKGZsYWdzKSkpO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIGRvUHJlcGFyZShzdHIpIHtcbiAgICBsZXQgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGxldCBbcywgZGV0YWlsc10gPSBub3JtYWxpemVQcmVwYXJlKHN1cGVyLmRvUHJlcGFyZShzdHIsIGZsYWdzKSk7XG4gICAgaWYgKHRoaXMuY3VycmVudE1hc2spIHtcbiAgICAgIGxldCBjdXJyZW50RGV0YWlscztcbiAgICAgIFtzLCBjdXJyZW50RGV0YWlsc10gPSBub3JtYWxpemVQcmVwYXJlKHN1cGVyLmRvUHJlcGFyZShzLCB0aGlzLmN1cnJlbnRNYXNrRmxhZ3MoZmxhZ3MpKSk7XG4gICAgICBkZXRhaWxzID0gZGV0YWlscy5hZ2dyZWdhdGUoY3VycmVudERldGFpbHMpO1xuICAgIH1cbiAgICByZXR1cm4gW3MsIGRldGFpbHNdO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIHJlc2V0KCkge1xuICAgIHZhciBfdGhpcyRjdXJyZW50TWFzaztcbiAgICAoX3RoaXMkY3VycmVudE1hc2sgPSB0aGlzLmN1cnJlbnRNYXNrKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50TWFzayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY3VycmVudE1hc2sucmVzZXQoKTtcbiAgICB0aGlzLmNvbXBpbGVkTWFza3MuZm9yRWFjaChtID0+IG0ucmVzZXQoKSk7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gdGhpcy5jdXJyZW50TWFzay52YWx1ZSA6ICcnO1xuICB9XG4gIHNldCB2YWx1ZSh2YWx1ZSkge1xuICAgIHN1cGVyLnZhbHVlID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgZ2V0IHVubWFza2VkVmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudE1hc2sgPyB0aGlzLmN1cnJlbnRNYXNrLnVubWFza2VkVmFsdWUgOiAnJztcbiAgfVxuICBzZXQgdW5tYXNrZWRWYWx1ZSh1bm1hc2tlZFZhbHVlKSB7XG4gICAgc3VwZXIudW5tYXNrZWRWYWx1ZSA9IHVubWFza2VkVmFsdWU7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgZ2V0IHR5cGVkVmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudE1hc2sgPyB0aGlzLmN1cnJlbnRNYXNrLnR5cGVkVmFsdWUgOiAnJztcbiAgfVxuXG4gIC8vIHByb2JhYmx5IHR5cGVkVmFsdWUgc2hvdWxkIG5vdCBiZSB1c2VkIHdpdGggZHluYW1pY1xuICBzZXQgdHlwZWRWYWx1ZSh2YWx1ZSkge1xuICAgIGxldCB1bm1hc2tlZFZhbHVlID0gU3RyaW5nKHZhbHVlKTtcblxuICAgIC8vIGRvdWJsZSBjaGVjayBpdFxuICAgIGlmICh0aGlzLmN1cnJlbnRNYXNrKSB7XG4gICAgICB0aGlzLmN1cnJlbnRNYXNrLnR5cGVkVmFsdWUgPSB2YWx1ZTtcbiAgICAgIHVubWFza2VkVmFsdWUgPSB0aGlzLmN1cnJlbnRNYXNrLnVubWFza2VkVmFsdWU7XG4gICAgfVxuICAgIHRoaXMudW5tYXNrZWRWYWx1ZSA9IHVubWFza2VkVmFsdWU7XG4gIH1cbiAgZ2V0IGRpc3BsYXlWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50TWFzayA/IHRoaXMuY3VycmVudE1hc2suZGlzcGxheVZhbHVlIDogJyc7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgZ2V0IGlzQ29tcGxldGUoKSB7XG4gICAgdmFyIF90aGlzJGN1cnJlbnRNYXNrMjtcbiAgICByZXR1cm4gQm9vbGVhbigoX3RoaXMkY3VycmVudE1hc2syID0gdGhpcy5jdXJyZW50TWFzaykgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudE1hc2syID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50TWFzazIuaXNDb21wbGV0ZSk7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgZ2V0IGlzRmlsbGVkKCkge1xuICAgIHZhciBfdGhpcyRjdXJyZW50TWFzazM7XG4gICAgcmV0dXJuIEJvb2xlYW4oKF90aGlzJGN1cnJlbnRNYXNrMyA9IHRoaXMuY3VycmVudE1hc2spID09PSBudWxsIHx8IF90aGlzJGN1cnJlbnRNYXNrMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY3VycmVudE1hc2szLmlzRmlsbGVkKTtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICByZW1vdmUoKSB7XG4gICAgY29uc3QgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgaWYgKHRoaXMuY3VycmVudE1hc2spIHtcbiAgICAgIGRldGFpbHMuYWdncmVnYXRlKHRoaXMuY3VycmVudE1hc2sucmVtb3ZlKC4uLmFyZ3VtZW50cykpXG4gICAgICAvLyB1cGRhdGUgd2l0aCBkaXNwYXRjaFxuICAgICAgLmFnZ3JlZ2F0ZSh0aGlzLl9hcHBseURpc3BhdGNoKCkpO1xuICAgIH1cbiAgICByZXR1cm4gZGV0YWlscztcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBnZXQgc3RhdGUoKSB7XG4gICAgdmFyIF90aGlzJGN1cnJlbnRNYXNrNDtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3VwZXIuc3RhdGUsIHtcbiAgICAgIF9yYXdJbnB1dFZhbHVlOiB0aGlzLnJhd0lucHV0VmFsdWUsXG4gICAgICBjb21waWxlZE1hc2tzOiB0aGlzLmNvbXBpbGVkTWFza3MubWFwKG0gPT4gbS5zdGF0ZSksXG4gICAgICBjdXJyZW50TWFza1JlZjogdGhpcy5jdXJyZW50TWFzayxcbiAgICAgIGN1cnJlbnRNYXNrOiAoX3RoaXMkY3VycmVudE1hc2s0ID0gdGhpcy5jdXJyZW50TWFzaykgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudE1hc2s0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50TWFzazQuc3RhdGVcbiAgICB9KTtcbiAgfVxuICBzZXQgc3RhdGUoc3RhdGUpIHtcbiAgICBjb25zdCB7XG4gICAgICAgIGNvbXBpbGVkTWFza3MsXG4gICAgICAgIGN1cnJlbnRNYXNrUmVmLFxuICAgICAgICBjdXJyZW50TWFza1xuICAgICAgfSA9IHN0YXRlLFxuICAgICAgbWFza2VkU3RhdGUgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzdGF0ZSwgX2V4Y2x1ZGVkKTtcbiAgICB0aGlzLmNvbXBpbGVkTWFza3MuZm9yRWFjaCgobSwgbWkpID0+IG0uc3RhdGUgPSBjb21waWxlZE1hc2tzW21pXSk7XG4gICAgaWYgKGN1cnJlbnRNYXNrUmVmICE9IG51bGwpIHtcbiAgICAgIHRoaXMuY3VycmVudE1hc2sgPSBjdXJyZW50TWFza1JlZjtcbiAgICAgIHRoaXMuY3VycmVudE1hc2suc3RhdGUgPSBjdXJyZW50TWFzaztcbiAgICB9XG4gICAgc3VwZXIuc3RhdGUgPSBtYXNrZWRTdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBleHRyYWN0SW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudE1hc2sgPyB0aGlzLmN1cnJlbnRNYXNrLmV4dHJhY3RJbnB1dCguLi5hcmd1bWVudHMpIDogJyc7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgZXh0cmFjdFRhaWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudE1hc2sgPyB0aGlzLmN1cnJlbnRNYXNrLmV4dHJhY3RUYWlsKC4uLmFyZ3VtZW50cykgOiBzdXBlci5leHRyYWN0VGFpbCguLi5hcmd1bWVudHMpO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIGRvQ29tbWl0KCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRNYXNrKSB0aGlzLmN1cnJlbnRNYXNrLmRvQ29tbWl0KCk7XG4gICAgc3VwZXIuZG9Db21taXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBuZWFyZXN0SW5wdXRQb3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudE1hc2sgPyB0aGlzLmN1cnJlbnRNYXNrLm5lYXJlc3RJbnB1dFBvcyguLi5hcmd1bWVudHMpIDogc3VwZXIubmVhcmVzdElucHV0UG9zKC4uLmFyZ3VtZW50cyk7XG4gIH1cbiAgZ2V0IG92ZXJ3cml0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50TWFzayA/IHRoaXMuY3VycmVudE1hc2sub3ZlcndyaXRlIDogc3VwZXIub3ZlcndyaXRlO1xuICB9XG4gIHNldCBvdmVyd3JpdGUob3ZlcndyaXRlKSB7XG4gICAgY29uc29sZS53YXJuKCdcIm92ZXJ3cml0ZVwiIG9wdGlvbiBpcyBub3QgYXZhaWxhYmxlIGluIGR5bmFtaWMgbWFzaywgdXNlIHRoaXMgb3B0aW9uIGluIHNpYmxpbmdzJyk7XG4gIH1cbiAgZ2V0IGVhZ2VyKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gdGhpcy5jdXJyZW50TWFzay5lYWdlciA6IHN1cGVyLmVhZ2VyO1xuICB9XG4gIHNldCBlYWdlcihlYWdlcikge1xuICAgIGNvbnNvbGUud2FybignXCJlYWdlclwiIG9wdGlvbiBpcyBub3QgYXZhaWxhYmxlIGluIGR5bmFtaWMgbWFzaywgdXNlIHRoaXMgb3B0aW9uIGluIHNpYmxpbmdzJyk7XG4gIH1cbiAgZ2V0IHNraXBJbnZhbGlkKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gdGhpcy5jdXJyZW50TWFzay5za2lwSW52YWxpZCA6IHN1cGVyLnNraXBJbnZhbGlkO1xuICB9XG4gIHNldCBza2lwSW52YWxpZChza2lwSW52YWxpZCkge1xuICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQgfHwgc2tpcEludmFsaWQgIT09IE1hc2tlZC5ERUZBVUxUUy5za2lwSW52YWxpZCkge1xuICAgICAgY29uc29sZS53YXJuKCdcInNraXBJbnZhbGlkXCIgb3B0aW9uIGlzIG5vdCBhdmFpbGFibGUgaW4gZHluYW1pYyBtYXNrLCB1c2UgdGhpcyBvcHRpb24gaW4gc2libGluZ3MnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgbWFza0VxdWFscyhtYXNrKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkobWFzaykgJiYgdGhpcy5jb21waWxlZE1hc2tzLmV2ZXJ5KChtLCBtaSkgPT4ge1xuICAgICAgaWYgKCFtYXNrW21pXSkgcmV0dXJuO1xuICAgICAgY29uc3QgX21hc2skbWkgPSBtYXNrW21pXSxcbiAgICAgICAge1xuICAgICAgICAgIG1hc2s6IG9sZE1hc2tcbiAgICAgICAgfSA9IF9tYXNrJG1pLFxuICAgICAgICByZXN0T3B0cyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9tYXNrJG1pLCBfZXhjbHVkZWQyKTtcbiAgICAgIHJldHVybiBvYmplY3RJbmNsdWRlcyhtLCByZXN0T3B0cykgJiYgbS5tYXNrRXF1YWxzKG9sZE1hc2spO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIHR5cGVkVmFsdWVFcXVhbHModmFsdWUpIHtcbiAgICB2YXIgX3RoaXMkY3VycmVudE1hc2s1O1xuICAgIHJldHVybiBCb29sZWFuKChfdGhpcyRjdXJyZW50TWFzazUgPSB0aGlzLmN1cnJlbnRNYXNrKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50TWFzazUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRNYXNrNS50eXBlZFZhbHVlRXF1YWxzKHZhbHVlKSk7XG4gIH1cbn1cbk1hc2tlZER5bmFtaWMuREVGQVVMVFMgPSB7XG4gIGRpc3BhdGNoOiAoYXBwZW5kZWQsIG1hc2tlZCwgZmxhZ3MsIHRhaWwpID0+IHtcbiAgICBpZiAoIW1hc2tlZC5jb21waWxlZE1hc2tzLmxlbmd0aCkgcmV0dXJuO1xuICAgIGNvbnN0IGlucHV0VmFsdWUgPSBtYXNrZWQucmF3SW5wdXRWYWx1ZTtcblxuICAgIC8vIHNpbXVsYXRlIGlucHV0XG4gICAgY29uc3QgaW5wdXRzID0gbWFza2VkLmNvbXBpbGVkTWFza3MubWFwKChtLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgaXNDdXJyZW50ID0gbWFza2VkLmN1cnJlbnRNYXNrID09PSBtO1xuICAgICAgY29uc3Qgc3RhcnRJbnB1dFBvcyA9IGlzQ3VycmVudCA/IG0udmFsdWUubGVuZ3RoIDogbS5uZWFyZXN0SW5wdXRQb3MobS52YWx1ZS5sZW5ndGgsIERJUkVDVElPTi5GT1JDRV9MRUZUKTtcbiAgICAgIGlmIChtLnJhd0lucHV0VmFsdWUgIT09IGlucHV0VmFsdWUpIHtcbiAgICAgICAgbS5yZXNldCgpO1xuICAgICAgICBtLmFwcGVuZChpbnB1dFZhbHVlLCB7XG4gICAgICAgICAgcmF3OiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICghaXNDdXJyZW50KSB7XG4gICAgICAgIG0ucmVtb3ZlKHN0YXJ0SW5wdXRQb3MpO1xuICAgICAgfVxuICAgICAgbS5hcHBlbmQoYXBwZW5kZWQsIG1hc2tlZC5jdXJyZW50TWFza0ZsYWdzKGZsYWdzKSk7XG4gICAgICBtLmFwcGVuZFRhaWwodGFpbCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbmRleCxcbiAgICAgICAgd2VpZ2h0OiBtLnJhd0lucHV0VmFsdWUubGVuZ3RoLFxuICAgICAgICB0b3RhbElucHV0UG9zaXRpb25zOiBtLnRvdGFsSW5wdXRQb3NpdGlvbnMoMCwgTWF0aC5tYXgoc3RhcnRJbnB1dFBvcywgbS5uZWFyZXN0SW5wdXRQb3MobS52YWx1ZS5sZW5ndGgsIERJUkVDVElPTi5GT1JDRV9MRUZUKSkpXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gcG9wIG1hc2tzIHdpdGggbG9uZ2VyIHZhbHVlcyBmaXJzdFxuICAgIGlucHV0cy5zb3J0KChpMSwgaTIpID0+IGkyLndlaWdodCAtIGkxLndlaWdodCB8fCBpMi50b3RhbElucHV0UG9zaXRpb25zIC0gaTEudG90YWxJbnB1dFBvc2l0aW9ucyk7XG4gICAgcmV0dXJuIG1hc2tlZC5jb21waWxlZE1hc2tzW2lucHV0c1swXS5pbmRleF07XG4gIH1cbn07XG5JTWFzay5NYXNrZWREeW5hbWljID0gTWFza2VkRHluYW1pYztcblxuZXhwb3J0IHsgTWFza2VkRHluYW1pYyBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgTWFza2VkUGF0dGVybiBmcm9tICcuL3BhdHRlcm4uanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi4vX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy02YjNiZDQwNC5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0ICcuLi9jb3JlL2NoYW5nZS1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi9iYXNlLmpzJztcbmltcG9ydCAnLi4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4vcGF0dGVybi9pbnB1dC1kZWZpbml0aW9uLmpzJztcbmltcG9ydCAnLi9mYWN0b3J5LmpzJztcbmltcG9ydCAnLi9wYXR0ZXJuL2ZpeGVkLWRlZmluaXRpb24uanMnO1xuaW1wb3J0ICcuL3BhdHRlcm4vY2h1bmstdGFpbC1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi9wYXR0ZXJuL2N1cnNvci5qcyc7XG5pbXBvcnQgJy4vcmVnZXhwLmpzJztcblxuLyoqIFBhdHRlcm4gd2hpY2ggdmFsaWRhdGVzIGVudW0gdmFsdWVzICovXG5jbGFzcyBNYXNrZWRFbnVtIGV4dGVuZHMgTWFza2VkUGF0dGVybiB7XG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAgIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gICovXG4gIF91cGRhdGUob3B0cykge1xuICAgIC8vIFRPRE8gdHlwZVxuICAgIGlmIChvcHRzLmVudW0pIG9wdHMubWFzayA9ICcqJy5yZXBlYXQob3B0cy5lbnVtWzBdLmxlbmd0aCk7XG4gICAgc3VwZXIuX3VwZGF0ZShvcHRzKTtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBkb1ZhbGlkYXRlKCkge1xuICAgIHJldHVybiB0aGlzLmVudW0uc29tZShlID0+IGUuaW5kZXhPZih0aGlzLnVubWFza2VkVmFsdWUpID49IDApICYmIHN1cGVyLmRvVmFsaWRhdGUoLi4uYXJndW1lbnRzKTtcbiAgfVxufVxuSU1hc2suTWFza2VkRW51bSA9IE1hc2tlZEVudW07XG5cbmV4cG9ydCB7IE1hc2tlZEVudW0gYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tICcuLi9jb3JlL3V0aWxzLmpzJztcbmltcG9ydCBJTWFzayBmcm9tICcuLi9jb3JlL2hvbGRlci5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuXG4vKiogR2V0IE1hc2tlZCBjbGFzcyBieSBtYXNrIHR5cGUgKi9cbmZ1bmN0aW9uIG1hc2tlZENsYXNzKG1hc2spIHtcbiAgaWYgKG1hc2sgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWFzayBwcm9wZXJ0eSBzaG91bGQgYmUgZGVmaW5lZCcpO1xuICB9XG5cbiAgLy8gJEZsb3dGaXhNZVxuICBpZiAobWFzayBpbnN0YW5jZW9mIFJlZ0V4cCkgcmV0dXJuIElNYXNrLk1hc2tlZFJlZ0V4cDtcbiAgLy8gJEZsb3dGaXhNZVxuICBpZiAoaXNTdHJpbmcobWFzaykpIHJldHVybiBJTWFzay5NYXNrZWRQYXR0ZXJuO1xuICAvLyAkRmxvd0ZpeE1lXG4gIGlmIChtYXNrIGluc3RhbmNlb2YgRGF0ZSB8fCBtYXNrID09PSBEYXRlKSByZXR1cm4gSU1hc2suTWFza2VkRGF0ZTtcbiAgLy8gJEZsb3dGaXhNZVxuICBpZiAobWFzayBpbnN0YW5jZW9mIE51bWJlciB8fCB0eXBlb2YgbWFzayA9PT0gJ251bWJlcicgfHwgbWFzayA9PT0gTnVtYmVyKSByZXR1cm4gSU1hc2suTWFza2VkTnVtYmVyO1xuICAvLyAkRmxvd0ZpeE1lXG4gIGlmIChBcnJheS5pc0FycmF5KG1hc2spIHx8IG1hc2sgPT09IEFycmF5KSByZXR1cm4gSU1hc2suTWFza2VkRHluYW1pYztcbiAgLy8gJEZsb3dGaXhNZVxuICBpZiAoSU1hc2suTWFza2VkICYmIG1hc2sucHJvdG90eXBlIGluc3RhbmNlb2YgSU1hc2suTWFza2VkKSByZXR1cm4gbWFzaztcbiAgLy8gJEZsb3dGaXhNZVxuICBpZiAobWFzayBpbnN0YW5jZW9mIElNYXNrLk1hc2tlZCkgcmV0dXJuIG1hc2suY29uc3RydWN0b3I7XG4gIC8vICRGbG93Rml4TWVcbiAgaWYgKG1hc2sgaW5zdGFuY2VvZiBGdW5jdGlvbikgcmV0dXJuIElNYXNrLk1hc2tlZEZ1bmN0aW9uO1xuICBjb25zb2xlLndhcm4oJ01hc2sgbm90IGZvdW5kIGZvciBtYXNrJywgbWFzayk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAvLyAkRmxvd0ZpeE1lXG4gIHJldHVybiBJTWFzay5NYXNrZWQ7XG59XG5cbi8qKiBDcmVhdGVzIG5ldyB7QGxpbmsgTWFza2VkfSBkZXBlbmRpbmcgb24gbWFzayB0eXBlICovXG5mdW5jdGlvbiBjcmVhdGVNYXNrKG9wdHMpIHtcbiAgLy8gJEZsb3dGaXhNZVxuICBpZiAoSU1hc2suTWFza2VkICYmIG9wdHMgaW5zdGFuY2VvZiBJTWFzay5NYXNrZWQpIHJldHVybiBvcHRzO1xuICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cyk7XG4gIGNvbnN0IG1hc2sgPSBvcHRzLm1hc2s7XG5cbiAgLy8gJEZsb3dGaXhNZVxuICBpZiAoSU1hc2suTWFza2VkICYmIG1hc2sgaW5zdGFuY2VvZiBJTWFzay5NYXNrZWQpIHJldHVybiBtYXNrO1xuICBjb25zdCBNYXNrZWRDbGFzcyA9IG1hc2tlZENsYXNzKG1hc2spO1xuICBpZiAoIU1hc2tlZENsYXNzKSB0aHJvdyBuZXcgRXJyb3IoJ01hc2tlZCBjbGFzcyBpcyBub3QgZm91bmQgZm9yIHByb3ZpZGVkIG1hc2ssIGFwcHJvcHJpYXRlIG1vZHVsZSBuZWVkcyB0byBiZSBpbXBvcnQgbWFudWFsbHkgYmVmb3JlIGNyZWF0aW5nIG1hc2suJyk7XG4gIHJldHVybiBuZXcgTWFza2VkQ2xhc3Mob3B0cyk7XG59XG5JTWFzay5jcmVhdGVNYXNrID0gY3JlYXRlTWFzaztcblxuZXhwb3J0IHsgY3JlYXRlTWFzayBhcyBkZWZhdWx0LCBtYXNrZWRDbGFzcyB9O1xuIiwiaW1wb3J0IE1hc2tlZCBmcm9tICcuL2Jhc2UuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi4vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuLi9jb3JlL3V0aWxzLmpzJztcblxuLyoqIE1hc2tpbmcgYnkgY3VzdG9tIEZ1bmN0aW9uICovXG5jbGFzcyBNYXNrZWRGdW5jdGlvbiBleHRlbmRzIE1hc2tlZCB7XG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAgIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gICovXG4gIF91cGRhdGUob3B0cykge1xuICAgIGlmIChvcHRzLm1hc2spIG9wdHMudmFsaWRhdGUgPSBvcHRzLm1hc2s7XG4gICAgc3VwZXIuX3VwZGF0ZShvcHRzKTtcbiAgfVxufVxuSU1hc2suTWFza2VkRnVuY3Rpb24gPSBNYXNrZWRGdW5jdGlvbjtcblxuZXhwb3J0IHsgTWFza2VkRnVuY3Rpb24gYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgZXNjYXBlUmVnRXhwLCBub3JtYWxpemVQcmVwYXJlLCBESVJFQ1RJT04gfSBmcm9tICcuLi9jb3JlL3V0aWxzLmpzJztcbmltcG9ydCBDaGFuZ2VEZXRhaWxzIGZyb20gJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0IE1hc2tlZCBmcm9tICcuL2Jhc2UuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5cbi8qKlxuICBOdW1iZXIgbWFza1xuICBAcGFyYW0ge09iamVjdH0gb3B0c1xuICBAcGFyYW0ge3N0cmluZ30gb3B0cy5yYWRpeCAtIFNpbmdsZSBjaGFyXG4gIEBwYXJhbSB7c3RyaW5nfSBvcHRzLnRob3VzYW5kc1NlcGFyYXRvciAtIFNpbmdsZSBjaGFyXG4gIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gb3B0cy5tYXBUb1JhZGl4IC0gQXJyYXkgb2Ygc2luZ2xlIGNoYXJzXG4gIEBwYXJhbSB7bnVtYmVyfSBvcHRzLm1pblxuICBAcGFyYW0ge251bWJlcn0gb3B0cy5tYXhcbiAgQHBhcmFtIHtudW1iZXJ9IG9wdHMuc2NhbGUgLSBEaWdpdHMgYWZ0ZXIgcG9pbnRcbiAgQHBhcmFtIHtib29sZWFufSBvcHRzLnNpZ25lZCAtIEFsbG93IG5lZ2F0aXZlXG4gIEBwYXJhbSB7Ym9vbGVhbn0gb3B0cy5ub3JtYWxpemVaZXJvcyAtIEZsYWcgdG8gcmVtb3ZlIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHplcm9zIGluIHRoZSBlbmQgb2YgZWRpdGluZ1xuICBAcGFyYW0ge2Jvb2xlYW59IG9wdHMucGFkRnJhY3Rpb25hbFplcm9zIC0gRmxhZyB0byBwYWQgdHJhaWxpbmcgemVyb3MgYWZ0ZXIgcG9pbnQgaW4gdGhlIGVuZCBvZiBlZGl0aW5nXG4qL1xuY2xhc3MgTWFza2VkTnVtYmVyIGV4dGVuZHMgTWFza2VkIHtcbiAgLyoqIFNpbmdsZSBjaGFyICovXG5cbiAgLyoqIFNpbmdsZSBjaGFyICovXG5cbiAgLyoqIEFycmF5IG9mIHNpbmdsZSBjaGFycyAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiBEaWdpdHMgYWZ0ZXIgcG9pbnQgKi9cblxuICAvKiogKi9cblxuICAvKiogRmxhZyB0byByZW1vdmUgbGVhZGluZyBhbmQgdHJhaWxpbmcgemVyb3MgaW4gdGhlIGVuZCBvZiBlZGl0aW5nICovXG5cbiAgLyoqIEZsYWcgdG8gcGFkIHRyYWlsaW5nIHplcm9zIGFmdGVyIHBvaW50IGluIHRoZSBlbmQgb2YgZWRpdGluZyAqL1xuXG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBzdXBlcihPYmplY3QuYXNzaWduKHt9LCBNYXNrZWROdW1iZXIuREVGQVVMVFMsIG9wdHMpKTtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBfdXBkYXRlKG9wdHMpIHtcbiAgICBzdXBlci5fdXBkYXRlKG9wdHMpO1xuICAgIHRoaXMuX3VwZGF0ZVJlZ0V4cHMoKTtcbiAgfVxuXG4gIC8qKiAqL1xuICBfdXBkYXRlUmVnRXhwcygpIHtcbiAgICBsZXQgc3RhcnQgPSAnXicgKyAodGhpcy5hbGxvd05lZ2F0aXZlID8gJ1srfFxcXFwtXT8nIDogJycpO1xuICAgIGxldCBtaWQgPSAnXFxcXGQqJztcbiAgICBsZXQgZW5kID0gKHRoaXMuc2NhbGUgPyBcIihcIi5jb25jYXQoZXNjYXBlUmVnRXhwKHRoaXMucmFkaXgpLCBcIlxcXFxkezAsXCIpLmNvbmNhdCh0aGlzLnNjYWxlLCBcIn0pP1wiKSA6ICcnKSArICckJztcbiAgICB0aGlzLl9udW1iZXJSZWdFeHAgPSBuZXcgUmVnRXhwKHN0YXJ0ICsgbWlkICsgZW5kKTtcbiAgICB0aGlzLl9tYXBUb1JhZGl4UmVnRXhwID0gbmV3IFJlZ0V4cChcIltcIi5jb25jYXQodGhpcy5tYXBUb1JhZGl4Lm1hcChlc2NhcGVSZWdFeHApLmpvaW4oJycpLCBcIl1cIiksICdnJyk7XG4gICAgdGhpcy5fdGhvdXNhbmRzU2VwYXJhdG9yUmVnRXhwID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeHAodGhpcy50aG91c2FuZHNTZXBhcmF0b3IpLCAnZycpO1xuICB9XG5cbiAgLyoqICovXG4gIF9yZW1vdmVUaG91c2FuZHNTZXBhcmF0b3JzKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UodGhpcy5fdGhvdXNhbmRzU2VwYXJhdG9yUmVnRXhwLCAnJyk7XG4gIH1cblxuICAvKiogKi9cbiAgX2luc2VydFRob3VzYW5kc1NlcGFyYXRvcnModmFsdWUpIHtcbiAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yOTAxMTAyL2hvdy10by1wcmludC1hLW51bWJlci13aXRoLWNvbW1hcy1hcy10aG91c2FuZHMtc2VwYXJhdG9ycy1pbi1qYXZhc2NyaXB0XG4gICAgY29uc3QgcGFydHMgPSB2YWx1ZS5zcGxpdCh0aGlzLnJhZGl4KTtcbiAgICBwYXJ0c1swXSA9IHBhcnRzWzBdLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csIHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yKTtcbiAgICByZXR1cm4gcGFydHMuam9pbih0aGlzLnJhZGl4KTtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBkb1ByZXBhcmUoY2gpIHtcbiAgICBsZXQgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGNoID0gdGhpcy5fcmVtb3ZlVGhvdXNhbmRzU2VwYXJhdG9ycyh0aGlzLnNjYWxlICYmIHRoaXMubWFwVG9SYWRpeC5sZW5ndGggJiYgKFxuICAgIC8qXG4gICAgICByYWRpeCBzaG91bGQgYmUgbWFwcGVkIHdoZW5cbiAgICAgIDEpIGlucHV0IGlzIGRvbmUgZnJvbSBrZXlib2FyZCA9IGZsYWdzLmlucHV0ICYmIGZsYWdzLnJhd1xuICAgICAgMikgdW5tYXNrZWQgdmFsdWUgaXMgc2V0ID0gIWZsYWdzLmlucHV0ICYmICFmbGFncy5yYXdcbiAgICAgIGFuZCBzaG91bGQgbm90IGJlIG1hcHBlZCB3aGVuXG4gICAgICAxKSB2YWx1ZSBpcyBzZXQgPSBmbGFncy5pbnB1dCAmJiAhZmxhZ3MucmF3XG4gICAgICAyKSByYXcgdmFsdWUgaXMgc2V0ID0gIWZsYWdzLmlucHV0ICYmIGZsYWdzLnJhd1xuICAgICovXG4gICAgZmxhZ3MuaW5wdXQgJiYgZmxhZ3MucmF3IHx8ICFmbGFncy5pbnB1dCAmJiAhZmxhZ3MucmF3KSA/IGNoLnJlcGxhY2UodGhpcy5fbWFwVG9SYWRpeFJlZ0V4cCwgdGhpcy5yYWRpeCkgOiBjaCk7XG4gICAgY29uc3QgW3ByZXBDaCwgZGV0YWlsc10gPSBub3JtYWxpemVQcmVwYXJlKHN1cGVyLmRvUHJlcGFyZShjaCwgZmxhZ3MpKTtcbiAgICBpZiAoY2ggJiYgIXByZXBDaCkgZGV0YWlscy5za2lwID0gdHJ1ZTtcbiAgICByZXR1cm4gW3ByZXBDaCwgZGV0YWlsc107XG4gIH1cblxuICAvKiogKi9cbiAgX3NlcGFyYXRvcnNDb3VudCh0bykge1xuICAgIGxldCBleHRlbmRPblNlcGFyYXRvcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChsZXQgcG9zID0gMDsgcG9zIDwgdG87ICsrcG9zKSB7XG4gICAgICBpZiAodGhpcy5fdmFsdWUuaW5kZXhPZih0aGlzLnRob3VzYW5kc1NlcGFyYXRvciwgcG9zKSA9PT0gcG9zKSB7XG4gICAgICAgICsrY291bnQ7XG4gICAgICAgIGlmIChleHRlbmRPblNlcGFyYXRvcnMpIHRvICs9IHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvdW50O1xuICB9XG5cbiAgLyoqICovXG4gIF9zZXBhcmF0b3JzQ291bnRGcm9tU2xpY2UoKSB7XG4gICAgbGV0IHNsaWNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLl92YWx1ZTtcbiAgICByZXR1cm4gdGhpcy5fc2VwYXJhdG9yc0NvdW50KHRoaXMuX3JlbW92ZVRob3VzYW5kc1NlcGFyYXRvcnMoc2xpY2UpLmxlbmd0aCwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgZXh0cmFjdElucHV0KCkge1xuICAgIGxldCBmcm9tUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIGxldCB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgbGV0IGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG4gICAgW2Zyb21Qb3MsIHRvUG9zXSA9IHRoaXMuX2FkanVzdFJhbmdlV2l0aFNlcGFyYXRvcnMoZnJvbVBvcywgdG9Qb3MpO1xuICAgIHJldHVybiB0aGlzLl9yZW1vdmVUaG91c2FuZHNTZXBhcmF0b3JzKHN1cGVyLmV4dHJhY3RJbnB1dChmcm9tUG9zLCB0b1BvcywgZmxhZ3MpKTtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBfYXBwZW5kQ2hhclJhdyhjaCkge1xuICAgIGxldCBmbGFncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgaWYgKCF0aGlzLnRob3VzYW5kc1NlcGFyYXRvcikgcmV0dXJuIHN1cGVyLl9hcHBlbmRDaGFyUmF3KGNoLCBmbGFncyk7XG4gICAgY29uc3QgcHJldkJlZm9yZVRhaWxWYWx1ZSA9IGZsYWdzLnRhaWwgJiYgZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZSA/IGZsYWdzLl9iZWZvcmVUYWlsU3RhdGUuX3ZhbHVlIDogdGhpcy5fdmFsdWU7XG4gICAgY29uc3QgcHJldkJlZm9yZVRhaWxTZXBhcmF0b3JzQ291bnQgPSB0aGlzLl9zZXBhcmF0b3JzQ291bnRGcm9tU2xpY2UocHJldkJlZm9yZVRhaWxWYWx1ZSk7XG4gICAgdGhpcy5fdmFsdWUgPSB0aGlzLl9yZW1vdmVUaG91c2FuZHNTZXBhcmF0b3JzKHRoaXMudmFsdWUpO1xuICAgIGNvbnN0IGFwcGVuZERldGFpbHMgPSBzdXBlci5fYXBwZW5kQ2hhclJhdyhjaCwgZmxhZ3MpO1xuICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5faW5zZXJ0VGhvdXNhbmRzU2VwYXJhdG9ycyh0aGlzLl92YWx1ZSk7XG4gICAgY29uc3QgYmVmb3JlVGFpbFZhbHVlID0gZmxhZ3MudGFpbCAmJiBmbGFncy5fYmVmb3JlVGFpbFN0YXRlID8gZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZS5fdmFsdWUgOiB0aGlzLl92YWx1ZTtcbiAgICBjb25zdCBiZWZvcmVUYWlsU2VwYXJhdG9yc0NvdW50ID0gdGhpcy5fc2VwYXJhdG9yc0NvdW50RnJvbVNsaWNlKGJlZm9yZVRhaWxWYWx1ZSk7XG4gICAgYXBwZW5kRGV0YWlscy50YWlsU2hpZnQgKz0gKGJlZm9yZVRhaWxTZXBhcmF0b3JzQ291bnQgLSBwcmV2QmVmb3JlVGFpbFNlcGFyYXRvcnNDb3VudCkgKiB0aGlzLnRob3VzYW5kc1NlcGFyYXRvci5sZW5ndGg7XG4gICAgYXBwZW5kRGV0YWlscy5za2lwID0gIWFwcGVuZERldGFpbHMucmF3SW5zZXJ0ZWQgJiYgY2ggPT09IHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yO1xuICAgIHJldHVybiBhcHBlbmREZXRhaWxzO1xuICB9XG5cbiAgLyoqICovXG4gIF9maW5kU2VwYXJhdG9yQXJvdW5kKHBvcykge1xuICAgIGlmICh0aGlzLnRob3VzYW5kc1NlcGFyYXRvcikge1xuICAgICAgY29uc3Qgc2VhcmNoRnJvbSA9IHBvcyAtIHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yLmxlbmd0aCArIDE7XG4gICAgICBjb25zdCBzZXBhcmF0b3JQb3MgPSB0aGlzLnZhbHVlLmluZGV4T2YodGhpcy50aG91c2FuZHNTZXBhcmF0b3IsIHNlYXJjaEZyb20pO1xuICAgICAgaWYgKHNlcGFyYXRvclBvcyA8PSBwb3MpIHJldHVybiBzZXBhcmF0b3JQb3M7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuICBfYWRqdXN0UmFuZ2VXaXRoU2VwYXJhdG9ycyhmcm9tLCB0bykge1xuICAgIGNvbnN0IHNlcGFyYXRvckFyb3VuZEZyb21Qb3MgPSB0aGlzLl9maW5kU2VwYXJhdG9yQXJvdW5kKGZyb20pO1xuICAgIGlmIChzZXBhcmF0b3JBcm91bmRGcm9tUG9zID49IDApIGZyb20gPSBzZXBhcmF0b3JBcm91bmRGcm9tUG9zO1xuICAgIGNvbnN0IHNlcGFyYXRvckFyb3VuZFRvUG9zID0gdGhpcy5fZmluZFNlcGFyYXRvckFyb3VuZCh0byk7XG4gICAgaWYgKHNlcGFyYXRvckFyb3VuZFRvUG9zID49IDApIHRvID0gc2VwYXJhdG9yQXJvdW5kVG9Qb3MgKyB0aGlzLnRob3VzYW5kc1NlcGFyYXRvci5sZW5ndGg7XG4gICAgcmV0dXJuIFtmcm9tLCB0b107XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgcmVtb3ZlKCkge1xuICAgIGxldCBmcm9tUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIGxldCB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgW2Zyb21Qb3MsIHRvUG9zXSA9IHRoaXMuX2FkanVzdFJhbmdlV2l0aFNlcGFyYXRvcnMoZnJvbVBvcywgdG9Qb3MpO1xuICAgIGNvbnN0IHZhbHVlQmVmb3JlUG9zID0gdGhpcy52YWx1ZS5zbGljZSgwLCBmcm9tUG9zKTtcbiAgICBjb25zdCB2YWx1ZUFmdGVyUG9zID0gdGhpcy52YWx1ZS5zbGljZSh0b1Bvcyk7XG4gICAgY29uc3QgcHJldkJlZm9yZVRhaWxTZXBhcmF0b3JzQ291bnQgPSB0aGlzLl9zZXBhcmF0b3JzQ291bnQodmFsdWVCZWZvcmVQb3MubGVuZ3RoKTtcbiAgICB0aGlzLl92YWx1ZSA9IHRoaXMuX2luc2VydFRob3VzYW5kc1NlcGFyYXRvcnModGhpcy5fcmVtb3ZlVGhvdXNhbmRzU2VwYXJhdG9ycyh2YWx1ZUJlZm9yZVBvcyArIHZhbHVlQWZ0ZXJQb3MpKTtcbiAgICBjb25zdCBiZWZvcmVUYWlsU2VwYXJhdG9yc0NvdW50ID0gdGhpcy5fc2VwYXJhdG9yc0NvdW50RnJvbVNsaWNlKHZhbHVlQmVmb3JlUG9zKTtcbiAgICByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoe1xuICAgICAgdGFpbFNoaWZ0OiAoYmVmb3JlVGFpbFNlcGFyYXRvcnNDb3VudCAtIHByZXZCZWZvcmVUYWlsU2VwYXJhdG9yc0NvdW50KSAqIHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yLmxlbmd0aFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIG5lYXJlc3RJbnB1dFBvcyhjdXJzb3JQb3MsIGRpcmVjdGlvbikge1xuICAgIGlmICghdGhpcy50aG91c2FuZHNTZXBhcmF0b3IpIHJldHVybiBjdXJzb3JQb3M7XG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgIGNhc2UgRElSRUNUSU9OLk5PTkU6XG4gICAgICBjYXNlIERJUkVDVElPTi5MRUZUOlxuICAgICAgY2FzZSBESVJFQ1RJT04uRk9SQ0VfTEVGVDpcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IHNlcGFyYXRvckF0TGVmdFBvcyA9IHRoaXMuX2ZpbmRTZXBhcmF0b3JBcm91bmQoY3Vyc29yUG9zIC0gMSk7XG4gICAgICAgICAgaWYgKHNlcGFyYXRvckF0TGVmdFBvcyA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBzZXBhcmF0b3JBdExlZnRFbmRQb3MgPSBzZXBhcmF0b3JBdExlZnRQb3MgKyB0aGlzLnRob3VzYW5kc1NlcGFyYXRvci5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoY3Vyc29yUG9zIDwgc2VwYXJhdG9yQXRMZWZ0RW5kUG9zIHx8IHRoaXMudmFsdWUubGVuZ3RoIDw9IHNlcGFyYXRvckF0TGVmdEVuZFBvcyB8fCBkaXJlY3Rpb24gPT09IERJUkVDVElPTi5GT1JDRV9MRUZUKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZXBhcmF0b3JBdExlZnRQb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIERJUkVDVElPTi5SSUdIVDpcbiAgICAgIGNhc2UgRElSRUNUSU9OLkZPUkNFX1JJR0hUOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3Qgc2VwYXJhdG9yQXRSaWdodFBvcyA9IHRoaXMuX2ZpbmRTZXBhcmF0b3JBcm91bmQoY3Vyc29yUG9zKTtcbiAgICAgICAgICBpZiAoc2VwYXJhdG9yQXRSaWdodFBvcyA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VwYXJhdG9yQXRSaWdodFBvcyArIHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGN1cnNvclBvcztcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBkb1ZhbGlkYXRlKGZsYWdzKSB7XG4gICAgLy8gdmFsaWRhdGUgYXMgc3RyaW5nXG4gICAgbGV0IHZhbGlkID0gQm9vbGVhbih0aGlzLl9yZW1vdmVUaG91c2FuZHNTZXBhcmF0b3JzKHRoaXMudmFsdWUpLm1hdGNoKHRoaXMuX251bWJlclJlZ0V4cCkpO1xuICAgIGlmICh2YWxpZCkge1xuICAgICAgLy8gdmFsaWRhdGUgYXMgbnVtYmVyXG4gICAgICBjb25zdCBudW1iZXIgPSB0aGlzLm51bWJlcjtcbiAgICAgIHZhbGlkID0gdmFsaWQgJiYgIWlzTmFOKG51bWJlcikgJiYgKFxuICAgICAgLy8gY2hlY2sgbWluIGJvdW5kIGZvciBuZWdhdGl2ZSB2YWx1ZXNcbiAgICAgIHRoaXMubWluID09IG51bGwgfHwgdGhpcy5taW4gPj0gMCB8fCB0aGlzLm1pbiA8PSB0aGlzLm51bWJlcikgJiYgKFxuICAgICAgLy8gY2hlY2sgbWF4IGJvdW5kIGZvciBwb3NpdGl2ZSB2YWx1ZXNcbiAgICAgIHRoaXMubWF4ID09IG51bGwgfHwgdGhpcy5tYXggPD0gMCB8fCB0aGlzLm51bWJlciA8PSB0aGlzLm1heCk7XG4gICAgfVxuICAgIHJldHVybiB2YWxpZCAmJiBzdXBlci5kb1ZhbGlkYXRlKGZsYWdzKTtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBkb0NvbW1pdCgpIHtcbiAgICBpZiAodGhpcy52YWx1ZSkge1xuICAgICAgY29uc3QgbnVtYmVyID0gdGhpcy5udW1iZXI7XG4gICAgICBsZXQgdmFsaWRudW0gPSBudW1iZXI7XG5cbiAgICAgIC8vIGNoZWNrIGJvdW5kc1xuICAgICAgaWYgKHRoaXMubWluICE9IG51bGwpIHZhbGlkbnVtID0gTWF0aC5tYXgodmFsaWRudW0sIHRoaXMubWluKTtcbiAgICAgIGlmICh0aGlzLm1heCAhPSBudWxsKSB2YWxpZG51bSA9IE1hdGgubWluKHZhbGlkbnVtLCB0aGlzLm1heCk7XG4gICAgICBpZiAodmFsaWRudW0gIT09IG51bWJlcikgdGhpcy51bm1hc2tlZFZhbHVlID0gdGhpcy5kb0Zvcm1hdCh2YWxpZG51bSk7XG4gICAgICBsZXQgZm9ybWF0dGVkID0gdGhpcy52YWx1ZTtcbiAgICAgIGlmICh0aGlzLm5vcm1hbGl6ZVplcm9zKSBmb3JtYXR0ZWQgPSB0aGlzLl9ub3JtYWxpemVaZXJvcyhmb3JtYXR0ZWQpO1xuICAgICAgaWYgKHRoaXMucGFkRnJhY3Rpb25hbFplcm9zICYmIHRoaXMuc2NhbGUgPiAwKSBmb3JtYXR0ZWQgPSB0aGlzLl9wYWRGcmFjdGlvbmFsWmVyb3MoZm9ybWF0dGVkKTtcbiAgICAgIHRoaXMuX3ZhbHVlID0gZm9ybWF0dGVkO1xuICAgIH1cbiAgICBzdXBlci5kb0NvbW1pdCgpO1xuICB9XG5cbiAgLyoqICovXG4gIF9ub3JtYWxpemVaZXJvcyh2YWx1ZSkge1xuICAgIGNvbnN0IHBhcnRzID0gdGhpcy5fcmVtb3ZlVGhvdXNhbmRzU2VwYXJhdG9ycyh2YWx1ZSkuc3BsaXQodGhpcy5yYWRpeCk7XG5cbiAgICAvLyByZW1vdmUgbGVhZGluZyB6ZXJvc1xuICAgIHBhcnRzWzBdID0gcGFydHNbMF0ucmVwbGFjZSgvXihcXEQqKSgwKikoXFxkKikvLCAobWF0Y2gsIHNpZ24sIHplcm9zLCBudW0pID0+IHNpZ24gKyBudW0pO1xuICAgIC8vIGFkZCBsZWFkaW5nIHplcm9cbiAgICBpZiAodmFsdWUubGVuZ3RoICYmICEvXFxkJC8udGVzdChwYXJ0c1swXSkpIHBhcnRzWzBdID0gcGFydHNbMF0gKyAnMCc7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHBhcnRzWzFdID0gcGFydHNbMV0ucmVwbGFjZSgvMCokLywgJycpOyAvLyByZW1vdmUgdHJhaWxpbmcgemVyb3NcbiAgICAgIGlmICghcGFydHNbMV0ubGVuZ3RoKSBwYXJ0cy5sZW5ndGggPSAxOyAvLyByZW1vdmUgZnJhY3Rpb25hbFxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pbnNlcnRUaG91c2FuZHNTZXBhcmF0b3JzKHBhcnRzLmpvaW4odGhpcy5yYWRpeCkpO1xuICB9XG5cbiAgLyoqICovXG4gIF9wYWRGcmFjdGlvbmFsWmVyb3ModmFsdWUpIHtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gdmFsdWU7XG4gICAgY29uc3QgcGFydHMgPSB2YWx1ZS5zcGxpdCh0aGlzLnJhZGl4KTtcbiAgICBpZiAocGFydHMubGVuZ3RoIDwgMikgcGFydHMucHVzaCgnJyk7XG4gICAgcGFydHNbMV0gPSBwYXJ0c1sxXS5wYWRFbmQodGhpcy5zY2FsZSwgJzAnKTtcbiAgICByZXR1cm4gcGFydHMuam9pbih0aGlzLnJhZGl4KTtcbiAgfVxuXG4gIC8qKiAqL1xuICBkb1NraXBJbnZhbGlkKGNoKSB7XG4gICAgbGV0IGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBsZXQgY2hlY2tUYWlsID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgZHJvcEZyYWN0aW9uYWwgPSB0aGlzLnNjYWxlID09PSAwICYmIGNoICE9PSB0aGlzLnRob3VzYW5kc1NlcGFyYXRvciAmJiAoY2ggPT09IHRoaXMucmFkaXggfHwgY2ggPT09IE1hc2tlZE51bWJlci5VTk1BU0tFRF9SQURJWCB8fCB0aGlzLm1hcFRvUmFkaXguaW5jbHVkZXMoY2gpKTtcbiAgICByZXR1cm4gc3VwZXIuZG9Ta2lwSW52YWxpZChjaCwgZmxhZ3MsIGNoZWNrVGFpbCkgJiYgIWRyb3BGcmFjdGlvbmFsO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIGdldCB1bm1hc2tlZFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl9yZW1vdmVUaG91c2FuZHNTZXBhcmF0b3JzKHRoaXMuX25vcm1hbGl6ZVplcm9zKHRoaXMudmFsdWUpKS5yZXBsYWNlKHRoaXMucmFkaXgsIE1hc2tlZE51bWJlci5VTk1BU0tFRF9SQURJWCk7XG4gIH1cbiAgc2V0IHVubWFza2VkVmFsdWUodW5tYXNrZWRWYWx1ZSkge1xuICAgIHN1cGVyLnVubWFza2VkVmFsdWUgPSB1bm1hc2tlZFZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIGdldCB0eXBlZFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLmRvUGFyc2UodGhpcy51bm1hc2tlZFZhbHVlKTtcbiAgfVxuICBzZXQgdHlwZWRWYWx1ZShuKSB7XG4gICAgdGhpcy5yYXdJbnB1dFZhbHVlID0gdGhpcy5kb0Zvcm1hdChuKS5yZXBsYWNlKE1hc2tlZE51bWJlci5VTk1BU0tFRF9SQURJWCwgdGhpcy5yYWRpeCk7XG4gIH1cblxuICAvKiogUGFyc2VkIE51bWJlciAqL1xuICBnZXQgbnVtYmVyKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGVkVmFsdWU7XG4gIH1cbiAgc2V0IG51bWJlcihudW1iZXIpIHtcbiAgICB0aGlzLnR5cGVkVmFsdWUgPSBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICBJcyBuZWdhdGl2ZSBhbGxvd2VkXG4gICAgQHJlYWRvbmx5XG4gICovXG4gIGdldCBhbGxvd05lZ2F0aXZlKCkge1xuICAgIHJldHVybiB0aGlzLnNpZ25lZCB8fCB0aGlzLm1pbiAhPSBudWxsICYmIHRoaXMubWluIDwgMCB8fCB0aGlzLm1heCAhPSBudWxsICYmIHRoaXMubWF4IDwgMDtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICB0eXBlZFZhbHVlRXF1YWxzKHZhbHVlKSB7XG4gICAgLy8gaGFuZGxlICAwIC0+ICcnIGNhc2UgKHR5cGVkID0gMCBldmVuIGlmIHZhbHVlID0gJycpXG4gICAgLy8gZm9yIGRldGFpbHMgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91Tm1Bbk5lUi9pbWFza2pzL2lzc3Vlcy8xMzRcbiAgICByZXR1cm4gKHN1cGVyLnR5cGVkVmFsdWVFcXVhbHModmFsdWUpIHx8IE1hc2tlZE51bWJlci5FTVBUWV9WQUxVRVMuaW5jbHVkZXModmFsdWUpICYmIE1hc2tlZE51bWJlci5FTVBUWV9WQUxVRVMuaW5jbHVkZXModGhpcy50eXBlZFZhbHVlKSkgJiYgISh2YWx1ZSA9PT0gMCAmJiB0aGlzLnZhbHVlID09PSAnJyk7XG4gIH1cbn1cbk1hc2tlZE51bWJlci5VTk1BU0tFRF9SQURJWCA9ICcuJztcbk1hc2tlZE51bWJlci5ERUZBVUxUUyA9IHtcbiAgcmFkaXg6ICcsJyxcbiAgdGhvdXNhbmRzU2VwYXJhdG9yOiAnJyxcbiAgbWFwVG9SYWRpeDogW01hc2tlZE51bWJlci5VTk1BU0tFRF9SQURJWF0sXG4gIHNjYWxlOiAyLFxuICBzaWduZWQ6IGZhbHNlLFxuICBub3JtYWxpemVaZXJvczogdHJ1ZSxcbiAgcGFkRnJhY3Rpb25hbFplcm9zOiBmYWxzZSxcbiAgcGFyc2U6IE51bWJlcixcbiAgZm9ybWF0OiBuID0+IG4udG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJywge1xuICAgIHVzZUdyb3VwaW5nOiBmYWxzZSxcbiAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDIwXG4gIH0pXG59O1xuTWFza2VkTnVtYmVyLkVNUFRZX1ZBTFVFUyA9IFsuLi5NYXNrZWQuRU1QVFlfVkFMVUVTLCAwXTtcbklNYXNrLk1hc2tlZE51bWJlciA9IE1hc2tlZE51bWJlcjtcblxuZXhwb3J0IHsgTWFza2VkTnVtYmVyIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IF8gYXMgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgfSBmcm9tICcuLi9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLTZiM2JkNDA0LmpzJztcbmltcG9ydCB7IERJUkVDVElPTiB9IGZyb20gJy4uL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0IENoYW5nZURldGFpbHMgZnJvbSAnLi4vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyc7XG5pbXBvcnQgTWFza2VkIGZyb20gJy4vYmFzZS5qcyc7XG5pbXBvcnQgUGF0dGVybklucHV0RGVmaW5pdGlvbiwgeyBERUZBVUxUX0lOUFVUX0RFRklOSVRJT05TIH0gZnJvbSAnLi9wYXR0ZXJuL2lucHV0LWRlZmluaXRpb24uanMnO1xuaW1wb3J0IFBhdHRlcm5GaXhlZERlZmluaXRpb24gZnJvbSAnLi9wYXR0ZXJuL2ZpeGVkLWRlZmluaXRpb24uanMnO1xuaW1wb3J0IENodW5rc1RhaWxEZXRhaWxzIGZyb20gJy4vcGF0dGVybi9jaHVuay10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0IFBhdHRlcm5DdXJzb3IgZnJvbSAnLi9wYXR0ZXJuL2N1cnNvci5qcyc7XG5pbXBvcnQgY3JlYXRlTWFzayBmcm9tICcuL2ZhY3RvcnkuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi9yZWdleHAuanMnO1xuaW1wb3J0ICcuLi9jb3JlL2NvbnRpbnVvdXMtdGFpbC1kZXRhaWxzLmpzJztcblxuY29uc3QgX2V4Y2x1ZGVkID0gW1wiX2Jsb2Nrc1wiXTtcblxuLyoqXG4gIFBhdHRlcm4gbWFza1xuICBAcGFyYW0ge09iamVjdH0gb3B0c1xuICBAcGFyYW0ge09iamVjdH0gb3B0cy5ibG9ja3NcbiAgQHBhcmFtIHtPYmplY3R9IG9wdHMuZGVmaW5pdGlvbnNcbiAgQHBhcmFtIHtzdHJpbmd9IG9wdHMucGxhY2Vob2xkZXJDaGFyXG4gIEBwYXJhbSB7c3RyaW5nfSBvcHRzLmRpc3BsYXlDaGFyXG4gIEBwYXJhbSB7Ym9vbGVhbn0gb3B0cy5sYXp5XG4qL1xuY2xhc3MgTWFza2VkUGF0dGVybiBleHRlbmRzIE1hc2tlZCB7XG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiBTaW5nbGUgY2hhciBmb3IgZW1wdHkgaW5wdXQgKi9cblxuICAvKiogU2luZ2xlIGNoYXIgZm9yIGZpbGxlZCBpbnB1dCAqL1xuXG4gIC8qKiBTaG93IHBsYWNlaG9sZGVyIG9ubHkgd2hlbiBuZWVkZWQgKi9cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgLy8gVE9ETyB0eXBlICRTaGFwZTxNYXNrZWRQYXR0ZXJuT3B0aW9ucz49e30gZG9lcyBub3Qgd29ya1xuICAgIG9wdHMuZGVmaW5pdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX0lOUFVUX0RFRklOSVRJT05TLCBvcHRzLmRlZmluaXRpb25zKTtcbiAgICBzdXBlcihPYmplY3QuYXNzaWduKHt9LCBNYXNrZWRQYXR0ZXJuLkRFRkFVTFRTLCBvcHRzKSk7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgICBAcGFyYW0ge09iamVjdH0gb3B0c1xuICAqL1xuICBfdXBkYXRlKCkge1xuICAgIGxldCBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBvcHRzLmRlZmluaXRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZpbml0aW9ucywgb3B0cy5kZWZpbml0aW9ucyk7XG4gICAgc3VwZXIuX3VwZGF0ZShvcHRzKTtcbiAgICB0aGlzLl9yZWJ1aWxkTWFzaygpO1xuICB9XG5cbiAgLyoqICovXG4gIF9yZWJ1aWxkTWFzaygpIHtcbiAgICBjb25zdCBkZWZzID0gdGhpcy5kZWZpbml0aW9ucztcbiAgICB0aGlzLl9ibG9ja3MgPSBbXTtcbiAgICB0aGlzLl9zdG9wcyA9IFtdO1xuICAgIHRoaXMuX21hc2tlZEJsb2NrcyA9IHt9O1xuICAgIGxldCBwYXR0ZXJuID0gdGhpcy5tYXNrO1xuICAgIGlmICghcGF0dGVybiB8fCAhZGVmcykgcmV0dXJuO1xuICAgIGxldCB1bm1hc2tpbmdCbG9jayA9IGZhbHNlO1xuICAgIGxldCBvcHRpb25hbEJsb2NrID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgX2RlZnMkY2hhciwgX2RlZnMkY2hhcjI7XG4gICAgICBpZiAodGhpcy5ibG9ja3MpIHtcbiAgICAgICAgY29uc3QgcCA9IHBhdHRlcm4uc2xpY2UoaSk7XG4gICAgICAgIGNvbnN0IGJOYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMuYmxvY2tzKS5maWx0ZXIoYk5hbWUgPT4gcC5pbmRleE9mKGJOYW1lKSA9PT0gMCk7XG4gICAgICAgIC8vIG9yZGVyIGJ5IGtleSBsZW5ndGhcbiAgICAgICAgYk5hbWVzLnNvcnQoKGEsIGIpID0+IGIubGVuZ3RoIC0gYS5sZW5ndGgpO1xuICAgICAgICAvLyB1c2UgYmxvY2sgbmFtZSB3aXRoIG1heCBsZW5ndGhcbiAgICAgICAgY29uc3QgYk5hbWUgPSBiTmFtZXNbMF07XG4gICAgICAgIGlmIChiTmFtZSkge1xuICAgICAgICAgIC8vICRGbG93Rml4TWUgbm8gaWRlYXNcbiAgICAgICAgICBjb25zdCBtYXNrZWRCbG9jayA9IGNyZWF0ZU1hc2soT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMsXG4gICAgICAgICAgICBsYXp5OiB0aGlzLmxhenksXG4gICAgICAgICAgICBlYWdlcjogdGhpcy5lYWdlcixcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyQ2hhcjogdGhpcy5wbGFjZWhvbGRlckNoYXIsXG4gICAgICAgICAgICBkaXNwbGF5Q2hhcjogdGhpcy5kaXNwbGF5Q2hhcixcbiAgICAgICAgICAgIG92ZXJ3cml0ZTogdGhpcy5vdmVyd3JpdGVcbiAgICAgICAgICB9LCB0aGlzLmJsb2Nrc1tiTmFtZV0pKTtcbiAgICAgICAgICBpZiAobWFza2VkQmxvY2spIHtcbiAgICAgICAgICAgIHRoaXMuX2Jsb2Nrcy5wdXNoKG1hc2tlZEJsb2NrKTtcblxuICAgICAgICAgICAgLy8gc3RvcmUgYmxvY2sgaW5kZXhcbiAgICAgICAgICAgIGlmICghdGhpcy5fbWFza2VkQmxvY2tzW2JOYW1lXSkgdGhpcy5fbWFza2VkQmxvY2tzW2JOYW1lXSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbWFza2VkQmxvY2tzW2JOYW1lXS5wdXNoKHRoaXMuX2Jsb2Nrcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaSArPSBiTmFtZS5sZW5ndGggLSAxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgY2hhciA9IHBhdHRlcm5baV07XG4gICAgICBsZXQgaXNJbnB1dCA9IChjaGFyIGluIGRlZnMpO1xuICAgICAgaWYgKGNoYXIgPT09IE1hc2tlZFBhdHRlcm4uU1RPUF9DSEFSKSB7XG4gICAgICAgIHRoaXMuX3N0b3BzLnB1c2godGhpcy5fYmxvY2tzLmxlbmd0aCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGNoYXIgPT09ICd7JyB8fCBjaGFyID09PSAnfScpIHtcbiAgICAgICAgdW5tYXNraW5nQmxvY2sgPSAhdW5tYXNraW5nQmxvY2s7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGNoYXIgPT09ICdbJyB8fCBjaGFyID09PSAnXScpIHtcbiAgICAgICAgb3B0aW9uYWxCbG9jayA9ICFvcHRpb25hbEJsb2NrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjaGFyID09PSBNYXNrZWRQYXR0ZXJuLkVTQ0FQRV9DSEFSKSB7XG4gICAgICAgICsraTtcbiAgICAgICAgY2hhciA9IHBhdHRlcm5baV07XG4gICAgICAgIGlmICghY2hhcikgYnJlYWs7XG4gICAgICAgIGlzSW5wdXQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1hc2tPcHRzID0gKF9kZWZzJGNoYXIgPSBkZWZzW2NoYXJdKSAhPT0gbnVsbCAmJiBfZGVmcyRjaGFyICE9PSB2b2lkIDAgJiYgX2RlZnMkY2hhci5tYXNrICYmICEoKChfZGVmcyRjaGFyMiA9IGRlZnNbY2hhcl0pID09PSBudWxsIHx8IF9kZWZzJGNoYXIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGVmcyRjaGFyMi5tYXNrLnByb3RvdHlwZSkgaW5zdGFuY2VvZiBJTWFzay5NYXNrZWQpID8gZGVmc1tjaGFyXSA6IHtcbiAgICAgICAgbWFzazogZGVmc1tjaGFyXVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGRlZiA9IGlzSW5wdXQgPyBuZXcgUGF0dGVybklucHV0RGVmaW5pdGlvbihPYmplY3QuYXNzaWduKHtcbiAgICAgICAgcGFyZW50OiB0aGlzLFxuICAgICAgICBpc09wdGlvbmFsOiBvcHRpb25hbEJsb2NrLFxuICAgICAgICBsYXp5OiB0aGlzLmxhenksXG4gICAgICAgIGVhZ2VyOiB0aGlzLmVhZ2VyLFxuICAgICAgICBwbGFjZWhvbGRlckNoYXI6IHRoaXMucGxhY2Vob2xkZXJDaGFyLFxuICAgICAgICBkaXNwbGF5Q2hhcjogdGhpcy5kaXNwbGF5Q2hhclxuICAgICAgfSwgbWFza09wdHMpKSA6IG5ldyBQYXR0ZXJuRml4ZWREZWZpbml0aW9uKHtcbiAgICAgICAgY2hhcixcbiAgICAgICAgZWFnZXI6IHRoaXMuZWFnZXIsXG4gICAgICAgIGlzVW5tYXNraW5nOiB1bm1hc2tpbmdCbG9ja1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9ibG9ja3MucHVzaChkZWYpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBnZXQgc3RhdGUoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN1cGVyLnN0YXRlLCB7XG4gICAgICBfYmxvY2tzOiB0aGlzLl9ibG9ja3MubWFwKGIgPT4gYi5zdGF0ZSlcbiAgICB9KTtcbiAgfVxuICBzZXQgc3RhdGUoc3RhdGUpIHtcbiAgICBjb25zdCB7XG4gICAgICAgIF9ibG9ja3NcbiAgICAgIH0gPSBzdGF0ZSxcbiAgICAgIG1hc2tlZFN0YXRlID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc3RhdGUsIF9leGNsdWRlZCk7XG4gICAgdGhpcy5fYmxvY2tzLmZvckVhY2goKGIsIGJpKSA9PiBiLnN0YXRlID0gX2Jsb2Nrc1tiaV0pO1xuICAgIHN1cGVyLnN0YXRlID0gbWFza2VkU3RhdGU7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgcmVzZXQoKSB7XG4gICAgc3VwZXIucmVzZXQoKTtcbiAgICB0aGlzLl9ibG9ja3MuZm9yRWFjaChiID0+IGIucmVzZXQoKSk7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgZ2V0IGlzQ29tcGxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5ldmVyeShiID0+IGIuaXNDb21wbGV0ZSk7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgZ2V0IGlzRmlsbGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3MuZXZlcnkoYiA9PiBiLmlzRmlsbGVkKTtcbiAgfVxuICBnZXQgaXNGaXhlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzLmV2ZXJ5KGIgPT4gYi5pc0ZpeGVkKTtcbiAgfVxuICBnZXQgaXNPcHRpb25hbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzLmV2ZXJ5KGIgPT4gYi5pc09wdGlvbmFsKTtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBkb0NvbW1pdCgpIHtcbiAgICB0aGlzLl9ibG9ja3MuZm9yRWFjaChiID0+IGIuZG9Db21taXQoKSk7XG4gICAgc3VwZXIuZG9Db21taXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBnZXQgdW5tYXNrZWRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzLnJlZHVjZSgoc3RyLCBiKSA9PiBzdHIgKz0gYi51bm1hc2tlZFZhbHVlLCAnJyk7XG4gIH1cbiAgc2V0IHVubWFza2VkVmFsdWUodW5tYXNrZWRWYWx1ZSkge1xuICAgIHN1cGVyLnVubWFza2VkVmFsdWUgPSB1bm1hc2tlZFZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIGdldCB2YWx1ZSgpIHtcbiAgICAvLyBUT0RPIHJldHVybiBfdmFsdWUgd2hlbiBub3QgaW4gY2hhbmdlP1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3MucmVkdWNlKChzdHIsIGIpID0+IHN0ciArPSBiLnZhbHVlLCAnJyk7XG4gIH1cbiAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgc3VwZXIudmFsdWUgPSB2YWx1ZTtcbiAgfVxuICBnZXQgZGlzcGxheVZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3MucmVkdWNlKChzdHIsIGIpID0+IHN0ciArPSBiLmRpc3BsYXlWYWx1ZSwgJycpO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIGFwcGVuZFRhaWwodGFpbCkge1xuICAgIHJldHVybiBzdXBlci5hcHBlbmRUYWlsKHRhaWwpLmFnZ3JlZ2F0ZSh0aGlzLl9hcHBlbmRQbGFjZWhvbGRlcigpKTtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBfYXBwZW5kRWFnZXIoKSB7XG4gICAgdmFyIF90aGlzJF9tYXBQb3NUb0Jsb2NrO1xuICAgIGNvbnN0IGRldGFpbHMgPSBuZXcgQ2hhbmdlRGV0YWlscygpO1xuICAgIGxldCBzdGFydEJsb2NrSW5kZXggPSAoX3RoaXMkX21hcFBvc1RvQmxvY2sgPSB0aGlzLl9tYXBQb3NUb0Jsb2NrKHRoaXMudmFsdWUubGVuZ3RoKSkgPT09IG51bGwgfHwgX3RoaXMkX21hcFBvc1RvQmxvY2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJF9tYXBQb3NUb0Jsb2NrLmluZGV4O1xuICAgIGlmIChzdGFydEJsb2NrSW5kZXggPT0gbnVsbCkgcmV0dXJuIGRldGFpbHM7XG5cbiAgICAvLyBUT0RPIHRlc3QgaWYgaXQgd29ya3MgZm9yIG5lc3RlZCBwYXR0ZXJuIG1hc2tzXG4gICAgaWYgKHRoaXMuX2Jsb2Nrc1tzdGFydEJsb2NrSW5kZXhdLmlzRmlsbGVkKSArK3N0YXJ0QmxvY2tJbmRleDtcbiAgICBmb3IgKGxldCBiaSA9IHN0YXJ0QmxvY2tJbmRleDsgYmkgPCB0aGlzLl9ibG9ja3MubGVuZ3RoOyArK2JpKSB7XG4gICAgICBjb25zdCBkID0gdGhpcy5fYmxvY2tzW2JpXS5fYXBwZW5kRWFnZXIoKTtcbiAgICAgIGlmICghZC5pbnNlcnRlZCkgYnJlYWs7XG4gICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZShkKTtcbiAgICB9XG4gICAgcmV0dXJuIGRldGFpbHM7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgX2FwcGVuZENoYXJSYXcoY2gpIHtcbiAgICBsZXQgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGNvbnN0IGJsb2NrSXRlciA9IHRoaXMuX21hcFBvc1RvQmxvY2sodGhpcy52YWx1ZS5sZW5ndGgpO1xuICAgIGNvbnN0IGRldGFpbHMgPSBuZXcgQ2hhbmdlRGV0YWlscygpO1xuICAgIGlmICghYmxvY2tJdGVyKSByZXR1cm4gZGV0YWlscztcbiAgICBmb3IgKGxldCBiaSA9IGJsb2NrSXRlci5pbmRleDs7ICsrYmkpIHtcbiAgICAgIHZhciBfZmxhZ3MkX2JlZm9yZVRhaWxTdGEsIF9mbGFncyRfYmVmb3JlVGFpbFN0YTI7XG4gICAgICBjb25zdCBibG9jayA9IHRoaXMuX2Jsb2Nrc1tiaV07XG4gICAgICBpZiAoIWJsb2NrKSBicmVhaztcbiAgICAgIGNvbnN0IGJsb2NrRGV0YWlscyA9IGJsb2NrLl9hcHBlbmRDaGFyKGNoLCBPYmplY3QuYXNzaWduKHt9LCBmbGFncywge1xuICAgICAgICBfYmVmb3JlVGFpbFN0YXRlOiAoX2ZsYWdzJF9iZWZvcmVUYWlsU3RhID0gZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZSkgPT09IG51bGwgfHwgX2ZsYWdzJF9iZWZvcmVUYWlsU3RhID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2ZsYWdzJF9iZWZvcmVUYWlsU3RhMiA9IF9mbGFncyRfYmVmb3JlVGFpbFN0YS5fYmxvY2tzKSA9PT0gbnVsbCB8fCBfZmxhZ3MkX2JlZm9yZVRhaWxTdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZmxhZ3MkX2JlZm9yZVRhaWxTdGEyW2JpXVxuICAgICAgfSkpO1xuICAgICAgY29uc3Qgc2tpcCA9IGJsb2NrRGV0YWlscy5za2lwO1xuICAgICAgZGV0YWlscy5hZ2dyZWdhdGUoYmxvY2tEZXRhaWxzKTtcbiAgICAgIGlmIChza2lwIHx8IGJsb2NrRGV0YWlscy5yYXdJbnNlcnRlZCkgYnJlYWs7IC8vIGdvIG5leHQgY2hhclxuICAgIH1cblxuICAgIHJldHVybiBkZXRhaWxzO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIGV4dHJhY3RUYWlsKCkge1xuICAgIGxldCBmcm9tUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIGxldCB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgY29uc3QgY2h1bmtUYWlsID0gbmV3IENodW5rc1RhaWxEZXRhaWxzKCk7XG4gICAgaWYgKGZyb21Qb3MgPT09IHRvUG9zKSByZXR1cm4gY2h1bmtUYWlsO1xuICAgIHRoaXMuX2ZvckVhY2hCbG9ja3NJblJhbmdlKGZyb21Qb3MsIHRvUG9zLCAoYiwgYmksIGJGcm9tUG9zLCBiVG9Qb3MpID0+IHtcbiAgICAgIGNvbnN0IGJsb2NrQ2h1bmsgPSBiLmV4dHJhY3RUYWlsKGJGcm9tUG9zLCBiVG9Qb3MpO1xuICAgICAgYmxvY2tDaHVuay5zdG9wID0gdGhpcy5fZmluZFN0b3BCZWZvcmUoYmkpO1xuICAgICAgYmxvY2tDaHVuay5mcm9tID0gdGhpcy5fYmxvY2tTdGFydFBvcyhiaSk7XG4gICAgICBpZiAoYmxvY2tDaHVuayBpbnN0YW5jZW9mIENodW5rc1RhaWxEZXRhaWxzKSBibG9ja0NodW5rLmJsb2NrSW5kZXggPSBiaTtcbiAgICAgIGNodW5rVGFpbC5leHRlbmQoYmxvY2tDaHVuayk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNodW5rVGFpbDtcbiAgfVxuXG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuICBleHRyYWN0SW5wdXQoKSB7XG4gICAgbGV0IGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgbGV0IHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICBsZXQgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIGlmIChmcm9tUG9zID09PSB0b1BvcykgcmV0dXJuICcnO1xuICAgIGxldCBpbnB1dCA9ICcnO1xuICAgIHRoaXMuX2ZvckVhY2hCbG9ja3NJblJhbmdlKGZyb21Qb3MsIHRvUG9zLCAoYiwgXywgZnJvbVBvcywgdG9Qb3MpID0+IHtcbiAgICAgIGlucHV0ICs9IGIuZXh0cmFjdElucHV0KGZyb21Qb3MsIHRvUG9zLCBmbGFncyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9XG4gIF9maW5kU3RvcEJlZm9yZShibG9ja0luZGV4KSB7XG4gICAgbGV0IHN0b3BCZWZvcmU7XG4gICAgZm9yIChsZXQgc2kgPSAwOyBzaSA8IHRoaXMuX3N0b3BzLmxlbmd0aDsgKytzaSkge1xuICAgICAgY29uc3Qgc3RvcCA9IHRoaXMuX3N0b3BzW3NpXTtcbiAgICAgIGlmIChzdG9wIDw9IGJsb2NrSW5kZXgpIHN0b3BCZWZvcmUgPSBzdG9wO2Vsc2UgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBzdG9wQmVmb3JlO1xuICB9XG5cbiAgLyoqIEFwcGVuZHMgcGxhY2Vob2xkZXIgZGVwZW5kaW5nIG9uIGxhemluZXNzICovXG4gIF9hcHBlbmRQbGFjZWhvbGRlcih0b0Jsb2NrSW5kZXgpIHtcbiAgICBjb25zdCBkZXRhaWxzID0gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICBpZiAodGhpcy5sYXp5ICYmIHRvQmxvY2tJbmRleCA9PSBudWxsKSByZXR1cm4gZGV0YWlscztcbiAgICBjb25zdCBzdGFydEJsb2NrSXRlciA9IHRoaXMuX21hcFBvc1RvQmxvY2sodGhpcy52YWx1ZS5sZW5ndGgpO1xuICAgIGlmICghc3RhcnRCbG9ja0l0ZXIpIHJldHVybiBkZXRhaWxzO1xuICAgIGNvbnN0IHN0YXJ0QmxvY2tJbmRleCA9IHN0YXJ0QmxvY2tJdGVyLmluZGV4O1xuICAgIGNvbnN0IGVuZEJsb2NrSW5kZXggPSB0b0Jsb2NrSW5kZXggIT0gbnVsbCA/IHRvQmxvY2tJbmRleCA6IHRoaXMuX2Jsb2Nrcy5sZW5ndGg7XG4gICAgdGhpcy5fYmxvY2tzLnNsaWNlKHN0YXJ0QmxvY2tJbmRleCwgZW5kQmxvY2tJbmRleCkuZm9yRWFjaChiID0+IHtcbiAgICAgIGlmICghYi5sYXp5IHx8IHRvQmxvY2tJbmRleCAhPSBudWxsKSB7XG4gICAgICAgIC8vICRGbG93Rml4TWUgYF9ibG9ja3NgIG1heSBub3QgYmUgcHJlc2VudFxuICAgICAgICBjb25zdCBhcmdzID0gYi5fYmxvY2tzICE9IG51bGwgPyBbYi5fYmxvY2tzLmxlbmd0aF0gOiBbXTtcbiAgICAgICAgY29uc3QgYkRldGFpbHMgPSBiLl9hcHBlbmRQbGFjZWhvbGRlciguLi5hcmdzKTtcbiAgICAgICAgdGhpcy5fdmFsdWUgKz0gYkRldGFpbHMuaW5zZXJ0ZWQ7XG4gICAgICAgIGRldGFpbHMuYWdncmVnYXRlKGJEZXRhaWxzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGV0YWlscztcbiAgfVxuXG4gIC8qKiBGaW5kcyBibG9jayBpbiBwb3MgKi9cbiAgX21hcFBvc1RvQmxvY2socG9zKSB7XG4gICAgbGV0IGFjY1ZhbCA9ICcnO1xuICAgIGZvciAobGV0IGJpID0gMDsgYmkgPCB0aGlzLl9ibG9ja3MubGVuZ3RoOyArK2JpKSB7XG4gICAgICBjb25zdCBibG9jayA9IHRoaXMuX2Jsb2Nrc1tiaV07XG4gICAgICBjb25zdCBibG9ja1N0YXJ0UG9zID0gYWNjVmFsLmxlbmd0aDtcbiAgICAgIGFjY1ZhbCArPSBibG9jay52YWx1ZTtcbiAgICAgIGlmIChwb3MgPD0gYWNjVmFsLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGluZGV4OiBiaSxcbiAgICAgICAgICBvZmZzZXQ6IHBvcyAtIGJsb2NrU3RhcnRQb3NcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKiogKi9cbiAgX2Jsb2NrU3RhcnRQb3MoYmxvY2tJbmRleCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3Muc2xpY2UoMCwgYmxvY2tJbmRleCkucmVkdWNlKChwb3MsIGIpID0+IHBvcyArPSBiLnZhbHVlLmxlbmd0aCwgMCk7XG4gIH1cblxuICAvKiogKi9cbiAgX2ZvckVhY2hCbG9ja3NJblJhbmdlKGZyb21Qb3MpIHtcbiAgICBsZXQgdG9Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMudmFsdWUubGVuZ3RoO1xuICAgIGxldCBmbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGZyb21CbG9ja0l0ZXIgPSB0aGlzLl9tYXBQb3NUb0Jsb2NrKGZyb21Qb3MpO1xuICAgIGlmIChmcm9tQmxvY2tJdGVyKSB7XG4gICAgICBjb25zdCB0b0Jsb2NrSXRlciA9IHRoaXMuX21hcFBvc1RvQmxvY2sodG9Qb3MpO1xuICAgICAgLy8gcHJvY2VzcyBmaXJzdCBibG9ja1xuICAgICAgY29uc3QgaXNTYW1lQmxvY2sgPSB0b0Jsb2NrSXRlciAmJiBmcm9tQmxvY2tJdGVyLmluZGV4ID09PSB0b0Jsb2NrSXRlci5pbmRleDtcbiAgICAgIGNvbnN0IGZyb21CbG9ja1N0YXJ0UG9zID0gZnJvbUJsb2NrSXRlci5vZmZzZXQ7XG4gICAgICBjb25zdCBmcm9tQmxvY2tFbmRQb3MgPSB0b0Jsb2NrSXRlciAmJiBpc1NhbWVCbG9jayA/IHRvQmxvY2tJdGVyLm9mZnNldCA6IHRoaXMuX2Jsb2Nrc1tmcm9tQmxvY2tJdGVyLmluZGV4XS52YWx1ZS5sZW5ndGg7XG4gICAgICBmbih0aGlzLl9ibG9ja3NbZnJvbUJsb2NrSXRlci5pbmRleF0sIGZyb21CbG9ja0l0ZXIuaW5kZXgsIGZyb21CbG9ja1N0YXJ0UG9zLCBmcm9tQmxvY2tFbmRQb3MpO1xuICAgICAgaWYgKHRvQmxvY2tJdGVyICYmICFpc1NhbWVCbG9jaykge1xuICAgICAgICAvLyBwcm9jZXNzIGludGVybWVkaWF0ZSBibG9ja3NcbiAgICAgICAgZm9yIChsZXQgYmkgPSBmcm9tQmxvY2tJdGVyLmluZGV4ICsgMTsgYmkgPCB0b0Jsb2NrSXRlci5pbmRleDsgKytiaSkge1xuICAgICAgICAgIGZuKHRoaXMuX2Jsb2Nrc1tiaV0sIGJpLCAwLCB0aGlzLl9ibG9ja3NbYmldLnZhbHVlLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwcm9jZXNzIGxhc3QgYmxvY2tcbiAgICAgICAgZm4odGhpcy5fYmxvY2tzW3RvQmxvY2tJdGVyLmluZGV4XSwgdG9CbG9ja0l0ZXIuaW5kZXgsIDAsIHRvQmxvY2tJdGVyLm9mZnNldCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIHJlbW92ZSgpIHtcbiAgICBsZXQgZnJvbVBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICBsZXQgdG9Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMudmFsdWUubGVuZ3RoO1xuICAgIGNvbnN0IHJlbW92ZURldGFpbHMgPSBzdXBlci5yZW1vdmUoZnJvbVBvcywgdG9Qb3MpO1xuICAgIHRoaXMuX2ZvckVhY2hCbG9ja3NJblJhbmdlKGZyb21Qb3MsIHRvUG9zLCAoYiwgXywgYkZyb21Qb3MsIGJUb1BvcykgPT4ge1xuICAgICAgcmVtb3ZlRGV0YWlscy5hZ2dyZWdhdGUoYi5yZW1vdmUoYkZyb21Qb3MsIGJUb1BvcykpO1xuICAgIH0pO1xuICAgIHJldHVybiByZW1vdmVEZXRhaWxzO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIG5lYXJlc3RJbnB1dFBvcyhjdXJzb3JQb3MpIHtcbiAgICBsZXQgZGlyZWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBESVJFQ1RJT04uTk9ORTtcbiAgICBpZiAoIXRoaXMuX2Jsb2Nrcy5sZW5ndGgpIHJldHVybiAwO1xuICAgIGNvbnN0IGN1cnNvciA9IG5ldyBQYXR0ZXJuQ3Vyc29yKHRoaXMsIGN1cnNvclBvcyk7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLk5PTkUpIHtcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIE5PTkUgc2hvdWxkIG9ubHkgZ28gb3V0IGZyb20gZml4ZWQgdG8gdGhlIHJpZ2h0IVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgaWYgKGN1cnNvci5wdXNoUmlnaHRCZWZvcmVJbnB1dCgpKSByZXR1cm4gY3Vyc29yLnBvcztcbiAgICAgIGN1cnNvci5wb3BTdGF0ZSgpO1xuICAgICAgaWYgKGN1cnNvci5wdXNoTGVmdEJlZm9yZUlucHV0KCkpIHJldHVybiBjdXJzb3IucG9zO1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWUubGVuZ3RoO1xuICAgIH1cblxuICAgIC8vIEZPUkNFIGlzIG9ubHkgYWJvdXQgYXwqIG90aGVyd2lzZSBpcyAwXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLkxFRlQgfHwgZGlyZWN0aW9uID09PSBESVJFQ1RJT04uRk9SQ0VfTEVGVCkge1xuICAgICAgLy8gdHJ5IHRvIGJyZWFrIGZhc3Qgd2hlbiAqfGFcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTi5MRUZUKSB7XG4gICAgICAgIGN1cnNvci5wdXNoUmlnaHRCZWZvcmVGaWxsZWQoKTtcbiAgICAgICAgaWYgKGN1cnNvci5vayAmJiBjdXJzb3IucG9zID09PSBjdXJzb3JQb3MpIHJldHVybiBjdXJzb3JQb3M7XG4gICAgICAgIGN1cnNvci5wb3BTdGF0ZSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBmb3J3YXJkIGZsb3dcbiAgICAgIGN1cnNvci5wdXNoTGVmdEJlZm9yZUlucHV0KCk7XG4gICAgICBjdXJzb3IucHVzaExlZnRCZWZvcmVSZXF1aXJlZCgpO1xuICAgICAgY3Vyc29yLnB1c2hMZWZ0QmVmb3JlRmlsbGVkKCk7XG5cbiAgICAgIC8vIGJhY2t3YXJkIGZsb3dcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTi5MRUZUKSB7XG4gICAgICAgIGN1cnNvci5wdXNoUmlnaHRCZWZvcmVJbnB1dCgpO1xuICAgICAgICBjdXJzb3IucHVzaFJpZ2h0QmVmb3JlUmVxdWlyZWQoKTtcbiAgICAgICAgaWYgKGN1cnNvci5vayAmJiBjdXJzb3IucG9zIDw9IGN1cnNvclBvcykgcmV0dXJuIGN1cnNvci5wb3M7XG4gICAgICAgIGN1cnNvci5wb3BTdGF0ZSgpO1xuICAgICAgICBpZiAoY3Vyc29yLm9rICYmIGN1cnNvci5wb3MgPD0gY3Vyc29yUG9zKSByZXR1cm4gY3Vyc29yLnBvcztcbiAgICAgICAgY3Vyc29yLnBvcFN0YXRlKCk7XG4gICAgICB9XG4gICAgICBpZiAoY3Vyc29yLm9rKSByZXR1cm4gY3Vyc29yLnBvcztcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTi5GT1JDRV9MRUZUKSByZXR1cm4gMDtcbiAgICAgIGN1cnNvci5wb3BTdGF0ZSgpO1xuICAgICAgaWYgKGN1cnNvci5vaykgcmV0dXJuIGN1cnNvci5wb3M7XG4gICAgICBjdXJzb3IucG9wU3RhdGUoKTtcbiAgICAgIGlmIChjdXJzb3Iub2spIHJldHVybiBjdXJzb3IucG9zO1xuXG4gICAgICAvLyBjdXJzb3IucG9wU3RhdGUoKTtcbiAgICAgIC8vIGlmIChcbiAgICAgIC8vICAgY3Vyc29yLnB1c2hSaWdodEJlZm9yZUlucHV0KCkgJiZcbiAgICAgIC8vICAgLy8gVE9ETyBIQUNLIGZvciBsYXp5IGlmIGhhcyBhbGlnbmVkIGxlZnQgaW5zaWRlIGZpeGVkIGFuZCBoYXMgY2FtZSB0byB0aGUgc3RhcnQgLSB1c2Ugc3RhcnQgcG9zaXRpb25cbiAgICAgIC8vICAgKCF0aGlzLmxhenkgfHwgdGhpcy5leHRyYWN0SW5wdXQoKSlcbiAgICAgIC8vICkgcmV0dXJuIGN1cnNvci5wb3M7XG5cbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAoZGlyZWN0aW9uID09PSBESVJFQ1RJT04uUklHSFQgfHwgZGlyZWN0aW9uID09PSBESVJFQ1RJT04uRk9SQ0VfUklHSFQpIHtcbiAgICAgIC8vIGZvcndhcmQgZmxvd1xuICAgICAgY3Vyc29yLnB1c2hSaWdodEJlZm9yZUlucHV0KCk7XG4gICAgICBjdXJzb3IucHVzaFJpZ2h0QmVmb3JlUmVxdWlyZWQoKTtcbiAgICAgIGlmIChjdXJzb3IucHVzaFJpZ2h0QmVmb3JlRmlsbGVkKCkpIHJldHVybiBjdXJzb3IucG9zO1xuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLkZPUkNFX1JJR0hUKSByZXR1cm4gdGhpcy52YWx1ZS5sZW5ndGg7XG5cbiAgICAgIC8vIGJhY2t3YXJkIGZsb3dcbiAgICAgIGN1cnNvci5wb3BTdGF0ZSgpO1xuICAgICAgaWYgKGN1cnNvci5vaykgcmV0dXJuIGN1cnNvci5wb3M7XG4gICAgICBjdXJzb3IucG9wU3RhdGUoKTtcbiAgICAgIGlmIChjdXJzb3Iub2spIHJldHVybiBjdXJzb3IucG9zO1xuICAgICAgcmV0dXJuIHRoaXMubmVhcmVzdElucHV0UG9zKGN1cnNvclBvcywgRElSRUNUSU9OLkxFRlQpO1xuICAgIH1cbiAgICByZXR1cm4gY3Vyc29yUG9zO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIHRvdGFsSW5wdXRQb3NpdGlvbnMoKSB7XG4gICAgbGV0IGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgbGV0IHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICBsZXQgdG90YWwgPSAwO1xuICAgIHRoaXMuX2ZvckVhY2hCbG9ja3NJblJhbmdlKGZyb21Qb3MsIHRvUG9zLCAoYiwgXywgYkZyb21Qb3MsIGJUb1BvcykgPT4ge1xuICAgICAgdG90YWwgKz0gYi50b3RhbElucHV0UG9zaXRpb25zKGJGcm9tUG9zLCBiVG9Qb3MpO1xuICAgIH0pO1xuICAgIHJldHVybiB0b3RhbDtcbiAgfVxuXG4gIC8qKiBHZXQgYmxvY2sgYnkgbmFtZSAqL1xuICBtYXNrZWRCbG9jayhuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWFza2VkQmxvY2tzKG5hbWUpWzBdO1xuICB9XG5cbiAgLyoqIEdldCBhbGwgYmxvY2tzIGJ5IG5hbWUgKi9cbiAgbWFza2VkQmxvY2tzKG5hbWUpIHtcbiAgICBjb25zdCBpbmRpY2VzID0gdGhpcy5fbWFza2VkQmxvY2tzW25hbWVdO1xuICAgIGlmICghaW5kaWNlcykgcmV0dXJuIFtdO1xuICAgIHJldHVybiBpbmRpY2VzLm1hcChnaSA9PiB0aGlzLl9ibG9ja3NbZ2ldKTtcbiAgfVxufVxuTWFza2VkUGF0dGVybi5ERUZBVUxUUyA9IHtcbiAgbGF6eTogdHJ1ZSxcbiAgcGxhY2Vob2xkZXJDaGFyOiAnXydcbn07XG5NYXNrZWRQYXR0ZXJuLlNUT1BfQ0hBUiA9ICdgJztcbk1hc2tlZFBhdHRlcm4uRVNDQVBFX0NIQVIgPSAnXFxcXCc7XG5NYXNrZWRQYXR0ZXJuLklucHV0RGVmaW5pdGlvbiA9IFBhdHRlcm5JbnB1dERlZmluaXRpb247XG5NYXNrZWRQYXR0ZXJuLkZpeGVkRGVmaW5pdGlvbiA9IFBhdHRlcm5GaXhlZERlZmluaXRpb247XG5JTWFzay5NYXNrZWRQYXR0ZXJuID0gTWFza2VkUGF0dGVybjtcblxuZXhwb3J0IHsgTWFza2VkUGF0dGVybiBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBfIGFzIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIH0gZnJvbSAnLi4vLi4vX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy02YjNiZDQwNC5qcyc7XG5pbXBvcnQgQ2hhbmdlRGV0YWlscyBmcm9tICcuLi8uLi9jb3JlL2NoYW5nZS1kZXRhaWxzLmpzJztcbmltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi4vLi4vY29yZS91dGlscy5qcyc7XG5pbXBvcnQgQ29udGludW91c1RhaWxEZXRhaWxzIGZyb20gJy4uLy4uL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uLy4uL2NvcmUvaG9sZGVyLmpzJztcblxuY29uc3QgX2V4Y2x1ZGVkID0gW1wiY2h1bmtzXCJdO1xuY2xhc3MgQ2h1bmtzVGFpbERldGFpbHMge1xuICAvKiogKi9cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQgY2h1bmtzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcbiAgICBsZXQgZnJvbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICB0aGlzLmNodW5rcyA9IGNodW5rcztcbiAgICB0aGlzLmZyb20gPSBmcm9tO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmNodW5rcy5tYXAoU3RyaW5nKS5qb2luKCcnKTtcbiAgfVxuXG4gIC8vICRGbG93Rml4TWUgbm8gaWRlYXNcbiAgZXh0ZW5kKHRhaWxDaHVuaykge1xuICAgIGlmICghU3RyaW5nKHRhaWxDaHVuaykpIHJldHVybjtcbiAgICBpZiAoaXNTdHJpbmcodGFpbENodW5rKSkgdGFpbENodW5rID0gbmV3IENvbnRpbnVvdXNUYWlsRGV0YWlscyhTdHJpbmcodGFpbENodW5rKSk7XG4gICAgY29uc3QgbGFzdENodW5rID0gdGhpcy5jaHVua3NbdGhpcy5jaHVua3MubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgZXh0ZW5kTGFzdCA9IGxhc3RDaHVuayAmJiAoXG4gICAgLy8gaWYgc3RvcHMgYXJlIHNhbWUgb3IgdGFpbCBoYXMgbm8gc3RvcFxuICAgIGxhc3RDaHVuay5zdG9wID09PSB0YWlsQ2h1bmsuc3RvcCB8fCB0YWlsQ2h1bmsuc3RvcCA9PSBudWxsKSAmJlxuICAgIC8vIGlmIHRhaWwgY2h1bmsgZ29lcyBqdXN0IGFmdGVyIGxhc3QgY2h1bmtcbiAgICB0YWlsQ2h1bmsuZnJvbSA9PT0gbGFzdENodW5rLmZyb20gKyBsYXN0Q2h1bmsudG9TdHJpbmcoKS5sZW5ndGg7XG4gICAgaWYgKHRhaWxDaHVuayBpbnN0YW5jZW9mIENvbnRpbnVvdXNUYWlsRGV0YWlscykge1xuICAgICAgLy8gY2hlY2sgdGhlIGFiaWxpdHkgdG8gZXh0ZW5kIHByZXZpb3VzIGNodW5rXG4gICAgICBpZiAoZXh0ZW5kTGFzdCkge1xuICAgICAgICAvLyBleHRlbmQgcHJldmlvdXMgY2h1bmtcbiAgICAgICAgbGFzdENodW5rLmV4dGVuZCh0YWlsQ2h1bmsudG9TdHJpbmcoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBhcHBlbmQgbmV3IGNodW5rXG4gICAgICAgIHRoaXMuY2h1bmtzLnB1c2godGFpbENodW5rKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRhaWxDaHVuayBpbnN0YW5jZW9mIENodW5rc1RhaWxEZXRhaWxzKSB7XG4gICAgICBpZiAodGFpbENodW5rLnN0b3AgPT0gbnVsbCkge1xuICAgICAgICAvLyB1bndyYXAgZmxvYXRpbmcgY2h1bmtzIHRvIHBhcmVudCwga2VlcGluZyBgZnJvbWAgcG9zXG4gICAgICAgIGxldCBmaXJzdFRhaWxDaHVuaztcbiAgICAgICAgd2hpbGUgKHRhaWxDaHVuay5jaHVua3MubGVuZ3RoICYmIHRhaWxDaHVuay5jaHVua3NbMF0uc3RvcCA9PSBudWxsKSB7XG4gICAgICAgICAgZmlyc3RUYWlsQ2h1bmsgPSB0YWlsQ2h1bmsuY2h1bmtzLnNoaWZ0KCk7XG4gICAgICAgICAgZmlyc3RUYWlsQ2h1bmsuZnJvbSArPSB0YWlsQ2h1bmsuZnJvbTtcbiAgICAgICAgICB0aGlzLmV4dGVuZChmaXJzdFRhaWxDaHVuayk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gaWYgdGFpbCBjaHVuayBzdGlsbCBoYXMgdmFsdWVcbiAgICAgIGlmICh0YWlsQ2h1bmsudG9TdHJpbmcoKSkge1xuICAgICAgICAvLyBpZiBjaHVua3MgY29udGFpbnMgc3RvcHMsIHRoZW4gcG9wdXAgc3RvcCB0byBjb250YWluZXJcbiAgICAgICAgdGFpbENodW5rLnN0b3AgPSB0YWlsQ2h1bmsuYmxvY2tJbmRleDtcbiAgICAgICAgdGhpcy5jaHVua3MucHVzaCh0YWlsQ2h1bmspO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBhcHBlbmRUbyhtYXNrZWQpIHtcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgaWYgKCEobWFza2VkIGluc3RhbmNlb2YgSU1hc2suTWFza2VkUGF0dGVybikpIHtcbiAgICAgIGNvbnN0IHRhaWwgPSBuZXcgQ29udGludW91c1RhaWxEZXRhaWxzKHRoaXMudG9TdHJpbmcoKSk7XG4gICAgICByZXR1cm4gdGFpbC5hcHBlbmRUbyhtYXNrZWQpO1xuICAgIH1cbiAgICBjb25zdCBkZXRhaWxzID0gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICBmb3IgKGxldCBjaSA9IDA7IGNpIDwgdGhpcy5jaHVua3MubGVuZ3RoICYmICFkZXRhaWxzLnNraXA7ICsrY2kpIHtcbiAgICAgIGNvbnN0IGNodW5rID0gdGhpcy5jaHVua3NbY2ldO1xuICAgICAgY29uc3QgbGFzdEJsb2NrSXRlciA9IG1hc2tlZC5fbWFwUG9zVG9CbG9jayhtYXNrZWQudmFsdWUubGVuZ3RoKTtcbiAgICAgIGNvbnN0IHN0b3AgPSBjaHVuay5zdG9wO1xuICAgICAgbGV0IGNodW5rQmxvY2s7XG4gICAgICBpZiAoc3RvcCAhPSBudWxsICYmIChcbiAgICAgIC8vIGlmIGJsb2NrIG5vdCBmb3VuZCBvciBzdG9wIGlzIGJlaGluZCBsYXN0QmxvY2tcbiAgICAgICFsYXN0QmxvY2tJdGVyIHx8IGxhc3RCbG9ja0l0ZXIuaW5kZXggPD0gc3RvcCkpIHtcbiAgICAgICAgaWYgKGNodW5rIGluc3RhbmNlb2YgQ2h1bmtzVGFpbERldGFpbHMgfHxcbiAgICAgICAgLy8gZm9yIGNvbnRpbnVvdXMgYmxvY2sgYWxzbyBjaGVjayBpZiBzdG9wIGlzIGV4aXN0XG4gICAgICAgIG1hc2tlZC5fc3RvcHMuaW5kZXhPZihzdG9wKSA+PSAwKSB7XG4gICAgICAgICAgY29uc3QgcGhEZXRhaWxzID0gbWFza2VkLl9hcHBlbmRQbGFjZWhvbGRlcihzdG9wKTtcbiAgICAgICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZShwaERldGFpbHMpO1xuICAgICAgICB9XG4gICAgICAgIGNodW5rQmxvY2sgPSBjaHVuayBpbnN0YW5jZW9mIENodW5rc1RhaWxEZXRhaWxzICYmIG1hc2tlZC5fYmxvY2tzW3N0b3BdO1xuICAgICAgfVxuICAgICAgaWYgKGNodW5rQmxvY2spIHtcbiAgICAgICAgY29uc3QgdGFpbERldGFpbHMgPSBjaHVua0Jsb2NrLmFwcGVuZFRhaWwoY2h1bmspO1xuICAgICAgICB0YWlsRGV0YWlscy5za2lwID0gZmFsc2U7IC8vIGFsd2F5cyBpZ25vcmUgc2tpcCwgaXQgd2lsbCBiZSBzZXQgb24gbGFzdFxuICAgICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZSh0YWlsRGV0YWlscyk7XG4gICAgICAgIG1hc2tlZC5fdmFsdWUgKz0gdGFpbERldGFpbHMuaW5zZXJ0ZWQ7XG5cbiAgICAgICAgLy8gZ2V0IG5vdCBpbnNlcnRlZCBjaGFyc1xuICAgICAgICBjb25zdCByZW1haW5DaGFycyA9IGNodW5rLnRvU3RyaW5nKCkuc2xpY2UodGFpbERldGFpbHMucmF3SW5zZXJ0ZWQubGVuZ3RoKTtcbiAgICAgICAgaWYgKHJlbWFpbkNoYXJzKSBkZXRhaWxzLmFnZ3JlZ2F0ZShtYXNrZWQuYXBwZW5kKHJlbWFpbkNoYXJzLCB7XG4gICAgICAgICAgdGFpbDogdHJ1ZVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZShtYXNrZWQuYXBwZW5kKGNodW5rLnRvU3RyaW5nKCksIHtcbiAgICAgICAgICB0YWlsOiB0cnVlXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRldGFpbHM7XG4gIH1cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjaHVua3M6IHRoaXMuY2h1bmtzLm1hcChjID0+IGMuc3RhdGUpLFxuICAgICAgZnJvbTogdGhpcy5mcm9tLFxuICAgICAgc3RvcDogdGhpcy5zdG9wLFxuICAgICAgYmxvY2tJbmRleDogdGhpcy5ibG9ja0luZGV4XG4gICAgfTtcbiAgfVxuICBzZXQgc3RhdGUoc3RhdGUpIHtcbiAgICBjb25zdCB7XG4gICAgICAgIGNodW5rc1xuICAgICAgfSA9IHN0YXRlLFxuICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzdGF0ZSwgX2V4Y2x1ZGVkKTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHByb3BzKTtcbiAgICB0aGlzLmNodW5rcyA9IGNodW5rcy5tYXAoY3N0YXRlID0+IHtcbiAgICAgIGNvbnN0IGNodW5rID0gXCJjaHVua3NcIiBpbiBjc3RhdGUgPyBuZXcgQ2h1bmtzVGFpbERldGFpbHMoKSA6IG5ldyBDb250aW51b3VzVGFpbERldGFpbHMoKTtcbiAgICAgIC8vICRGbG93Rml4TWUgYWxyZWFkeSBjaGVja2VkIGFib3ZlXG4gICAgICBjaHVuay5zdGF0ZSA9IGNzdGF0ZTtcbiAgICAgIHJldHVybiBjaHVuaztcbiAgICB9KTtcbiAgfVxuICB1bnNoaWZ0KGJlZm9yZVBvcykge1xuICAgIGlmICghdGhpcy5jaHVua3MubGVuZ3RoIHx8IGJlZm9yZVBvcyAhPSBudWxsICYmIHRoaXMuZnJvbSA+PSBiZWZvcmVQb3MpIHJldHVybiAnJztcbiAgICBjb25zdCBjaHVua1NoaWZ0UG9zID0gYmVmb3JlUG9zICE9IG51bGwgPyBiZWZvcmVQb3MgLSB0aGlzLmZyb20gOiBiZWZvcmVQb3M7XG4gICAgbGV0IGNpID0gMDtcbiAgICB3aGlsZSAoY2kgPCB0aGlzLmNodW5rcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGNodW5rID0gdGhpcy5jaHVua3NbY2ldO1xuICAgICAgY29uc3Qgc2hpZnRDaGFyID0gY2h1bmsudW5zaGlmdChjaHVua1NoaWZ0UG9zKTtcbiAgICAgIGlmIChjaHVuay50b1N0cmluZygpKSB7XG4gICAgICAgIC8vIGNodW5rIHN0aWxsIGNvbnRhaW5zIHZhbHVlXG4gICAgICAgIC8vIGJ1dCBub3Qgc2hpZnRlZCAtIG1lYW5zIG5vIG1vcmUgYXZhaWxhYmxlIGNoYXJzIHRvIHNoaWZ0XG4gICAgICAgIGlmICghc2hpZnRDaGFyKSBicmVhaztcbiAgICAgICAgKytjaTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNsZWFuIGlmIGNodW5rIGhhcyBubyB2YWx1ZVxuICAgICAgICB0aGlzLmNodW5rcy5zcGxpY2UoY2ksIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHNoaWZ0Q2hhcikgcmV0dXJuIHNoaWZ0Q2hhcjtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHNoaWZ0KCkge1xuICAgIGlmICghdGhpcy5jaHVua3MubGVuZ3RoKSByZXR1cm4gJyc7XG4gICAgbGV0IGNpID0gdGhpcy5jaHVua3MubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAoMCA8PSBjaSkge1xuICAgICAgY29uc3QgY2h1bmsgPSB0aGlzLmNodW5rc1tjaV07XG4gICAgICBjb25zdCBzaGlmdENoYXIgPSBjaHVuay5zaGlmdCgpO1xuICAgICAgaWYgKGNodW5rLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgLy8gY2h1bmsgc3RpbGwgY29udGFpbnMgdmFsdWVcbiAgICAgICAgLy8gYnV0IG5vdCBzaGlmdGVkIC0gbWVhbnMgbm8gbW9yZSBhdmFpbGFibGUgY2hhcnMgdG8gc2hpZnRcbiAgICAgICAgaWYgKCFzaGlmdENoYXIpIGJyZWFrO1xuICAgICAgICAtLWNpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY2xlYW4gaWYgY2h1bmsgaGFzIG5vIHZhbHVlXG4gICAgICAgIHRoaXMuY2h1bmtzLnNwbGljZShjaSwgMSk7XG4gICAgICB9XG4gICAgICBpZiAoc2hpZnRDaGFyKSByZXR1cm4gc2hpZnRDaGFyO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ2h1bmtzVGFpbERldGFpbHMgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgRElSRUNUSU9OIH0gZnJvbSAnLi4vLi4vY29yZS91dGlscy5qcyc7XG5pbXBvcnQgJy4uLy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuLi8uLi9jb3JlL2hvbGRlci5qcyc7XG5cbmNsYXNzIFBhdHRlcm5DdXJzb3Ige1xuICBjb25zdHJ1Y3RvcihtYXNrZWQsIHBvcykge1xuICAgIHRoaXMubWFza2VkID0gbWFza2VkO1xuICAgIHRoaXMuX2xvZyA9IFtdO1xuICAgIGNvbnN0IHtcbiAgICAgIG9mZnNldCxcbiAgICAgIGluZGV4XG4gICAgfSA9IG1hc2tlZC5fbWFwUG9zVG9CbG9jayhwb3MpIHx8IChwb3MgPCAwID9cbiAgICAvLyBmaXJzdFxuICAgIHtcbiAgICAgIGluZGV4OiAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSA6XG4gICAgLy8gbGFzdFxuICAgIHtcbiAgICAgIGluZGV4OiB0aGlzLm1hc2tlZC5fYmxvY2tzLmxlbmd0aCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0pO1xuICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICB0aGlzLm9rID0gZmFsc2U7XG4gIH1cbiAgZ2V0IGJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLm1hc2tlZC5fYmxvY2tzW3RoaXMuaW5kZXhdO1xuICB9XG4gIGdldCBwb3MoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFza2VkLl9ibG9ja1N0YXJ0UG9zKHRoaXMuaW5kZXgpICsgdGhpcy5vZmZzZXQ7XG4gIH1cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbmRleDogdGhpcy5pbmRleCxcbiAgICAgIG9mZnNldDogdGhpcy5vZmZzZXQsXG4gICAgICBvazogdGhpcy5va1xuICAgIH07XG4gIH1cbiAgc2V0IHN0YXRlKHMpIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHMpO1xuICB9XG4gIHB1c2hTdGF0ZSgpIHtcbiAgICB0aGlzLl9sb2cucHVzaCh0aGlzLnN0YXRlKTtcbiAgfVxuICBwb3BTdGF0ZSgpIHtcbiAgICBjb25zdCBzID0gdGhpcy5fbG9nLnBvcCgpO1xuICAgIHRoaXMuc3RhdGUgPSBzO1xuICAgIHJldHVybiBzO1xuICB9XG4gIGJpbmRCbG9jaygpIHtcbiAgICBpZiAodGhpcy5ibG9jaykgcmV0dXJuO1xuICAgIGlmICh0aGlzLmluZGV4IDwgMCkge1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICB0aGlzLm9mZnNldCA9IDA7XG4gICAgfVxuICAgIGlmICh0aGlzLmluZGV4ID49IHRoaXMubWFza2VkLl9ibG9ja3MubGVuZ3RoKSB7XG4gICAgICB0aGlzLmluZGV4ID0gdGhpcy5tYXNrZWQuX2Jsb2Nrcy5sZW5ndGggLSAxO1xuICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLmJsb2NrLnZhbHVlLmxlbmd0aDtcbiAgICB9XG4gIH1cbiAgX3B1c2hMZWZ0KGZuKSB7XG4gICAgdGhpcy5wdXNoU3RhdGUoKTtcbiAgICBmb3IgKHRoaXMuYmluZEJsb2NrKCk7IDAgPD0gdGhpcy5pbmRleDsgLS10aGlzLmluZGV4LCB0aGlzLm9mZnNldCA9ICgoX3RoaXMkYmxvY2sgPSB0aGlzLmJsb2NrKSA9PT0gbnVsbCB8fCBfdGhpcyRibG9jayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYmxvY2sudmFsdWUubGVuZ3RoKSB8fCAwKSB7XG4gICAgICB2YXIgX3RoaXMkYmxvY2s7XG4gICAgICBpZiAoZm4oKSkgcmV0dXJuIHRoaXMub2sgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vayA9IGZhbHNlO1xuICB9XG4gIF9wdXNoUmlnaHQoZm4pIHtcbiAgICB0aGlzLnB1c2hTdGF0ZSgpO1xuICAgIGZvciAodGhpcy5iaW5kQmxvY2soKTsgdGhpcy5pbmRleCA8IHRoaXMubWFza2VkLl9ibG9ja3MubGVuZ3RoOyArK3RoaXMuaW5kZXgsIHRoaXMub2Zmc2V0ID0gMCkge1xuICAgICAgaWYgKGZuKCkpIHJldHVybiB0aGlzLm9rID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub2sgPSBmYWxzZTtcbiAgfVxuICBwdXNoTGVmdEJlZm9yZUZpbGxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHVzaExlZnQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuYmxvY2suaXNGaXhlZCB8fCAhdGhpcy5ibG9jay52YWx1ZSkgcmV0dXJuO1xuICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLmJsb2NrLm5lYXJlc3RJbnB1dFBvcyh0aGlzLm9mZnNldCwgRElSRUNUSU9OLkZPUkNFX0xFRlQpO1xuICAgICAgaWYgKHRoaXMub2Zmc2V0ICE9PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICBwdXNoTGVmdEJlZm9yZUlucHV0KCkge1xuICAgIC8vIGNhc2VzOlxuICAgIC8vIGZpbGxlZCBpbnB1dDogMDB8XG4gICAgLy8gb3B0aW9uYWwgZW1wdHkgaW5wdXQ6IDAwW118XG4gICAgLy8gbmVzdGVkIGJsb2NrOiBYWDxbXT58XG4gICAgcmV0dXJuIHRoaXMuX3B1c2hMZWZ0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmJsb2NrLmlzRml4ZWQpIHJldHVybjtcbiAgICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5ibG9jay5uZWFyZXN0SW5wdXRQb3ModGhpcy5vZmZzZXQsIERJUkVDVElPTi5MRUZUKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9XG4gIHB1c2hMZWZ0QmVmb3JlUmVxdWlyZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2hMZWZ0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmJsb2NrLmlzRml4ZWQgfHwgdGhpcy5ibG9jay5pc09wdGlvbmFsICYmICF0aGlzLmJsb2NrLnZhbHVlKSByZXR1cm47XG4gICAgICB0aGlzLm9mZnNldCA9IHRoaXMuYmxvY2submVhcmVzdElucHV0UG9zKHRoaXMub2Zmc2V0LCBESVJFQ1RJT04uTEVGVCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICBwdXNoUmlnaHRCZWZvcmVGaWxsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2hSaWdodCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5ibG9jay5pc0ZpeGVkIHx8ICF0aGlzLmJsb2NrLnZhbHVlKSByZXR1cm47XG4gICAgICB0aGlzLm9mZnNldCA9IHRoaXMuYmxvY2submVhcmVzdElucHV0UG9zKHRoaXMub2Zmc2V0LCBESVJFQ1RJT04uRk9SQ0VfUklHSFQpO1xuICAgICAgaWYgKHRoaXMub2Zmc2V0ICE9PSB0aGlzLmJsb2NrLnZhbHVlLmxlbmd0aCkgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH1cbiAgcHVzaFJpZ2h0QmVmb3JlSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2hSaWdodCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5ibG9jay5pc0ZpeGVkKSByZXR1cm47XG5cbiAgICAgIC8vIGNvbnN0IG8gPSB0aGlzLm9mZnNldDtcbiAgICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5ibG9jay5uZWFyZXN0SW5wdXRQb3ModGhpcy5vZmZzZXQsIERJUkVDVElPTi5OT05FKTtcbiAgICAgIC8vIEhBQ0sgY2FzZXMgbGlrZSAoU1RJTEwgRE9FUyBOT1QgV09SSyBGT1IgTkVTVEVEKVxuICAgICAgLy8gYWF8WFxuICAgICAgLy8gYWE8WHxbXT5YXyAgICAtIHRoaXMgd2lsbCBub3Qgd29ya1xuICAgICAgLy8gaWYgKG8gJiYgbyA9PT0gdGhpcy5vZmZzZXQgJiYgdGhpcy5ibG9jayBpbnN0YW5jZW9mIFBhdHRlcm5JbnB1dERlZmluaXRpb24pIGNvbnRpbnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH1cbiAgcHVzaFJpZ2h0QmVmb3JlUmVxdWlyZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2hSaWdodCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5ibG9jay5pc0ZpeGVkIHx8IHRoaXMuYmxvY2suaXNPcHRpb25hbCAmJiAhdGhpcy5ibG9jay52YWx1ZSkgcmV0dXJuO1xuXG4gICAgICAvLyBUT0RPIGNoZWNrIHxbKl1YWF9cbiAgICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5ibG9jay5uZWFyZXN0SW5wdXRQb3ModGhpcy5vZmZzZXQsIERJUkVDVElPTi5OT05FKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IFBhdHRlcm5DdXJzb3IgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IENoYW5nZURldGFpbHMgZnJvbSAnLi4vLi4vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyc7XG5pbXBvcnQgeyBESVJFQ1RJT04sIGlzU3RyaW5nIH0gZnJvbSAnLi4vLi4vY29yZS91dGlscy5qcyc7XG5pbXBvcnQgQ29udGludW91c1RhaWxEZXRhaWxzIGZyb20gJy4uLy4uL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuLi8uLi9jb3JlL2hvbGRlci5qcyc7XG5cbi8qKiAqL1xuXG5jbGFzcyBQYXR0ZXJuRml4ZWREZWZpbml0aW9uIHtcbiAgLyoqICovXG5cbiAgLyoqICovXG5cbiAgLyoqICovXG5cbiAgLyoqICovXG5cbiAgLyoqICovXG5cbiAgLyoqICovXG5cbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0cyk7XG4gICAgdGhpcy5fdmFsdWUgPSAnJztcbiAgICB0aGlzLmlzRml4ZWQgPSB0cnVlO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgZ2V0IHVubWFza2VkVmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNVbm1hc2tpbmcgPyB0aGlzLnZhbHVlIDogJyc7XG4gIH1cbiAgZ2V0IGRpc3BsYXlWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLl9pc1Jhd0lucHV0ID0gZmFsc2U7XG4gICAgdGhpcy5fdmFsdWUgPSAnJztcbiAgfVxuICByZW1vdmUoKSB7XG4gICAgbGV0IGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgbGV0IHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLl92YWx1ZS5sZW5ndGg7XG4gICAgdGhpcy5fdmFsdWUgPSB0aGlzLl92YWx1ZS5zbGljZSgwLCBmcm9tUG9zKSArIHRoaXMuX3ZhbHVlLnNsaWNlKHRvUG9zKTtcbiAgICBpZiAoIXRoaXMuX3ZhbHVlKSB0aGlzLl9pc1Jhd0lucHV0ID0gZmFsc2U7XG4gICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gIH1cbiAgbmVhcmVzdElucHV0UG9zKGN1cnNvclBvcykge1xuICAgIGxldCBkaXJlY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IERJUkVDVElPTi5OT05FO1xuICAgIGNvbnN0IG1pblBvcyA9IDA7XG4gICAgY29uc3QgbWF4UG9zID0gdGhpcy5fdmFsdWUubGVuZ3RoO1xuICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICBjYXNlIERJUkVDVElPTi5MRUZUOlxuICAgICAgY2FzZSBESVJFQ1RJT04uRk9SQ0VfTEVGVDpcbiAgICAgICAgcmV0dXJuIG1pblBvcztcbiAgICAgIGNhc2UgRElSRUNUSU9OLk5PTkU6XG4gICAgICBjYXNlIERJUkVDVElPTi5SSUdIVDpcbiAgICAgIGNhc2UgRElSRUNUSU9OLkZPUkNFX1JJR0hUOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG1heFBvcztcbiAgICB9XG4gIH1cbiAgdG90YWxJbnB1dFBvc2l0aW9ucygpIHtcbiAgICBsZXQgZnJvbVBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICBsZXQgdG9Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMuX3ZhbHVlLmxlbmd0aDtcbiAgICByZXR1cm4gdGhpcy5faXNSYXdJbnB1dCA/IHRvUG9zIC0gZnJvbVBvcyA6IDA7XG4gIH1cbiAgZXh0cmFjdElucHV0KCkge1xuICAgIGxldCBmcm9tUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIGxldCB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy5fdmFsdWUubGVuZ3RoO1xuICAgIGxldCBmbGFncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgcmV0dXJuIGZsYWdzLnJhdyAmJiB0aGlzLl9pc1Jhd0lucHV0ICYmIHRoaXMuX3ZhbHVlLnNsaWNlKGZyb21Qb3MsIHRvUG9zKSB8fCAnJztcbiAgfVxuICBnZXQgaXNDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBnZXQgaXNGaWxsZWQoKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5fdmFsdWUpO1xuICB9XG4gIF9hcHBlbmRDaGFyKGNoKSB7XG4gICAgbGV0IGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBjb25zdCBkZXRhaWxzID0gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICBpZiAodGhpcy5pc0ZpbGxlZCkgcmV0dXJuIGRldGFpbHM7XG4gICAgY29uc3QgYXBwZW5kRWFnZXIgPSB0aGlzLmVhZ2VyID09PSB0cnVlIHx8IHRoaXMuZWFnZXIgPT09ICdhcHBlbmQnO1xuICAgIGNvbnN0IGFwcGVuZGVkID0gdGhpcy5jaGFyID09PSBjaDtcbiAgICBjb25zdCBpc1Jlc29sdmVkID0gYXBwZW5kZWQgJiYgKHRoaXMuaXNVbm1hc2tpbmcgfHwgZmxhZ3MuaW5wdXQgfHwgZmxhZ3MucmF3KSAmJiAoIWZsYWdzLnJhdyB8fCAhYXBwZW5kRWFnZXIpICYmICFmbGFncy50YWlsO1xuICAgIGlmIChpc1Jlc29sdmVkKSBkZXRhaWxzLnJhd0luc2VydGVkID0gdGhpcy5jaGFyO1xuICAgIHRoaXMuX3ZhbHVlID0gZGV0YWlscy5pbnNlcnRlZCA9IHRoaXMuY2hhcjtcbiAgICB0aGlzLl9pc1Jhd0lucHV0ID0gaXNSZXNvbHZlZCAmJiAoZmxhZ3MucmF3IHx8IGZsYWdzLmlucHV0KTtcbiAgICByZXR1cm4gZGV0YWlscztcbiAgfVxuICBfYXBwZW5kRWFnZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FwcGVuZENoYXIodGhpcy5jaGFyLCB7XG4gICAgICB0YWlsOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgX2FwcGVuZFBsYWNlaG9sZGVyKCkge1xuICAgIGNvbnN0IGRldGFpbHMgPSBuZXcgQ2hhbmdlRGV0YWlscygpO1xuICAgIGlmICh0aGlzLmlzRmlsbGVkKSByZXR1cm4gZGV0YWlscztcbiAgICB0aGlzLl92YWx1ZSA9IGRldGFpbHMuaW5zZXJ0ZWQgPSB0aGlzLmNoYXI7XG4gICAgcmV0dXJuIGRldGFpbHM7XG4gIH1cbiAgZXh0cmFjdFRhaWwoKSB7XG4gICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICByZXR1cm4gbmV3IENvbnRpbnVvdXNUYWlsRGV0YWlscygnJyk7XG4gIH1cblxuICAvLyAkRmxvd0ZpeE1lIG5vIGlkZWFzXG4gIGFwcGVuZFRhaWwodGFpbCkge1xuICAgIGlmIChpc1N0cmluZyh0YWlsKSkgdGFpbCA9IG5ldyBDb250aW51b3VzVGFpbERldGFpbHMoU3RyaW5nKHRhaWwpKTtcbiAgICByZXR1cm4gdGFpbC5hcHBlbmRUbyh0aGlzKTtcbiAgfVxuICBhcHBlbmQoc3RyLCBmbGFncywgdGFpbCkge1xuICAgIGNvbnN0IGRldGFpbHMgPSB0aGlzLl9hcHBlbmRDaGFyKHN0clswXSwgZmxhZ3MpO1xuICAgIGlmICh0YWlsICE9IG51bGwpIHtcbiAgICAgIGRldGFpbHMudGFpbFNoaWZ0ICs9IHRoaXMuYXBwZW5kVGFpbCh0YWlsKS50YWlsU2hpZnQ7XG4gICAgfVxuICAgIHJldHVybiBkZXRhaWxzO1xuICB9XG4gIGRvQ29tbWl0KCkge31cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfdmFsdWU6IHRoaXMuX3ZhbHVlLFxuICAgICAgX2lzUmF3SW5wdXQ6IHRoaXMuX2lzUmF3SW5wdXRcbiAgICB9O1xuICB9XG4gIHNldCBzdGF0ZShzdGF0ZSkge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgc3RhdGUpO1xuICB9XG59XG5cbmV4cG9ydCB7IFBhdHRlcm5GaXhlZERlZmluaXRpb24gYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgXyBhcyBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSB9IGZyb20gJy4uLy4uL19yb2xsdXBQbHVnaW5CYWJlbEhlbHBlcnMtNmIzYmQ0MDQuanMnO1xuaW1wb3J0IGNyZWF0ZU1hc2sgZnJvbSAnLi4vZmFjdG9yeS5qcyc7XG5pbXBvcnQgQ2hhbmdlRGV0YWlscyBmcm9tICcuLi8uLi9jb3JlL2NoYW5nZS1kZXRhaWxzLmpzJztcbmltcG9ydCB7IERJUkVDVElPTiB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0ICcuLi8uLi9jb3JlL2hvbGRlci5qcyc7XG5cbmNvbnN0IF9leGNsdWRlZCA9IFtcInBhcmVudFwiLCBcImlzT3B0aW9uYWxcIiwgXCJwbGFjZWhvbGRlckNoYXJcIiwgXCJkaXNwbGF5Q2hhclwiLCBcImxhenlcIiwgXCJlYWdlclwiXTtcblxuLyoqICovXG5cbmNvbnN0IERFRkFVTFRfSU5QVVRfREVGSU5JVElPTlMgPSB7XG4gICcwJzogL1xcZC8sXG4gICdhJzogL1tcXHUwMDQxLVxcdTAwNUFcXHUwMDYxLVxcdTAwN0FcXHUwMEFBXFx1MDBCNVxcdTAwQkFcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyQzFcXHUwMkM2LVxcdTAyRDFcXHUwMkUwLVxcdTAyRTRcXHUwMkVDXFx1MDJFRVxcdTAzNzAtXFx1MDM3NFxcdTAzNzZcXHUwMzc3XFx1MDM3QS1cXHUwMzdEXFx1MDM4NlxcdTAzODgtXFx1MDM4QVxcdTAzOENcXHUwMzhFLVxcdTAzQTFcXHUwM0EzLVxcdTAzRjVcXHUwM0Y3LVxcdTA0ODFcXHUwNDhBLVxcdTA1MjdcXHUwNTMxLVxcdTA1NTZcXHUwNTU5XFx1MDU2MS1cXHUwNTg3XFx1MDVEMC1cXHUwNUVBXFx1MDVGMC1cXHUwNUYyXFx1MDYyMC1cXHUwNjRBXFx1MDY2RVxcdTA2NkZcXHUwNjcxLVxcdTA2RDNcXHUwNkQ1XFx1MDZFNVxcdTA2RTZcXHUwNkVFXFx1MDZFRlxcdTA2RkEtXFx1MDZGQ1xcdTA2RkZcXHUwNzEwXFx1MDcxMi1cXHUwNzJGXFx1MDc0RC1cXHUwN0E1XFx1MDdCMVxcdTA3Q0EtXFx1MDdFQVxcdTA3RjRcXHUwN0Y1XFx1MDdGQVxcdTA4MDAtXFx1MDgxNVxcdTA4MUFcXHUwODI0XFx1MDgyOFxcdTA4NDAtXFx1MDg1OFxcdTA4QTBcXHUwOEEyLVxcdTA4QUNcXHUwOTA0LVxcdTA5MzlcXHUwOTNEXFx1MDk1MFxcdTA5NTgtXFx1MDk2MVxcdTA5NzEtXFx1MDk3N1xcdTA5NzktXFx1MDk3RlxcdTA5ODUtXFx1MDk4Q1xcdTA5OEZcXHUwOTkwXFx1MDk5My1cXHUwOUE4XFx1MDlBQS1cXHUwOUIwXFx1MDlCMlxcdTA5QjYtXFx1MDlCOVxcdTA5QkRcXHUwOUNFXFx1MDlEQ1xcdTA5RERcXHUwOURGLVxcdTA5RTFcXHUwOUYwXFx1MDlGMVxcdTBBMDUtXFx1MEEwQVxcdTBBMEZcXHUwQTEwXFx1MEExMy1cXHUwQTI4XFx1MEEyQS1cXHUwQTMwXFx1MEEzMlxcdTBBMzNcXHUwQTM1XFx1MEEzNlxcdTBBMzhcXHUwQTM5XFx1MEE1OS1cXHUwQTVDXFx1MEE1RVxcdTBBNzItXFx1MEE3NFxcdTBBODUtXFx1MEE4RFxcdTBBOEYtXFx1MEE5MVxcdTBBOTMtXFx1MEFBOFxcdTBBQUEtXFx1MEFCMFxcdTBBQjJcXHUwQUIzXFx1MEFCNS1cXHUwQUI5XFx1MEFCRFxcdTBBRDBcXHUwQUUwXFx1MEFFMVxcdTBCMDUtXFx1MEIwQ1xcdTBCMEZcXHUwQjEwXFx1MEIxMy1cXHUwQjI4XFx1MEIyQS1cXHUwQjMwXFx1MEIzMlxcdTBCMzNcXHUwQjM1LVxcdTBCMzlcXHUwQjNEXFx1MEI1Q1xcdTBCNURcXHUwQjVGLVxcdTBCNjFcXHUwQjcxXFx1MEI4M1xcdTBCODUtXFx1MEI4QVxcdTBCOEUtXFx1MEI5MFxcdTBCOTItXFx1MEI5NVxcdTBCOTlcXHUwQjlBXFx1MEI5Q1xcdTBCOUVcXHUwQjlGXFx1MEJBM1xcdTBCQTRcXHUwQkE4LVxcdTBCQUFcXHUwQkFFLVxcdTBCQjlcXHUwQkQwXFx1MEMwNS1cXHUwQzBDXFx1MEMwRS1cXHUwQzEwXFx1MEMxMi1cXHUwQzI4XFx1MEMyQS1cXHUwQzMzXFx1MEMzNS1cXHUwQzM5XFx1MEMzRFxcdTBDNThcXHUwQzU5XFx1MEM2MFxcdTBDNjFcXHUwQzg1LVxcdTBDOENcXHUwQzhFLVxcdTBDOTBcXHUwQzkyLVxcdTBDQThcXHUwQ0FBLVxcdTBDQjNcXHUwQ0I1LVxcdTBDQjlcXHUwQ0JEXFx1MENERVxcdTBDRTBcXHUwQ0UxXFx1MENGMVxcdTBDRjJcXHUwRDA1LVxcdTBEMENcXHUwRDBFLVxcdTBEMTBcXHUwRDEyLVxcdTBEM0FcXHUwRDNEXFx1MEQ0RVxcdTBENjBcXHUwRDYxXFx1MEQ3QS1cXHUwRDdGXFx1MEQ4NS1cXHUwRDk2XFx1MEQ5QS1cXHUwREIxXFx1MERCMy1cXHUwREJCXFx1MERCRFxcdTBEQzAtXFx1MERDNlxcdTBFMDEtXFx1MEUzMFxcdTBFMzJcXHUwRTMzXFx1MEU0MC1cXHUwRTQ2XFx1MEU4MVxcdTBFODJcXHUwRTg0XFx1MEU4N1xcdTBFODhcXHUwRThBXFx1MEU4RFxcdTBFOTQtXFx1MEU5N1xcdTBFOTktXFx1MEU5RlxcdTBFQTEtXFx1MEVBM1xcdTBFQTVcXHUwRUE3XFx1MEVBQVxcdTBFQUJcXHUwRUFELVxcdTBFQjBcXHUwRUIyXFx1MEVCM1xcdTBFQkRcXHUwRUMwLVxcdTBFQzRcXHUwRUM2XFx1MEVEQy1cXHUwRURGXFx1MEYwMFxcdTBGNDAtXFx1MEY0N1xcdTBGNDktXFx1MEY2Q1xcdTBGODgtXFx1MEY4Q1xcdTEwMDAtXFx1MTAyQVxcdTEwM0ZcXHUxMDUwLVxcdTEwNTVcXHUxMDVBLVxcdTEwNURcXHUxMDYxXFx1MTA2NVxcdTEwNjZcXHUxMDZFLVxcdTEwNzBcXHUxMDc1LVxcdTEwODFcXHUxMDhFXFx1MTBBMC1cXHUxMEM1XFx1MTBDN1xcdTEwQ0RcXHUxMEQwLVxcdTEwRkFcXHUxMEZDLVxcdTEyNDhcXHUxMjRBLVxcdTEyNERcXHUxMjUwLVxcdTEyNTZcXHUxMjU4XFx1MTI1QS1cXHUxMjVEXFx1MTI2MC1cXHUxMjg4XFx1MTI4QS1cXHUxMjhEXFx1MTI5MC1cXHUxMkIwXFx1MTJCMi1cXHUxMkI1XFx1MTJCOC1cXHUxMkJFXFx1MTJDMFxcdTEyQzItXFx1MTJDNVxcdTEyQzgtXFx1MTJENlxcdTEyRDgtXFx1MTMxMFxcdTEzMTItXFx1MTMxNVxcdTEzMTgtXFx1MTM1QVxcdTEzODAtXFx1MTM4RlxcdTEzQTAtXFx1MTNGNFxcdTE0MDEtXFx1MTY2Q1xcdTE2NkYtXFx1MTY3RlxcdTE2ODEtXFx1MTY5QVxcdTE2QTAtXFx1MTZFQVxcdTE3MDAtXFx1MTcwQ1xcdTE3MEUtXFx1MTcxMVxcdTE3MjAtXFx1MTczMVxcdTE3NDAtXFx1MTc1MVxcdTE3NjAtXFx1MTc2Q1xcdTE3NkUtXFx1MTc3MFxcdTE3ODAtXFx1MTdCM1xcdTE3RDdcXHUxN0RDXFx1MTgyMC1cXHUxODc3XFx1MTg4MC1cXHUxOEE4XFx1MThBQVxcdTE4QjAtXFx1MThGNVxcdTE5MDAtXFx1MTkxQ1xcdTE5NTAtXFx1MTk2RFxcdTE5NzAtXFx1MTk3NFxcdTE5ODAtXFx1MTlBQlxcdTE5QzEtXFx1MTlDN1xcdTFBMDAtXFx1MUExNlxcdTFBMjAtXFx1MUE1NFxcdTFBQTdcXHUxQjA1LVxcdTFCMzNcXHUxQjQ1LVxcdTFCNEJcXHUxQjgzLVxcdTFCQTBcXHUxQkFFXFx1MUJBRlxcdTFCQkEtXFx1MUJFNVxcdTFDMDAtXFx1MUMyM1xcdTFDNEQtXFx1MUM0RlxcdTFDNUEtXFx1MUM3RFxcdTFDRTktXFx1MUNFQ1xcdTFDRUUtXFx1MUNGMVxcdTFDRjVcXHUxQ0Y2XFx1MUQwMC1cXHUxREJGXFx1MUUwMC1cXHUxRjE1XFx1MUYxOC1cXHUxRjFEXFx1MUYyMC1cXHUxRjQ1XFx1MUY0OC1cXHUxRjREXFx1MUY1MC1cXHUxRjU3XFx1MUY1OVxcdTFGNUJcXHUxRjVEXFx1MUY1Ri1cXHUxRjdEXFx1MUY4MC1cXHUxRkI0XFx1MUZCNi1cXHUxRkJDXFx1MUZCRVxcdTFGQzItXFx1MUZDNFxcdTFGQzYtXFx1MUZDQ1xcdTFGRDAtXFx1MUZEM1xcdTFGRDYtXFx1MUZEQlxcdTFGRTAtXFx1MUZFQ1xcdTFGRjItXFx1MUZGNFxcdTFGRjYtXFx1MUZGQ1xcdTIwNzFcXHUyMDdGXFx1MjA5MC1cXHUyMDlDXFx1MjEwMlxcdTIxMDdcXHUyMTBBLVxcdTIxMTNcXHUyMTE1XFx1MjExOS1cXHUyMTFEXFx1MjEyNFxcdTIxMjZcXHUyMTI4XFx1MjEyQS1cXHUyMTJEXFx1MjEyRi1cXHUyMTM5XFx1MjEzQy1cXHUyMTNGXFx1MjE0NS1cXHUyMTQ5XFx1MjE0RVxcdTIxODNcXHUyMTg0XFx1MkMwMC1cXHUyQzJFXFx1MkMzMC1cXHUyQzVFXFx1MkM2MC1cXHUyQ0U0XFx1MkNFQi1cXHUyQ0VFXFx1MkNGMlxcdTJDRjNcXHUyRDAwLVxcdTJEMjVcXHUyRDI3XFx1MkQyRFxcdTJEMzAtXFx1MkQ2N1xcdTJENkZcXHUyRDgwLVxcdTJEOTZcXHUyREEwLVxcdTJEQTZcXHUyREE4LVxcdTJEQUVcXHUyREIwLVxcdTJEQjZcXHUyREI4LVxcdTJEQkVcXHUyREMwLVxcdTJEQzZcXHUyREM4LVxcdTJEQ0VcXHUyREQwLVxcdTJERDZcXHUyREQ4LVxcdTJEREVcXHUyRTJGXFx1MzAwNVxcdTMwMDZcXHUzMDMxLVxcdTMwMzVcXHUzMDNCXFx1MzAzQ1xcdTMwNDEtXFx1MzA5NlxcdTMwOUQtXFx1MzA5RlxcdTMwQTEtXFx1MzBGQVxcdTMwRkMtXFx1MzBGRlxcdTMxMDUtXFx1MzEyRFxcdTMxMzEtXFx1MzE4RVxcdTMxQTAtXFx1MzFCQVxcdTMxRjAtXFx1MzFGRlxcdTM0MDAtXFx1NERCNVxcdTRFMDAtXFx1OUZDQ1xcdUEwMDAtXFx1QTQ4Q1xcdUE0RDAtXFx1QTRGRFxcdUE1MDAtXFx1QTYwQ1xcdUE2MTAtXFx1QTYxRlxcdUE2MkFcXHVBNjJCXFx1QTY0MC1cXHVBNjZFXFx1QTY3Ri1cXHVBNjk3XFx1QTZBMC1cXHVBNkU1XFx1QTcxNy1cXHVBNzFGXFx1QTcyMi1cXHVBNzg4XFx1QTc4Qi1cXHVBNzhFXFx1QTc5MC1cXHVBNzkzXFx1QTdBMC1cXHVBN0FBXFx1QTdGOC1cXHVBODAxXFx1QTgwMy1cXHVBODA1XFx1QTgwNy1cXHVBODBBXFx1QTgwQy1cXHVBODIyXFx1QTg0MC1cXHVBODczXFx1QTg4Mi1cXHVBOEIzXFx1QThGMi1cXHVBOEY3XFx1QThGQlxcdUE5MEEtXFx1QTkyNVxcdUE5MzAtXFx1QTk0NlxcdUE5NjAtXFx1QTk3Q1xcdUE5ODQtXFx1QTlCMlxcdUE5Q0ZcXHVBQTAwLVxcdUFBMjhcXHVBQTQwLVxcdUFBNDJcXHVBQTQ0LVxcdUFBNEJcXHVBQTYwLVxcdUFBNzZcXHVBQTdBXFx1QUE4MC1cXHVBQUFGXFx1QUFCMVxcdUFBQjVcXHVBQUI2XFx1QUFCOS1cXHVBQUJEXFx1QUFDMFxcdUFBQzJcXHVBQURCLVxcdUFBRERcXHVBQUUwLVxcdUFBRUFcXHVBQUYyLVxcdUFBRjRcXHVBQjAxLVxcdUFCMDZcXHVBQjA5LVxcdUFCMEVcXHVBQjExLVxcdUFCMTZcXHVBQjIwLVxcdUFCMjZcXHVBQjI4LVxcdUFCMkVcXHVBQkMwLVxcdUFCRTJcXHVBQzAwLVxcdUQ3QTNcXHVEN0IwLVxcdUQ3QzZcXHVEN0NCLVxcdUQ3RkJcXHVGOTAwLVxcdUZBNkRcXHVGQTcwLVxcdUZBRDlcXHVGQjAwLVxcdUZCMDZcXHVGQjEzLVxcdUZCMTdcXHVGQjFEXFx1RkIxRi1cXHVGQjI4XFx1RkIyQS1cXHVGQjM2XFx1RkIzOC1cXHVGQjNDXFx1RkIzRVxcdUZCNDBcXHVGQjQxXFx1RkI0M1xcdUZCNDRcXHVGQjQ2LVxcdUZCQjFcXHVGQkQzLVxcdUZEM0RcXHVGRDUwLVxcdUZEOEZcXHVGRDkyLVxcdUZEQzdcXHVGREYwLVxcdUZERkJcXHVGRTcwLVxcdUZFNzRcXHVGRTc2LVxcdUZFRkNcXHVGRjIxLVxcdUZGM0FcXHVGRjQxLVxcdUZGNUFcXHVGRjY2LVxcdUZGQkVcXHVGRkMyLVxcdUZGQzdcXHVGRkNBLVxcdUZGQ0ZcXHVGRkQyLVxcdUZGRDdcXHVGRkRBLVxcdUZGRENdLyxcbiAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjIwNzUwNzBcbiAgJyonOiAvLi9cbn07XG5cbi8qKiAqL1xuY2xhc3MgUGF0dGVybklucHV0RGVmaW5pdGlvbiB7XG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBjb25zdCB7XG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgaXNPcHRpb25hbCxcbiAgICAgICAgcGxhY2Vob2xkZXJDaGFyLFxuICAgICAgICBkaXNwbGF5Q2hhcixcbiAgICAgICAgbGF6eSxcbiAgICAgICAgZWFnZXJcbiAgICAgIH0gPSBvcHRzLFxuICAgICAgbWFza09wdHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShvcHRzLCBfZXhjbHVkZWQpO1xuICAgIHRoaXMubWFza2VkID0gY3JlYXRlTWFzayhtYXNrT3B0cyk7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICBwYXJlbnQsXG4gICAgICBpc09wdGlvbmFsLFxuICAgICAgcGxhY2Vob2xkZXJDaGFyLFxuICAgICAgZGlzcGxheUNoYXIsXG4gICAgICBsYXp5LFxuICAgICAgZWFnZXJcbiAgICB9KTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLmlzRmlsbGVkID0gZmFsc2U7XG4gICAgdGhpcy5tYXNrZWQucmVzZXQoKTtcbiAgfVxuICByZW1vdmUoKSB7XG4gICAgbGV0IGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgbGV0IHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICBpZiAoZnJvbVBvcyA9PT0gMCAmJiB0b1BvcyA+PSAxKSB7XG4gICAgICB0aGlzLmlzRmlsbGVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy5tYXNrZWQucmVtb3ZlKGZyb21Qb3MsIHRvUG9zKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLm1hc2tlZC52YWx1ZSB8fCAodGhpcy5pc0ZpbGxlZCAmJiAhdGhpcy5pc09wdGlvbmFsID8gdGhpcy5wbGFjZWhvbGRlckNoYXIgOiAnJyk7XG4gIH1cbiAgZ2V0IHVubWFza2VkVmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFza2VkLnVubWFza2VkVmFsdWU7XG4gIH1cbiAgZ2V0IGRpc3BsYXlWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXNrZWQudmFsdWUgJiYgdGhpcy5kaXNwbGF5Q2hhciB8fCB0aGlzLnZhbHVlO1xuICB9XG4gIGdldCBpc0NvbXBsZXRlKCkge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMubWFza2VkLnZhbHVlKSB8fCB0aGlzLmlzT3B0aW9uYWw7XG4gIH1cbiAgX2FwcGVuZENoYXIoY2gpIHtcbiAgICBsZXQgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGlmICh0aGlzLmlzRmlsbGVkKSByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMubWFza2VkLnN0YXRlO1xuICAgIC8vIHNpbXVsYXRlIGlucHV0XG4gICAgY29uc3QgZGV0YWlscyA9IHRoaXMubWFza2VkLl9hcHBlbmRDaGFyKGNoLCBmbGFncyk7XG4gICAgaWYgKGRldGFpbHMuaW5zZXJ0ZWQgJiYgdGhpcy5kb1ZhbGlkYXRlKGZsYWdzKSA9PT0gZmFsc2UpIHtcbiAgICAgIGRldGFpbHMuaW5zZXJ0ZWQgPSBkZXRhaWxzLnJhd0luc2VydGVkID0gJyc7XG4gICAgICB0aGlzLm1hc2tlZC5zdGF0ZSA9IHN0YXRlO1xuICAgIH1cbiAgICBpZiAoIWRldGFpbHMuaW5zZXJ0ZWQgJiYgIXRoaXMuaXNPcHRpb25hbCAmJiAhdGhpcy5sYXp5ICYmICFmbGFncy5pbnB1dCkge1xuICAgICAgZGV0YWlscy5pbnNlcnRlZCA9IHRoaXMucGxhY2Vob2xkZXJDaGFyO1xuICAgIH1cbiAgICBkZXRhaWxzLnNraXAgPSAhZGV0YWlscy5pbnNlcnRlZCAmJiAhdGhpcy5pc09wdGlvbmFsO1xuICAgIHRoaXMuaXNGaWxsZWQgPSBCb29sZWFuKGRldGFpbHMuaW5zZXJ0ZWQpO1xuICAgIHJldHVybiBkZXRhaWxzO1xuICB9XG4gIGFwcGVuZCgpIHtcbiAgICAvLyBUT0RPIHByb2JhYmx5IHNob3VsZCBiZSBkb25lIHZpYSBfYXBwZW5kQ2hhclxuICAgIHJldHVybiB0aGlzLm1hc2tlZC5hcHBlbmQoLi4uYXJndW1lbnRzKTtcbiAgfVxuICBfYXBwZW5kUGxhY2Vob2xkZXIoKSB7XG4gICAgY29uc3QgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgaWYgKHRoaXMuaXNGaWxsZWQgfHwgdGhpcy5pc09wdGlvbmFsKSByZXR1cm4gZGV0YWlscztcbiAgICB0aGlzLmlzRmlsbGVkID0gdHJ1ZTtcbiAgICBkZXRhaWxzLmluc2VydGVkID0gdGhpcy5wbGFjZWhvbGRlckNoYXI7XG4gICAgcmV0dXJuIGRldGFpbHM7XG4gIH1cbiAgX2FwcGVuZEVhZ2VyKCkge1xuICAgIHJldHVybiBuZXcgQ2hhbmdlRGV0YWlscygpO1xuICB9XG4gIGV4dHJhY3RUYWlsKCkge1xuICAgIHJldHVybiB0aGlzLm1hc2tlZC5leHRyYWN0VGFpbCguLi5hcmd1bWVudHMpO1xuICB9XG4gIGFwcGVuZFRhaWwoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFza2VkLmFwcGVuZFRhaWwoLi4uYXJndW1lbnRzKTtcbiAgfVxuICBleHRyYWN0SW5wdXQoKSB7XG4gICAgbGV0IGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgbGV0IHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICBsZXQgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gdGhpcy5tYXNrZWQuZXh0cmFjdElucHV0KGZyb21Qb3MsIHRvUG9zLCBmbGFncyk7XG4gIH1cbiAgbmVhcmVzdElucHV0UG9zKGN1cnNvclBvcykge1xuICAgIGxldCBkaXJlY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IERJUkVDVElPTi5OT05FO1xuICAgIGNvbnN0IG1pblBvcyA9IDA7XG4gICAgY29uc3QgbWF4UG9zID0gdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgY29uc3QgYm91bmRQb3MgPSBNYXRoLm1pbihNYXRoLm1heChjdXJzb3JQb3MsIG1pblBvcyksIG1heFBvcyk7XG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICBjYXNlIERJUkVDVElPTi5GT1JDRV9MRUZUOlxuICAgICAgICByZXR1cm4gdGhpcy5pc0NvbXBsZXRlID8gYm91bmRQb3MgOiBtaW5Qb3M7XG4gICAgICBjYXNlIERJUkVDVElPTi5SSUdIVDpcbiAgICAgIGNhc2UgRElSRUNUSU9OLkZPUkNFX1JJR0hUOlxuICAgICAgICByZXR1cm4gdGhpcy5pc0NvbXBsZXRlID8gYm91bmRQb3MgOiBtYXhQb3M7XG4gICAgICBjYXNlIERJUkVDVElPTi5OT05FOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGJvdW5kUG9zO1xuICAgIH1cbiAgfVxuICB0b3RhbElucHV0UG9zaXRpb25zKCkge1xuICAgIGxldCBmcm9tUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIGxldCB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgcmV0dXJuIHRoaXMudmFsdWUuc2xpY2UoZnJvbVBvcywgdG9Qb3MpLmxlbmd0aDtcbiAgfVxuICBkb1ZhbGlkYXRlKCkge1xuICAgIHJldHVybiB0aGlzLm1hc2tlZC5kb1ZhbGlkYXRlKC4uLmFyZ3VtZW50cykgJiYgKCF0aGlzLnBhcmVudCB8fCB0aGlzLnBhcmVudC5kb1ZhbGlkYXRlKC4uLmFyZ3VtZW50cykpO1xuICB9XG4gIGRvQ29tbWl0KCkge1xuICAgIHRoaXMubWFza2VkLmRvQ29tbWl0KCk7XG4gIH1cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXNrZWQ6IHRoaXMubWFza2VkLnN0YXRlLFxuICAgICAgaXNGaWxsZWQ6IHRoaXMuaXNGaWxsZWRcbiAgICB9O1xuICB9XG4gIHNldCBzdGF0ZShzdGF0ZSkge1xuICAgIHRoaXMubWFza2VkLnN0YXRlID0gc3RhdGUubWFza2VkO1xuICAgIHRoaXMuaXNGaWxsZWQgPSBzdGF0ZS5pc0ZpbGxlZDtcbiAgfVxufVxuXG5leHBvcnQgeyBERUZBVUxUX0lOUFVUX0RFRklOSVRJT05TLCBQYXR0ZXJuSW5wdXREZWZpbml0aW9uIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCBjcmVhdGVNYXNrIGZyb20gJy4vZmFjdG9yeS5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi4vY29yZS9ob2xkZXIuanMnO1xuaW1wb3J0ICcuLi9jb3JlL3V0aWxzLmpzJztcbmltcG9ydCAnLi4vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyc7XG5cbi8qKiBNYXNrIHBpcGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyAqL1xuY29uc3QgUElQRV9UWVBFID0ge1xuICBNQVNLRUQ6ICd2YWx1ZScsXG4gIFVOTUFTS0VEOiAndW5tYXNrZWRWYWx1ZScsXG4gIFRZUEVEOiAndHlwZWRWYWx1ZSdcbn07XG5cbi8qKiBDcmVhdGVzIG5ldyBwaXBlIGZ1bmN0aW9uIGRlcGVuZGluZyBvbiBtYXNrIHR5cGUsIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gb3B0aW9ucyAqL1xuZnVuY3Rpb24gY3JlYXRlUGlwZShtYXNrKSB7XG4gIGxldCBmcm9tID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBQSVBFX1RZUEUuTUFTS0VEO1xuICBsZXQgdG8gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFBJUEVfVFlQRS5NQVNLRUQ7XG4gIGNvbnN0IG1hc2tlZCA9IGNyZWF0ZU1hc2sobWFzayk7XG4gIHJldHVybiB2YWx1ZSA9PiBtYXNrZWQucnVuSXNvbGF0ZWQobSA9PiB7XG4gICAgbVtmcm9tXSA9IHZhbHVlO1xuICAgIHJldHVybiBtW3RvXTtcbiAgfSk7XG59XG5cbi8qKiBQaXBlcyB2YWx1ZSB0aHJvdWdoIG1hc2sgZGVwZW5kaW5nIG9uIG1hc2sgdHlwZSwgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBvcHRpb25zICovXG5mdW5jdGlvbiBwaXBlKHZhbHVlKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwaXBlQXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgcGlwZUFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG4gIHJldHVybiBjcmVhdGVQaXBlKC4uLnBpcGVBcmdzKSh2YWx1ZSk7XG59XG5JTWFzay5QSVBFX1RZUEUgPSBQSVBFX1RZUEU7XG5JTWFzay5jcmVhdGVQaXBlID0gY3JlYXRlUGlwZTtcbklNYXNrLnBpcGUgPSBwaXBlO1xuXG5leHBvcnQgeyBQSVBFX1RZUEUsIGNyZWF0ZVBpcGUsIHBpcGUgfTtcbiIsImltcG9ydCBNYXNrZWRQYXR0ZXJuIGZyb20gJy4vcGF0dGVybi5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0IHsgbm9ybWFsaXplUHJlcGFyZSB9IGZyb20gJy4uL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi4vX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy02YjNiZDQwNC5qcyc7XG5pbXBvcnQgJy4vYmFzZS5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuL3BhdHRlcm4vaW5wdXQtZGVmaW5pdGlvbi5qcyc7XG5pbXBvcnQgJy4vZmFjdG9yeS5qcyc7XG5pbXBvcnQgJy4vcGF0dGVybi9maXhlZC1kZWZpbml0aW9uLmpzJztcbmltcG9ydCAnLi9wYXR0ZXJuL2NodW5rLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4vcGF0dGVybi9jdXJzb3IuanMnO1xuaW1wb3J0ICcuL3JlZ2V4cC5qcyc7XG5cbi8qKiBQYXR0ZXJuIHdoaWNoIGFjY2VwdHMgcmFuZ2VzICovXG5jbGFzcyBNYXNrZWRSYW5nZSBleHRlbmRzIE1hc2tlZFBhdHRlcm4ge1xuICAvKipcbiAgICBPcHRpb25hbGx5IHNldHMgbWF4IGxlbmd0aCBvZiBwYXR0ZXJuLlxuICAgIFVzZWQgd2hlbiBwYXR0ZXJuIGxlbmd0aCBpcyBsb25nZXIgdGhlbiBgdG9gIHBhcmFtIGxlbmd0aC4gUGFkcyB6ZXJvcyBhdCBzdGFydCBpbiB0aGlzIGNhc2UuXG4gICovXG5cbiAgLyoqIE1pbiBib3VuZCAqL1xuXG4gIC8qKiBNYXggYm91bmQgKi9cblxuICAvKiogKi9cblxuICBnZXQgX21hdGNoRnJvbSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXhMZW5ndGggLSBTdHJpbmcodGhpcy5mcm9tKS5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgX3VwZGF0ZShvcHRzKSB7XG4gICAgLy8gVE9ETyB0eXBlXG4gICAgb3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgdG86IHRoaXMudG8gfHwgMCxcbiAgICAgIGZyb206IHRoaXMuZnJvbSB8fCAwLFxuICAgICAgbWF4TGVuZ3RoOiB0aGlzLm1heExlbmd0aCB8fCAwXG4gICAgfSwgb3B0cyk7XG4gICAgbGV0IG1heExlbmd0aCA9IFN0cmluZyhvcHRzLnRvKS5sZW5ndGg7XG4gICAgaWYgKG9wdHMubWF4TGVuZ3RoICE9IG51bGwpIG1heExlbmd0aCA9IE1hdGgubWF4KG1heExlbmd0aCwgb3B0cy5tYXhMZW5ndGgpO1xuICAgIG9wdHMubWF4TGVuZ3RoID0gbWF4TGVuZ3RoO1xuICAgIGNvbnN0IGZyb21TdHIgPSBTdHJpbmcob3B0cy5mcm9tKS5wYWRTdGFydChtYXhMZW5ndGgsICcwJyk7XG4gICAgY29uc3QgdG9TdHIgPSBTdHJpbmcob3B0cy50bykucGFkU3RhcnQobWF4TGVuZ3RoLCAnMCcpO1xuICAgIGxldCBzYW1lQ2hhcnNDb3VudCA9IDA7XG4gICAgd2hpbGUgKHNhbWVDaGFyc0NvdW50IDwgdG9TdHIubGVuZ3RoICYmIHRvU3RyW3NhbWVDaGFyc0NvdW50XSA9PT0gZnJvbVN0cltzYW1lQ2hhcnNDb3VudF0pICsrc2FtZUNoYXJzQ291bnQ7XG4gICAgb3B0cy5tYXNrID0gdG9TdHIuc2xpY2UoMCwgc2FtZUNoYXJzQ291bnQpLnJlcGxhY2UoLzAvZywgJ1xcXFwwJykgKyAnMCcucmVwZWF0KG1heExlbmd0aCAtIHNhbWVDaGFyc0NvdW50KTtcbiAgICBzdXBlci5fdXBkYXRlKG9wdHMpO1xuICB9XG5cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICovXG4gIGdldCBpc0NvbXBsZXRlKCkge1xuICAgIHJldHVybiBzdXBlci5pc0NvbXBsZXRlICYmIEJvb2xlYW4odGhpcy52YWx1ZSk7XG4gIH1cbiAgYm91bmRhcmllcyhzdHIpIHtcbiAgICBsZXQgbWluc3RyID0gJyc7XG4gICAgbGV0IG1heHN0ciA9ICcnO1xuICAgIGNvbnN0IFssIHBsYWNlaG9sZGVyLCBudW1dID0gc3RyLm1hdGNoKC9eKFxcRCopKFxcZCopKFxcRCopLykgfHwgW107XG4gICAgaWYgKG51bSkge1xuICAgICAgbWluc3RyID0gJzAnLnJlcGVhdChwbGFjZWhvbGRlci5sZW5ndGgpICsgbnVtO1xuICAgICAgbWF4c3RyID0gJzknLnJlcGVhdChwbGFjZWhvbGRlci5sZW5ndGgpICsgbnVtO1xuICAgIH1cbiAgICBtaW5zdHIgPSBtaW5zdHIucGFkRW5kKHRoaXMubWF4TGVuZ3RoLCAnMCcpO1xuICAgIG1heHN0ciA9IG1heHN0ci5wYWRFbmQodGhpcy5tYXhMZW5ndGgsICc5Jyk7XG4gICAgcmV0dXJuIFttaW5zdHIsIG1heHN0cl07XG4gIH1cblxuICAvLyBUT0RPIHN0ciBpcyBhIHNpbmdsZSBjaGFyIGV2ZXJ5dGltZVxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgZG9QcmVwYXJlKGNoKSB7XG4gICAgbGV0IGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBsZXQgZGV0YWlscztcbiAgICBbY2gsIGRldGFpbHNdID0gbm9ybWFsaXplUHJlcGFyZShzdXBlci5kb1ByZXBhcmUoY2gucmVwbGFjZSgvXFxEL2csICcnKSwgZmxhZ3MpKTtcbiAgICBpZiAoIXRoaXMuYXV0b2ZpeCB8fCAhY2gpIHJldHVybiBjaDtcbiAgICBjb25zdCBmcm9tU3RyID0gU3RyaW5nKHRoaXMuZnJvbSkucGFkU3RhcnQodGhpcy5tYXhMZW5ndGgsICcwJyk7XG4gICAgY29uc3QgdG9TdHIgPSBTdHJpbmcodGhpcy50bykucGFkU3RhcnQodGhpcy5tYXhMZW5ndGgsICcwJyk7XG4gICAgbGV0IG5leHRWYWwgPSB0aGlzLnZhbHVlICsgY2g7XG4gICAgaWYgKG5leHRWYWwubGVuZ3RoID4gdGhpcy5tYXhMZW5ndGgpIHJldHVybiAnJztcbiAgICBjb25zdCBbbWluc3RyLCBtYXhzdHJdID0gdGhpcy5ib3VuZGFyaWVzKG5leHRWYWwpO1xuICAgIGlmIChOdW1iZXIobWF4c3RyKSA8IHRoaXMuZnJvbSkgcmV0dXJuIGZyb21TdHJbbmV4dFZhbC5sZW5ndGggLSAxXTtcbiAgICBpZiAoTnVtYmVyKG1pbnN0cikgPiB0aGlzLnRvKSB7XG4gICAgICBpZiAodGhpcy5hdXRvZml4ID09PSAncGFkJyAmJiBuZXh0VmFsLmxlbmd0aCA8IHRoaXMubWF4TGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbJycsIGRldGFpbHMuYWdncmVnYXRlKHRoaXMuYXBwZW5kKGZyb21TdHJbbmV4dFZhbC5sZW5ndGggLSAxXSArIGNoLCBmbGFncykpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b1N0cltuZXh0VmFsLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gY2g7XG4gIH1cblxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cbiAgZG9WYWxpZGF0ZSgpIHtcbiAgICBjb25zdCBzdHIgPSB0aGlzLnZhbHVlO1xuICAgIGNvbnN0IGZpcnN0Tm9uWmVybyA9IHN0ci5zZWFyY2goL1teMF0vKTtcbiAgICBpZiAoZmlyc3ROb25aZXJvID09PSAtMSAmJiBzdHIubGVuZ3RoIDw9IHRoaXMuX21hdGNoRnJvbSkgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgW21pbnN0ciwgbWF4c3RyXSA9IHRoaXMuYm91bmRhcmllcyhzdHIpO1xuICAgIHJldHVybiB0aGlzLmZyb20gPD0gTnVtYmVyKG1heHN0cikgJiYgTnVtYmVyKG1pbnN0cikgPD0gdGhpcy50byAmJiBzdXBlci5kb1ZhbGlkYXRlKC4uLmFyZ3VtZW50cyk7XG4gIH1cbn1cbklNYXNrLk1hc2tlZFJhbmdlID0gTWFza2VkUmFuZ2U7XG5cbmV4cG9ydCB7IE1hc2tlZFJhbmdlIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCBNYXNrZWQgZnJvbSAnLi9iYXNlLmpzJztcbmltcG9ydCBJTWFzayBmcm9tICcuLi9jb3JlL2hvbGRlci5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuLi9jb3JlL2NvbnRpbnVvdXMtdGFpbC1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi4vY29yZS91dGlscy5qcyc7XG5cbi8qKiBNYXNraW5nIGJ5IFJlZ0V4cCAqL1xuY2xhc3MgTWFza2VkUmVnRXhwIGV4dGVuZHMgTWFza2VkIHtcbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICAgQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAgKi9cbiAgX3VwZGF0ZShvcHRzKSB7XG4gICAgaWYgKG9wdHMubWFzaykgb3B0cy52YWxpZGF0ZSA9IHZhbHVlID0+IHZhbHVlLnNlYXJjaChvcHRzLm1hc2spID49IDA7XG4gICAgc3VwZXIuX3VwZGF0ZShvcHRzKTtcbiAgfVxufVxuSU1hc2suTWFza2VkUmVnRXhwID0gTWFza2VkUmVnRXhwO1xuXG5leHBvcnQgeyBNYXNrZWRSZWdFeHAgYXMgZGVmYXVsdCB9O1xuIiwiLyoqIVxuKiB0aXBweS5qcyB2Ni4zLjdcbiogKGMpIDIwMTctMjAyMSBhdG9taWtzXG4qIE1JVCBMaWNlbnNlXG4qL1xuaW1wb3J0IHsgY3JlYXRlUG9wcGVyLCBhcHBseVN0eWxlcyB9IGZyb20gJ0Bwb3BwZXJqcy9jb3JlJztcblxudmFyIFJPVU5EX0FSUk9XID0gJzxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjZcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0wIDZzMS43OTYtLjAxMyA0LjY3LTMuNjE1QzUuODUxLjkgNi45My4wMDYgOCAwYzEuMDctLjAwNiAyLjE0OC44ODcgMy4zNDMgMi4zODVDMTQuMjMzIDYuMDA1IDE2IDYgMTYgNkgwelwiPjwvc3ZnPic7XG52YXIgQk9YX0NMQVNTID0gXCJ0aXBweS1ib3hcIjtcbnZhciBDT05URU5UX0NMQVNTID0gXCJ0aXBweS1jb250ZW50XCI7XG52YXIgQkFDS0RST1BfQ0xBU1MgPSBcInRpcHB5LWJhY2tkcm9wXCI7XG52YXIgQVJST1dfQ0xBU1MgPSBcInRpcHB5LWFycm93XCI7XG52YXIgU1ZHX0FSUk9XX0NMQVNTID0gXCJ0aXBweS1zdmctYXJyb3dcIjtcbnZhciBUT1VDSF9PUFRJT05TID0ge1xuICBwYXNzaXZlOiB0cnVlLFxuICBjYXB0dXJlOiB0cnVlXG59O1xudmFyIFRJUFBZX0RFRkFVTFRfQVBQRU5EX1RPID0gZnVuY3Rpb24gVElQUFlfREVGQVVMVF9BUFBFTkRfVE8oKSB7XG4gIHJldHVybiBkb2N1bWVudC5ib2R5O1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBrZXkpIHtcbiAgcmV0dXJuIHt9Lmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufVxuZnVuY3Rpb24gZ2V0VmFsdWVBdEluZGV4T3JSZXR1cm4odmFsdWUsIGluZGV4LCBkZWZhdWx0VmFsdWUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgdmFyIHYgPSB2YWx1ZVtpbmRleF07XG4gICAgcmV0dXJuIHYgPT0gbnVsbCA/IEFycmF5LmlzQXJyYXkoZGVmYXVsdFZhbHVlKSA/IGRlZmF1bHRWYWx1ZVtpbmRleF0gOiBkZWZhdWx0VmFsdWUgOiB2O1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gaXNUeXBlKHZhbHVlLCB0eXBlKSB7XG4gIHZhciBzdHIgPSB7fS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgcmV0dXJuIHN0ci5pbmRleE9mKCdbb2JqZWN0JykgPT09IDAgJiYgc3RyLmluZGV4T2YodHlwZSArIFwiXVwiKSA+IC0xO1xufVxuZnVuY3Rpb24gaW52b2tlV2l0aEFyZ3NPclJldHVybih2YWx1ZSwgYXJncykge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUuYXBwbHkodm9pZCAwLCBhcmdzKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gZGVib3VuY2UoZm4sIG1zKSB7XG4gIC8vIEF2b2lkIHdyYXBwaW5nIGluIGBzZXRUaW1lb3V0YCBpZiBtcyBpcyAwIGFueXdheVxuICBpZiAobXMgPT09IDApIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgdGltZW91dDtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgZm4oYXJnKTtcbiAgICB9LCBtcyk7XG4gIH07XG59XG5mdW5jdGlvbiByZW1vdmVQcm9wZXJ0aWVzKG9iaiwga2V5cykge1xuICB2YXIgY2xvbmUgPSBPYmplY3QuYXNzaWduKHt9LCBvYmopO1xuICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGRlbGV0ZSBjbG9uZVtrZXldO1xuICB9KTtcbiAgcmV0dXJuIGNsb25lO1xufVxuZnVuY3Rpb24gc3BsaXRCeVNwYWNlcyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUuc3BsaXQoL1xccysvKS5maWx0ZXIoQm9vbGVhbik7XG59XG5mdW5jdGlvbiBub3JtYWxpemVUb0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiBbXS5jb25jYXQodmFsdWUpO1xufVxuZnVuY3Rpb24gcHVzaElmVW5pcXVlKGFyciwgdmFsdWUpIHtcbiAgaWYgKGFyci5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICBhcnIucHVzaCh2YWx1ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHVuaXF1ZShhcnIpIHtcbiAgcmV0dXJuIGFyci5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgcmV0dXJuIGFyci5pbmRleE9mKGl0ZW0pID09PSBpbmRleDtcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG59XG5mdW5jdGlvbiBhcnJheUZyb20odmFsdWUpIHtcbiAgcmV0dXJuIFtdLnNsaWNlLmNhbGwodmFsdWUpO1xufVxuZnVuY3Rpb24gcmVtb3ZlVW5kZWZpbmVkUHJvcHMob2JqKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICBpZiAob2JqW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgYWNjW2tleV0gPSBvYmpba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG59XG5cbmZ1bmN0aW9uIGRpdigpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xufVxuZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gIHJldHVybiBbJ0VsZW1lbnQnLCAnRnJhZ21lbnQnXS5zb21lKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgcmV0dXJuIGlzVHlwZSh2YWx1ZSwgdHlwZSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gaXNOb2RlTGlzdCh2YWx1ZSkge1xuICByZXR1cm4gaXNUeXBlKHZhbHVlLCAnTm9kZUxpc3QnKTtcbn1cbmZ1bmN0aW9uIGlzTW91c2VFdmVudCh2YWx1ZSkge1xuICByZXR1cm4gaXNUeXBlKHZhbHVlLCAnTW91c2VFdmVudCcpO1xufVxuZnVuY3Rpb24gaXNSZWZlcmVuY2VFbGVtZW50KHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS5fdGlwcHkgJiYgdmFsdWUuX3RpcHB5LnJlZmVyZW5jZSA9PT0gdmFsdWUpO1xufVxuZnVuY3Rpb24gZ2V0QXJyYXlPZkVsZW1lbnRzKHZhbHVlKSB7XG4gIGlmIChpc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgcmV0dXJuIFt2YWx1ZV07XG4gIH1cblxuICBpZiAoaXNOb2RlTGlzdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gYXJyYXlGcm9tKHZhbHVlKTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBhcnJheUZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkR1cmF0aW9uKGVscywgdmFsdWUpIHtcbiAgZWxzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSB2YWx1ZSArIFwibXNcIjtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gc2V0VmlzaWJpbGl0eVN0YXRlKGVscywgc3RhdGUpIHtcbiAgZWxzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdGUnLCBzdGF0ZSk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldE93bmVyRG9jdW1lbnQoZWxlbWVudE9yRWxlbWVudHMpIHtcbiAgdmFyIF9lbGVtZW50JG93bmVyRG9jdW1lbjtcblxuICB2YXIgX25vcm1hbGl6ZVRvQXJyYXkgPSBub3JtYWxpemVUb0FycmF5KGVsZW1lbnRPckVsZW1lbnRzKSxcbiAgICAgIGVsZW1lbnQgPSBfbm9ybWFsaXplVG9BcnJheVswXTsgLy8gRWxlbWVudHMgY3JlYXRlZCB2aWEgYSA8dGVtcGxhdGU+IGhhdmUgYW4gb3duZXJEb2N1bWVudCB3aXRoIG5vIHJlZmVyZW5jZSB0byB0aGUgYm9keVxuXG5cbiAgcmV0dXJuIGVsZW1lbnQgIT0gbnVsbCAmJiAoX2VsZW1lbnQkb3duZXJEb2N1bWVuID0gZWxlbWVudC5vd25lckRvY3VtZW50KSAhPSBudWxsICYmIF9lbGVtZW50JG93bmVyRG9jdW1lbi5ib2R5ID8gZWxlbWVudC5vd25lckRvY3VtZW50IDogZG9jdW1lbnQ7XG59XG5mdW5jdGlvbiBpc0N1cnNvck91dHNpZGVJbnRlcmFjdGl2ZUJvcmRlcihwb3BwZXJUcmVlRGF0YSwgZXZlbnQpIHtcbiAgdmFyIGNsaWVudFggPSBldmVudC5jbGllbnRYLFxuICAgICAgY2xpZW50WSA9IGV2ZW50LmNsaWVudFk7XG4gIHJldHVybiBwb3BwZXJUcmVlRGF0YS5ldmVyeShmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBwb3BwZXJSZWN0ID0gX3JlZi5wb3BwZXJSZWN0LFxuICAgICAgICBwb3BwZXJTdGF0ZSA9IF9yZWYucG9wcGVyU3RhdGUsXG4gICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgICB2YXIgaW50ZXJhY3RpdmVCb3JkZXIgPSBwcm9wcy5pbnRlcmFjdGl2ZUJvcmRlcjtcbiAgICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQocG9wcGVyU3RhdGUucGxhY2VtZW50KTtcbiAgICB2YXIgb2Zmc2V0RGF0YSA9IHBvcHBlclN0YXRlLm1vZGlmaWVyc0RhdGEub2Zmc2V0O1xuXG4gICAgaWYgKCFvZmZzZXREYXRhKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgdG9wRGlzdGFuY2UgPSBiYXNlUGxhY2VtZW50ID09PSAnYm90dG9tJyA/IG9mZnNldERhdGEudG9wLnkgOiAwO1xuICAgIHZhciBib3R0b21EaXN0YW5jZSA9IGJhc2VQbGFjZW1lbnQgPT09ICd0b3AnID8gb2Zmc2V0RGF0YS5ib3R0b20ueSA6IDA7XG4gICAgdmFyIGxlZnREaXN0YW5jZSA9IGJhc2VQbGFjZW1lbnQgPT09ICdyaWdodCcgPyBvZmZzZXREYXRhLmxlZnQueCA6IDA7XG4gICAgdmFyIHJpZ2h0RGlzdGFuY2UgPSBiYXNlUGxhY2VtZW50ID09PSAnbGVmdCcgPyBvZmZzZXREYXRhLnJpZ2h0LnggOiAwO1xuICAgIHZhciBleGNlZWRzVG9wID0gcG9wcGVyUmVjdC50b3AgLSBjbGllbnRZICsgdG9wRGlzdGFuY2UgPiBpbnRlcmFjdGl2ZUJvcmRlcjtcbiAgICB2YXIgZXhjZWVkc0JvdHRvbSA9IGNsaWVudFkgLSBwb3BwZXJSZWN0LmJvdHRvbSAtIGJvdHRvbURpc3RhbmNlID4gaW50ZXJhY3RpdmVCb3JkZXI7XG4gICAgdmFyIGV4Y2VlZHNMZWZ0ID0gcG9wcGVyUmVjdC5sZWZ0IC0gY2xpZW50WCArIGxlZnREaXN0YW5jZSA+IGludGVyYWN0aXZlQm9yZGVyO1xuICAgIHZhciBleGNlZWRzUmlnaHQgPSBjbGllbnRYIC0gcG9wcGVyUmVjdC5yaWdodCAtIHJpZ2h0RGlzdGFuY2UgPiBpbnRlcmFjdGl2ZUJvcmRlcjtcbiAgICByZXR1cm4gZXhjZWVkc1RvcCB8fCBleGNlZWRzQm90dG9tIHx8IGV4Y2VlZHNMZWZ0IHx8IGV4Y2VlZHNSaWdodDtcbiAgfSk7XG59XG5mdW5jdGlvbiB1cGRhdGVUcmFuc2l0aW9uRW5kTGlzdGVuZXIoYm94LCBhY3Rpb24sIGxpc3RlbmVyKSB7XG4gIHZhciBtZXRob2QgPSBhY3Rpb24gKyBcIkV2ZW50TGlzdGVuZXJcIjsgLy8gc29tZSBicm93c2VycyBhcHBhcmVudGx5IHN1cHBvcnQgYHRyYW5zaXRpb25gICh1bnByZWZpeGVkKSBidXQgb25seSBmaXJlXG4gIC8vIGB3ZWJraXRUcmFuc2l0aW9uRW5kYC4uLlxuXG4gIFsndHJhbnNpdGlvbmVuZCcsICd3ZWJraXRUcmFuc2l0aW9uRW5kJ10uZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBib3hbbWV0aG9kXShldmVudCwgbGlzdGVuZXIpO1xuICB9KTtcbn1cbi8qKlxuICogQ29tcGFyZWQgdG8geHh4LmNvbnRhaW5zLCB0aGlzIGZ1bmN0aW9uIHdvcmtzIGZvciBkb20gc3RydWN0dXJlcyB3aXRoIHNoYWRvd1xuICogZG9tXG4gKi9cblxuZnVuY3Rpb24gYWN0dWFsQ29udGFpbnMocGFyZW50LCBjaGlsZCkge1xuICB2YXIgdGFyZ2V0ID0gY2hpbGQ7XG5cbiAgd2hpbGUgKHRhcmdldCkge1xuICAgIHZhciBfdGFyZ2V0JGdldFJvb3ROb2RlO1xuXG4gICAgaWYgKHBhcmVudC5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB0YXJnZXQgPSB0YXJnZXQuZ2V0Um9vdE5vZGUgPT0gbnVsbCA/IHZvaWQgMCA6IChfdGFyZ2V0JGdldFJvb3ROb2RlID0gdGFyZ2V0LmdldFJvb3ROb2RlKCkpID09IG51bGwgPyB2b2lkIDAgOiBfdGFyZ2V0JGdldFJvb3ROb2RlLmhvc3Q7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciBjdXJyZW50SW5wdXQgPSB7XG4gIGlzVG91Y2g6IGZhbHNlXG59O1xudmFyIGxhc3RNb3VzZU1vdmVUaW1lID0gMDtcbi8qKlxuICogV2hlbiBhIGB0b3VjaHN0YXJ0YCBldmVudCBpcyBmaXJlZCwgaXQncyBhc3N1bWVkIHRoZSB1c2VyIGlzIHVzaW5nIHRvdWNoXG4gKiBpbnB1dC4gV2UnbGwgYmluZCBhIGBtb3VzZW1vdmVgIGV2ZW50IGxpc3RlbmVyIHRvIGxpc3RlbiBmb3IgbW91c2UgaW5wdXQgaW5cbiAqIHRoZSBmdXR1cmUuIFRoaXMgd2F5LCB0aGUgYGlzVG91Y2hgIHByb3BlcnR5IGlzIGZ1bGx5IGR5bmFtaWMgYW5kIHdpbGwgaGFuZGxlXG4gKiBoeWJyaWQgZGV2aWNlcyB0aGF0IHVzZSBhIG1peCBvZiB0b3VjaCArIG1vdXNlIGlucHV0LlxuICovXG5cbmZ1bmN0aW9uIG9uRG9jdW1lbnRUb3VjaFN0YXJ0KCkge1xuICBpZiAoY3VycmVudElucHV0LmlzVG91Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjdXJyZW50SW5wdXQuaXNUb3VjaCA9IHRydWU7XG5cbiAgaWYgKHdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uRG9jdW1lbnRNb3VzZU1vdmUpO1xuICB9XG59XG4vKipcbiAqIFdoZW4gdHdvIGBtb3VzZW1vdmVgIGV2ZW50IGFyZSBmaXJlZCBjb25zZWN1dGl2ZWx5IHdpdGhpbiAyMG1zLCBpdCdzIGFzc3VtZWRcbiAqIHRoZSB1c2VyIGlzIHVzaW5nIG1vdXNlIGlucHV0IGFnYWluLiBgbW91c2Vtb3ZlYCBjYW4gZmlyZSBvbiB0b3VjaCBkZXZpY2VzIGFzXG4gKiB3ZWxsLCBidXQgdmVyeSByYXJlbHkgdGhhdCBxdWlja2x5LlxuICovXG5cbmZ1bmN0aW9uIG9uRG9jdW1lbnRNb3VzZU1vdmUoKSB7XG4gIHZhciBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICBpZiAobm93IC0gbGFzdE1vdXNlTW92ZVRpbWUgPCAyMCkge1xuICAgIGN1cnJlbnRJbnB1dC5pc1RvdWNoID0gZmFsc2U7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Eb2N1bWVudE1vdXNlTW92ZSk7XG4gIH1cblxuICBsYXN0TW91c2VNb3ZlVGltZSA9IG5vdztcbn1cbi8qKlxuICogV2hlbiBhbiBlbGVtZW50IGlzIGluIGZvY3VzIGFuZCBoYXMgYSB0aXBweSwgbGVhdmluZyB0aGUgdGFiL3dpbmRvdyBhbmRcbiAqIHJldHVybmluZyBjYXVzZXMgaXQgdG8gc2hvdyBhZ2Fpbi4gRm9yIG1vdXNlIHVzZXJzIHRoaXMgaXMgdW5leHBlY3RlZCwgYnV0XG4gKiBmb3Iga2V5Ym9hcmQgdXNlIGl0IG1ha2VzIHNlbnNlLlxuICogVE9ETzogZmluZCBhIGJldHRlciB0ZWNobmlxdWUgdG8gc29sdmUgdGhpcyBwcm9ibGVtXG4gKi9cblxuZnVuY3Rpb24gb25XaW5kb3dCbHVyKCkge1xuICB2YXIgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cbiAgaWYgKGlzUmVmZXJlbmNlRWxlbWVudChhY3RpdmVFbGVtZW50KSkge1xuICAgIHZhciBpbnN0YW5jZSA9IGFjdGl2ZUVsZW1lbnQuX3RpcHB5O1xuXG4gICAgaWYgKGFjdGl2ZUVsZW1lbnQuYmx1ciAmJiAhaW5zdGFuY2Uuc3RhdGUuaXNWaXNpYmxlKSB7XG4gICAgICBhY3RpdmVFbGVtZW50LmJsdXIoKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGJpbmRHbG9iYWxFdmVudExpc3RlbmVycygpIHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uRG9jdW1lbnRUb3VjaFN0YXJ0LCBUT1VDSF9PUFRJT05TKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBvbldpbmRvd0JsdXIpO1xufVxuXG52YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbnZhciBpc0lFMTEgPSBpc0Jyb3dzZXIgPyAvLyBAdHMtaWdub3JlXG4hIXdpbmRvdy5tc0NyeXB0byA6IGZhbHNlO1xuXG5mdW5jdGlvbiBjcmVhdGVNZW1vcnlMZWFrV2FybmluZyhtZXRob2QpIHtcbiAgdmFyIHR4dCA9IG1ldGhvZCA9PT0gJ2Rlc3Ryb3knID8gJ24gYWxyZWFkeS0nIDogJyAnO1xuICByZXR1cm4gW21ldGhvZCArIFwiKCkgd2FzIGNhbGxlZCBvbiBhXCIgKyB0eHQgKyBcImRlc3Ryb3llZCBpbnN0YW5jZS4gVGhpcyBpcyBhIG5vLW9wIGJ1dFwiLCAnaW5kaWNhdGVzIGEgcG90ZW50aWFsIG1lbW9yeSBsZWFrLiddLmpvaW4oJyAnKTtcbn1cbmZ1bmN0aW9uIGNsZWFuKHZhbHVlKSB7XG4gIHZhciBzcGFjZXNBbmRUYWJzID0gL1sgXFx0XXsyLH0vZztcbiAgdmFyIGxpbmVTdGFydFdpdGhTcGFjZXMgPSAvXlsgXFx0XSovZ207XG4gIHJldHVybiB2YWx1ZS5yZXBsYWNlKHNwYWNlc0FuZFRhYnMsICcgJykucmVwbGFjZShsaW5lU3RhcnRXaXRoU3BhY2VzLCAnJykudHJpbSgpO1xufVxuXG5mdW5jdGlvbiBnZXREZXZNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIGNsZWFuKFwiXFxuICAlY3RpcHB5LmpzXFxuXFxuICAlY1wiICsgY2xlYW4obWVzc2FnZSkgKyBcIlxcblxcbiAgJWNcXHVEODNEXFx1REM3N1xcdTIwMEQgVGhpcyBpcyBhIGRldmVsb3BtZW50LW9ubHkgbWVzc2FnZS4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHByb2R1Y3Rpb24uXFxuICBcIik7XG59XG5cbmZ1bmN0aW9uIGdldEZvcm1hdHRlZE1lc3NhZ2UobWVzc2FnZSkge1xuICByZXR1cm4gW2dldERldk1lc3NhZ2UobWVzc2FnZSksIC8vIHRpdGxlXG4gICdjb2xvcjogIzAwQzU4NDsgZm9udC1zaXplOiAxLjNlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7JywgLy8gbWVzc2FnZVxuICAnbGluZS1oZWlnaHQ6IDEuNScsIC8vIGZvb3RlclxuICAnY29sb3I6ICNhNmEwOTU7J107XG59IC8vIEFzc3VtZSB3YXJuaW5ncyBhbmQgZXJyb3JzIG5ldmVyIGhhdmUgdGhlIHNhbWUgbWVzc2FnZVxuXG52YXIgdmlzaXRlZE1lc3NhZ2VzO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIHJlc2V0VmlzaXRlZE1lc3NhZ2VzKCk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0VmlzaXRlZE1lc3NhZ2VzKCkge1xuICB2aXNpdGVkTWVzc2FnZXMgPSBuZXcgU2V0KCk7XG59XG5mdW5jdGlvbiB3YXJuV2hlbihjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgaWYgKGNvbmRpdGlvbiAmJiAhdmlzaXRlZE1lc3NhZ2VzLmhhcyhtZXNzYWdlKSkge1xuICAgIHZhciBfY29uc29sZTtcblxuICAgIHZpc2l0ZWRNZXNzYWdlcy5hZGQobWVzc2FnZSk7XG5cbiAgICAoX2NvbnNvbGUgPSBjb25zb2xlKS53YXJuLmFwcGx5KF9jb25zb2xlLCBnZXRGb3JtYXR0ZWRNZXNzYWdlKG1lc3NhZ2UpKTtcbiAgfVxufVxuZnVuY3Rpb24gZXJyb3JXaGVuKGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICBpZiAoY29uZGl0aW9uICYmICF2aXNpdGVkTWVzc2FnZXMuaGFzKG1lc3NhZ2UpKSB7XG4gICAgdmFyIF9jb25zb2xlMjtcblxuICAgIHZpc2l0ZWRNZXNzYWdlcy5hZGQobWVzc2FnZSk7XG5cbiAgICAoX2NvbnNvbGUyID0gY29uc29sZSkuZXJyb3IuYXBwbHkoX2NvbnNvbGUyLCBnZXRGb3JtYXR0ZWRNZXNzYWdlKG1lc3NhZ2UpKTtcbiAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVUYXJnZXRzKHRhcmdldHMpIHtcbiAgdmFyIGRpZFBhc3NGYWxzeVZhbHVlID0gIXRhcmdldHM7XG4gIHZhciBkaWRQYXNzUGxhaW5PYmplY3QgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGFyZ2V0cykgPT09ICdbb2JqZWN0IE9iamVjdF0nICYmICF0YXJnZXRzLmFkZEV2ZW50TGlzdGVuZXI7XG4gIGVycm9yV2hlbihkaWRQYXNzRmFsc3lWYWx1ZSwgWyd0aXBweSgpIHdhcyBwYXNzZWQnLCAnYCcgKyBTdHJpbmcodGFyZ2V0cykgKyAnYCcsICdhcyBpdHMgdGFyZ2V0cyAoZmlyc3QpIGFyZ3VtZW50LiBWYWxpZCB0eXBlcyBhcmU6IFN0cmluZywgRWxlbWVudCwnLCAnRWxlbWVudFtdLCBvciBOb2RlTGlzdC4nXS5qb2luKCcgJykpO1xuICBlcnJvcldoZW4oZGlkUGFzc1BsYWluT2JqZWN0LCBbJ3RpcHB5KCkgd2FzIHBhc3NlZCBhIHBsYWluIG9iamVjdCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkIGFzIGFuIGFyZ3VtZW50JywgJ2ZvciB2aXJ0dWFsIHBvc2l0aW9uaW5nLiBVc2UgcHJvcHMuZ2V0UmVmZXJlbmNlQ2xpZW50UmVjdCBpbnN0ZWFkLiddLmpvaW4oJyAnKSk7XG59XG5cbnZhciBwbHVnaW5Qcm9wcyA9IHtcbiAgYW5pbWF0ZUZpbGw6IGZhbHNlLFxuICBmb2xsb3dDdXJzb3I6IGZhbHNlLFxuICBpbmxpbmVQb3NpdGlvbmluZzogZmFsc2UsXG4gIHN0aWNreTogZmFsc2Vcbn07XG52YXIgcmVuZGVyUHJvcHMgPSB7XG4gIGFsbG93SFRNTDogZmFsc2UsXG4gIGFuaW1hdGlvbjogJ2ZhZGUnLFxuICBhcnJvdzogdHJ1ZSxcbiAgY29udGVudDogJycsXG4gIGluZXJ0aWE6IGZhbHNlLFxuICBtYXhXaWR0aDogMzUwLFxuICByb2xlOiAndG9vbHRpcCcsXG4gIHRoZW1lOiAnJyxcbiAgekluZGV4OiA5OTk5XG59O1xudmFyIGRlZmF1bHRQcm9wcyA9IE9iamVjdC5hc3NpZ24oe1xuICBhcHBlbmRUbzogVElQUFlfREVGQVVMVF9BUFBFTkRfVE8sXG4gIGFyaWE6IHtcbiAgICBjb250ZW50OiAnYXV0bycsXG4gICAgZXhwYW5kZWQ6ICdhdXRvJ1xuICB9LFxuICBkZWxheTogMCxcbiAgZHVyYXRpb246IFszMDAsIDI1MF0sXG4gIGdldFJlZmVyZW5jZUNsaWVudFJlY3Q6IG51bGwsXG4gIGhpZGVPbkNsaWNrOiB0cnVlLFxuICBpZ25vcmVBdHRyaWJ1dGVzOiBmYWxzZSxcbiAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICBpbnRlcmFjdGl2ZUJvcmRlcjogMixcbiAgaW50ZXJhY3RpdmVEZWJvdW5jZTogMCxcbiAgbW92ZVRyYW5zaXRpb246ICcnLFxuICBvZmZzZXQ6IFswLCAxMF0sXG4gIG9uQWZ0ZXJVcGRhdGU6IGZ1bmN0aW9uIG9uQWZ0ZXJVcGRhdGUoKSB7fSxcbiAgb25CZWZvcmVVcGRhdGU6IGZ1bmN0aW9uIG9uQmVmb3JlVXBkYXRlKCkge30sXG4gIG9uQ3JlYXRlOiBmdW5jdGlvbiBvbkNyZWF0ZSgpIHt9LFxuICBvbkRlc3Ryb3k6IGZ1bmN0aW9uIG9uRGVzdHJveSgpIHt9LFxuICBvbkhpZGRlbjogZnVuY3Rpb24gb25IaWRkZW4oKSB7fSxcbiAgb25IaWRlOiBmdW5jdGlvbiBvbkhpZGUoKSB7fSxcbiAgb25Nb3VudDogZnVuY3Rpb24gb25Nb3VudCgpIHt9LFxuICBvblNob3c6IGZ1bmN0aW9uIG9uU2hvdygpIHt9LFxuICBvblNob3duOiBmdW5jdGlvbiBvblNob3duKCkge30sXG4gIG9uVHJpZ2dlcjogZnVuY3Rpb24gb25UcmlnZ2VyKCkge30sXG4gIG9uVW50cmlnZ2VyOiBmdW5jdGlvbiBvblVudHJpZ2dlcigpIHt9LFxuICBvbkNsaWNrT3V0c2lkZTogZnVuY3Rpb24gb25DbGlja091dHNpZGUoKSB7fSxcbiAgcGxhY2VtZW50OiAndG9wJyxcbiAgcGx1Z2luczogW10sXG4gIHBvcHBlck9wdGlvbnM6IHt9LFxuICByZW5kZXI6IG51bGwsXG4gIHNob3dPbkNyZWF0ZTogZmFsc2UsXG4gIHRvdWNoOiB0cnVlLFxuICB0cmlnZ2VyOiAnbW91c2VlbnRlciBmb2N1cycsXG4gIHRyaWdnZXJUYXJnZXQ6IG51bGxcbn0sIHBsdWdpblByb3BzLCByZW5kZXJQcm9wcyk7XG52YXIgZGVmYXVsdEtleXMgPSBPYmplY3Qua2V5cyhkZWZhdWx0UHJvcHMpO1xudmFyIHNldERlZmF1bHRQcm9wcyA9IGZ1bmN0aW9uIHNldERlZmF1bHRQcm9wcyhwYXJ0aWFsUHJvcHMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIHZhbGlkYXRlUHJvcHMocGFydGlhbFByb3BzLCBbXSk7XG4gIH1cblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHBhcnRpYWxQcm9wcyk7XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgZGVmYXVsdFByb3BzW2tleV0gPSBwYXJ0aWFsUHJvcHNba2V5XTtcbiAgfSk7XG59O1xuZnVuY3Rpb24gZ2V0RXh0ZW5kZWRQYXNzZWRQcm9wcyhwYXNzZWRQcm9wcykge1xuICB2YXIgcGx1Z2lucyA9IHBhc3NlZFByb3BzLnBsdWdpbnMgfHwgW107XG4gIHZhciBwbHVnaW5Qcm9wcyA9IHBsdWdpbnMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBsdWdpbikge1xuICAgIHZhciBuYW1lID0gcGx1Z2luLm5hbWUsXG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IHBsdWdpbi5kZWZhdWx0VmFsdWU7XG5cbiAgICBpZiAobmFtZSkge1xuICAgICAgdmFyIF9uYW1lO1xuXG4gICAgICBhY2NbbmFtZV0gPSBwYXNzZWRQcm9wc1tuYW1lXSAhPT0gdW5kZWZpbmVkID8gcGFzc2VkUHJvcHNbbmFtZV0gOiAoX25hbWUgPSBkZWZhdWx0UHJvcHNbbmFtZV0pICE9IG51bGwgPyBfbmFtZSA6IGRlZmF1bHRWYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwYXNzZWRQcm9wcywgcGx1Z2luUHJvcHMpO1xufVxuZnVuY3Rpb24gZ2V0RGF0YUF0dHJpYnV0ZVByb3BzKHJlZmVyZW5jZSwgcGx1Z2lucykge1xuICB2YXIgcHJvcEtleXMgPSBwbHVnaW5zID8gT2JqZWN0LmtleXMoZ2V0RXh0ZW5kZWRQYXNzZWRQcm9wcyhPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0UHJvcHMsIHtcbiAgICBwbHVnaW5zOiBwbHVnaW5zXG4gIH0pKSkgOiBkZWZhdWx0S2V5cztcbiAgdmFyIHByb3BzID0gcHJvcEtleXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgIHZhciB2YWx1ZUFzU3RyaW5nID0gKHJlZmVyZW5jZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRpcHB5LVwiICsga2V5KSB8fCAnJykudHJpbSgpO1xuXG4gICAgaWYgKCF2YWx1ZUFzU3RyaW5nKSB7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdjb250ZW50Jykge1xuICAgICAgYWNjW2tleV0gPSB2YWx1ZUFzU3RyaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBhY2Nba2V5XSA9IEpTT04ucGFyc2UodmFsdWVBc1N0cmluZyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGFjY1trZXldID0gdmFsdWVBc1N0cmluZztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIHJldHVybiBwcm9wcztcbn1cbmZ1bmN0aW9uIGV2YWx1YXRlUHJvcHMocmVmZXJlbmNlLCBwcm9wcykge1xuICB2YXIgb3V0ID0gT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICBjb250ZW50OiBpbnZva2VXaXRoQXJnc09yUmV0dXJuKHByb3BzLmNvbnRlbnQsIFtyZWZlcmVuY2VdKVxuICB9LCBwcm9wcy5pZ25vcmVBdHRyaWJ1dGVzID8ge30gOiBnZXREYXRhQXR0cmlidXRlUHJvcHMocmVmZXJlbmNlLCBwcm9wcy5wbHVnaW5zKSk7XG4gIG91dC5hcmlhID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFByb3BzLmFyaWEsIG91dC5hcmlhKTtcbiAgb3V0LmFyaWEgPSB7XG4gICAgZXhwYW5kZWQ6IG91dC5hcmlhLmV4cGFuZGVkID09PSAnYXV0bycgPyBwcm9wcy5pbnRlcmFjdGl2ZSA6IG91dC5hcmlhLmV4cGFuZGVkLFxuICAgIGNvbnRlbnQ6IG91dC5hcmlhLmNvbnRlbnQgPT09ICdhdXRvJyA/IHByb3BzLmludGVyYWN0aXZlID8gbnVsbCA6ICdkZXNjcmliZWRieScgOiBvdXQuYXJpYS5jb250ZW50XG4gIH07XG4gIHJldHVybiBvdXQ7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BzKHBhcnRpYWxQcm9wcywgcGx1Z2lucykge1xuICBpZiAocGFydGlhbFByb3BzID09PSB2b2lkIDApIHtcbiAgICBwYXJ0aWFsUHJvcHMgPSB7fTtcbiAgfVxuXG4gIGlmIChwbHVnaW5zID09PSB2b2lkIDApIHtcbiAgICBwbHVnaW5zID0gW107XG4gIH1cblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHBhcnRpYWxQcm9wcyk7XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIHZhciBub25QbHVnaW5Qcm9wcyA9IHJlbW92ZVByb3BlcnRpZXMoZGVmYXVsdFByb3BzLCBPYmplY3Qua2V5cyhwbHVnaW5Qcm9wcykpO1xuICAgIHZhciBkaWRQYXNzVW5rbm93blByb3AgPSAhaGFzT3duUHJvcGVydHkobm9uUGx1Z2luUHJvcHMsIHByb3ApOyAvLyBDaGVjayBpZiB0aGUgcHJvcCBleGlzdHMgaW4gYHBsdWdpbnNgXG5cbiAgICBpZiAoZGlkUGFzc1Vua25vd25Qcm9wKSB7XG4gICAgICBkaWRQYXNzVW5rbm93blByb3AgPSBwbHVnaW5zLmZpbHRlcihmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW4ubmFtZSA9PT0gcHJvcDtcbiAgICAgIH0pLmxlbmd0aCA9PT0gMDtcbiAgICB9XG5cbiAgICB3YXJuV2hlbihkaWRQYXNzVW5rbm93blByb3AsIFtcImBcIiArIHByb3AgKyBcImBcIiwgXCJpcyBub3QgYSB2YWxpZCBwcm9wLiBZb3UgbWF5IGhhdmUgc3BlbGxlZCBpdCBpbmNvcnJlY3RseSwgb3IgaWYgaXQnc1wiLCAnYSBwbHVnaW4sIGZvcmdvdCB0byBwYXNzIGl0IGluIGFuIGFycmF5IGFzIHByb3BzLnBsdWdpbnMuJywgJ1xcblxcbicsICdBbGwgcHJvcHM6IGh0dHBzOi8vYXRvbWlrcy5naXRodWIuaW8vdGlwcHlqcy92Ni9hbGwtcHJvcHMvXFxuJywgJ1BsdWdpbnM6IGh0dHBzOi8vYXRvbWlrcy5naXRodWIuaW8vdGlwcHlqcy92Ni9wbHVnaW5zLyddLmpvaW4oJyAnKSk7XG4gIH0pO1xufVxuXG52YXIgaW5uZXJIVE1MID0gZnVuY3Rpb24gaW5uZXJIVE1MKCkge1xuICByZXR1cm4gJ2lubmVySFRNTCc7XG59O1xuXG5mdW5jdGlvbiBkYW5nZXJvdXNseVNldElubmVySFRNTChlbGVtZW50LCBodG1sKSB7XG4gIGVsZW1lbnRbaW5uZXJIVE1MKCldID0gaHRtbDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQXJyb3dFbGVtZW50KHZhbHVlKSB7XG4gIHZhciBhcnJvdyA9IGRpdigpO1xuXG4gIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgIGFycm93LmNsYXNzTmFtZSA9IEFSUk9XX0NMQVNTO1xuICB9IGVsc2Uge1xuICAgIGFycm93LmNsYXNzTmFtZSA9IFNWR19BUlJPV19DTEFTUztcblxuICAgIGlmIChpc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICBhcnJvdy5hcHBlbmRDaGlsZCh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKGFycm93LCB2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFycm93O1xufVxuXG5mdW5jdGlvbiBzZXRDb250ZW50KGNvbnRlbnQsIHByb3BzKSB7XG4gIGlmIChpc0VsZW1lbnQocHJvcHMuY29udGVudCkpIHtcbiAgICBkYW5nZXJvdXNseVNldElubmVySFRNTChjb250ZW50LCAnJyk7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZChwcm9wcy5jb250ZW50KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvcHMuY29udGVudCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChwcm9wcy5hbGxvd0hUTUwpIHtcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKGNvbnRlbnQsIHByb3BzLmNvbnRlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50LnRleHRDb250ZW50ID0gcHJvcHMuY29udGVudDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGdldENoaWxkcmVuKHBvcHBlcikge1xuICB2YXIgYm94ID0gcG9wcGVyLmZpcnN0RWxlbWVudENoaWxkO1xuICB2YXIgYm94Q2hpbGRyZW4gPSBhcnJheUZyb20oYm94LmNoaWxkcmVuKTtcbiAgcmV0dXJuIHtcbiAgICBib3g6IGJveCxcbiAgICBjb250ZW50OiBib3hDaGlsZHJlbi5maW5kKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS5jbGFzc0xpc3QuY29udGFpbnMoQ09OVEVOVF9DTEFTUyk7XG4gICAgfSksXG4gICAgYXJyb3c6IGJveENoaWxkcmVuLmZpbmQoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLmNsYXNzTGlzdC5jb250YWlucyhBUlJPV19DTEFTUykgfHwgbm9kZS5jbGFzc0xpc3QuY29udGFpbnMoU1ZHX0FSUk9XX0NMQVNTKTtcbiAgICB9KSxcbiAgICBiYWNrZHJvcDogYm94Q2hpbGRyZW4uZmluZChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKEJBQ0tEUk9QX0NMQVNTKTtcbiAgICB9KVxuICB9O1xufVxuZnVuY3Rpb24gcmVuZGVyKGluc3RhbmNlKSB7XG4gIHZhciBwb3BwZXIgPSBkaXYoKTtcbiAgdmFyIGJveCA9IGRpdigpO1xuICBib3guY2xhc3NOYW1lID0gQk9YX0NMQVNTO1xuICBib3guc2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJywgJ2hpZGRlbicpO1xuICBib3guc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICB2YXIgY29udGVudCA9IGRpdigpO1xuICBjb250ZW50LmNsYXNzTmFtZSA9IENPTlRFTlRfQ0xBU1M7XG4gIGNvbnRlbnQuc2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJywgJ2hpZGRlbicpO1xuICBzZXRDb250ZW50KGNvbnRlbnQsIGluc3RhbmNlLnByb3BzKTtcbiAgcG9wcGVyLmFwcGVuZENoaWxkKGJveCk7XG4gIGJveC5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgb25VcGRhdGUoaW5zdGFuY2UucHJvcHMsIGluc3RhbmNlLnByb3BzKTtcblxuICBmdW5jdGlvbiBvblVwZGF0ZShwcmV2UHJvcHMsIG5leHRQcm9wcykge1xuICAgIHZhciBfZ2V0Q2hpbGRyZW4gPSBnZXRDaGlsZHJlbihwb3BwZXIpLFxuICAgICAgICBib3ggPSBfZ2V0Q2hpbGRyZW4uYm94LFxuICAgICAgICBjb250ZW50ID0gX2dldENoaWxkcmVuLmNvbnRlbnQsXG4gICAgICAgIGFycm93ID0gX2dldENoaWxkcmVuLmFycm93O1xuXG4gICAgaWYgKG5leHRQcm9wcy50aGVtZSkge1xuICAgICAgYm94LnNldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScsIG5leHRQcm9wcy50aGVtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJveC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5leHRQcm9wcy5hbmltYXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICBib3guc2V0QXR0cmlidXRlKCdkYXRhLWFuaW1hdGlvbicsIG5leHRQcm9wcy5hbmltYXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBib3gucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWFuaW1hdGlvbicpO1xuICAgIH1cblxuICAgIGlmIChuZXh0UHJvcHMuaW5lcnRpYSkge1xuICAgICAgYm94LnNldEF0dHJpYnV0ZSgnZGF0YS1pbmVydGlhJywgJycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBib3gucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWluZXJ0aWEnKTtcbiAgICB9XG5cbiAgICBib3guc3R5bGUubWF4V2lkdGggPSB0eXBlb2YgbmV4dFByb3BzLm1heFdpZHRoID09PSAnbnVtYmVyJyA/IG5leHRQcm9wcy5tYXhXaWR0aCArIFwicHhcIiA6IG5leHRQcm9wcy5tYXhXaWR0aDtcblxuICAgIGlmIChuZXh0UHJvcHMucm9sZSkge1xuICAgICAgYm94LnNldEF0dHJpYnV0ZSgncm9sZScsIG5leHRQcm9wcy5yb2xlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYm94LnJlbW92ZUF0dHJpYnV0ZSgncm9sZScpO1xuICAgIH1cblxuICAgIGlmIChwcmV2UHJvcHMuY29udGVudCAhPT0gbmV4dFByb3BzLmNvbnRlbnQgfHwgcHJldlByb3BzLmFsbG93SFRNTCAhPT0gbmV4dFByb3BzLmFsbG93SFRNTCkge1xuICAgICAgc2V0Q29udGVudChjb250ZW50LCBpbnN0YW5jZS5wcm9wcyk7XG4gICAgfVxuXG4gICAgaWYgKG5leHRQcm9wcy5hcnJvdykge1xuICAgICAgaWYgKCFhcnJvdykge1xuICAgICAgICBib3guYXBwZW5kQ2hpbGQoY3JlYXRlQXJyb3dFbGVtZW50KG5leHRQcm9wcy5hcnJvdykpO1xuICAgICAgfSBlbHNlIGlmIChwcmV2UHJvcHMuYXJyb3cgIT09IG5leHRQcm9wcy5hcnJvdykge1xuICAgICAgICBib3gucmVtb3ZlQ2hpbGQoYXJyb3cpO1xuICAgICAgICBib3guYXBwZW5kQ2hpbGQoY3JlYXRlQXJyb3dFbGVtZW50KG5leHRQcm9wcy5hcnJvdykpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXJyb3cpIHtcbiAgICAgIGJveC5yZW1vdmVDaGlsZChhcnJvdyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwb3BwZXI6IHBvcHBlcixcbiAgICBvblVwZGF0ZTogb25VcGRhdGVcbiAgfTtcbn0gLy8gUnVudGltZSBjaGVjayB0byBpZGVudGlmeSBpZiB0aGUgcmVuZGVyIGZ1bmN0aW9uIGlzIHRoZSBkZWZhdWx0IG9uZTsgdGhpc1xuLy8gd2F5IHdlIGNhbiBhcHBseSBkZWZhdWx0IENTUyB0cmFuc2l0aW9ucyBsb2dpYyBhbmQgaXQgY2FuIGJlIHRyZWUtc2hha2VuIGF3YXlcblxucmVuZGVyLiQkdGlwcHkgPSB0cnVlO1xuXG52YXIgaWRDb3VudGVyID0gMTtcbnZhciBtb3VzZU1vdmVMaXN0ZW5lcnMgPSBbXTsgLy8gVXNlZCBieSBgaGlkZUFsbCgpYFxuXG52YXIgbW91bnRlZEluc3RhbmNlcyA9IFtdO1xuZnVuY3Rpb24gY3JlYXRlVGlwcHkocmVmZXJlbmNlLCBwYXNzZWRQcm9wcykge1xuICB2YXIgcHJvcHMgPSBldmFsdWF0ZVByb3BzKHJlZmVyZW5jZSwgT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFByb3BzLCBnZXRFeHRlbmRlZFBhc3NlZFByb3BzKHJlbW92ZVVuZGVmaW5lZFByb3BzKHBhc3NlZFByb3BzKSkpKTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIPCflJIgUHJpdmF0ZSBtZW1iZXJzXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBzaG93VGltZW91dDtcbiAgdmFyIGhpZGVUaW1lb3V0O1xuICB2YXIgc2NoZWR1bGVIaWRlQW5pbWF0aW9uRnJhbWU7XG4gIHZhciBpc1Zpc2libGVGcm9tQ2xpY2sgPSBmYWxzZTtcbiAgdmFyIGRpZEhpZGVEdWVUb0RvY3VtZW50TW91c2VEb3duID0gZmFsc2U7XG4gIHZhciBkaWRUb3VjaE1vdmUgPSBmYWxzZTtcbiAgdmFyIGlnbm9yZU9uRmlyc3RVcGRhdGUgPSBmYWxzZTtcbiAgdmFyIGxhc3RUcmlnZ2VyRXZlbnQ7XG4gIHZhciBjdXJyZW50VHJhbnNpdGlvbkVuZExpc3RlbmVyO1xuICB2YXIgb25GaXJzdFVwZGF0ZTtcbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuICB2YXIgZGVib3VuY2VkT25Nb3VzZU1vdmUgPSBkZWJvdW5jZShvbk1vdXNlTW92ZSwgcHJvcHMuaW50ZXJhY3RpdmVEZWJvdW5jZSk7XG4gIHZhciBjdXJyZW50VGFyZ2V0OyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8g8J+UkSBQdWJsaWMgbWVtYmVyc1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgaWQgPSBpZENvdW50ZXIrKztcbiAgdmFyIHBvcHBlckluc3RhbmNlID0gbnVsbDtcbiAgdmFyIHBsdWdpbnMgPSB1bmlxdWUocHJvcHMucGx1Z2lucyk7XG4gIHZhciBzdGF0ZSA9IHtcbiAgICAvLyBJcyB0aGUgaW5zdGFuY2UgY3VycmVudGx5IGVuYWJsZWQ/XG4gICAgaXNFbmFibGVkOiB0cnVlLFxuICAgIC8vIElzIHRoZSB0aXBweSBjdXJyZW50bHkgc2hvd2luZyBhbmQgbm90IHRyYW5zaXRpb25pbmcgb3V0P1xuICAgIGlzVmlzaWJsZTogZmFsc2UsXG4gICAgLy8gSGFzIHRoZSBpbnN0YW5jZSBiZWVuIGRlc3Ryb3llZD9cbiAgICBpc0Rlc3Ryb3llZDogZmFsc2UsXG4gICAgLy8gSXMgdGhlIHRpcHB5IGN1cnJlbnRseSBtb3VudGVkIHRvIHRoZSBET00/XG4gICAgaXNNb3VudGVkOiBmYWxzZSxcbiAgICAvLyBIYXMgdGhlIHRpcHB5IGZpbmlzaGVkIHRyYW5zaXRpb25pbmcgaW4/XG4gICAgaXNTaG93bjogZmFsc2VcbiAgfTtcbiAgdmFyIGluc3RhbmNlID0ge1xuICAgIC8vIHByb3BlcnRpZXNcbiAgICBpZDogaWQsXG4gICAgcmVmZXJlbmNlOiByZWZlcmVuY2UsXG4gICAgcG9wcGVyOiBkaXYoKSxcbiAgICBwb3BwZXJJbnN0YW5jZTogcG9wcGVySW5zdGFuY2UsXG4gICAgcHJvcHM6IHByb3BzLFxuICAgIHN0YXRlOiBzdGF0ZSxcbiAgICBwbHVnaW5zOiBwbHVnaW5zLFxuICAgIC8vIG1ldGhvZHNcbiAgICBjbGVhckRlbGF5VGltZW91dHM6IGNsZWFyRGVsYXlUaW1lb3V0cyxcbiAgICBzZXRQcm9wczogc2V0UHJvcHMsXG4gICAgc2V0Q29udGVudDogc2V0Q29udGVudCxcbiAgICBzaG93OiBzaG93LFxuICAgIGhpZGU6IGhpZGUsXG4gICAgaGlkZVdpdGhJbnRlcmFjdGl2aXR5OiBoaWRlV2l0aEludGVyYWN0aXZpdHksXG4gICAgZW5hYmxlOiBlbmFibGUsXG4gICAgZGlzYWJsZTogZGlzYWJsZSxcbiAgICB1bm1vdW50OiB1bm1vdW50LFxuICAgIGRlc3Ryb3k6IGRlc3Ryb3lcbiAgfTsgLy8gVE9ETzogSW52ZXN0aWdhdGUgd2h5IHRoaXMgZWFybHkgcmV0dXJuIGNhdXNlcyBhIFREWiBlcnJvciBpbiB0aGUgdGVzdHMg4oCUXG4gIC8vIGl0IGRvZXNuJ3Qgc2VlbSB0byBoYXBwZW4gaW4gdGhlIGJyb3dzZXJcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblxuICBpZiAoIXByb3BzLnJlbmRlcikge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIGVycm9yV2hlbih0cnVlLCAncmVuZGVyKCkgZnVuY3Rpb24gaGFzIG5vdCBiZWVuIHN1cHBsaWVkLicpO1xuICAgIH1cblxuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfSAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gSW5pdGlhbCBtdXRhdGlvbnNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICB2YXIgX3Byb3BzJHJlbmRlciA9IHByb3BzLnJlbmRlcihpbnN0YW5jZSksXG4gICAgICBwb3BwZXIgPSBfcHJvcHMkcmVuZGVyLnBvcHBlcixcbiAgICAgIG9uVXBkYXRlID0gX3Byb3BzJHJlbmRlci5vblVwZGF0ZTtcblxuICBwb3BwZXIuc2V0QXR0cmlidXRlKCdkYXRhLXRpcHB5LXJvb3QnLCAnJyk7XG4gIHBvcHBlci5pZCA9IFwidGlwcHktXCIgKyBpbnN0YW5jZS5pZDtcbiAgaW5zdGFuY2UucG9wcGVyID0gcG9wcGVyO1xuICByZWZlcmVuY2UuX3RpcHB5ID0gaW5zdGFuY2U7XG4gIHBvcHBlci5fdGlwcHkgPSBpbnN0YW5jZTtcbiAgdmFyIHBsdWdpbnNIb29rcyA9IHBsdWdpbnMubWFwKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICByZXR1cm4gcGx1Z2luLmZuKGluc3RhbmNlKTtcbiAgfSk7XG4gIHZhciBoYXNBcmlhRXhwYW5kZWQgPSByZWZlcmVuY2UuaGFzQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJyk7XG4gIGFkZExpc3RlbmVycygpO1xuICBoYW5kbGVBcmlhRXhwYW5kZWRBdHRyaWJ1dGUoKTtcbiAgaGFuZGxlU3R5bGVzKCk7XG4gIGludm9rZUhvb2soJ29uQ3JlYXRlJywgW2luc3RhbmNlXSk7XG5cbiAgaWYgKHByb3BzLnNob3dPbkNyZWF0ZSkge1xuICAgIHNjaGVkdWxlU2hvdygpO1xuICB9IC8vIFByZXZlbnQgYSB0aXBweSB3aXRoIGEgZGVsYXkgZnJvbSBoaWRpbmcgaWYgdGhlIGN1cnNvciBsZWZ0IHRoZW4gcmV0dXJuZWRcbiAgLy8gYmVmb3JlIGl0IHN0YXJ0ZWQgaGlkaW5nXG5cblxuICBwb3BwZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaW5zdGFuY2UucHJvcHMuaW50ZXJhY3RpdmUgJiYgaW5zdGFuY2Uuc3RhdGUuaXNWaXNpYmxlKSB7XG4gICAgICBpbnN0YW5jZS5jbGVhckRlbGF5VGltZW91dHMoKTtcbiAgICB9XG4gIH0pO1xuICBwb3BwZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaW5zdGFuY2UucHJvcHMuaW50ZXJhY3RpdmUgJiYgaW5zdGFuY2UucHJvcHMudHJpZ2dlci5pbmRleE9mKCdtb3VzZWVudGVyJykgPj0gMCkge1xuICAgICAgZ2V0RG9jdW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBkZWJvdW5jZWRPbk1vdXNlTW92ZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGluc3RhbmNlOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8g8J+UkiBQcml2YXRlIG1ldGhvZHNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gZ2V0Tm9ybWFsaXplZFRvdWNoU2V0dGluZ3MoKSB7XG4gICAgdmFyIHRvdWNoID0gaW5zdGFuY2UucHJvcHMudG91Y2g7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodG91Y2gpID8gdG91Y2ggOiBbdG91Y2gsIDBdO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SXNDdXN0b21Ub3VjaEJlaGF2aW9yKCkge1xuICAgIHJldHVybiBnZXROb3JtYWxpemVkVG91Y2hTZXR0aW5ncygpWzBdID09PSAnaG9sZCc7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJc0RlZmF1bHRSZW5kZXJGbigpIHtcbiAgICB2YXIgX2luc3RhbmNlJHByb3BzJHJlbmRlO1xuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiAhISgoX2luc3RhbmNlJHByb3BzJHJlbmRlID0gaW5zdGFuY2UucHJvcHMucmVuZGVyKSAhPSBudWxsICYmIF9pbnN0YW5jZSRwcm9wcyRyZW5kZS4kJHRpcHB5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRUYXJnZXQoKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRUYXJnZXQgfHwgcmVmZXJlbmNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RG9jdW1lbnQoKSB7XG4gICAgdmFyIHBhcmVudCA9IGdldEN1cnJlbnRUYXJnZXQoKS5wYXJlbnROb2RlO1xuICAgIHJldHVybiBwYXJlbnQgPyBnZXRPd25lckRvY3VtZW50KHBhcmVudCkgOiBkb2N1bWVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERlZmF1bHRUZW1wbGF0ZUNoaWxkcmVuKCkge1xuICAgIHJldHVybiBnZXRDaGlsZHJlbihwb3BwZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGVsYXkoaXNTaG93KSB7XG4gICAgLy8gRm9yIHRvdWNoIG9yIGtleWJvYXJkIGlucHV0LCBmb3JjZSBgMGAgZGVsYXkgZm9yIFVYIHJlYXNvbnNcbiAgICAvLyBBbHNvIGlmIHRoZSBpbnN0YW5jZSBpcyBtb3VudGVkIGJ1dCBub3QgdmlzaWJsZSAodHJhbnNpdGlvbmluZyBvdXQpLFxuICAgIC8vIGlnbm9yZSBkZWxheVxuICAgIGlmIChpbnN0YW5jZS5zdGF0ZS5pc01vdW50ZWQgJiYgIWluc3RhbmNlLnN0YXRlLmlzVmlzaWJsZSB8fCBjdXJyZW50SW5wdXQuaXNUb3VjaCB8fCBsYXN0VHJpZ2dlckV2ZW50ICYmIGxhc3RUcmlnZ2VyRXZlbnQudHlwZSA9PT0gJ2ZvY3VzJykge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldFZhbHVlQXRJbmRleE9yUmV0dXJuKGluc3RhbmNlLnByb3BzLmRlbGF5LCBpc1Nob3cgPyAwIDogMSwgZGVmYXVsdFByb3BzLmRlbGF5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVN0eWxlcyhmcm9tSGlkZSkge1xuICAgIGlmIChmcm9tSGlkZSA9PT0gdm9pZCAwKSB7XG4gICAgICBmcm9tSGlkZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHBvcHBlci5zdHlsZS5wb2ludGVyRXZlbnRzID0gaW5zdGFuY2UucHJvcHMuaW50ZXJhY3RpdmUgJiYgIWZyb21IaWRlID8gJycgOiAnbm9uZSc7XG4gICAgcG9wcGVyLnN0eWxlLnpJbmRleCA9IFwiXCIgKyBpbnN0YW5jZS5wcm9wcy56SW5kZXg7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VIb29rKGhvb2ssIGFyZ3MsIHNob3VsZEludm9rZVByb3BzSG9vaykge1xuICAgIGlmIChzaG91bGRJbnZva2VQcm9wc0hvb2sgPT09IHZvaWQgMCkge1xuICAgICAgc2hvdWxkSW52b2tlUHJvcHNIb29rID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwbHVnaW5zSG9va3MuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luSG9va3MpIHtcbiAgICAgIGlmIChwbHVnaW5Ib29rc1tob29rXSkge1xuICAgICAgICBwbHVnaW5Ib29rc1tob29rXS5hcHBseShwbHVnaW5Ib29rcywgYXJncyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoc2hvdWxkSW52b2tlUHJvcHNIb29rKSB7XG4gICAgICB2YXIgX2luc3RhbmNlJHByb3BzO1xuXG4gICAgICAoX2luc3RhbmNlJHByb3BzID0gaW5zdGFuY2UucHJvcHMpW2hvb2tdLmFwcGx5KF9pbnN0YW5jZSRwcm9wcywgYXJncyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQXJpYUNvbnRlbnRBdHRyaWJ1dGUoKSB7XG4gICAgdmFyIGFyaWEgPSBpbnN0YW5jZS5wcm9wcy5hcmlhO1xuXG4gICAgaWYgKCFhcmlhLmNvbnRlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYXR0ciA9IFwiYXJpYS1cIiArIGFyaWEuY29udGVudDtcbiAgICB2YXIgaWQgPSBwb3BwZXIuaWQ7XG4gICAgdmFyIG5vZGVzID0gbm9ybWFsaXplVG9BcnJheShpbnN0YW5jZS5wcm9wcy50cmlnZ2VyVGFyZ2V0IHx8IHJlZmVyZW5jZSk7XG4gICAgbm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IG5vZGUuZ2V0QXR0cmlidXRlKGF0dHIpO1xuXG4gICAgICBpZiAoaW5zdGFuY2Uuc3RhdGUuaXNWaXNpYmxlKSB7XG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHIsIGN1cnJlbnRWYWx1ZSA/IGN1cnJlbnRWYWx1ZSArIFwiIFwiICsgaWQgOiBpZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbmV4dFZhbHVlID0gY3VycmVudFZhbHVlICYmIGN1cnJlbnRWYWx1ZS5yZXBsYWNlKGlkLCAnJykudHJpbSgpO1xuXG4gICAgICAgIGlmIChuZXh0VmFsdWUpIHtcbiAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHRyLCBuZXh0VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVBcmlhRXhwYW5kZWRBdHRyaWJ1dGUoKSB7XG4gICAgaWYgKGhhc0FyaWFFeHBhbmRlZCB8fCAhaW5zdGFuY2UucHJvcHMuYXJpYS5leHBhbmRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBub2RlcyA9IG5vcm1hbGl6ZVRvQXJyYXkoaW5zdGFuY2UucHJvcHMudHJpZ2dlclRhcmdldCB8fCByZWZlcmVuY2UpO1xuICAgIG5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIGlmIChpbnN0YW5jZS5wcm9wcy5pbnRlcmFjdGl2ZSkge1xuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGluc3RhbmNlLnN0YXRlLmlzVmlzaWJsZSAmJiBub2RlID09PSBnZXRDdXJyZW50VGFyZ2V0KCkgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhbnVwSW50ZXJhY3RpdmVNb3VzZUxpc3RlbmVycygpIHtcbiAgICBnZXREb2N1bWVudCgpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGRlYm91bmNlZE9uTW91c2VNb3ZlKTtcbiAgICBtb3VzZU1vdmVMaXN0ZW5lcnMgPSBtb3VzZU1vdmVMaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIGxpc3RlbmVyICE9PSBkZWJvdW5jZWRPbk1vdXNlTW92ZTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRG9jdW1lbnRQcmVzcyhldmVudCkge1xuICAgIC8vIE1vdmVkIGZpbmdlciB0byBzY3JvbGwgaW5zdGVhZCBvZiBhbiBpbnRlbnRpb25hbCB0YXAgb3V0c2lkZVxuICAgIGlmIChjdXJyZW50SW5wdXQuaXNUb3VjaCkge1xuICAgICAgaWYgKGRpZFRvdWNoTW92ZSB8fCBldmVudC50eXBlID09PSAnbW91c2Vkb3duJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFjdHVhbFRhcmdldCA9IGV2ZW50LmNvbXBvc2VkUGF0aCAmJiBldmVudC5jb21wb3NlZFBhdGgoKVswXSB8fCBldmVudC50YXJnZXQ7IC8vIENsaWNrZWQgb24gaW50ZXJhY3RpdmUgcG9wcGVyXG5cbiAgICBpZiAoaW5zdGFuY2UucHJvcHMuaW50ZXJhY3RpdmUgJiYgYWN0dWFsQ29udGFpbnMocG9wcGVyLCBhY3R1YWxUYXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBDbGlja2VkIG9uIHRoZSBldmVudCBsaXN0ZW5lcnMgdGFyZ2V0XG5cblxuICAgIGlmIChub3JtYWxpemVUb0FycmF5KGluc3RhbmNlLnByb3BzLnRyaWdnZXJUYXJnZXQgfHwgcmVmZXJlbmNlKS5zb21lKGZ1bmN0aW9uIChlbCkge1xuICAgICAgcmV0dXJuIGFjdHVhbENvbnRhaW5zKGVsLCBhY3R1YWxUYXJnZXQpO1xuICAgIH0pKSB7XG4gICAgICBpZiAoY3VycmVudElucHV0LmlzVG91Y2gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5zdGFuY2Uuc3RhdGUuaXNWaXNpYmxlICYmIGluc3RhbmNlLnByb3BzLnRyaWdnZXIuaW5kZXhPZignY2xpY2snKSA+PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW52b2tlSG9vaygnb25DbGlja091dHNpZGUnLCBbaW5zdGFuY2UsIGV2ZW50XSk7XG4gICAgfVxuXG4gICAgaWYgKGluc3RhbmNlLnByb3BzLmhpZGVPbkNsaWNrID09PSB0cnVlKSB7XG4gICAgICBpbnN0YW5jZS5jbGVhckRlbGF5VGltZW91dHMoKTtcbiAgICAgIGluc3RhbmNlLmhpZGUoKTsgLy8gYG1vdXNlZG93bmAgZXZlbnQgaXMgZmlyZWQgcmlnaHQgYmVmb3JlIGBmb2N1c2AgaWYgcHJlc3NpbmcgdGhlXG4gICAgICAvLyBjdXJyZW50VGFyZ2V0LiBUaGlzIGxldHMgYSB0aXBweSB3aXRoIGBmb2N1c2AgdHJpZ2dlciBrbm93IHRoYXQgaXRcbiAgICAgIC8vIHNob3VsZCBub3Qgc2hvd1xuXG4gICAgICBkaWRIaWRlRHVlVG9Eb2N1bWVudE1vdXNlRG93biA9IHRydWU7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGlkSGlkZUR1ZVRvRG9jdW1lbnRNb3VzZURvd24gPSBmYWxzZTtcbiAgICAgIH0pOyAvLyBUaGUgbGlzdGVuZXIgZ2V0cyBhZGRlZCBpbiBgc2NoZWR1bGVTaG93KClgLCBidXQgdGhpcyBtYXkgYmUgaGlkaW5nIGl0XG4gICAgICAvLyBiZWZvcmUgaXQgc2hvd3MsIGFuZCBoaWRlKCkncyBlYXJseSBiYWlsLW91dCBiZWhhdmlvciBjYW4gcHJldmVudCBpdFxuICAgICAgLy8gZnJvbSBiZWluZyBjbGVhbmVkIHVwXG5cbiAgICAgIGlmICghaW5zdGFuY2Uuc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgIHJlbW92ZURvY3VtZW50UHJlc3MoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblRvdWNoTW92ZSgpIHtcbiAgICBkaWRUb3VjaE1vdmUgPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KCkge1xuICAgIGRpZFRvdWNoTW92ZSA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkRG9jdW1lbnRQcmVzcygpIHtcbiAgICB2YXIgZG9jID0gZ2V0RG9jdW1lbnQoKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Eb2N1bWVudFByZXNzLCB0cnVlKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvbkRvY3VtZW50UHJlc3MsIFRPVUNIX09QVElPTlMpO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0LCBUT1VDSF9PUFRJT05TKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUsIFRPVUNIX09QVElPTlMpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRG9jdW1lbnRQcmVzcygpIHtcbiAgICB2YXIgZG9jID0gZ2V0RG9jdW1lbnQoKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Eb2N1bWVudFByZXNzLCB0cnVlKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvbkRvY3VtZW50UHJlc3MsIFRPVUNIX09QVElPTlMpO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0LCBUT1VDSF9PUFRJT05TKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUsIFRPVUNIX09QVElPTlMpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25UcmFuc2l0aW9uZWRPdXQoZHVyYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgb25UcmFuc2l0aW9uRW5kKGR1cmF0aW9uLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIWluc3RhbmNlLnN0YXRlLmlzVmlzaWJsZSAmJiBwb3BwZXIucGFyZW50Tm9kZSAmJiBwb3BwZXIucGFyZW50Tm9kZS5jb250YWlucyhwb3BwZXIpKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvblRyYW5zaXRpb25lZEluKGR1cmF0aW9uLCBjYWxsYmFjaykge1xuICAgIG9uVHJhbnNpdGlvbkVuZChkdXJhdGlvbiwgY2FsbGJhY2spO1xuICB9XG5cbiAgZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKGR1cmF0aW9uLCBjYWxsYmFjaykge1xuICAgIHZhciBib3ggPSBnZXREZWZhdWx0VGVtcGxhdGVDaGlsZHJlbigpLmJveDtcblxuICAgIGZ1bmN0aW9uIGxpc3RlbmVyKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBib3gpIHtcbiAgICAgICAgdXBkYXRlVHJhbnNpdGlvbkVuZExpc3RlbmVyKGJveCwgJ3JlbW92ZScsIGxpc3RlbmVyKTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9IC8vIE1ha2UgY2FsbGJhY2sgc3luY2hyb25vdXMgaWYgZHVyYXRpb24gaXMgMFxuICAgIC8vIGB0cmFuc2l0aW9uZW5kYCB3b24ndCBmaXJlIG90aGVyd2lzZVxuXG5cbiAgICBpZiAoZHVyYXRpb24gPT09IDApIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHVwZGF0ZVRyYW5zaXRpb25FbmRMaXN0ZW5lcihib3gsICdyZW1vdmUnLCBjdXJyZW50VHJhbnNpdGlvbkVuZExpc3RlbmVyKTtcbiAgICB1cGRhdGVUcmFuc2l0aW9uRW5kTGlzdGVuZXIoYm94LCAnYWRkJywgbGlzdGVuZXIpO1xuICAgIGN1cnJlbnRUcmFuc2l0aW9uRW5kTGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uKGV2ZW50VHlwZSwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgbm9kZXMgPSBub3JtYWxpemVUb0FycmF5KGluc3RhbmNlLnByb3BzLnRyaWdnZXJUYXJnZXQgfHwgcmVmZXJlbmNlKTtcbiAgICBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgIGxpc3RlbmVycy5wdXNoKHtcbiAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgZXZlbnRUeXBlOiBldmVudFR5cGUsXG4gICAgICAgIGhhbmRsZXI6IGhhbmRsZXIsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkTGlzdGVuZXJzKCkge1xuICAgIGlmIChnZXRJc0N1c3RvbVRvdWNoQmVoYXZpb3IoKSkge1xuICAgICAgb24oJ3RvdWNoc3RhcnQnLCBvblRyaWdnZXIsIHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBvbigndG91Y2hlbmQnLCBvbk1vdXNlTGVhdmUsIHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3BsaXRCeVNwYWNlcyhpbnN0YW5jZS5wcm9wcy50cmlnZ2VyKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudFR5cGUpIHtcbiAgICAgIGlmIChldmVudFR5cGUgPT09ICdtYW51YWwnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgb24oZXZlbnRUeXBlLCBvblRyaWdnZXIpO1xuXG4gICAgICBzd2l0Y2ggKGV2ZW50VHlwZSkge1xuICAgICAgICBjYXNlICdtb3VzZWVudGVyJzpcbiAgICAgICAgICBvbignbW91c2VsZWF2ZScsIG9uTW91c2VMZWF2ZSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZm9jdXMnOlxuICAgICAgICAgIG9uKGlzSUUxMSA/ICdmb2N1c291dCcgOiAnYmx1cicsIG9uQmx1ck9yRm9jdXNPdXQpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2ZvY3VzaW4nOlxuICAgICAgICAgIG9uKCdmb2N1c291dCcsIG9uQmx1ck9yRm9jdXNPdXQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJzKCkge1xuICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICB2YXIgbm9kZSA9IF9yZWYubm9kZSxcbiAgICAgICAgICBldmVudFR5cGUgPSBfcmVmLmV2ZW50VHlwZSxcbiAgICAgICAgICBoYW5kbGVyID0gX3JlZi5oYW5kbGVyLFxuICAgICAgICAgIG9wdGlvbnMgPSBfcmVmLm9wdGlvbnM7XG4gICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICB9KTtcbiAgICBsaXN0ZW5lcnMgPSBbXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVHJpZ2dlcihldmVudCkge1xuICAgIHZhciBfbGFzdFRyaWdnZXJFdmVudDtcblxuICAgIHZhciBzaG91bGRTY2hlZHVsZUNsaWNrSGlkZSA9IGZhbHNlO1xuXG4gICAgaWYgKCFpbnN0YW5jZS5zdGF0ZS5pc0VuYWJsZWQgfHwgaXNFdmVudExpc3RlbmVyU3RvcHBlZChldmVudCkgfHwgZGlkSGlkZUR1ZVRvRG9jdW1lbnRNb3VzZURvd24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgd2FzRm9jdXNlZCA9ICgoX2xhc3RUcmlnZ2VyRXZlbnQgPSBsYXN0VHJpZ2dlckV2ZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2xhc3RUcmlnZ2VyRXZlbnQudHlwZSkgPT09ICdmb2N1cyc7XG4gICAgbGFzdFRyaWdnZXJFdmVudCA9IGV2ZW50O1xuICAgIGN1cnJlbnRUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgIGhhbmRsZUFyaWFFeHBhbmRlZEF0dHJpYnV0ZSgpO1xuXG4gICAgaWYgKCFpbnN0YW5jZS5zdGF0ZS5pc1Zpc2libGUgJiYgaXNNb3VzZUV2ZW50KGV2ZW50KSkge1xuICAgICAgLy8gSWYgc2Nyb2xsaW5nLCBgbW91c2VlbnRlcmAgZXZlbnRzIGNhbiBiZSBmaXJlZCBpZiB0aGUgY3Vyc29yIGxhbmRzXG4gICAgICAvLyBvdmVyIGEgbmV3IHRhcmdldCwgYnV0IGBtb3VzZW1vdmVgIGV2ZW50cyBkb24ndCBnZXQgZmlyZWQuIFRoaXNcbiAgICAgIC8vIGNhdXNlcyBpbnRlcmFjdGl2ZSB0b29sdGlwcyB0byBnZXQgc3R1Y2sgb3BlbiB1bnRpbCB0aGUgY3Vyc29yIGlzXG4gICAgICAvLyBtb3ZlZFxuICAgICAgbW91c2VNb3ZlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5lcihldmVudCk7XG4gICAgICB9KTtcbiAgICB9IC8vIFRvZ2dsZSBzaG93L2hpZGUgd2hlbiBjbGlja2luZyBjbGljay10cmlnZ2VyZWQgdG9vbHRpcHNcblxuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdjbGljaycgJiYgKGluc3RhbmNlLnByb3BzLnRyaWdnZXIuaW5kZXhPZignbW91c2VlbnRlcicpIDwgMCB8fCBpc1Zpc2libGVGcm9tQ2xpY2spICYmIGluc3RhbmNlLnByb3BzLmhpZGVPbkNsaWNrICE9PSBmYWxzZSAmJiBpbnN0YW5jZS5zdGF0ZS5pc1Zpc2libGUpIHtcbiAgICAgIHNob3VsZFNjaGVkdWxlQ2xpY2tIaWRlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NoZWR1bGVTaG93KGV2ZW50KTtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2NsaWNrJykge1xuICAgICAgaXNWaXNpYmxlRnJvbUNsaWNrID0gIXNob3VsZFNjaGVkdWxlQ2xpY2tIaWRlO1xuICAgIH1cblxuICAgIGlmIChzaG91bGRTY2hlZHVsZUNsaWNrSGlkZSAmJiAhd2FzRm9jdXNlZCkge1xuICAgICAgc2NoZWR1bGVIaWRlKGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbk1vdXNlTW92ZShldmVudCkge1xuICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgdmFyIGlzQ3Vyc29yT3ZlclJlZmVyZW5jZU9yUG9wcGVyID0gZ2V0Q3VycmVudFRhcmdldCgpLmNvbnRhaW5zKHRhcmdldCkgfHwgcG9wcGVyLmNvbnRhaW5zKHRhcmdldCk7XG5cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ21vdXNlbW92ZScgJiYgaXNDdXJzb3JPdmVyUmVmZXJlbmNlT3JQb3BwZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcG9wcGVyVHJlZURhdGEgPSBnZXROZXN0ZWRQb3BwZXJUcmVlKCkuY29uY2F0KHBvcHBlcikubWFwKGZ1bmN0aW9uIChwb3BwZXIpIHtcbiAgICAgIHZhciBfaW5zdGFuY2UkcG9wcGVySW5zdGE7XG5cbiAgICAgIHZhciBpbnN0YW5jZSA9IHBvcHBlci5fdGlwcHk7XG4gICAgICB2YXIgc3RhdGUgPSAoX2luc3RhbmNlJHBvcHBlckluc3RhID0gaW5zdGFuY2UucG9wcGVySW5zdGFuY2UpID09IG51bGwgPyB2b2lkIDAgOiBfaW5zdGFuY2UkcG9wcGVySW5zdGEuc3RhdGU7XG5cbiAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBvcHBlclJlY3Q6IHBvcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICBwb3BwZXJTdGF0ZTogc3RhdGUsXG4gICAgICAgICAgcHJvcHM6IHByb3BzXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pLmZpbHRlcihCb29sZWFuKTtcblxuICAgIGlmIChpc0N1cnNvck91dHNpZGVJbnRlcmFjdGl2ZUJvcmRlcihwb3BwZXJUcmVlRGF0YSwgZXZlbnQpKSB7XG4gICAgICBjbGVhbnVwSW50ZXJhY3RpdmVNb3VzZUxpc3RlbmVycygpO1xuICAgICAgc2NoZWR1bGVIaWRlKGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoZXZlbnQpIHtcbiAgICB2YXIgc2hvdWxkQmFpbCA9IGlzRXZlbnRMaXN0ZW5lclN0b3BwZWQoZXZlbnQpIHx8IGluc3RhbmNlLnByb3BzLnRyaWdnZXIuaW5kZXhPZignY2xpY2snKSA+PSAwICYmIGlzVmlzaWJsZUZyb21DbGljaztcblxuICAgIGlmIChzaG91bGRCYWlsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGluc3RhbmNlLnByb3BzLmludGVyYWN0aXZlKSB7XG4gICAgICBpbnN0YW5jZS5oaWRlV2l0aEludGVyYWN0aXZpdHkoZXZlbnQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNjaGVkdWxlSGlkZShldmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkJsdXJPckZvY3VzT3V0KGV2ZW50KSB7XG4gICAgaWYgKGluc3RhbmNlLnByb3BzLnRyaWdnZXIuaW5kZXhPZignZm9jdXNpbicpIDwgMCAmJiBldmVudC50YXJnZXQgIT09IGdldEN1cnJlbnRUYXJnZXQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gSWYgZm9jdXMgd2FzIG1vdmVkIHRvIHdpdGhpbiB0aGUgcG9wcGVyXG5cblxuICAgIGlmIChpbnN0YW5jZS5wcm9wcy5pbnRlcmFjdGl2ZSAmJiBldmVudC5yZWxhdGVkVGFyZ2V0ICYmIHBvcHBlci5jb250YWlucyhldmVudC5yZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNjaGVkdWxlSGlkZShldmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0V2ZW50TGlzdGVuZXJTdG9wcGVkKGV2ZW50KSB7XG4gICAgcmV0dXJuIGN1cnJlbnRJbnB1dC5pc1RvdWNoID8gZ2V0SXNDdXN0b21Ub3VjaEJlaGF2aW9yKCkgIT09IGV2ZW50LnR5cGUuaW5kZXhPZigndG91Y2gnKSA+PSAwIDogZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQb3BwZXJJbnN0YW5jZSgpIHtcbiAgICBkZXN0cm95UG9wcGVySW5zdGFuY2UoKTtcbiAgICB2YXIgX2luc3RhbmNlJHByb3BzMiA9IGluc3RhbmNlLnByb3BzLFxuICAgICAgICBwb3BwZXJPcHRpb25zID0gX2luc3RhbmNlJHByb3BzMi5wb3BwZXJPcHRpb25zLFxuICAgICAgICBwbGFjZW1lbnQgPSBfaW5zdGFuY2UkcHJvcHMyLnBsYWNlbWVudCxcbiAgICAgICAgb2Zmc2V0ID0gX2luc3RhbmNlJHByb3BzMi5vZmZzZXQsXG4gICAgICAgIGdldFJlZmVyZW5jZUNsaWVudFJlY3QgPSBfaW5zdGFuY2UkcHJvcHMyLmdldFJlZmVyZW5jZUNsaWVudFJlY3QsXG4gICAgICAgIG1vdmVUcmFuc2l0aW9uID0gX2luc3RhbmNlJHByb3BzMi5tb3ZlVHJhbnNpdGlvbjtcbiAgICB2YXIgYXJyb3cgPSBnZXRJc0RlZmF1bHRSZW5kZXJGbigpID8gZ2V0Q2hpbGRyZW4ocG9wcGVyKS5hcnJvdyA6IG51bGw7XG4gICAgdmFyIGNvbXB1dGVkUmVmZXJlbmNlID0gZ2V0UmVmZXJlbmNlQ2xpZW50UmVjdCA/IHtcbiAgICAgIGdldEJvdW5kaW5nQ2xpZW50UmVjdDogZ2V0UmVmZXJlbmNlQ2xpZW50UmVjdCxcbiAgICAgIGNvbnRleHRFbGVtZW50OiBnZXRSZWZlcmVuY2VDbGllbnRSZWN0LmNvbnRleHRFbGVtZW50IHx8IGdldEN1cnJlbnRUYXJnZXQoKVxuICAgIH0gOiByZWZlcmVuY2U7XG4gICAgdmFyIHRpcHB5TW9kaWZpZXIgPSB7XG4gICAgICBuYW1lOiAnJCR0aXBweScsXG4gICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgcGhhc2U6ICdiZWZvcmVXcml0ZScsXG4gICAgICByZXF1aXJlczogWydjb21wdXRlU3R5bGVzJ10sXG4gICAgICBmbjogZnVuY3Rpb24gZm4oX3JlZjIpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gX3JlZjIuc3RhdGU7XG5cbiAgICAgICAgaWYgKGdldElzRGVmYXVsdFJlbmRlckZuKCkpIHtcbiAgICAgICAgICB2YXIgX2dldERlZmF1bHRUZW1wbGF0ZUNoID0gZ2V0RGVmYXVsdFRlbXBsYXRlQ2hpbGRyZW4oKSxcbiAgICAgICAgICAgICAgYm94ID0gX2dldERlZmF1bHRUZW1wbGF0ZUNoLmJveDtcblxuICAgICAgICAgIFsncGxhY2VtZW50JywgJ3JlZmVyZW5jZS1oaWRkZW4nLCAnZXNjYXBlZCddLmZvckVhY2goZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgICAgIGlmIChhdHRyID09PSAncGxhY2VtZW50Jykge1xuICAgICAgICAgICAgICBib3guc2V0QXR0cmlidXRlKCdkYXRhLXBsYWNlbWVudCcsIHN0YXRlLnBsYWNlbWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoc3RhdGUuYXR0cmlidXRlcy5wb3BwZXJbXCJkYXRhLXBvcHBlci1cIiArIGF0dHJdKSB7XG4gICAgICAgICAgICAgICAgYm94LnNldEF0dHJpYnV0ZShcImRhdGEtXCIgKyBhdHRyLCAnJyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYm94LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtXCIgKyBhdHRyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXRlLmF0dHJpYnV0ZXMucG9wcGVyID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBtb2RpZmllcnMgPSBbe1xuICAgICAgbmFtZTogJ29mZnNldCcsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIG9mZnNldDogb2Zmc2V0XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgbmFtZTogJ3ByZXZlbnRPdmVyZmxvdycsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgICB0b3A6IDIsXG4gICAgICAgICAgYm90dG9tOiAyLFxuICAgICAgICAgIGxlZnQ6IDUsXG4gICAgICAgICAgcmlnaHQ6IDVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIG5hbWU6ICdmbGlwJyxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgcGFkZGluZzogNVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIG5hbWU6ICdjb21wdXRlU3R5bGVzJyxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYWRhcHRpdmU6ICFtb3ZlVHJhbnNpdGlvblxuICAgICAgfVxuICAgIH0sIHRpcHB5TW9kaWZpZXJdO1xuXG4gICAgaWYgKGdldElzRGVmYXVsdFJlbmRlckZuKCkgJiYgYXJyb3cpIHtcbiAgICAgIG1vZGlmaWVycy5wdXNoKHtcbiAgICAgICAgbmFtZTogJ2Fycm93JyxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGVsZW1lbnQ6IGFycm93LFxuICAgICAgICAgIHBhZGRpbmc6IDNcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgbW9kaWZpZXJzLnB1c2guYXBwbHkobW9kaWZpZXJzLCAocG9wcGVyT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMpIHx8IFtdKTtcbiAgICBpbnN0YW5jZS5wb3BwZXJJbnN0YW5jZSA9IGNyZWF0ZVBvcHBlcihjb21wdXRlZFJlZmVyZW5jZSwgcG9wcGVyLCBPYmplY3QuYXNzaWduKHt9LCBwb3BwZXJPcHRpb25zLCB7XG4gICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIG9uRmlyc3RVcGRhdGU6IG9uRmlyc3RVcGRhdGUsXG4gICAgICBtb2RpZmllcnM6IG1vZGlmaWVyc1xuICAgIH0pKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3lQb3BwZXJJbnN0YW5jZSgpIHtcbiAgICBpZiAoaW5zdGFuY2UucG9wcGVySW5zdGFuY2UpIHtcbiAgICAgIGluc3RhbmNlLnBvcHBlckluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAgIGluc3RhbmNlLnBvcHBlckluc3RhbmNlID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICB2YXIgYXBwZW5kVG8gPSBpbnN0YW5jZS5wcm9wcy5hcHBlbmRUbztcbiAgICB2YXIgcGFyZW50Tm9kZTsgLy8gQnkgZGVmYXVsdCwgd2UnbGwgYXBwZW5kIHRoZSBwb3BwZXIgdG8gdGhlIHRyaWdnZXJUYXJnZXRzJ3MgcGFyZW50Tm9kZSBzb1xuICAgIC8vIGl0J3MgZGlyZWN0bHkgYWZ0ZXIgdGhlIHJlZmVyZW5jZSBlbGVtZW50IHNvIHRoZSBlbGVtZW50cyBpbnNpZGUgdGhlXG4gICAgLy8gdGlwcHkgY2FuIGJlIHRhYmJlZCB0b1xuICAgIC8vIElmIHRoZXJlIGFyZSBjbGlwcGluZyBpc3N1ZXMsIHRoZSB1c2VyIGNhbiBzcGVjaWZ5IGEgZGlmZmVyZW50IGFwcGVuZFRvXG4gICAgLy8gYW5kIGVuc3VyZSBmb2N1cyBtYW5hZ2VtZW50IGlzIGhhbmRsZWQgY29ycmVjdGx5IG1hbnVhbGx5XG5cbiAgICB2YXIgbm9kZSA9IGdldEN1cnJlbnRUYXJnZXQoKTtcblxuICAgIGlmIChpbnN0YW5jZS5wcm9wcy5pbnRlcmFjdGl2ZSAmJiBhcHBlbmRUbyA9PT0gVElQUFlfREVGQVVMVF9BUFBFTkRfVE8gfHwgYXBwZW5kVG8gPT09ICdwYXJlbnQnKSB7XG4gICAgICBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJlbnROb2RlID0gaW52b2tlV2l0aEFyZ3NPclJldHVybihhcHBlbmRUbywgW25vZGVdKTtcbiAgICB9IC8vIFRoZSBwb3BwZXIgZWxlbWVudCBuZWVkcyB0byBleGlzdCBvbiB0aGUgRE9NIGJlZm9yZSBpdHMgcG9zaXRpb24gY2FuIGJlXG4gICAgLy8gdXBkYXRlZCBhcyBQb3BwZXIgbmVlZHMgdG8gcmVhZCBpdHMgZGltZW5zaW9uc1xuXG5cbiAgICBpZiAoIXBhcmVudE5vZGUuY29udGFpbnMocG9wcGVyKSkge1xuICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChwb3BwZXIpO1xuICAgIH1cblxuICAgIGluc3RhbmNlLnN0YXRlLmlzTW91bnRlZCA9IHRydWU7XG4gICAgY3JlYXRlUG9wcGVySW5zdGFuY2UoKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgLy8gQWNjZXNzaWJpbGl0eSBjaGVja1xuICAgICAgd2FybldoZW4oaW5zdGFuY2UucHJvcHMuaW50ZXJhY3RpdmUgJiYgYXBwZW5kVG8gPT09IGRlZmF1bHRQcm9wcy5hcHBlbmRUbyAmJiBub2RlLm5leHRFbGVtZW50U2libGluZyAhPT0gcG9wcGVyLCBbJ0ludGVyYWN0aXZlIHRpcHB5IGVsZW1lbnQgbWF5IG5vdCBiZSBhY2Nlc3NpYmxlIHZpYSBrZXlib2FyZCcsICduYXZpZ2F0aW9uIGJlY2F1c2UgaXQgaXMgbm90IGRpcmVjdGx5IGFmdGVyIHRoZSByZWZlcmVuY2UgZWxlbWVudCcsICdpbiB0aGUgRE9NIHNvdXJjZSBvcmRlci4nLCAnXFxuXFxuJywgJ1VzaW5nIGEgd3JhcHBlciA8ZGl2PiBvciA8c3Bhbj4gdGFnIGFyb3VuZCB0aGUgcmVmZXJlbmNlIGVsZW1lbnQnLCAnc29sdmVzIHRoaXMgYnkgY3JlYXRpbmcgYSBuZXcgcGFyZW50Tm9kZSBjb250ZXh0LicsICdcXG5cXG4nLCAnU3BlY2lmeWluZyBgYXBwZW5kVG86IGRvY3VtZW50LmJvZHlgIHNpbGVuY2VzIHRoaXMgd2FybmluZywgYnV0IGl0JywgJ2Fzc3VtZXMgeW91IGFyZSB1c2luZyBhIGZvY3VzIG1hbmFnZW1lbnQgc29sdXRpb24gdG8gaGFuZGxlJywgJ2tleWJvYXJkIG5hdmlnYXRpb24uJywgJ1xcblxcbicsICdTZWU6IGh0dHBzOi8vYXRvbWlrcy5naXRodWIuaW8vdGlwcHlqcy92Ni9hY2Nlc3NpYmlsaXR5LyNpbnRlcmFjdGl2aXR5J10uam9pbignICcpKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXROZXN0ZWRQb3BwZXJUcmVlKCkge1xuICAgIHJldHVybiBhcnJheUZyb20ocG9wcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRpcHB5LXJvb3RdJykpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVTaG93KGV2ZW50KSB7XG4gICAgaW5zdGFuY2UuY2xlYXJEZWxheVRpbWVvdXRzKCk7XG5cbiAgICBpZiAoZXZlbnQpIHtcbiAgICAgIGludm9rZUhvb2soJ29uVHJpZ2dlcicsIFtpbnN0YW5jZSwgZXZlbnRdKTtcbiAgICB9XG5cbiAgICBhZGREb2N1bWVudFByZXNzKCk7XG4gICAgdmFyIGRlbGF5ID0gZ2V0RGVsYXkodHJ1ZSk7XG5cbiAgICB2YXIgX2dldE5vcm1hbGl6ZWRUb3VjaFNlID0gZ2V0Tm9ybWFsaXplZFRvdWNoU2V0dGluZ3MoKSxcbiAgICAgICAgdG91Y2hWYWx1ZSA9IF9nZXROb3JtYWxpemVkVG91Y2hTZVswXSxcbiAgICAgICAgdG91Y2hEZWxheSA9IF9nZXROb3JtYWxpemVkVG91Y2hTZVsxXTtcblxuICAgIGlmIChjdXJyZW50SW5wdXQuaXNUb3VjaCAmJiB0b3VjaFZhbHVlID09PSAnaG9sZCcgJiYgdG91Y2hEZWxheSkge1xuICAgICAgZGVsYXkgPSB0b3VjaERlbGF5O1xuICAgIH1cblxuICAgIGlmIChkZWxheSkge1xuICAgICAgc2hvd1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2hvdygpO1xuICAgICAgfSwgZGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS5zaG93KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVIaWRlKGV2ZW50KSB7XG4gICAgaW5zdGFuY2UuY2xlYXJEZWxheVRpbWVvdXRzKCk7XG4gICAgaW52b2tlSG9vaygnb25VbnRyaWdnZXInLCBbaW5zdGFuY2UsIGV2ZW50XSk7XG5cbiAgICBpZiAoIWluc3RhbmNlLnN0YXRlLmlzVmlzaWJsZSkge1xuICAgICAgcmVtb3ZlRG9jdW1lbnRQcmVzcygpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gRm9yIGludGVyYWN0aXZlIHRpcHBpZXMsIHNjaGVkdWxlSGlkZSBpcyBhZGRlZCB0byBhIGRvY3VtZW50LmJvZHkgaGFuZGxlclxuICAgIC8vIGZyb20gb25Nb3VzZUxlYXZlIHNvIG11c3QgaW50ZXJjZXB0IHNjaGVkdWxlZCBoaWRlcyBmcm9tIG1vdXNlbW92ZS9sZWF2ZVxuICAgIC8vIGV2ZW50cyB3aGVuIHRyaWdnZXIgY29udGFpbnMgbW91c2VlbnRlciBhbmQgY2xpY2ssIGFuZCB0aGUgdGlwIGlzXG4gICAgLy8gY3VycmVudGx5IHNob3duIGFzIGEgcmVzdWx0IG9mIGEgY2xpY2suXG5cblxuICAgIGlmIChpbnN0YW5jZS5wcm9wcy50cmlnZ2VyLmluZGV4T2YoJ21vdXNlZW50ZXInKSA+PSAwICYmIGluc3RhbmNlLnByb3BzLnRyaWdnZXIuaW5kZXhPZignY2xpY2snKSA+PSAwICYmIFsnbW91c2VsZWF2ZScsICdtb3VzZW1vdmUnXS5pbmRleE9mKGV2ZW50LnR5cGUpID49IDAgJiYgaXNWaXNpYmxlRnJvbUNsaWNrKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRlbGF5ID0gZ2V0RGVsYXkoZmFsc2UpO1xuXG4gICAgaWYgKGRlbGF5KSB7XG4gICAgICBoaWRlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaW5zdGFuY2Uuc3RhdGUuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgaW5zdGFuY2UuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9LCBkZWxheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZpeGVzIGEgYHRyYW5zaXRpb25lbmRgIHByb2JsZW0gd2hlbiBpdCBmaXJlcyAxIGZyYW1lIHRvb1xuICAgICAgLy8gbGF0ZSBzb21ldGltZXMsIHdlIGRvbid0IHdhbnQgaGlkZSgpIHRvIGJlIGNhbGxlZC5cbiAgICAgIHNjaGVkdWxlSGlkZUFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5zdGFuY2UuaGlkZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyDwn5SRIFB1YmxpYyBtZXRob2RzXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbiAgZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgIGluc3RhbmNlLnN0YXRlLmlzRW5hYmxlZCA9IHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgIC8vIERpc2FibGluZyB0aGUgaW5zdGFuY2Ugc2hvdWxkIGFsc28gaGlkZSBpdFxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9taWtzL3RpcHB5LmpzLXJlYWN0L2lzc3Vlcy8xMDZcbiAgICBpbnN0YW5jZS5oaWRlKCk7XG4gICAgaW5zdGFuY2Uuc3RhdGUuaXNFbmFibGVkID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckRlbGF5VGltZW91dHMoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHNob3dUaW1lb3V0KTtcbiAgICBjbGVhclRpbWVvdXQoaGlkZVRpbWVvdXQpO1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHNjaGVkdWxlSGlkZUFuaW1hdGlvbkZyYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFByb3BzKHBhcnRpYWxQcm9wcykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgd2FybldoZW4oaW5zdGFuY2Uuc3RhdGUuaXNEZXN0cm95ZWQsIGNyZWF0ZU1lbW9yeUxlYWtXYXJuaW5nKCdzZXRQcm9wcycpKTtcbiAgICB9XG5cbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGUuaXNEZXN0cm95ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpbnZva2VIb29rKCdvbkJlZm9yZVVwZGF0ZScsIFtpbnN0YW5jZSwgcGFydGlhbFByb3BzXSk7XG4gICAgcmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgdmFyIHByZXZQcm9wcyA9IGluc3RhbmNlLnByb3BzO1xuICAgIHZhciBuZXh0UHJvcHMgPSBldmFsdWF0ZVByb3BzKHJlZmVyZW5jZSwgT2JqZWN0LmFzc2lnbih7fSwgcHJldlByb3BzLCByZW1vdmVVbmRlZmluZWRQcm9wcyhwYXJ0aWFsUHJvcHMpLCB7XG4gICAgICBpZ25vcmVBdHRyaWJ1dGVzOiB0cnVlXG4gICAgfSkpO1xuICAgIGluc3RhbmNlLnByb3BzID0gbmV4dFByb3BzO1xuICAgIGFkZExpc3RlbmVycygpO1xuXG4gICAgaWYgKHByZXZQcm9wcy5pbnRlcmFjdGl2ZURlYm91bmNlICE9PSBuZXh0UHJvcHMuaW50ZXJhY3RpdmVEZWJvdW5jZSkge1xuICAgICAgY2xlYW51cEludGVyYWN0aXZlTW91c2VMaXN0ZW5lcnMoKTtcbiAgICAgIGRlYm91bmNlZE9uTW91c2VNb3ZlID0gZGVib3VuY2Uob25Nb3VzZU1vdmUsIG5leHRQcm9wcy5pbnRlcmFjdGl2ZURlYm91bmNlKTtcbiAgICB9IC8vIEVuc3VyZSBzdGFsZSBhcmlhLWV4cGFuZGVkIGF0dHJpYnV0ZXMgYXJlIHJlbW92ZWRcblxuXG4gICAgaWYgKHByZXZQcm9wcy50cmlnZ2VyVGFyZ2V0ICYmICFuZXh0UHJvcHMudHJpZ2dlclRhcmdldCkge1xuICAgICAgbm9ybWFsaXplVG9BcnJheShwcmV2UHJvcHMudHJpZ2dlclRhcmdldCkuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChuZXh0UHJvcHMudHJpZ2dlclRhcmdldCkge1xuICAgICAgcmVmZXJlbmNlLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpO1xuICAgIH1cblxuICAgIGhhbmRsZUFyaWFFeHBhbmRlZEF0dHJpYnV0ZSgpO1xuICAgIGhhbmRsZVN0eWxlcygpO1xuXG4gICAgaWYgKG9uVXBkYXRlKSB7XG4gICAgICBvblVwZGF0ZShwcmV2UHJvcHMsIG5leHRQcm9wcyk7XG4gICAgfVxuXG4gICAgaWYgKGluc3RhbmNlLnBvcHBlckluc3RhbmNlKSB7XG4gICAgICBjcmVhdGVQb3BwZXJJbnN0YW5jZSgpOyAvLyBGaXhlcyBhbiBpc3N1ZSB3aXRoIG5lc3RlZCB0aXBwaWVzIGlmIHRoZXkgYXJlIGFsbCBnZXR0aW5nIHJlLXJlbmRlcmVkLFxuICAgICAgLy8gYW5kIHRoZSBuZXN0ZWQgb25lcyBnZXQgcmUtcmVuZGVyZWQgZmlyc3QuXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYXRvbWlrcy90aXBweWpzLXJlYWN0L2lzc3Vlcy8xNzdcbiAgICAgIC8vIFRPRE86IGZpbmQgYSBjbGVhbmVyIC8gbW9yZSBlZmZpY2llbnQgc29sdXRpb24oISlcblxuICAgICAgZ2V0TmVzdGVkUG9wcGVyVHJlZSgpLmZvckVhY2goZnVuY3Rpb24gKG5lc3RlZFBvcHBlcikge1xuICAgICAgICAvLyBSZWFjdCAoYW5kIG90aGVyIFVJIGxpYnMgbGlrZWx5KSByZXF1aXJlcyBhIHJBRiB3cmFwcGVyIGFzIGl0IGZsdXNoZXNcbiAgICAgICAgLy8gaXRzIHdvcmsgaW4gb25lXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShuZXN0ZWRQb3BwZXIuX3RpcHB5LnBvcHBlckluc3RhbmNlLmZvcmNlVXBkYXRlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGludm9rZUhvb2soJ29uQWZ0ZXJVcGRhdGUnLCBbaW5zdGFuY2UsIHBhcnRpYWxQcm9wc10pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0Q29udGVudChjb250ZW50KSB7XG4gICAgaW5zdGFuY2Uuc2V0UHJvcHMoe1xuICAgICAgY29udGVudDogY29udGVudFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdygpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIHdhcm5XaGVuKGluc3RhbmNlLnN0YXRlLmlzRGVzdHJveWVkLCBjcmVhdGVNZW1vcnlMZWFrV2FybmluZygnc2hvdycpKTtcbiAgICB9IC8vIEVhcmx5IGJhaWwtb3V0XG5cblxuICAgIHZhciBpc0FscmVhZHlWaXNpYmxlID0gaW5zdGFuY2Uuc3RhdGUuaXNWaXNpYmxlO1xuICAgIHZhciBpc0Rlc3Ryb3llZCA9IGluc3RhbmNlLnN0YXRlLmlzRGVzdHJveWVkO1xuICAgIHZhciBpc0Rpc2FibGVkID0gIWluc3RhbmNlLnN0YXRlLmlzRW5hYmxlZDtcbiAgICB2YXIgaXNUb3VjaEFuZFRvdWNoRGlzYWJsZWQgPSBjdXJyZW50SW5wdXQuaXNUb3VjaCAmJiAhaW5zdGFuY2UucHJvcHMudG91Y2g7XG4gICAgdmFyIGR1cmF0aW9uID0gZ2V0VmFsdWVBdEluZGV4T3JSZXR1cm4oaW5zdGFuY2UucHJvcHMuZHVyYXRpb24sIDAsIGRlZmF1bHRQcm9wcy5kdXJhdGlvbik7XG5cbiAgICBpZiAoaXNBbHJlYWR5VmlzaWJsZSB8fCBpc0Rlc3Ryb3llZCB8fCBpc0Rpc2FibGVkIHx8IGlzVG91Y2hBbmRUb3VjaERpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBOb3JtYWxpemUgYGRpc2FibGVkYCBiZWhhdmlvciBhY3Jvc3MgYnJvd3NlcnMuXG4gICAgLy8gRmlyZWZveCBhbGxvd3MgZXZlbnRzIG9uIGRpc2FibGVkIGVsZW1lbnRzLCBidXQgQ2hyb21lIGRvZXNuJ3QuXG4gICAgLy8gVXNpbmcgYSB3cmFwcGVyIGVsZW1lbnQgKGkuZS4gPHNwYW4+KSBpcyByZWNvbW1lbmRlZC5cblxuXG4gICAgaWYgKGdldEN1cnJlbnRUYXJnZXQoKS5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpbnZva2VIb29rKCdvblNob3cnLCBbaW5zdGFuY2VdLCBmYWxzZSk7XG5cbiAgICBpZiAoaW5zdGFuY2UucHJvcHMub25TaG93KGluc3RhbmNlKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpbnN0YW5jZS5zdGF0ZS5pc1Zpc2libGUgPSB0cnVlO1xuXG4gICAgaWYgKGdldElzRGVmYXVsdFJlbmRlckZuKCkpIHtcbiAgICAgIHBvcHBlci5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgIH1cblxuICAgIGhhbmRsZVN0eWxlcygpO1xuICAgIGFkZERvY3VtZW50UHJlc3MoKTtcblxuICAgIGlmICghaW5zdGFuY2Uuc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICBwb3BwZXIuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgICB9IC8vIElmIGZsaXBwaW5nIHRvIHRoZSBvcHBvc2l0ZSBzaWRlIGFmdGVyIGhpZGluZyBhdCBsZWFzdCBvbmNlLCB0aGVcbiAgICAvLyBhbmltYXRpb24gd2lsbCB1c2UgdGhlIHdyb25nIHBsYWNlbWVudCB3aXRob3V0IHJlc2V0dGluZyB0aGUgZHVyYXRpb25cblxuXG4gICAgaWYgKGdldElzRGVmYXVsdFJlbmRlckZuKCkpIHtcbiAgICAgIHZhciBfZ2V0RGVmYXVsdFRlbXBsYXRlQ2gyID0gZ2V0RGVmYXVsdFRlbXBsYXRlQ2hpbGRyZW4oKSxcbiAgICAgICAgICBib3ggPSBfZ2V0RGVmYXVsdFRlbXBsYXRlQ2gyLmJveCxcbiAgICAgICAgICBjb250ZW50ID0gX2dldERlZmF1bHRUZW1wbGF0ZUNoMi5jb250ZW50O1xuXG4gICAgICBzZXRUcmFuc2l0aW9uRHVyYXRpb24oW2JveCwgY29udGVudF0sIDApO1xuICAgIH1cblxuICAgIG9uRmlyc3RVcGRhdGUgPSBmdW5jdGlvbiBvbkZpcnN0VXBkYXRlKCkge1xuICAgICAgdmFyIF9pbnN0YW5jZSRwb3BwZXJJbnN0YTI7XG5cbiAgICAgIGlmICghaW5zdGFuY2Uuc3RhdGUuaXNWaXNpYmxlIHx8IGlnbm9yZU9uRmlyc3RVcGRhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZ25vcmVPbkZpcnN0VXBkYXRlID0gdHJ1ZTsgLy8gcmVmbG93XG5cbiAgICAgIHZvaWQgcG9wcGVyLm9mZnNldEhlaWdodDtcbiAgICAgIHBvcHBlci5zdHlsZS50cmFuc2l0aW9uID0gaW5zdGFuY2UucHJvcHMubW92ZVRyYW5zaXRpb247XG5cbiAgICAgIGlmIChnZXRJc0RlZmF1bHRSZW5kZXJGbigpICYmIGluc3RhbmNlLnByb3BzLmFuaW1hdGlvbikge1xuICAgICAgICB2YXIgX2dldERlZmF1bHRUZW1wbGF0ZUNoMyA9IGdldERlZmF1bHRUZW1wbGF0ZUNoaWxkcmVuKCksXG4gICAgICAgICAgICBfYm94ID0gX2dldERlZmF1bHRUZW1wbGF0ZUNoMy5ib3gsXG4gICAgICAgICAgICBfY29udGVudCA9IF9nZXREZWZhdWx0VGVtcGxhdGVDaDMuY29udGVudDtcblxuICAgICAgICBzZXRUcmFuc2l0aW9uRHVyYXRpb24oW19ib3gsIF9jb250ZW50XSwgZHVyYXRpb24pO1xuICAgICAgICBzZXRWaXNpYmlsaXR5U3RhdGUoW19ib3gsIF9jb250ZW50XSwgJ3Zpc2libGUnKTtcbiAgICAgIH1cblxuICAgICAgaGFuZGxlQXJpYUNvbnRlbnRBdHRyaWJ1dGUoKTtcbiAgICAgIGhhbmRsZUFyaWFFeHBhbmRlZEF0dHJpYnV0ZSgpO1xuICAgICAgcHVzaElmVW5pcXVlKG1vdW50ZWRJbnN0YW5jZXMsIGluc3RhbmNlKTsgLy8gY2VydGFpbiBtb2RpZmllcnMgKGUuZy4gYG1heFNpemVgKSByZXF1aXJlIGEgc2Vjb25kIHVwZGF0ZSBhZnRlciB0aGVcbiAgICAgIC8vIHBvcHBlciBoYXMgYmVlbiBwb3NpdGlvbmVkIGZvciB0aGUgZmlyc3QgdGltZVxuXG4gICAgICAoX2luc3RhbmNlJHBvcHBlckluc3RhMiA9IGluc3RhbmNlLnBvcHBlckluc3RhbmNlKSA9PSBudWxsID8gdm9pZCAwIDogX2luc3RhbmNlJHBvcHBlckluc3RhMi5mb3JjZVVwZGF0ZSgpO1xuICAgICAgaW52b2tlSG9vaygnb25Nb3VudCcsIFtpbnN0YW5jZV0pO1xuXG4gICAgICBpZiAoaW5zdGFuY2UucHJvcHMuYW5pbWF0aW9uICYmIGdldElzRGVmYXVsdFJlbmRlckZuKCkpIHtcbiAgICAgICAgb25UcmFuc2l0aW9uZWRJbihkdXJhdGlvbiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGluc3RhbmNlLnN0YXRlLmlzU2hvd24gPSB0cnVlO1xuICAgICAgICAgIGludm9rZUhvb2soJ29uU2hvd24nLCBbaW5zdGFuY2VdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIG1vdW50KCk7XG4gIH1cblxuICBmdW5jdGlvbiBoaWRlKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgd2FybldoZW4oaW5zdGFuY2Uuc3RhdGUuaXNEZXN0cm95ZWQsIGNyZWF0ZU1lbW9yeUxlYWtXYXJuaW5nKCdoaWRlJykpO1xuICAgIH0gLy8gRWFybHkgYmFpbC1vdXRcblxuXG4gICAgdmFyIGlzQWxyZWFkeUhpZGRlbiA9ICFpbnN0YW5jZS5zdGF0ZS5pc1Zpc2libGU7XG4gICAgdmFyIGlzRGVzdHJveWVkID0gaW5zdGFuY2Uuc3RhdGUuaXNEZXN0cm95ZWQ7XG4gICAgdmFyIGlzRGlzYWJsZWQgPSAhaW5zdGFuY2Uuc3RhdGUuaXNFbmFibGVkO1xuICAgIHZhciBkdXJhdGlvbiA9IGdldFZhbHVlQXRJbmRleE9yUmV0dXJuKGluc3RhbmNlLnByb3BzLmR1cmF0aW9uLCAxLCBkZWZhdWx0UHJvcHMuZHVyYXRpb24pO1xuXG4gICAgaWYgKGlzQWxyZWFkeUhpZGRlbiB8fCBpc0Rlc3Ryb3llZCB8fCBpc0Rpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaW52b2tlSG9vaygnb25IaWRlJywgW2luc3RhbmNlXSwgZmFsc2UpO1xuXG4gICAgaWYgKGluc3RhbmNlLnByb3BzLm9uSGlkZShpbnN0YW5jZSkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaW5zdGFuY2Uuc3RhdGUuaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgaW5zdGFuY2Uuc3RhdGUuaXNTaG93biA9IGZhbHNlO1xuICAgIGlnbm9yZU9uRmlyc3RVcGRhdGUgPSBmYWxzZTtcbiAgICBpc1Zpc2libGVGcm9tQ2xpY2sgPSBmYWxzZTtcblxuICAgIGlmIChnZXRJc0RlZmF1bHRSZW5kZXJGbigpKSB7XG4gICAgICBwb3BwZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIH1cblxuICAgIGNsZWFudXBJbnRlcmFjdGl2ZU1vdXNlTGlzdGVuZXJzKCk7XG4gICAgcmVtb3ZlRG9jdW1lbnRQcmVzcygpO1xuICAgIGhhbmRsZVN0eWxlcyh0cnVlKTtcblxuICAgIGlmIChnZXRJc0RlZmF1bHRSZW5kZXJGbigpKSB7XG4gICAgICB2YXIgX2dldERlZmF1bHRUZW1wbGF0ZUNoNCA9IGdldERlZmF1bHRUZW1wbGF0ZUNoaWxkcmVuKCksXG4gICAgICAgICAgYm94ID0gX2dldERlZmF1bHRUZW1wbGF0ZUNoNC5ib3gsXG4gICAgICAgICAgY29udGVudCA9IF9nZXREZWZhdWx0VGVtcGxhdGVDaDQuY29udGVudDtcblxuICAgICAgaWYgKGluc3RhbmNlLnByb3BzLmFuaW1hdGlvbikge1xuICAgICAgICBzZXRUcmFuc2l0aW9uRHVyYXRpb24oW2JveCwgY29udGVudF0sIGR1cmF0aW9uKTtcbiAgICAgICAgc2V0VmlzaWJpbGl0eVN0YXRlKFtib3gsIGNvbnRlbnRdLCAnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlQXJpYUNvbnRlbnRBdHRyaWJ1dGUoKTtcbiAgICBoYW5kbGVBcmlhRXhwYW5kZWRBdHRyaWJ1dGUoKTtcblxuICAgIGlmIChpbnN0YW5jZS5wcm9wcy5hbmltYXRpb24pIHtcbiAgICAgIGlmIChnZXRJc0RlZmF1bHRSZW5kZXJGbigpKSB7XG4gICAgICAgIG9uVHJhbnNpdGlvbmVkT3V0KGR1cmF0aW9uLCBpbnN0YW5jZS51bm1vdW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UudW5tb3VudCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhpZGVXaXRoSW50ZXJhY3Rpdml0eShldmVudCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgd2FybldoZW4oaW5zdGFuY2Uuc3RhdGUuaXNEZXN0cm95ZWQsIGNyZWF0ZU1lbW9yeUxlYWtXYXJuaW5nKCdoaWRlV2l0aEludGVyYWN0aXZpdHknKSk7XG4gICAgfVxuXG4gICAgZ2V0RG9jdW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBkZWJvdW5jZWRPbk1vdXNlTW92ZSk7XG4gICAgcHVzaElmVW5pcXVlKG1vdXNlTW92ZUxpc3RlbmVycywgZGVib3VuY2VkT25Nb3VzZU1vdmUpO1xuICAgIGRlYm91bmNlZE9uTW91c2VNb3ZlKGV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVubW91bnQoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICB3YXJuV2hlbihpbnN0YW5jZS5zdGF0ZS5pc0Rlc3Ryb3llZCwgY3JlYXRlTWVtb3J5TGVha1dhcm5pbmcoJ3VubW91bnQnKSk7XG4gICAgfVxuXG4gICAgaWYgKGluc3RhbmNlLnN0YXRlLmlzVmlzaWJsZSkge1xuICAgICAgaW5zdGFuY2UuaGlkZSgpO1xuICAgIH1cblxuICAgIGlmICghaW5zdGFuY2Uuc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGVzdHJveVBvcHBlckluc3RhbmNlKCk7IC8vIElmIGEgcG9wcGVyIGlzIG5vdCBpbnRlcmFjdGl2ZSwgaXQgd2lsbCBiZSBhcHBlbmRlZCBvdXRzaWRlIHRoZSBwb3BwZXJcbiAgICAvLyB0cmVlIGJ5IGRlZmF1bHQuIFRoaXMgc2VlbXMgbWFpbmx5IGZvciBpbnRlcmFjdGl2ZSB0aXBwaWVzLCBidXQgd2Ugc2hvdWxkXG4gICAgLy8gZmluZCBhIHdvcmthcm91bmQgaWYgcG9zc2libGVcblxuICAgIGdldE5lc3RlZFBvcHBlclRyZWUoKS5mb3JFYWNoKGZ1bmN0aW9uIChuZXN0ZWRQb3BwZXIpIHtcbiAgICAgIG5lc3RlZFBvcHBlci5fdGlwcHkudW5tb3VudCgpO1xuICAgIH0pO1xuXG4gICAgaWYgKHBvcHBlci5wYXJlbnROb2RlKSB7XG4gICAgICBwb3BwZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwb3BwZXIpO1xuICAgIH1cblxuICAgIG1vdW50ZWRJbnN0YW5jZXMgPSBtb3VudGVkSW5zdGFuY2VzLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgcmV0dXJuIGkgIT09IGluc3RhbmNlO1xuICAgIH0pO1xuICAgIGluc3RhbmNlLnN0YXRlLmlzTW91bnRlZCA9IGZhbHNlO1xuICAgIGludm9rZUhvb2soJ29uSGlkZGVuJywgW2luc3RhbmNlXSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgd2FybldoZW4oaW5zdGFuY2Uuc3RhdGUuaXNEZXN0cm95ZWQsIGNyZWF0ZU1lbW9yeUxlYWtXYXJuaW5nKCdkZXN0cm95JykpO1xuICAgIH1cblxuICAgIGlmIChpbnN0YW5jZS5zdGF0ZS5pc0Rlc3Ryb3llZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGluc3RhbmNlLmNsZWFyRGVsYXlUaW1lb3V0cygpO1xuICAgIGluc3RhbmNlLnVubW91bnQoKTtcbiAgICByZW1vdmVMaXN0ZW5lcnMoKTtcbiAgICBkZWxldGUgcmVmZXJlbmNlLl90aXBweTtcbiAgICBpbnN0YW5jZS5zdGF0ZS5pc0Rlc3Ryb3llZCA9IHRydWU7XG4gICAgaW52b2tlSG9vaygnb25EZXN0cm95JywgW2luc3RhbmNlXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdGlwcHkodGFyZ2V0cywgb3B0aW9uYWxQcm9wcykge1xuICBpZiAob3B0aW9uYWxQcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9uYWxQcm9wcyA9IHt9O1xuICB9XG5cbiAgdmFyIHBsdWdpbnMgPSBkZWZhdWx0UHJvcHMucGx1Z2lucy5jb25jYXQob3B0aW9uYWxQcm9wcy5wbHVnaW5zIHx8IFtdKTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgdmFsaWRhdGVUYXJnZXRzKHRhcmdldHMpO1xuICAgIHZhbGlkYXRlUHJvcHMob3B0aW9uYWxQcm9wcywgcGx1Z2lucyk7XG4gIH1cblxuICBiaW5kR2xvYmFsRXZlbnRMaXN0ZW5lcnMoKTtcbiAgdmFyIHBhc3NlZFByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9uYWxQcm9wcywge1xuICAgIHBsdWdpbnM6IHBsdWdpbnNcbiAgfSk7XG4gIHZhciBlbGVtZW50cyA9IGdldEFycmF5T2ZFbGVtZW50cyh0YXJnZXRzKTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgdmFyIGlzU2luZ2xlQ29udGVudEVsZW1lbnQgPSBpc0VsZW1lbnQocGFzc2VkUHJvcHMuY29udGVudCk7XG4gICAgdmFyIGlzTW9yZVRoYW5PbmVSZWZlcmVuY2VFbGVtZW50ID0gZWxlbWVudHMubGVuZ3RoID4gMTtcbiAgICB3YXJuV2hlbihpc1NpbmdsZUNvbnRlbnRFbGVtZW50ICYmIGlzTW9yZVRoYW5PbmVSZWZlcmVuY2VFbGVtZW50LCBbJ3RpcHB5KCkgd2FzIHBhc3NlZCBhbiBFbGVtZW50IGFzIHRoZSBgY29udGVudGAgcHJvcCwgYnV0IG1vcmUgdGhhbicsICdvbmUgdGlwcHkgaW5zdGFuY2Ugd2FzIGNyZWF0ZWQgYnkgdGhpcyBpbnZvY2F0aW9uLiBUaGlzIG1lYW5zIHRoZScsICdjb250ZW50IGVsZW1lbnQgd2lsbCBvbmx5IGJlIGFwcGVuZGVkIHRvIHRoZSBsYXN0IHRpcHB5IGluc3RhbmNlLicsICdcXG5cXG4nLCAnSW5zdGVhZCwgcGFzcyB0aGUgLmlubmVySFRNTCBvZiB0aGUgZWxlbWVudCwgb3IgdXNlIGEgZnVuY3Rpb24gdGhhdCcsICdyZXR1cm5zIGEgY2xvbmVkIHZlcnNpb24gb2YgdGhlIGVsZW1lbnQgaW5zdGVhZC4nLCAnXFxuXFxuJywgJzEpIGNvbnRlbnQ6IGVsZW1lbnQuaW5uZXJIVE1MXFxuJywgJzIpIGNvbnRlbnQ6ICgpID0+IGVsZW1lbnQuY2xvbmVOb2RlKHRydWUpJ10uam9pbignICcpKTtcbiAgfVxuXG4gIHZhciBpbnN0YW5jZXMgPSBlbGVtZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcmVmZXJlbmNlKSB7XG4gICAgdmFyIGluc3RhbmNlID0gcmVmZXJlbmNlICYmIGNyZWF0ZVRpcHB5KHJlZmVyZW5jZSwgcGFzc2VkUHJvcHMpO1xuXG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICBhY2MucHVzaChpbnN0YW5jZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjYztcbiAgfSwgW10pO1xuICByZXR1cm4gaXNFbGVtZW50KHRhcmdldHMpID8gaW5zdGFuY2VzWzBdIDogaW5zdGFuY2VzO1xufVxuXG50aXBweS5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG50aXBweS5zZXREZWZhdWx0UHJvcHMgPSBzZXREZWZhdWx0UHJvcHM7XG50aXBweS5jdXJyZW50SW5wdXQgPSBjdXJyZW50SW5wdXQ7XG52YXIgaGlkZUFsbCA9IGZ1bmN0aW9uIGhpZGVBbGwoX3RlbXApIHtcbiAgdmFyIF9yZWYgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICAgIGV4Y2x1ZGVkUmVmZXJlbmNlT3JJbnN0YW5jZSA9IF9yZWYuZXhjbHVkZSxcbiAgICAgIGR1cmF0aW9uID0gX3JlZi5kdXJhdGlvbjtcblxuICBtb3VudGVkSW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgdmFyIGlzRXhjbHVkZWQgPSBmYWxzZTtcblxuICAgIGlmIChleGNsdWRlZFJlZmVyZW5jZU9ySW5zdGFuY2UpIHtcbiAgICAgIGlzRXhjbHVkZWQgPSBpc1JlZmVyZW5jZUVsZW1lbnQoZXhjbHVkZWRSZWZlcmVuY2VPckluc3RhbmNlKSA/IGluc3RhbmNlLnJlZmVyZW5jZSA9PT0gZXhjbHVkZWRSZWZlcmVuY2VPckluc3RhbmNlIDogaW5zdGFuY2UucG9wcGVyID09PSBleGNsdWRlZFJlZmVyZW5jZU9ySW5zdGFuY2UucG9wcGVyO1xuICAgIH1cblxuICAgIGlmICghaXNFeGNsdWRlZCkge1xuICAgICAgdmFyIG9yaWdpbmFsRHVyYXRpb24gPSBpbnN0YW5jZS5wcm9wcy5kdXJhdGlvbjtcbiAgICAgIGluc3RhbmNlLnNldFByb3BzKHtcbiAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uXG4gICAgICB9KTtcbiAgICAgIGluc3RhbmNlLmhpZGUoKTtcblxuICAgICAgaWYgKCFpbnN0YW5jZS5zdGF0ZS5pc0Rlc3Ryb3llZCkge1xuICAgICAgICBpbnN0YW5jZS5zZXRQcm9wcyh7XG4gICAgICAgICAgZHVyYXRpb246IG9yaWdpbmFsRHVyYXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbi8vIGV2ZXJ5IHRpbWUgdGhlIHBvcHBlciBpcyBkZXN0cm95ZWQgKGkuZS4gYSBuZXcgdGFyZ2V0KSwgcmVtb3ZpbmcgdGhlIHN0eWxlc1xuLy8gYW5kIGNhdXNpbmcgdHJhbnNpdGlvbnMgdG8gYnJlYWsgZm9yIHNpbmdsZXRvbnMgd2hlbiB0aGUgY29uc29sZSBpcyBvcGVuLCBidXRcbi8vIG1vc3Qgbm90YWJseSBmb3Igbm9uLXRyYW5zZm9ybSBzdHlsZXMgYmVpbmcgdXNlZCwgYGdwdUFjY2VsZXJhdGlvbjogZmFsc2VgLlxuXG52YXIgYXBwbHlTdHlsZXNNb2RpZmllciA9IE9iamVjdC5hc3NpZ24oe30sIGFwcGx5U3R5bGVzLCB7XG4gIGVmZmVjdDogZnVuY3Rpb24gZWZmZWN0KF9yZWYpIHtcbiAgICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlO1xuICAgIHZhciBpbml0aWFsU3R5bGVzID0ge1xuICAgICAgcG9wcGVyOiB7XG4gICAgICAgIHBvc2l0aW9uOiBzdGF0ZS5vcHRpb25zLnN0cmF0ZWd5LFxuICAgICAgICBsZWZ0OiAnMCcsXG4gICAgICAgIHRvcDogJzAnLFxuICAgICAgICBtYXJnaW46ICcwJ1xuICAgICAgfSxcbiAgICAgIGFycm93OiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgICB9LFxuICAgICAgcmVmZXJlbmNlOiB7fVxuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbihzdGF0ZS5lbGVtZW50cy5wb3BwZXIuc3R5bGUsIGluaXRpYWxTdHlsZXMucG9wcGVyKTtcbiAgICBzdGF0ZS5zdHlsZXMgPSBpbml0aWFsU3R5bGVzO1xuXG4gICAgaWYgKHN0YXRlLmVsZW1lbnRzLmFycm93KSB7XG4gICAgICBPYmplY3QuYXNzaWduKHN0YXRlLmVsZW1lbnRzLmFycm93LnN0eWxlLCBpbml0aWFsU3R5bGVzLmFycm93KTtcbiAgICB9IC8vIGludGVudGlvbmFsbHkgcmV0dXJuIG5vIGNsZWFudXAgZnVuY3Rpb25cbiAgICAvLyByZXR1cm4gKCkgPT4geyAuLi4gfVxuXG4gIH1cbn0pO1xuXG52YXIgY3JlYXRlU2luZ2xldG9uID0gZnVuY3Rpb24gY3JlYXRlU2luZ2xldG9uKHRpcHB5SW5zdGFuY2VzLCBvcHRpb25hbFByb3BzKSB7XG4gIHZhciBfb3B0aW9uYWxQcm9wcyRwb3BwZXI7XG5cbiAgaWYgKG9wdGlvbmFsUHJvcHMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbmFsUHJvcHMgPSB7fTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICBlcnJvcldoZW4oIUFycmF5LmlzQXJyYXkodGlwcHlJbnN0YW5jZXMpLCBbJ1RoZSBmaXJzdCBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU2luZ2xldG9uKCkgbXVzdCBiZSBhbiBhcnJheSBvZicsICd0aXBweSBpbnN0YW5jZXMuIFRoZSBwYXNzZWQgdmFsdWUgd2FzJywgU3RyaW5nKHRpcHB5SW5zdGFuY2VzKV0uam9pbignICcpKTtcbiAgfVxuXG4gIHZhciBpbmRpdmlkdWFsSW5zdGFuY2VzID0gdGlwcHlJbnN0YW5jZXM7XG4gIHZhciByZWZlcmVuY2VzID0gW107XG4gIHZhciB0cmlnZ2VyVGFyZ2V0cyA9IFtdO1xuICB2YXIgY3VycmVudFRhcmdldDtcbiAgdmFyIG92ZXJyaWRlcyA9IG9wdGlvbmFsUHJvcHMub3ZlcnJpZGVzO1xuICB2YXIgaW50ZXJjZXB0U2V0UHJvcHNDbGVhbnVwcyA9IFtdO1xuICB2YXIgc2hvd25PbkNyZWF0ZSA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIHNldFRyaWdnZXJUYXJnZXRzKCkge1xuICAgIHRyaWdnZXJUYXJnZXRzID0gaW5kaXZpZHVhbEluc3RhbmNlcy5tYXAoZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gbm9ybWFsaXplVG9BcnJheShpbnN0YW5jZS5wcm9wcy50cmlnZ2VyVGFyZ2V0IHx8IGluc3RhbmNlLnJlZmVyZW5jZSk7XG4gICAgfSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGl0ZW0pIHtcbiAgICAgIHJldHVybiBhY2MuY29uY2F0KGl0ZW0pO1xuICAgIH0sIFtdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFJlZmVyZW5jZXMoKSB7XG4gICAgcmVmZXJlbmNlcyA9IGluZGl2aWR1YWxJbnN0YW5jZXMubWFwKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlLnJlZmVyZW5jZTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuYWJsZUluc3RhbmNlcyhpc0VuYWJsZWQpIHtcbiAgICBpbmRpdmlkdWFsSW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgICBpZiAoaXNFbmFibGVkKSB7XG4gICAgICAgIGluc3RhbmNlLmVuYWJsZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UuZGlzYWJsZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaW50ZXJjZXB0U2V0UHJvcHMoc2luZ2xldG9uKSB7XG4gICAgcmV0dXJuIGluZGl2aWR1YWxJbnN0YW5jZXMubWFwKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgdmFyIG9yaWdpbmFsU2V0UHJvcHMgPSBpbnN0YW5jZS5zZXRQcm9wcztcblxuICAgICAgaW5zdGFuY2Uuc2V0UHJvcHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgb3JpZ2luYWxTZXRQcm9wcyhwcm9wcyk7XG5cbiAgICAgICAgaWYgKGluc3RhbmNlLnJlZmVyZW5jZSA9PT0gY3VycmVudFRhcmdldCkge1xuICAgICAgICAgIHNpbmdsZXRvbi5zZXRQcm9wcyhwcm9wcyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluc3RhbmNlLnNldFByb3BzID0gb3JpZ2luYWxTZXRQcm9wcztcbiAgICAgIH07XG4gICAgfSk7XG4gIH0gLy8gaGF2ZSB0byBwYXNzIHNpbmdsZXRvbiwgYXMgaXQgbWF5YmUgdW5kZWZpbmVkIG9uIGZpcnN0IGNhbGxcblxuXG4gIGZ1bmN0aW9uIHByZXBhcmVJbnN0YW5jZShzaW5nbGV0b24sIHRhcmdldCkge1xuICAgIHZhciBpbmRleCA9IHRyaWdnZXJUYXJnZXRzLmluZGV4T2YodGFyZ2V0KTsgLy8gYmFpbC1vdXRcblxuICAgIGlmICh0YXJnZXQgPT09IGN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjdXJyZW50VGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHZhciBvdmVycmlkZVByb3BzID0gKG92ZXJyaWRlcyB8fCBbXSkuY29uY2F0KCdjb250ZW50JykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHByb3ApIHtcbiAgICAgIGFjY1twcm9wXSA9IGluZGl2aWR1YWxJbnN0YW5jZXNbaW5kZXhdLnByb3BzW3Byb3BdO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gICAgc2luZ2xldG9uLnNldFByb3BzKE9iamVjdC5hc3NpZ24oe30sIG92ZXJyaWRlUHJvcHMsIHtcbiAgICAgIGdldFJlZmVyZW5jZUNsaWVudFJlY3Q6IHR5cGVvZiBvdmVycmlkZVByb3BzLmdldFJlZmVyZW5jZUNsaWVudFJlY3QgPT09ICdmdW5jdGlvbicgPyBvdmVycmlkZVByb3BzLmdldFJlZmVyZW5jZUNsaWVudFJlY3QgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcmVmZXJlbmNlcyRpbmRleDtcblxuICAgICAgICByZXR1cm4gKF9yZWZlcmVuY2VzJGluZGV4ID0gcmVmZXJlbmNlc1tpbmRleF0pID09IG51bGwgPyB2b2lkIDAgOiBfcmVmZXJlbmNlcyRpbmRleC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH1cblxuICBlbmFibGVJbnN0YW5jZXMoZmFsc2UpO1xuICBzZXRSZWZlcmVuY2VzKCk7XG4gIHNldFRyaWdnZXJUYXJnZXRzKCk7XG4gIHZhciBwbHVnaW4gPSB7XG4gICAgZm46IGZ1bmN0aW9uIGZuKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb25EZXN0cm95OiBmdW5jdGlvbiBvbkRlc3Ryb3koKSB7XG4gICAgICAgICAgZW5hYmxlSW5zdGFuY2VzKHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBvbkhpZGRlbjogZnVuY3Rpb24gb25IaWRkZW4oKSB7XG4gICAgICAgICAgY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xpY2tPdXRzaWRlOiBmdW5jdGlvbiBvbkNsaWNrT3V0c2lkZShpbnN0YW5jZSkge1xuICAgICAgICAgIGlmIChpbnN0YW5jZS5wcm9wcy5zaG93T25DcmVhdGUgJiYgIXNob3duT25DcmVhdGUpIHtcbiAgICAgICAgICAgIHNob3duT25DcmVhdGUgPSB0cnVlO1xuICAgICAgICAgICAgY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvblNob3c6IGZ1bmN0aW9uIG9uU2hvdyhpbnN0YW5jZSkge1xuICAgICAgICAgIGlmIChpbnN0YW5jZS5wcm9wcy5zaG93T25DcmVhdGUgJiYgIXNob3duT25DcmVhdGUpIHtcbiAgICAgICAgICAgIHNob3duT25DcmVhdGUgPSB0cnVlO1xuICAgICAgICAgICAgcHJlcGFyZUluc3RhbmNlKGluc3RhbmNlLCByZWZlcmVuY2VzWzBdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uVHJpZ2dlcjogZnVuY3Rpb24gb25UcmlnZ2VyKGluc3RhbmNlLCBldmVudCkge1xuICAgICAgICAgIHByZXBhcmVJbnN0YW5jZShpbnN0YW5jZSwgZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xuICB2YXIgc2luZ2xldG9uID0gdGlwcHkoZGl2KCksIE9iamVjdC5hc3NpZ24oe30sIHJlbW92ZVByb3BlcnRpZXMob3B0aW9uYWxQcm9wcywgWydvdmVycmlkZXMnXSksIHtcbiAgICBwbHVnaW5zOiBbcGx1Z2luXS5jb25jYXQob3B0aW9uYWxQcm9wcy5wbHVnaW5zIHx8IFtdKSxcbiAgICB0cmlnZ2VyVGFyZ2V0OiB0cmlnZ2VyVGFyZ2V0cyxcbiAgICBwb3BwZXJPcHRpb25zOiBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25hbFByb3BzLnBvcHBlck9wdGlvbnMsIHtcbiAgICAgIG1vZGlmaWVyczogW10uY29uY2F0KCgoX29wdGlvbmFsUHJvcHMkcG9wcGVyID0gb3B0aW9uYWxQcm9wcy5wb3BwZXJPcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX29wdGlvbmFsUHJvcHMkcG9wcGVyLm1vZGlmaWVycykgfHwgW10sIFthcHBseVN0eWxlc01vZGlmaWVyXSlcbiAgICB9KVxuICB9KSk7XG4gIHZhciBvcmlnaW5hbFNob3cgPSBzaW5nbGV0b24uc2hvdztcblxuICBzaW5nbGV0b24uc2hvdyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBvcmlnaW5hbFNob3coKTsgLy8gZmlyc3QgdGltZSwgc2hvd09uQ3JlYXRlIG9yIHByb2dyYW1tYXRpYyBjYWxsIHdpdGggbm8gcGFyYW1zXG4gICAgLy8gZGVmYXVsdCB0byBzaG93aW5nIGZpcnN0IGluc3RhbmNlXG5cbiAgICBpZiAoIWN1cnJlbnRUYXJnZXQgJiYgdGFyZ2V0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBwcmVwYXJlSW5zdGFuY2Uoc2luZ2xldG9uLCByZWZlcmVuY2VzWzBdKTtcbiAgICB9IC8vIHRyaWdnZXJlZCBmcm9tIGV2ZW50IChkbyBub3RoaW5nIGFzIHByZXBhcmVJbnN0YW5jZSBhbHJlYWR5IGNhbGxlZCBieSBvblRyaWdnZXIpXG4gICAgLy8gcHJvZ3JhbW1hdGljIGNhbGwgd2l0aCBubyBwYXJhbXMgd2hlbiBhbHJlYWR5IHZpc2libGUgKGRvIG5vdGhpbmcgYWdhaW4pXG5cblxuICAgIGlmIChjdXJyZW50VGFyZ2V0ICYmIHRhcmdldCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyB0YXJnZXQgaXMgaW5kZXggb2YgaW5zdGFuY2VcblxuXG4gICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gcmVmZXJlbmNlc1t0YXJnZXRdICYmIHByZXBhcmVJbnN0YW5jZShzaW5nbGV0b24sIHJlZmVyZW5jZXNbdGFyZ2V0XSk7XG4gICAgfSAvLyB0YXJnZXQgaXMgYSBjaGlsZCB0aXBweSBpbnN0YW5jZVxuXG5cbiAgICBpZiAoaW5kaXZpZHVhbEluc3RhbmNlcy5pbmRleE9mKHRhcmdldCkgPj0gMCkge1xuICAgICAgdmFyIHJlZiA9IHRhcmdldC5yZWZlcmVuY2U7XG4gICAgICByZXR1cm4gcHJlcGFyZUluc3RhbmNlKHNpbmdsZXRvbiwgcmVmKTtcbiAgICB9IC8vIHRhcmdldCBpcyBhIFJlZmVyZW5jZUVsZW1lbnRcblxuXG4gICAgaWYgKHJlZmVyZW5jZXMuaW5kZXhPZih0YXJnZXQpID49IDApIHtcbiAgICAgIHJldHVybiBwcmVwYXJlSW5zdGFuY2Uoc2luZ2xldG9uLCB0YXJnZXQpO1xuICAgIH1cbiAgfTtcblxuICBzaW5nbGV0b24uc2hvd05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGZpcnN0ID0gcmVmZXJlbmNlc1swXTtcblxuICAgIGlmICghY3VycmVudFRhcmdldCkge1xuICAgICAgcmV0dXJuIHNpbmdsZXRvbi5zaG93KDApO1xuICAgIH1cblxuICAgIHZhciBpbmRleCA9IHJlZmVyZW5jZXMuaW5kZXhPZihjdXJyZW50VGFyZ2V0KTtcbiAgICBzaW5nbGV0b24uc2hvdyhyZWZlcmVuY2VzW2luZGV4ICsgMV0gfHwgZmlyc3QpO1xuICB9O1xuXG4gIHNpbmdsZXRvbi5zaG93UHJldmlvdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxhc3QgPSByZWZlcmVuY2VzW3JlZmVyZW5jZXMubGVuZ3RoIC0gMV07XG5cbiAgICBpZiAoIWN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIHJldHVybiBzaW5nbGV0b24uc2hvdyhsYXN0KTtcbiAgICB9XG5cbiAgICB2YXIgaW5kZXggPSByZWZlcmVuY2VzLmluZGV4T2YoY3VycmVudFRhcmdldCk7XG4gICAgdmFyIHRhcmdldCA9IHJlZmVyZW5jZXNbaW5kZXggLSAxXSB8fCBsYXN0O1xuICAgIHNpbmdsZXRvbi5zaG93KHRhcmdldCk7XG4gIH07XG5cbiAgdmFyIG9yaWdpbmFsU2V0UHJvcHMgPSBzaW5nbGV0b24uc2V0UHJvcHM7XG5cbiAgc2luZ2xldG9uLnNldFByb3BzID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgb3ZlcnJpZGVzID0gcHJvcHMub3ZlcnJpZGVzIHx8IG92ZXJyaWRlcztcbiAgICBvcmlnaW5hbFNldFByb3BzKHByb3BzKTtcbiAgfTtcblxuICBzaW5nbGV0b24uc2V0SW5zdGFuY2VzID0gZnVuY3Rpb24gKG5leHRJbnN0YW5jZXMpIHtcbiAgICBlbmFibGVJbnN0YW5jZXModHJ1ZSk7XG4gICAgaW50ZXJjZXB0U2V0UHJvcHNDbGVhbnVwcy5mb3JFYWNoKGZ1bmN0aW9uIChmbikge1xuICAgICAgcmV0dXJuIGZuKCk7XG4gICAgfSk7XG4gICAgaW5kaXZpZHVhbEluc3RhbmNlcyA9IG5leHRJbnN0YW5jZXM7XG4gICAgZW5hYmxlSW5zdGFuY2VzKGZhbHNlKTtcbiAgICBzZXRSZWZlcmVuY2VzKCk7XG4gICAgc2V0VHJpZ2dlclRhcmdldHMoKTtcbiAgICBpbnRlcmNlcHRTZXRQcm9wc0NsZWFudXBzID0gaW50ZXJjZXB0U2V0UHJvcHMoc2luZ2xldG9uKTtcbiAgICBzaW5nbGV0b24uc2V0UHJvcHMoe1xuICAgICAgdHJpZ2dlclRhcmdldDogdHJpZ2dlclRhcmdldHNcbiAgICB9KTtcbiAgfTtcblxuICBpbnRlcmNlcHRTZXRQcm9wc0NsZWFudXBzID0gaW50ZXJjZXB0U2V0UHJvcHMoc2luZ2xldG9uKTtcbiAgcmV0dXJuIHNpbmdsZXRvbjtcbn07XG5cbnZhciBCVUJCTElOR19FVkVOVFNfTUFQID0ge1xuICBtb3VzZW92ZXI6ICdtb3VzZWVudGVyJyxcbiAgZm9jdXNpbjogJ2ZvY3VzJyxcbiAgY2xpY2s6ICdjbGljaydcbn07XG4vKipcbiAqIENyZWF0ZXMgYSBkZWxlZ2F0ZSBpbnN0YW5jZSB0aGF0IGNvbnRyb2xzIHRoZSBjcmVhdGlvbiBvZiB0aXBweSBpbnN0YW5jZXNcbiAqIGZvciBjaGlsZCBlbGVtZW50cyAoYHRhcmdldGAgQ1NTIHNlbGVjdG9yKS5cbiAqL1xuXG5mdW5jdGlvbiBkZWxlZ2F0ZSh0YXJnZXRzLCBwcm9wcykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgZXJyb3JXaGVuKCEocHJvcHMgJiYgcHJvcHMudGFyZ2V0KSwgWydZb3UgbXVzdCBzcGVjaXR5IGEgYHRhcmdldGAgcHJvcCBpbmRpY2F0aW5nIGEgQ1NTIHNlbGVjdG9yIHN0cmluZyBtYXRjaGluZycsICd0aGUgdGFyZ2V0IGVsZW1lbnRzIHRoYXQgc2hvdWxkIHJlY2VpdmUgYSB0aXBweS4nXS5qb2luKCcgJykpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuICB2YXIgY2hpbGRUaXBweUluc3RhbmNlcyA9IFtdO1xuICB2YXIgZGlzYWJsZWQgPSBmYWxzZTtcbiAgdmFyIHRhcmdldCA9IHByb3BzLnRhcmdldDtcbiAgdmFyIG5hdGl2ZVByb3BzID0gcmVtb3ZlUHJvcGVydGllcyhwcm9wcywgWyd0YXJnZXQnXSk7XG4gIHZhciBwYXJlbnRQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIG5hdGl2ZVByb3BzLCB7XG4gICAgdHJpZ2dlcjogJ21hbnVhbCcsXG4gICAgdG91Y2g6IGZhbHNlXG4gIH0pO1xuICB2YXIgY2hpbGRQcm9wcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIHRvdWNoOiBkZWZhdWx0UHJvcHMudG91Y2hcbiAgfSwgbmF0aXZlUHJvcHMsIHtcbiAgICBzaG93T25DcmVhdGU6IHRydWVcbiAgfSk7XG4gIHZhciByZXR1cm5WYWx1ZSA9IHRpcHB5KHRhcmdldHMsIHBhcmVudFByb3BzKTtcbiAgdmFyIG5vcm1hbGl6ZWRSZXR1cm5WYWx1ZSA9IG5vcm1hbGl6ZVRvQXJyYXkocmV0dXJuVmFsdWUpO1xuXG4gIGZ1bmN0aW9uIG9uVHJpZ2dlcihldmVudCkge1xuICAgIGlmICghZXZlbnQudGFyZ2V0IHx8IGRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRhcmdldE5vZGUgPSBldmVudC50YXJnZXQuY2xvc2VzdCh0YXJnZXQpO1xuXG4gICAgaWYgKCF0YXJnZXROb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBHZXQgcmVsZXZhbnQgdHJpZ2dlciB3aXRoIGZhbGxiYWNrczpcbiAgICAvLyAxLiBDaGVjayBgZGF0YS10aXBweS10cmlnZ2VyYCBhdHRyaWJ1dGUgb24gdGFyZ2V0IG5vZGVcbiAgICAvLyAyLiBGYWxsYmFjayB0byBgdHJpZ2dlcmAgcGFzc2VkIHRvIGBkZWxlZ2F0ZSgpYFxuICAgIC8vIDMuIEZhbGxiYWNrIHRvIGBkZWZhdWx0UHJvcHMudHJpZ2dlcmBcblxuXG4gICAgdmFyIHRyaWdnZXIgPSB0YXJnZXROb2RlLmdldEF0dHJpYnV0ZSgnZGF0YS10aXBweS10cmlnZ2VyJykgfHwgcHJvcHMudHJpZ2dlciB8fCBkZWZhdWx0UHJvcHMudHJpZ2dlcjsgLy8gQHRzLWlnbm9yZVxuXG4gICAgaWYgKHRhcmdldE5vZGUuX3RpcHB5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JyAmJiB0eXBlb2YgY2hpbGRQcm9wcy50b3VjaCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LnR5cGUgIT09ICd0b3VjaHN0YXJ0JyAmJiB0cmlnZ2VyLmluZGV4T2YoQlVCQkxJTkdfRVZFTlRTX01BUFtldmVudC50eXBlXSkgPCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGluc3RhbmNlID0gdGlwcHkodGFyZ2V0Tm9kZSwgY2hpbGRQcm9wcyk7XG5cbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIGNoaWxkVGlwcHlJbnN0YW5jZXMgPSBjaGlsZFRpcHB5SW5zdGFuY2VzLmNvbmNhdChpbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb24obm9kZSwgZXZlbnRUeXBlLCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IGZhbHNlO1xuICAgIH1cblxuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIGxpc3RlbmVycy5wdXNoKHtcbiAgICAgIG5vZGU6IG5vZGUsXG4gICAgICBldmVudFR5cGU6IGV2ZW50VHlwZSxcbiAgICAgIGhhbmRsZXI6IGhhbmRsZXIsXG4gICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycyhpbnN0YW5jZSkge1xuICAgIHZhciByZWZlcmVuY2UgPSBpbnN0YW5jZS5yZWZlcmVuY2U7XG4gICAgb24ocmVmZXJlbmNlLCAndG91Y2hzdGFydCcsIG9uVHJpZ2dlciwgVE9VQ0hfT1BUSU9OUyk7XG4gICAgb24ocmVmZXJlbmNlLCAnbW91c2VvdmVyJywgb25UcmlnZ2VyKTtcbiAgICBvbihyZWZlcmVuY2UsICdmb2N1c2luJywgb25UcmlnZ2VyKTtcbiAgICBvbihyZWZlcmVuY2UsICdjbGljaycsIG9uVHJpZ2dlcik7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIG5vZGUgPSBfcmVmLm5vZGUsXG4gICAgICAgICAgZXZlbnRUeXBlID0gX3JlZi5ldmVudFR5cGUsXG4gICAgICAgICAgaGFuZGxlciA9IF9yZWYuaGFuZGxlcixcbiAgICAgICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zO1xuICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgfSk7XG4gICAgbGlzdGVuZXJzID0gW107XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseU11dGF0aW9ucyhpbnN0YW5jZSkge1xuICAgIHZhciBvcmlnaW5hbERlc3Ryb3kgPSBpbnN0YW5jZS5kZXN0cm95O1xuICAgIHZhciBvcmlnaW5hbEVuYWJsZSA9IGluc3RhbmNlLmVuYWJsZTtcbiAgICB2YXIgb3JpZ2luYWxEaXNhYmxlID0gaW5zdGFuY2UuZGlzYWJsZTtcblxuICAgIGluc3RhbmNlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoc2hvdWxkRGVzdHJveUNoaWxkSW5zdGFuY2VzKSB7XG4gICAgICBpZiAoc2hvdWxkRGVzdHJveUNoaWxkSW5zdGFuY2VzID09PSB2b2lkIDApIHtcbiAgICAgICAgc2hvdWxkRGVzdHJveUNoaWxkSW5zdGFuY2VzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNob3VsZERlc3Ryb3lDaGlsZEluc3RhbmNlcykge1xuICAgICAgICBjaGlsZFRpcHB5SW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgICAgICAgaW5zdGFuY2UuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgY2hpbGRUaXBweUluc3RhbmNlcyA9IFtdO1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgIG9yaWdpbmFsRGVzdHJveSgpO1xuICAgIH07XG5cbiAgICBpbnN0YW5jZS5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBvcmlnaW5hbEVuYWJsZSgpO1xuICAgICAgY2hpbGRUaXBweUluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UuZW5hYmxlKCk7XG4gICAgICB9KTtcbiAgICAgIGRpc2FibGVkID0gZmFsc2U7XG4gICAgfTtcblxuICAgIGluc3RhbmNlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBvcmlnaW5hbERpc2FibGUoKTtcbiAgICAgIGNoaWxkVGlwcHlJbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLmRpc2FibGUoKTtcbiAgICAgIH0pO1xuICAgICAgZGlzYWJsZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICBhZGRFdmVudExpc3RlbmVycyhpbnN0YW5jZSk7XG4gIH1cblxuICBub3JtYWxpemVkUmV0dXJuVmFsdWUuZm9yRWFjaChhcHBseU11dGF0aW9ucyk7XG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn1cblxudmFyIGFuaW1hdGVGaWxsID0ge1xuICBuYW1lOiAnYW5pbWF0ZUZpbGwnLFxuICBkZWZhdWx0VmFsdWU6IGZhbHNlLFxuICBmbjogZnVuY3Rpb24gZm4oaW5zdGFuY2UpIHtcbiAgICB2YXIgX2luc3RhbmNlJHByb3BzJHJlbmRlO1xuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmICghKChfaW5zdGFuY2UkcHJvcHMkcmVuZGUgPSBpbnN0YW5jZS5wcm9wcy5yZW5kZXIpICE9IG51bGwgJiYgX2luc3RhbmNlJHByb3BzJHJlbmRlLiQkdGlwcHkpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgIGVycm9yV2hlbihpbnN0YW5jZS5wcm9wcy5hbmltYXRlRmlsbCwgJ1RoZSBgYW5pbWF0ZUZpbGxgIHBsdWdpbiByZXF1aXJlcyB0aGUgZGVmYXVsdCByZW5kZXIgZnVuY3Rpb24uJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICB2YXIgX2dldENoaWxkcmVuID0gZ2V0Q2hpbGRyZW4oaW5zdGFuY2UucG9wcGVyKSxcbiAgICAgICAgYm94ID0gX2dldENoaWxkcmVuLmJveCxcbiAgICAgICAgY29udGVudCA9IF9nZXRDaGlsZHJlbi5jb250ZW50O1xuXG4gICAgdmFyIGJhY2tkcm9wID0gaW5zdGFuY2UucHJvcHMuYW5pbWF0ZUZpbGwgPyBjcmVhdGVCYWNrZHJvcEVsZW1lbnQoKSA6IG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uQ3JlYXRlOiBmdW5jdGlvbiBvbkNyZWF0ZSgpIHtcbiAgICAgICAgaWYgKGJhY2tkcm9wKSB7XG4gICAgICAgICAgYm94Lmluc2VydEJlZm9yZShiYWNrZHJvcCwgYm94LmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgICAgICBib3guc2V0QXR0cmlidXRlKCdkYXRhLWFuaW1hdGVmaWxsJywgJycpO1xuICAgICAgICAgIGJveC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICAgIGluc3RhbmNlLnNldFByb3BzKHtcbiAgICAgICAgICAgIGFycm93OiBmYWxzZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NoaWZ0LWF3YXknXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbk1vdW50OiBmdW5jdGlvbiBvbk1vdW50KCkge1xuICAgICAgICBpZiAoYmFja2Ryb3ApIHtcbiAgICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gYm94LnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbjtcbiAgICAgICAgICB2YXIgZHVyYXRpb24gPSBOdW1iZXIodHJhbnNpdGlvbkR1cmF0aW9uLnJlcGxhY2UoJ21zJywgJycpKTsgLy8gVGhlIGNvbnRlbnQgc2hvdWxkIGZhZGUgaW4gYWZ0ZXIgdGhlIGJhY2tkcm9wIGhhcyBtb3N0bHkgZmlsbGVkIHRoZVxuICAgICAgICAgIC8vIHRvb2x0aXAgZWxlbWVudC4gYGNsaXAtcGF0aGAgaXMgdGhlIG90aGVyIGFsdGVybmF0aXZlIGJ1dCBpcyBub3RcbiAgICAgICAgICAvLyB3ZWxsLXN1cHBvcnRlZCBhbmQgaXMgYnVnZ3kgb24gc29tZSBkZXZpY2VzLlxuXG4gICAgICAgICAgY29udGVudC5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSBNYXRoLnJvdW5kKGR1cmF0aW9uIC8gMTApICsgXCJtc1wiO1xuICAgICAgICAgIGJhY2tkcm9wLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IHRyYW5zaXRpb25EdXJhdGlvbjtcbiAgICAgICAgICBzZXRWaXNpYmlsaXR5U3RhdGUoW2JhY2tkcm9wXSwgJ3Zpc2libGUnKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uU2hvdzogZnVuY3Rpb24gb25TaG93KCkge1xuICAgICAgICBpZiAoYmFja2Ryb3ApIHtcbiAgICAgICAgICBiYWNrZHJvcC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMG1zJztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uSGlkZTogZnVuY3Rpb24gb25IaWRlKCkge1xuICAgICAgICBpZiAoYmFja2Ryb3ApIHtcbiAgICAgICAgICBzZXRWaXNpYmlsaXR5U3RhdGUoW2JhY2tkcm9wXSwgJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFja2Ryb3BFbGVtZW50KCkge1xuICB2YXIgYmFja2Ryb3AgPSBkaXYoKTtcbiAgYmFja2Ryb3AuY2xhc3NOYW1lID0gQkFDS0RST1BfQ0xBU1M7XG4gIHNldFZpc2liaWxpdHlTdGF0ZShbYmFja2Ryb3BdLCAnaGlkZGVuJyk7XG4gIHJldHVybiBiYWNrZHJvcDtcbn1cblxudmFyIG1vdXNlQ29vcmRzID0ge1xuICBjbGllbnRYOiAwLFxuICBjbGllbnRZOiAwXG59O1xudmFyIGFjdGl2ZUluc3RhbmNlcyA9IFtdO1xuXG5mdW5jdGlvbiBzdG9yZU1vdXNlQ29vcmRzKF9yZWYpIHtcbiAgdmFyIGNsaWVudFggPSBfcmVmLmNsaWVudFgsXG4gICAgICBjbGllbnRZID0gX3JlZi5jbGllbnRZO1xuICBtb3VzZUNvb3JkcyA9IHtcbiAgICBjbGllbnRYOiBjbGllbnRYLFxuICAgIGNsaWVudFk6IGNsaWVudFlcbiAgfTtcbn1cblxuZnVuY3Rpb24gYWRkTW91c2VDb29yZHNMaXN0ZW5lcihkb2MpIHtcbiAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHN0b3JlTW91c2VDb29yZHMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVNb3VzZUNvb3Jkc0xpc3RlbmVyKGRvYykge1xuICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgc3RvcmVNb3VzZUNvb3Jkcyk7XG59XG5cbnZhciBmb2xsb3dDdXJzb3IgPSB7XG4gIG5hbWU6ICdmb2xsb3dDdXJzb3InLFxuICBkZWZhdWx0VmFsdWU6IGZhbHNlLFxuICBmbjogZnVuY3Rpb24gZm4oaW5zdGFuY2UpIHtcbiAgICB2YXIgcmVmZXJlbmNlID0gaW5zdGFuY2UucmVmZXJlbmNlO1xuICAgIHZhciBkb2MgPSBnZXRPd25lckRvY3VtZW50KGluc3RhbmNlLnByb3BzLnRyaWdnZXJUYXJnZXQgfHwgcmVmZXJlbmNlKTtcbiAgICB2YXIgaXNJbnRlcm5hbFVwZGF0ZSA9IGZhbHNlO1xuICAgIHZhciB3YXNGb2N1c0V2ZW50ID0gZmFsc2U7XG4gICAgdmFyIGlzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICB2YXIgcHJldlByb3BzID0gaW5zdGFuY2UucHJvcHM7XG5cbiAgICBmdW5jdGlvbiBnZXRJc0luaXRpYWxCZWhhdmlvcigpIHtcbiAgICAgIHJldHVybiBpbnN0YW5jZS5wcm9wcy5mb2xsb3dDdXJzb3IgPT09ICdpbml0aWFsJyAmJiBpbnN0YW5jZS5zdGF0ZS5pc1Zpc2libGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkTGlzdGVuZXIoKSB7XG4gICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKCkge1xuICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bnNldEdldFJlZmVyZW5jZUNsaWVudFJlY3QoKSB7XG4gICAgICBpc0ludGVybmFsVXBkYXRlID0gdHJ1ZTtcbiAgICAgIGluc3RhbmNlLnNldFByb3BzKHtcbiAgICAgICAgZ2V0UmVmZXJlbmNlQ2xpZW50UmVjdDogbnVsbFxuICAgICAgfSk7XG4gICAgICBpc0ludGVybmFsVXBkYXRlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZlbnQpIHtcbiAgICAgIC8vIElmIHRoZSBpbnN0YW5jZSBpcyBpbnRlcmFjdGl2ZSwgYXZvaWQgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHVubGVzcyBpdCdzXG4gICAgICAvLyBvdmVyIHRoZSByZWZlcmVuY2UgZWxlbWVudFxuICAgICAgdmFyIGlzQ3Vyc29yT3ZlclJlZmVyZW5jZSA9IGV2ZW50LnRhcmdldCA/IHJlZmVyZW5jZS5jb250YWlucyhldmVudC50YXJnZXQpIDogdHJ1ZTtcbiAgICAgIHZhciBmb2xsb3dDdXJzb3IgPSBpbnN0YW5jZS5wcm9wcy5mb2xsb3dDdXJzb3I7XG4gICAgICB2YXIgY2xpZW50WCA9IGV2ZW50LmNsaWVudFgsXG4gICAgICAgICAgY2xpZW50WSA9IGV2ZW50LmNsaWVudFk7XG4gICAgICB2YXIgcmVjdCA9IHJlZmVyZW5jZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHZhciByZWxhdGl2ZVggPSBjbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgICAgdmFyIHJlbGF0aXZlWSA9IGNsaWVudFkgLSByZWN0LnRvcDtcblxuICAgICAgaWYgKGlzQ3Vyc29yT3ZlclJlZmVyZW5jZSB8fCAhaW5zdGFuY2UucHJvcHMuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2V0UHJvcHMoe1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmUgLSB1bm5lZWRlZCBET01SZWN0IHByb3BlcnRpZXNcbiAgICAgICAgICBnZXRSZWZlcmVuY2VDbGllbnRSZWN0OiBmdW5jdGlvbiBnZXRSZWZlcmVuY2VDbGllbnRSZWN0KCkge1xuICAgICAgICAgICAgdmFyIHJlY3QgPSByZWZlcmVuY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB2YXIgeCA9IGNsaWVudFg7XG4gICAgICAgICAgICB2YXIgeSA9IGNsaWVudFk7XG5cbiAgICAgICAgICAgIGlmIChmb2xsb3dDdXJzb3IgPT09ICdpbml0aWFsJykge1xuICAgICAgICAgICAgICB4ID0gcmVjdC5sZWZ0ICsgcmVsYXRpdmVYO1xuICAgICAgICAgICAgICB5ID0gcmVjdC50b3AgKyByZWxhdGl2ZVk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0b3AgPSBmb2xsb3dDdXJzb3IgPT09ICdob3Jpem9udGFsJyA/IHJlY3QudG9wIDogeTtcbiAgICAgICAgICAgIHZhciByaWdodCA9IGZvbGxvd0N1cnNvciA9PT0gJ3ZlcnRpY2FsJyA/IHJlY3QucmlnaHQgOiB4O1xuICAgICAgICAgICAgdmFyIGJvdHRvbSA9IGZvbGxvd0N1cnNvciA9PT0gJ2hvcml6b250YWwnID8gcmVjdC5ib3R0b20gOiB5O1xuICAgICAgICAgICAgdmFyIGxlZnQgPSBmb2xsb3dDdXJzb3IgPT09ICd2ZXJ0aWNhbCcgPyByZWN0LmxlZnQgOiB4O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgd2lkdGg6IHJpZ2h0IC0gbGVmdCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBib3R0b20gLSB0b3AsXG4gICAgICAgICAgICAgIHRvcDogdG9wLFxuICAgICAgICAgICAgICByaWdodDogcmlnaHQsXG4gICAgICAgICAgICAgIGJvdHRvbTogYm90dG9tLFxuICAgICAgICAgICAgICBsZWZ0OiBsZWZ0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgaWYgKGluc3RhbmNlLnByb3BzLmZvbGxvd0N1cnNvcikge1xuICAgICAgICBhY3RpdmVJbnN0YW5jZXMucHVzaCh7XG4gICAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlLFxuICAgICAgICAgIGRvYzogZG9jXG4gICAgICAgIH0pO1xuICAgICAgICBhZGRNb3VzZUNvb3Jkc0xpc3RlbmVyKGRvYyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIGFjdGl2ZUluc3RhbmNlcyA9IGFjdGl2ZUluc3RhbmNlcy5maWx0ZXIoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEuaW5zdGFuY2UgIT09IGluc3RhbmNlO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChhY3RpdmVJbnN0YW5jZXMuZmlsdGVyKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhLmRvYyA9PT0gZG9jO1xuICAgICAgfSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlbW92ZU1vdXNlQ29vcmRzTGlzdGVuZXIoZG9jKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgb25DcmVhdGU6IGNyZWF0ZSxcbiAgICAgIG9uRGVzdHJveTogZGVzdHJveSxcbiAgICAgIG9uQmVmb3JlVXBkYXRlOiBmdW5jdGlvbiBvbkJlZm9yZVVwZGF0ZSgpIHtcbiAgICAgICAgcHJldlByb3BzID0gaW5zdGFuY2UucHJvcHM7XG4gICAgICB9LFxuICAgICAgb25BZnRlclVwZGF0ZTogZnVuY3Rpb24gb25BZnRlclVwZGF0ZShfLCBfcmVmMikge1xuICAgICAgICB2YXIgZm9sbG93Q3Vyc29yID0gX3JlZjIuZm9sbG93Q3Vyc29yO1xuXG4gICAgICAgIGlmIChpc0ludGVybmFsVXBkYXRlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZvbGxvd0N1cnNvciAhPT0gdW5kZWZpbmVkICYmIHByZXZQcm9wcy5mb2xsb3dDdXJzb3IgIT09IGZvbGxvd0N1cnNvcikge1xuICAgICAgICAgIGRlc3Ryb3koKTtcblxuICAgICAgICAgIGlmIChmb2xsb3dDdXJzb3IpIHtcbiAgICAgICAgICAgIGNyZWF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2Uuc3RhdGUuaXNNb3VudGVkICYmICF3YXNGb2N1c0V2ZW50ICYmICFnZXRJc0luaXRpYWxCZWhhdmlvcigpKSB7XG4gICAgICAgICAgICAgIGFkZExpc3RlbmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVyKCk7XG4gICAgICAgICAgICB1bnNldEdldFJlZmVyZW5jZUNsaWVudFJlY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbk1vdW50OiBmdW5jdGlvbiBvbk1vdW50KCkge1xuICAgICAgICBpZiAoaW5zdGFuY2UucHJvcHMuZm9sbG93Q3Vyc29yICYmICF3YXNGb2N1c0V2ZW50KSB7XG4gICAgICAgICAgaWYgKGlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgICBvbk1vdXNlTW92ZShtb3VzZUNvb3Jkcyk7XG4gICAgICAgICAgICBpc1VubW91bnRlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghZ2V0SXNJbml0aWFsQmVoYXZpb3IoKSkge1xuICAgICAgICAgICAgYWRkTGlzdGVuZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvblRyaWdnZXI6IGZ1bmN0aW9uIG9uVHJpZ2dlcihfLCBldmVudCkge1xuICAgICAgICBpZiAoaXNNb3VzZUV2ZW50KGV2ZW50KSkge1xuICAgICAgICAgIG1vdXNlQ29vcmRzID0ge1xuICAgICAgICAgICAgY2xpZW50WDogZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgIGNsaWVudFk6IGV2ZW50LmNsaWVudFlcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgd2FzRm9jdXNFdmVudCA9IGV2ZW50LnR5cGUgPT09ICdmb2N1cyc7XG4gICAgICB9LFxuICAgICAgb25IaWRkZW46IGZ1bmN0aW9uIG9uSGlkZGVuKCkge1xuICAgICAgICBpZiAoaW5zdGFuY2UucHJvcHMuZm9sbG93Q3Vyc29yKSB7XG4gICAgICAgICAgdW5zZXRHZXRSZWZlcmVuY2VDbGllbnRSZWN0KCk7XG4gICAgICAgICAgcmVtb3ZlTGlzdGVuZXIoKTtcbiAgICAgICAgICBpc1VubW91bnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRQcm9wcyhwcm9wcywgbW9kaWZpZXIpIHtcbiAgdmFyIF9wcm9wcyRwb3BwZXJPcHRpb25zO1xuXG4gIHJldHVybiB7XG4gICAgcG9wcGVyT3B0aW9uczogT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMucG9wcGVyT3B0aW9ucywge1xuICAgICAgbW9kaWZpZXJzOiBbXS5jb25jYXQoKCgoX3Byb3BzJHBvcHBlck9wdGlvbnMgPSBwcm9wcy5wb3BwZXJPcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX3Byb3BzJHBvcHBlck9wdGlvbnMubW9kaWZpZXJzKSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBuYW1lID0gX3JlZi5uYW1lO1xuICAgICAgICByZXR1cm4gbmFtZSAhPT0gbW9kaWZpZXIubmFtZTtcbiAgICAgIH0pLCBbbW9kaWZpZXJdKVxuICAgIH0pXG4gIH07XG59XG5cbnZhciBpbmxpbmVQb3NpdGlvbmluZyA9IHtcbiAgbmFtZTogJ2lubGluZVBvc2l0aW9uaW5nJyxcbiAgZGVmYXVsdFZhbHVlOiBmYWxzZSxcbiAgZm46IGZ1bmN0aW9uIGZuKGluc3RhbmNlKSB7XG4gICAgdmFyIHJlZmVyZW5jZSA9IGluc3RhbmNlLnJlZmVyZW5jZTtcblxuICAgIGZ1bmN0aW9uIGlzRW5hYmxlZCgpIHtcbiAgICAgIHJldHVybiAhIWluc3RhbmNlLnByb3BzLmlubGluZVBvc2l0aW9uaW5nO1xuICAgIH1cblxuICAgIHZhciBwbGFjZW1lbnQ7XG4gICAgdmFyIGN1cnNvclJlY3RJbmRleCA9IC0xO1xuICAgIHZhciBpc0ludGVybmFsVXBkYXRlID0gZmFsc2U7XG4gICAgdmFyIHRyaWVkUGxhY2VtZW50cyA9IFtdO1xuICAgIHZhciBtb2RpZmllciA9IHtcbiAgICAgIG5hbWU6ICd0aXBweUlubGluZVBvc2l0aW9uaW5nJyxcbiAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICBwaGFzZTogJ2FmdGVyV3JpdGUnLFxuICAgICAgZm46IGZ1bmN0aW9uIGZuKF9yZWYyKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IF9yZWYyLnN0YXRlO1xuXG4gICAgICAgIGlmIChpc0VuYWJsZWQoKSkge1xuICAgICAgICAgIGlmICh0cmllZFBsYWNlbWVudHMuaW5kZXhPZihzdGF0ZS5wbGFjZW1lbnQpICE9PSAtMSkge1xuICAgICAgICAgICAgdHJpZWRQbGFjZW1lbnRzID0gW107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBsYWNlbWVudCAhPT0gc3RhdGUucGxhY2VtZW50ICYmIHRyaWVkUGxhY2VtZW50cy5pbmRleE9mKHN0YXRlLnBsYWNlbWVudCkgPT09IC0xKSB7XG4gICAgICAgICAgICB0cmllZFBsYWNlbWVudHMucHVzaChzdGF0ZS5wbGFjZW1lbnQpO1xuICAgICAgICAgICAgaW5zdGFuY2Uuc2V0UHJvcHMoe1xuICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gdW5uZWVkZWQgRE9NUmVjdCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgIGdldFJlZmVyZW5jZUNsaWVudFJlY3Q6IGZ1bmN0aW9uIGdldFJlZmVyZW5jZUNsaWVudFJlY3QoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9nZXRSZWZlcmVuY2VDbGllbnRSZWN0KHN0YXRlLnBsYWNlbWVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHBsYWNlbWVudCA9IHN0YXRlLnBsYWNlbWVudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfZ2V0UmVmZXJlbmNlQ2xpZW50UmVjdChwbGFjZW1lbnQpIHtcbiAgICAgIHJldHVybiBnZXRJbmxpbmVCb3VuZGluZ0NsaWVudFJlY3QoZ2V0QmFzZVBsYWNlbWVudChwbGFjZW1lbnQpLCByZWZlcmVuY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGFycmF5RnJvbShyZWZlcmVuY2UuZ2V0Q2xpZW50UmVjdHMoKSksIGN1cnNvclJlY3RJbmRleCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0SW50ZXJuYWxQcm9wcyhwYXJ0aWFsUHJvcHMpIHtcbiAgICAgIGlzSW50ZXJuYWxVcGRhdGUgPSB0cnVlO1xuICAgICAgaW5zdGFuY2Uuc2V0UHJvcHMocGFydGlhbFByb3BzKTtcbiAgICAgIGlzSW50ZXJuYWxVcGRhdGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRNb2RpZmllcigpIHtcbiAgICAgIGlmICghaXNJbnRlcm5hbFVwZGF0ZSkge1xuICAgICAgICBzZXRJbnRlcm5hbFByb3BzKGdldFByb3BzKGluc3RhbmNlLnByb3BzLCBtb2RpZmllcikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBvbkNyZWF0ZTogYWRkTW9kaWZpZXIsXG4gICAgICBvbkFmdGVyVXBkYXRlOiBhZGRNb2RpZmllcixcbiAgICAgIG9uVHJpZ2dlcjogZnVuY3Rpb24gb25UcmlnZ2VyKF8sIGV2ZW50KSB7XG4gICAgICAgIGlmIChpc01vdXNlRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgdmFyIHJlY3RzID0gYXJyYXlGcm9tKGluc3RhbmNlLnJlZmVyZW5jZS5nZXRDbGllbnRSZWN0cygpKTtcbiAgICAgICAgICB2YXIgY3Vyc29yUmVjdCA9IHJlY3RzLmZpbmQoZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgICAgIHJldHVybiByZWN0LmxlZnQgLSAyIDw9IGV2ZW50LmNsaWVudFggJiYgcmVjdC5yaWdodCArIDIgPj0gZXZlbnQuY2xpZW50WCAmJiByZWN0LnRvcCAtIDIgPD0gZXZlbnQuY2xpZW50WSAmJiByZWN0LmJvdHRvbSArIDIgPj0gZXZlbnQuY2xpZW50WTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgaW5kZXggPSByZWN0cy5pbmRleE9mKGN1cnNvclJlY3QpO1xuICAgICAgICAgIGN1cnNvclJlY3RJbmRleCA9IGluZGV4ID4gLTEgPyBpbmRleCA6IGN1cnNvclJlY3RJbmRleDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uSGlkZGVuOiBmdW5jdGlvbiBvbkhpZGRlbigpIHtcbiAgICAgICAgY3Vyc29yUmVjdEluZGV4ID0gLTE7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbmZ1bmN0aW9uIGdldElubGluZUJvdW5kaW5nQ2xpZW50UmVjdChjdXJyZW50QmFzZVBsYWNlbWVudCwgYm91bmRpbmdSZWN0LCBjbGllbnRSZWN0cywgY3Vyc29yUmVjdEluZGV4KSB7XG4gIC8vIE5vdCBhbiBpbmxpbmUgZWxlbWVudCwgb3IgcGxhY2VtZW50IGlzIG5vdCB5ZXQga25vd25cbiAgaWYgKGNsaWVudFJlY3RzLmxlbmd0aCA8IDIgfHwgY3VycmVudEJhc2VQbGFjZW1lbnQgPT09IG51bGwpIHtcbiAgICByZXR1cm4gYm91bmRpbmdSZWN0O1xuICB9IC8vIFRoZXJlIGFyZSB0d28gcmVjdHMgYW5kIHRoZXkgYXJlIGRpc2pvaW5lZFxuXG5cbiAgaWYgKGNsaWVudFJlY3RzLmxlbmd0aCA9PT0gMiAmJiBjdXJzb3JSZWN0SW5kZXggPj0gMCAmJiBjbGllbnRSZWN0c1swXS5sZWZ0ID4gY2xpZW50UmVjdHNbMV0ucmlnaHQpIHtcbiAgICByZXR1cm4gY2xpZW50UmVjdHNbY3Vyc29yUmVjdEluZGV4XSB8fCBib3VuZGluZ1JlY3Q7XG4gIH1cblxuICBzd2l0Y2ggKGN1cnJlbnRCYXNlUGxhY2VtZW50KSB7XG4gICAgY2FzZSAndG9wJzpcbiAgICBjYXNlICdib3R0b20nOlxuICAgICAge1xuICAgICAgICB2YXIgZmlyc3RSZWN0ID0gY2xpZW50UmVjdHNbMF07XG4gICAgICAgIHZhciBsYXN0UmVjdCA9IGNsaWVudFJlY3RzW2NsaWVudFJlY3RzLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgaXNUb3AgPSBjdXJyZW50QmFzZVBsYWNlbWVudCA9PT0gJ3RvcCc7XG4gICAgICAgIHZhciB0b3AgPSBmaXJzdFJlY3QudG9wO1xuICAgICAgICB2YXIgYm90dG9tID0gbGFzdFJlY3QuYm90dG9tO1xuICAgICAgICB2YXIgbGVmdCA9IGlzVG9wID8gZmlyc3RSZWN0LmxlZnQgOiBsYXN0UmVjdC5sZWZ0O1xuICAgICAgICB2YXIgcmlnaHQgPSBpc1RvcCA/IGZpcnN0UmVjdC5yaWdodCA6IGxhc3RSZWN0LnJpZ2h0O1xuICAgICAgICB2YXIgd2lkdGggPSByaWdodCAtIGxlZnQ7XG4gICAgICAgIHZhciBoZWlnaHQgPSBib3R0b20gLSB0b3A7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgYm90dG9tOiBib3R0b20sXG4gICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICByaWdodDogcmlnaHQsXG4gICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICBjYXNlICdsZWZ0JzpcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICB7XG4gICAgICAgIHZhciBtaW5MZWZ0ID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgY2xpZW50UmVjdHMubWFwKGZ1bmN0aW9uIChyZWN0cykge1xuICAgICAgICAgIHJldHVybiByZWN0cy5sZWZ0O1xuICAgICAgICB9KSk7XG4gICAgICAgIHZhciBtYXhSaWdodCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIGNsaWVudFJlY3RzLm1hcChmdW5jdGlvbiAocmVjdHMpIHtcbiAgICAgICAgICByZXR1cm4gcmVjdHMucmlnaHQ7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdmFyIG1lYXN1cmVSZWN0cyA9IGNsaWVudFJlY3RzLmZpbHRlcihmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICAgIHJldHVybiBjdXJyZW50QmFzZVBsYWNlbWVudCA9PT0gJ2xlZnQnID8gcmVjdC5sZWZ0ID09PSBtaW5MZWZ0IDogcmVjdC5yaWdodCA9PT0gbWF4UmlnaHQ7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgX3RvcCA9IG1lYXN1cmVSZWN0c1swXS50b3A7XG4gICAgICAgIHZhciBfYm90dG9tID0gbWVhc3VyZVJlY3RzW21lYXN1cmVSZWN0cy5sZW5ndGggLSAxXS5ib3R0b207XG4gICAgICAgIHZhciBfbGVmdCA9IG1pbkxlZnQ7XG4gICAgICAgIHZhciBfcmlnaHQgPSBtYXhSaWdodDtcblxuICAgICAgICB2YXIgX3dpZHRoID0gX3JpZ2h0IC0gX2xlZnQ7XG5cbiAgICAgICAgdmFyIF9oZWlnaHQgPSBfYm90dG9tIC0gX3RvcDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRvcDogX3RvcCxcbiAgICAgICAgICBib3R0b206IF9ib3R0b20sXG4gICAgICAgICAgbGVmdDogX2xlZnQsXG4gICAgICAgICAgcmlnaHQ6IF9yaWdodCxcbiAgICAgICAgICB3aWR0aDogX3dpZHRoLFxuICAgICAgICAgIGhlaWdodDogX2hlaWdodFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIGJvdW5kaW5nUmVjdDtcbiAgICAgIH1cbiAgfVxufVxuXG52YXIgc3RpY2t5ID0ge1xuICBuYW1lOiAnc3RpY2t5JyxcbiAgZGVmYXVsdFZhbHVlOiBmYWxzZSxcbiAgZm46IGZ1bmN0aW9uIGZuKGluc3RhbmNlKSB7XG4gICAgdmFyIHJlZmVyZW5jZSA9IGluc3RhbmNlLnJlZmVyZW5jZSxcbiAgICAgICAgcG9wcGVyID0gaW5zdGFuY2UucG9wcGVyO1xuXG4gICAgZnVuY3Rpb24gZ2V0UmVmZXJlbmNlKCkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlLnBvcHBlckluc3RhbmNlID8gaW5zdGFuY2UucG9wcGVySW5zdGFuY2Uuc3RhdGUuZWxlbWVudHMucmVmZXJlbmNlIDogcmVmZXJlbmNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3VsZENoZWNrKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UucHJvcHMuc3RpY2t5ID09PSB0cnVlIHx8IGluc3RhbmNlLnByb3BzLnN0aWNreSA9PT0gdmFsdWU7XG4gICAgfVxuXG4gICAgdmFyIHByZXZSZWZSZWN0ID0gbnVsbDtcbiAgICB2YXIgcHJldlBvcFJlY3QgPSBudWxsO1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgICB2YXIgY3VycmVudFJlZlJlY3QgPSBzaG91bGRDaGVjaygncmVmZXJlbmNlJykgPyBnZXRSZWZlcmVuY2UoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IG51bGw7XG4gICAgICB2YXIgY3VycmVudFBvcFJlY3QgPSBzaG91bGRDaGVjaygncG9wcGVyJykgPyBwb3BwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBudWxsO1xuXG4gICAgICBpZiAoY3VycmVudFJlZlJlY3QgJiYgYXJlUmVjdHNEaWZmZXJlbnQocHJldlJlZlJlY3QsIGN1cnJlbnRSZWZSZWN0KSB8fCBjdXJyZW50UG9wUmVjdCAmJiBhcmVSZWN0c0RpZmZlcmVudChwcmV2UG9wUmVjdCwgY3VycmVudFBvcFJlY3QpKSB7XG4gICAgICAgIGlmIChpbnN0YW5jZS5wb3BwZXJJbnN0YW5jZSkge1xuICAgICAgICAgIGluc3RhbmNlLnBvcHBlckluc3RhbmNlLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHByZXZSZWZSZWN0ID0gY3VycmVudFJlZlJlY3Q7XG4gICAgICBwcmV2UG9wUmVjdCA9IGN1cnJlbnRQb3BSZWN0O1xuXG4gICAgICBpZiAoaW5zdGFuY2Uuc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVQb3NpdGlvbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG9uTW91bnQ6IGZ1bmN0aW9uIG9uTW91bnQoKSB7XG4gICAgICAgIGlmIChpbnN0YW5jZS5wcm9wcy5zdGlja3kpIHtcbiAgICAgICAgICB1cGRhdGVQb3NpdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcblxuZnVuY3Rpb24gYXJlUmVjdHNEaWZmZXJlbnQocmVjdEEsIHJlY3RCKSB7XG4gIGlmIChyZWN0QSAmJiByZWN0Qikge1xuICAgIHJldHVybiByZWN0QS50b3AgIT09IHJlY3RCLnRvcCB8fCByZWN0QS5yaWdodCAhPT0gcmVjdEIucmlnaHQgfHwgcmVjdEEuYm90dG9tICE9PSByZWN0Qi5ib3R0b20gfHwgcmVjdEEubGVmdCAhPT0gcmVjdEIubGVmdDtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG50aXBweS5zZXREZWZhdWx0UHJvcHMoe1xuICByZW5kZXI6IHJlbmRlclxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHRpcHB5O1xuZXhwb3J0IHsgYW5pbWF0ZUZpbGwsIGNyZWF0ZVNpbmdsZXRvbiwgZGVsZWdhdGUsIGZvbGxvd0N1cnNvciwgaGlkZUFsbCwgaW5saW5lUG9zaXRpb25pbmcsIFJPVU5EX0FSUk9XIGFzIHJvdW5kQXJyb3csIHN0aWNreSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlwcHkuZXNtLmpzLm1hcFxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGU7IH07XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIlxuLyohKlxuICog0JLQndCY0JzQkNCd0JjQlSEg0K3RgtC+0YIg0YTQsNC50Lsg0LPQtdC90LXRgNC40YDRg9C10YLRgdGPINCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4LlxuICog0JvRjtCx0YvQtSDQuNC30LzQtdC90LXQvdC40Y8g0Y3RgtC+0LPQviDRhNCw0LnQu9CwINCx0YPQtNGD0YIg0L/QvtGC0LXRgNGP0L3RiyDQv9GA0Lgg0YHQu9C10LTRg9GO0YnQtdC5INC60L7QvNC/0LjQu9GP0YbQuNC4LlxuICog0JvRjtCx0L7QtSDQuNC30LzQtdC90LXQvdC40LUg0L/RgNC+0LXQutGC0LAg0LHQtdC3INCy0L7Qt9C80L7QttC90L7RgdGC0Lgg0LrQvtC80L/QuNC70Y/RhtC40Lgg0JTQntCb0KzQqNCVINCYINCU0J7QoNCe0JbQlSDQsiAyLTUg0YDQsNC3LlxuICovXG5cbi8qIGdsb2JhbCByZXF1aXJlICovXG5cbnJlcXVpcmUoJy4uL2Jsb2Nrcy9mb3JtLXBheS9mb3JtLXBheS5qcycpO1xucmVxdWlyZSgnLi4vYmxvY2tzL2lucHV0L2lucHV0LmpzJyk7XG5yZXF1aXJlKCcuLi9ibG9ja3MvdGFicy90YWJzLmpzJyk7XG5yZXF1aXJlKCcuL3NjcmlwdC5qcycpO1xuXG4vKiEqXG4gKiDQktCd0JjQnNCQ0J3QmNCVISDQrdGC0L7RgiDRhNCw0LnQuyDQs9C10L3QtdGA0LjRgNGD0LXRgtGB0Y8g0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60LguXG4gKiDQm9GO0LHRi9C1INC40LfQvNC10L3QtdC90LjRjyDRjdGC0L7Qs9C+INGE0LDQudC70LAg0LHRg9C00YPRgiDQv9C+0YLQtdGA0Y/QvdGLINC/0YDQuCDRgdC70LXQtNGD0Y7RidC10Lkg0LrQvtC80L/QuNC70Y/RhtC40LguXG4gKiDQm9GO0LHQvtC1INC40LfQvNC10L3QtdC90LjQtSDQv9GA0L7QtdC60YLQsCDQsdC10Lcg0LLQvtC30LzQvtC20L3QvtGB0YLQuCDQutC+0LzQv9C40LvRj9GG0LjQuCDQlNCe0JvQrNCo0JUg0Jgg0JTQntCg0J7QltCVINCyIDItNSDRgNCw0LcuXG4gKi9cblxuIl0sIm5hbWVzIjpbInJlYWR5IiwiQ3JlZGl0Q2FyZElucHV0TWFzayIsInRpcHB5IiwiaW5pdFBvcHVwIiwiZm9ybVBheSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImpzUmVxdWlyZWQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9ybVBheVN1Ym1pdCIsIm51bWJlckNhcmQiLCJjdnZDYXJkIiwibW1DYXJkIiwieXlDYXJkIiwiZmxhZ1NlbnRGb3JtIiwiZm9ybWF0dGVkQ3JlZGl0Q2FyZElucHV0IiwiZWxlbWVudCIsInBhdHRlcm4iLCJmb3JtYXR0ZWRDdnZDYXJkIiwiZm9ybWF0dGVkTW0iLCJmb3JtYXR0ZWRZeSIsImNoZWNrZWRJbnB1dHMiLCJpdGVtc0lucHV0IiwiZm9yRWFjaCIsIml0ZW0iLCJ0eXBlIiwiY2hlY2tlZCIsImNsb3Nlc3QiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJ2YWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJzdWJtaXQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImNob29zZVBvcHVwIiwiY2hvb3NlQnRuIiwicG9wdXBDbGFzcyIsInRyaWdnZXJCdG4iLCJJTWFzayIsImlucHV0cyIsImxlbmd0aCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiX3N0ZXAiLCJzIiwibiIsImRvbmUiLCJpbnB1dCIsImVyciIsImUiLCJmIiwicGhvbmVGaWVsZHMiLCJmaWVsZCIsIm1hc2siLCJtYWtlVGFicyIsInRhYnMiLCJwYW5lcyIsInRhYnNMYWJlbHMiLCJjaGlsZHJlbiIsInRhYnNQYW5lcyIsIkFycmF5IiwiZnJvbSIsImVsZW0iLCJhY3RpdmF0ZVRhYiIsImxhYmVsIiwiY2FsbCIsInBhbmUiLCJ0YXJnZXQiLCJjbGlja2VkVGFiIiwiZ2V0QXR0cmlidXRlIiwidHJpZ2dlciIsInBvcHVwIiwiYm9keUVsZW1lbnRIVE1MIiwiYm9keSIsIm1vZGFsQmFja2dyb3VuZCIsIm1vZGFsQ2xvc2UiLCJldnQiLCJzdHlsZSIsImRpc3BsYXkiLCJoYW5kbGVTaG93UG9wdXAiLCJoYW5kbGVDbG9zZVBvcHVwIiwibWFrZVBvcHVwIiwiaW5pdFpvb21Qb3B1cCIsImN1cnJlbnRTbGlkZUluZGV4IiwiY3VycmVudFpvb21CdG4iLCJkYXRhc2V0Iiwic2xpZGVJbmRleCIsImZuIiwiYXR0YWNoRXZlbnQiLCJyZWFkeVN0YXRlIiwicmVxdWlyZSJdLCJzb3VyY2VSb290IjoiIn0="],"mappings":"CAAS,WACC,IAAIA,EAAsB,CAE9B,iEAIA,SAAUC,GAEhB,aAEAA,EAAOC,QAAU,SAAmBC,GAEhC,OADAA,EAAKA,GAAMC,OAAOC,UAAUC,UACrB,WAAWC,KAAKJ,EAC3B,CAGO,EAED,mEAIA,SAAUF,GAEhB,aAEAA,EAAOC,QAAU,SAAoBC,GAEjC,OADAA,EAAKA,GAAMC,OAAOC,UAAUC,UACrB,QAAQC,KAAKJ,EACxB,CAGO,EAED,gEAIA,SAAUF,EAAQO,EAA0BC,GAElD,aAEA,IAAIC,EAASD,EAAqC,+DAC9CE,EAAYF,EAAwC,kEACpDG,EAAeH,EAA2C,qEAC1DI,EAAUJ,EAAsC,gEAChDK,EAASL,EAAqC,+DAClDR,EAAOC,QAAU,SAAkBC,GAE/B,SAAmC,KADnCA,EAAKA,GAAMC,OAAOC,UAAUC,WAChBS,QAAQ,YAA6C,IAAzBZ,EAAGY,QAAQ,UAC9CL,EAAOP,IACPQ,EAAUR,IACVS,EAAaT,IACbU,EAAQV,IACRW,EAAOX,GAChB,CAGO,EAED,oEAIA,SAAUF,GAEhB,aAEAA,EAAOC,QAAU,SAAsBC,GAEnC,OAAsC,KADtCA,EAAKA,GAAMC,OAAOC,UAAUC,WAClBS,QAAQ,cACtB,CAGO,EAED,8DAIA,SAAUd,GAEhB,aAEAA,EAAOC,QAAU,SAAgBC,GAE7B,OAAgC,KADhCA,EAAKA,GAAMC,OAAOC,UAAUC,WAClBS,QAAQ,WAA2C,IAAxBZ,EAAGY,QAAQ,OACpD,CAGO,EAED,6DAIA,SAAUd,GAEhB,aAEAA,EAAOC,QAAU,SAAeC,GAE5B,OAAiC,KADjCA,EAAKA,GAAMC,OAAOC,UAAUC,WAClBS,QAAQ,SACtB,CAGO,EAED,6DAIA,SAAUd,EAAQO,EAA0BC,GAElD,aAEA,IAAIO,EAAWP,EAAuC,iEACtDR,EAAOC,QAAU,SAAeC,EAAIc,EAAaC,QACzB,IAAhBD,IAA0BA,GAAc,GAC5Cd,EAAKA,GAAMC,OAAOC,UAAUC,UAC5B,IAAIa,EAAU,oBAAoBZ,KAAKJ,GACvC,OAAOc,EAAcE,GAAWH,EAASb,EAAIe,GAAYC,CAC7D,CAGO,EAED,gEAIA,SAAUlB,GAEhB,aAEAA,EAAOC,QAAU,SAAkBC,EAAIe,GAKnC,OAJAf,EAAKA,GAAMC,OAAOC,UAAUC,UAC5BY,EAAWA,GAAYd,OAAOc,SAGvB,YAAYX,KAAKJ,IAAO,eAAgBe,CACnD,CAGO,EAED,+DAIA,SAAUjB,GAEhB,aAEAA,EAAOC,QAAU,SAAiBC,GAE9B,OAAgC,KADhCA,EAAKA,GAAMC,OAAOC,UAAUC,WACjBS,QAAQ,UACW,IAA1BZ,EAAGY,QAAQ,YACa,IAAxBZ,EAAGY,QAAQ,OACnB,CAGO,EAED,iEAIA,SAAUd,GAEhB,aAEAA,EAAOC,QAAU,SAA0BC,GAEvC,OADAA,EAAKA,GAAMC,OAAOC,UAAUC,UACrB,kBAAkBC,KAAKJ,EAClC,CAGO,EAED,8DAIA,SAAUF,GAEhB,aAEAA,EAAOC,QAAU,SAAgBC,GAE7B,OAAgC,KADhCA,EAAKA,GAAMC,OAAOC,UAAUC,WAClBS,QAAQ,QACtB,CAGO,EAED,4DAIA,SAAUd,EAAQO,EAA0BC,GAElDR,EAAOC,QAAUO,EAA6C,iEAGvD,EAED,8DAIA,SAAUR,EAAQO,EAA0BC,GAElDR,EAAOC,QAAUO,EAA+C,mEAGzD,EAED,2DAIA,SAAUR,EAAQO,EAA0BC,GAElDR,EAAOC,QAAUO,EAA4C,gEAGtD,EAED,wDAIA,SAAUR,EAAQO,EAA0BC,GAElDR,EAAOC,QAAUO,EAAyC,6DAGnD,EAED,wDAIA,SAAUR,EAAQO,EAA0BC,GAElDR,EAAOC,QAAUO,EAAyC,6DAGnD,EAED,oDAIA,SAAUW,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCG,aAAgB,WAAa,OAAqBA,CAAc,EAChEC,eAAkB,WAAa,OAA2BC,EAA+D,OAAG,EAC5HC,gBAAmB,WAAa,OAAqBA,CAAiB,IAExE,IAAIC,EAA8DnB,EAA2D,mEACzHoB,EAA2DpB,EAAwD,gEACnHqB,EAA+DrB,EAA4D,oEAC3HsB,EAA6DtB,EAA0D,kEACvHuB,EAAwDvB,EAAqD,6DAC7GwB,EAAkDxB,EAA+C,uDACjGyB,EAAqDzB,EAAkD,0DACvGiB,EAAwDjB,EAAqD,6DAC7G0B,EAAwD1B,EAAqD,6DAUlI2B,EAAkB,CACpBC,UAAW,SACXC,UAAW,GACXC,SAAU,YAGZ,SAASC,IACP,IAAK,IAAIC,EAAOC,UAAUC,OAAQC,EAAO,IAAIC,MAAMJ,GAAOK,EAAO,EAAGA,EAAOL,EAAMK,IAC/EF,EAAKE,GAAQJ,UAAUI,GAGzB,OAAQF,EAAKG,MAAK,SAAUC,GAC1B,QAASA,GAAoD,mBAAlCA,EAAQC,sBACrC,GACF,CAEA,SAAStB,EAAgBuB,QACE,IAArBA,IACFA,EAAmB,CAAC,GAGtB,IAAIC,EAAoBD,EACpBE,EAAwBD,EAAkBE,iBAC1CA,OAA6C,IAA1BD,EAAmC,GAAKA,EAC3DE,EAAyBH,EAAkBI,eAC3CA,OAA4C,IAA3BD,EAAoClB,EAAkBkB,EAC3E,OAAO,SAAsBE,EAAWC,EAAQC,QAC9B,IAAZA,IACFA,EAAUH,GAGZ,IAAII,EAAQ,CACVtB,UAAW,SACXuB,iBAAkB,GAClBF,QAASG,OAAOC,OAAO,CAAC,EAAG1B,EAAiBmB,GAC5CQ,cAAe,CAAC,EAChBC,SAAU,CACRR,UAAWA,EACXC,OAAQA,GAEVQ,WAAY,CAAC,EACbC,OAAQ,CAAC,GAEPC,EAAmB,GACnBC,GAAc,EACdC,EAAW,CACbV,MAAOA,EACPW,WAAY,SAAoBC,GAC9B,IAAIb,EAAsC,mBAArBa,EAAkCA,EAAiBZ,EAAMD,SAAWa,EACzFC,IACAb,EAAMD,QAAUG,OAAOC,OAAO,CAAC,EAAGP,EAAgBI,EAAMD,QAASA,GACjEC,EAAMc,cAAgB,CACpBjB,WAAW,EAAGrB,EAAsDuC,WAAWlB,IAAa,EAAG1B,EAAsE,SAAG0B,GAAaA,EAAUmB,gBAAiB,EAAG7C,EAAsE,SAAG0B,EAAUmB,gBAAkB,GACxTlB,QAAQ,EAAG3B,EAAsE,SAAG2B,IAItF,IAAIG,GAAmB,EAAG5B,EAA+D,UAAG,EAAGE,EAA4D,SAAG,GAAG0C,OAAOvB,EAAkBM,EAAMD,QAAQpB,aAMxM,OAJAqB,EAAMC,iBAAmBA,EAAiBiB,QAAO,SAAUC,GACzD,OAAOA,EAAEC,OACX,IA+FFpB,EAAMC,iBAAiBoB,SAAQ,SAAUC,GACvC,IAAIC,EAAOD,EAAKC,KACZC,EAAeF,EAAKvB,QACpBA,OAA2B,IAAjByB,EAA0B,CAAC,EAAIA,EACzCC,EAASH,EAAKG,OAElB,GAAsB,mBAAXA,EAAuB,CAChC,IAAIC,EAAYD,EAAO,CACrBzB,MAAOA,EACPuB,KAAMA,EACNb,SAAUA,EACVX,QAASA,IAGP4B,EAAS,WAAmB,EAEhCnB,EAAiBoB,KAAKF,GAAaC,EACrC,CACF,IA/GSjB,EAASmB,QAClB,EAMAC,YAAa,WACX,IAAIrB,EAAJ,CAIA,IAAIsB,EAAkB/B,EAAMK,SACxBR,EAAYkC,EAAgBlC,UAC5BC,EAASiC,EAAgBjC,OAG7B,GAAKjB,EAAiBgB,EAAWC,GAAjC,CAKAE,EAAMgC,MAAQ,CACZnC,WAAW,EAAG5B,EAAqE,SAAG4B,GAAW,EAAGzB,EAAoE,SAAG0B,GAAoC,UAA3BE,EAAMD,QAAQnB,UAClMkB,QAAQ,EAAG5B,EAAkE,SAAG4B,IAOlFE,EAAMiC,OAAQ,EACdjC,EAAMtB,UAAYsB,EAAMD,QAAQrB,UAKhCsB,EAAMC,iBAAiBoB,SAAQ,SAAUa,GACvC,OAAOlC,EAAMI,cAAc8B,EAASX,MAAQrB,OAAOC,OAAO,CAAC,EAAG+B,EAASC,KACzE,IAEA,IAAK,IAAIC,EAAQ,EAAGA,EAAQpC,EAAMC,iBAAiBjB,OAAQoD,IACzD,IAAoB,IAAhBpC,EAAMiC,MAAV,CAMA,IAAII,EAAwBrC,EAAMC,iBAAiBmC,GAC/CE,EAAKD,EAAsBC,GAC3BC,EAAyBF,EAAsBtC,QAC/CyC,OAAsC,IAA3BD,EAAoC,CAAC,EAAIA,EACpDhB,EAAOc,EAAsBd,KAEf,mBAAPe,IACTtC,EAAQsC,EAAG,CACTtC,MAAOA,EACPD,QAASyC,EACTjB,KAAMA,EACNb,SAAUA,KACNV,EAdR,MAHEA,EAAMiC,OAAQ,EACdG,GAAS,CAzBb,CATA,CAqDF,EAGAP,QAAQ,EAAGvD,EAAyD,UAAG,WACrE,OAAO,IAAImE,SAAQ,SAAUC,GAC3BhC,EAASoB,cACTY,EAAQ1C,EACV,GACF,IACA2C,QAAS,WACP9B,IACAJ,GAAc,CAChB,GAGF,IAAK5B,EAAiBgB,EAAWC,GAC/B,OAAOY,EAmCT,SAASG,IACPL,EAAiBa,SAAQ,SAAUiB,GACjC,OAAOA,GACT,IACA9B,EAAmB,EACrB,CAEA,OAvCAE,EAASC,WAAWZ,GAAS6C,MAAK,SAAU5C,IACrCS,GAAeV,EAAQ8C,eAC1B9C,EAAQ8C,cAAc7C,EAE1B,IAmCOU,CACT,CACF,CACA,IAAI7C,EAA4BG,GAIzB,EAED,0DAIA,SAAUP,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBC,CAAU,IAEzD,IAAIC,EAA8ClG,EAA2C,6DAElH,SAASiG,EAASE,EAAQC,GACxB,IAAIC,EAAWD,EAAME,aAAeF,EAAME,cAE1C,GAAIH,EAAOF,SAASG,GAClB,OAAO,EAEJ,GAAIC,IAAY,EAAGH,EAA4CK,cAAcF,GAAW,CACzF,IAAIG,EAAOJ,EAEX,EAAG,CACD,GAAII,GAAQL,EAAOM,WAAWD,GAC5B,OAAO,EAITA,EAAOA,EAAKE,YAAcF,EAAKG,IACjC,OAASH,EACX,CAGF,OAAO,CACT,CAEO,EAED,uEAIA,SAAU7F,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBxD,CAAuB,IAEtE,IAAI0D,EAA8ClG,EAA2C,6DACzF4G,EAA8C5G,EAA4C,mDAC1F6G,EAA6C7G,EAA0C,4DACvF8G,EAAoD9G,EAAiD,mEAK9H,SAASwC,EAAsBD,EAASwE,EAAcC,QAC/B,IAAjBD,IACFA,GAAe,QAGO,IAApBC,IACFA,GAAkB,GAGpB,IAAIC,EAAa1E,EAAQC,wBACrB0E,EAAS,EACTC,EAAS,EAETJ,IAAgB,EAAGb,EAA4CkB,eAAe7E,KAChF2E,EAAS3E,EAAQ8E,YAAc,IAAI,EAAGT,EAA4CU,OAAOL,EAAWM,OAAShF,EAAQ8E,aAAmB,EACxIF,EAAS5E,EAAQiF,aAAe,IAAI,EAAGZ,EAA4CU,OAAOL,EAAWQ,QAAUlF,EAAQiF,cAAoB,GAG7I,IACIE,IADO,EAAGxB,EAA4CjC,WAAW1B,IAAW,EAAGsE,EAAoD,SAAGtE,GAAW5C,QAC3H+H,eAEtBC,IAAoB,EAAGb,EAA2D,YAAQE,EAC1FY,GAAKX,EAAWY,MAAQF,GAAoBD,EAAiBA,EAAeI,WAAa,IAAMZ,EAC/Fa,GAAKd,EAAWe,KAAOL,GAAoBD,EAAiBA,EAAeO,UAAY,IAAMd,EAC7FI,EAAQN,EAAWM,MAAQL,EAC3BO,EAASR,EAAWQ,OAASN,EACjC,MAAO,CACLI,MAAOA,EACPE,OAAQA,EACRO,IAAKD,EACLG,MAAON,EAAIL,EACXY,OAAQJ,EAAIN,EACZI,KAAMD,EACNA,EAAGA,EACHG,EAAGA,EAEP,CAEO,EAED,iEAIA,SAAUpH,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBoC,CAAiB,IAEhE,IAAIC,EAAyCrI,EAAuC,8CAChFsI,EAAmDtI,EAAgD,kEACnGuI,EAAmDvI,EAAgD,kEACnGwI,EAAqDxI,EAAkD,oEACvGyI,EAAoDzI,EAAgD,kEACpG0I,EAAsD1I,EAAmD,qEACzG2I,EAAoD3I,EAAiD,mEACrG4I,EAA8C5I,EAA2C,6DACzF6I,EAAyD7I,EAAsD,wEAC/G8I,EAAiD9I,EAA8C,gEAC/F+I,EAA6C/I,EAAyC,2DACtFgJ,EAAgDhJ,EAA4C,8DAC5FiJ,EAA0DjJ,EAAwD,+DAClHkJ,EAA+ClJ,EAA4C,mDA6BpH,SAASmJ,EAA2B5G,EAAS6G,EAAgBtH,GAC3D,OAAOsH,IAAmBf,EAAuCgB,UAAW,EAAGJ,EAAiE,UAAG,EAAGX,EAA0D,SAAG/F,EAAST,KAAa,EAAG8G,EAA4C3E,WAAWmF,GAdrS,SAAoC7G,EAAST,GAC3C,IAAIwH,GAAO,EAAGT,EAAgE,SAAGtG,GAAS,EAAoB,UAAbT,GASjG,OARAwH,EAAKtB,IAAMsB,EAAKtB,IAAMzF,EAAQgH,UAC9BD,EAAKzB,KAAOyB,EAAKzB,KAAOtF,EAAQiH,WAChCF,EAAKnB,OAASmB,EAAKtB,IAAMzF,EAAQkH,aACjCH,EAAKpB,MAAQoB,EAAKzB,KAAOtF,EAAQmH,YACjCJ,EAAK/B,MAAQhF,EAAQmH,YACrBJ,EAAK7B,OAASlF,EAAQkH,aACtBH,EAAK1B,EAAI0B,EAAKzB,KACdyB,EAAKvB,EAAIuB,EAAKtB,IACPsB,CACT,CAGuTK,CAA2BP,EAAgBtH,IAAY,EAAGmH,EAAiE,UAAG,EAAGV,EAA0D,UAAG,EAAGG,EAA6D,SAAGnG,IACxjB,CAsBA,SAAS6F,EAAgB7F,EAASqH,EAAUC,EAAc/H,GACxD,IAAIgI,EAAmC,oBAAbF,EAlB5B,SAA4BrH,GAC1B,IAAIwH,GAAkB,EAAGvB,EAA4D,UAAG,EAAGM,EAAwD,SAAGvG,IAElJyH,EADoB,CAAC,WAAY,SAAS1J,SAAQ,EAAGqI,EAA2D,SAAGpG,GAAS0H,WAAa,IACnG,EAAGrB,EAA4CxB,eAAe7E,IAAW,EAAGkG,EAA2D,SAAGlG,GAAWA,EAE/L,OAAK,EAAGqG,EAA4C3E,WAAW+F,GAKxDD,EAAgB3F,QAAO,SAAUgF,GACtC,OAAO,EAAGR,EAA4C3E,WAAWmF,KAAmB,EAAGL,EAAoD,SAAGK,EAAgBY,IAAoG,UAAjF,EAAGhB,EAAuD,SAAGI,EAChP,IANS,EAOX,CAK6Dc,CAAmB3H,GAAW,GAAG4B,OAAOyF,GAC/FG,EAAkB,GAAG5F,OAAO2F,EAAqB,CAACD,IAClDM,EAAsBJ,EAAgB,GACtCK,EAAeL,EAAgBM,QAAO,SAAUC,EAASlB,GAC3D,IAAIE,EAAOH,EAA2B5G,EAAS6G,EAAgBtH,GAK/D,OAJAwI,EAAQtC,KAAM,EAAGkB,EAA6CqB,KAAKjB,EAAKtB,IAAKsC,EAAQtC,KACrFsC,EAAQpC,OAAQ,EAAGgB,EAA6CsB,KAAKlB,EAAKpB,MAAOoC,EAAQpC,OACzFoC,EAAQnC,QAAS,EAAGe,EAA6CsB,KAAKlB,EAAKnB,OAAQmC,EAAQnC,QAC3FmC,EAAQzC,MAAO,EAAGqB,EAA6CqB,KAAKjB,EAAKzB,KAAMyC,EAAQzC,MAChFyC,CACT,GAAGnB,EAA2B5G,EAAS4H,EAAqBrI,IAK5D,OAJAsI,EAAa7C,MAAQ6C,EAAalC,MAAQkC,EAAavC,KACvDuC,EAAa3C,OAAS2C,EAAajC,OAASiC,EAAapC,IACzDoC,EAAaxC,EAAIwC,EAAavC,KAC9BuC,EAAarC,EAAIqC,EAAapC,IACvBoC,CACT,CAEO,EAED,kEAIA,SAAUzJ,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqByE,CAAkB,IAEjE,IAAIC,EAAyD1K,EAAsD,wEAC/G2K,EAAiD3K,EAA8C,gEAC/F4K,EAA+C5K,EAA4C,8DAC3F6K,EAA8C7K,EAA2C,6DACzF8K,EAAuD9K,EAAoD,sEAC3G+K,EAAsD/K,EAAmD,qEACzGgL,EAAkDhL,EAA+C,iEACjGiL,EAA8CjL,EAA4C,mDAmBnH,SAASyK,EAAiBS,EAAyBC,EAAcC,QAC/C,IAAZA,IACFA,GAAU,GAGZ,IAAIC,GAA0B,EAAGR,EAA4CzD,eAAe+D,GACxFG,GAAuB,EAAGT,EAA4CzD,eAAe+D,IAf3F,SAAyB5I,GACvB,IAAI+G,EAAO/G,EAAQC,wBACf0E,GAAS,EAAG+D,EAA4C3D,OAAOgC,EAAK/B,OAAShF,EAAQ8E,aAAe,EACpGF,GAAS,EAAG8D,EAA4C3D,OAAOgC,EAAK7B,QAAUlF,EAAQiF,cAAgB,EAC1G,OAAkB,IAAXN,GAA2B,IAAXC,CACzB,CAU4GoE,CAAgBJ,GACtHK,GAAkB,EAAGT,EAA6D,SAAGI,GACrF7B,GAAO,EAAGoB,EAAgE,SAAGQ,EAAyBI,EAAsBF,GAC5HK,EAAS,CACXC,WAAY,EACZC,UAAW,GAETC,EAAU,CACZhE,EAAG,EACHG,EAAG,GAkBL,OAfIsD,IAA4BA,IAA4BD,MACwB,UAA9E,EAAGR,EAAsD,SAAGO,KAChE,EAAGH,EAAyD,SAAGQ,MAC7DC,GAAS,EAAGd,EAAwD,SAAGQ,KAGrE,EAAGN,EAA4CzD,eAAe+D,KAChES,GAAU,EAAGlB,EAAgE,SAAGS,GAAc,IACtFvD,GAAKuD,EAAa3B,WAC1BoC,EAAQ7D,GAAKoD,EAAa5B,WACjBiC,IACTI,EAAQhE,GAAI,EAAGkD,EAA8D,SAAGU,KAI7E,CACL5D,EAAG0B,EAAKzB,KAAO4D,EAAOC,WAAaE,EAAQhE,EAC3CG,EAAGuB,EAAKtB,IAAMyD,EAAOE,UAAYC,EAAQ7D,EACzCR,MAAO+B,EAAK/B,MACZE,OAAQ6B,EAAK7B,OAEjB,CAEO,EAED,kEAIA,SAAU9G,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB6F,CAAkB,IAEjE,IAAIC,EAA6C9L,EAA0C,4DAEhH,SAAS6L,EAAiBtJ,GACxB,OAAO,EAAGuJ,EAAoD,SAAGvJ,GAASsJ,iBAAiBtJ,EAC7F,CAEO,EAED,oEAIA,SAAU5B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB+F,CAAoB,IAEnE,IAAI7F,EAA8ClG,EAA2C,6DAElH,SAAS+L,EAAmBxJ,GAE1B,SAAS,EAAG2D,EAA4CjC,WAAW1B,GAAWA,EAAQyJ,cACtFzJ,EAAQ9B,WAAad,OAAOc,UAAU+K,eACxC,CAEO,EAED,iEAIA,SAAU7K,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBiG,CAAiB,IAEhE,IAAIC,EAAsDlM,EAAmD,qEACzGmM,EAAoDnM,EAAiD,mEACrGoM,EAAuDpM,EAAoD,sEAC3GqM,EAAmDrM,EAAgD,kEACnGsM,EAA8CtM,EAA4C,mDAQnH,SAASiM,EAAgB1J,GACvB,IAAIgK,EAEAC,GAAO,EAAGN,EAA6D,SAAG3J,GAC1EkK,GAAY,EAAGJ,EAA0D,SAAG9J,GAC5EmK,EAA0D,OAAlDH,EAAwBhK,EAAQyJ,oBAAyB,EAASO,EAAsBG,KAChGnF,GAAQ,EAAG+E,EAA4C/B,KAAKiC,EAAKG,YAAaH,EAAK9C,YAAagD,EAAOA,EAAKC,YAAc,EAAGD,EAAOA,EAAKhD,YAAc,GACvJjC,GAAS,EAAG6E,EAA4C/B,KAAKiC,EAAKI,aAAcJ,EAAK/C,aAAciD,EAAOA,EAAKE,aAAe,EAAGF,EAAOA,EAAKjD,aAAe,GAC5J7B,GAAK6E,EAAUf,YAAa,EAAGU,EAA8D,SAAG7J,GAChGwF,GAAK0E,EAAUd,UAMnB,MAJiG,SAA7F,EAAGQ,EAA2D,SAAGO,GAAQF,GAAMK,YACjFjF,IAAK,EAAG0E,EAA4C/B,KAAKiC,EAAK9C,YAAagD,EAAOA,EAAKhD,YAAc,GAAKnC,GAGrG,CACLA,MAAOA,EACPE,OAAQA,EACRG,EAAGA,EACHG,EAAGA,EAEP,CAEO,EAED,sEAIA,SAAUpH,EAAyBC,EAAqBZ,GAE9D,aAKA,SAAS8M,EAAqBvK,GAC5B,MAAO,CACLmJ,WAAYnJ,EAAQmJ,WACpBC,UAAWpJ,EAAQoJ,UAEvB,CATA3L,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB8G,CAAsB,GASnF,EAED,+DAIA,SAAUnM,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB+G,CAAe,IAE9D,IAAIlE,EAAyD7I,EAAsD,wEAIxI,SAAS+M,EAAcxK,GACrB,IAAI0E,GAAa,EAAG4B,EAAgE,SAAGtG,GAGnFgF,EAAQhF,EAAQ8E,YAChBI,EAASlF,EAAQiF,aAUrB,OARIwF,KAAKC,IAAIhG,EAAWM,MAAQA,IAAU,IACxCA,EAAQN,EAAWM,OAGjByF,KAAKC,IAAIhG,EAAWQ,OAASA,IAAW,IAC1CA,EAASR,EAAWQ,QAGf,CACLG,EAAGrF,EAAQuF,WACXC,EAAGxF,EAAQ0F,UACXV,MAAOA,EACPE,OAAQA,EAEZ,CAEO,EAED,6DAIA,SAAU9G,EAAyBC,EAAqBZ,GAE9D,aAKA,SAASkN,EAAY3K,GACnB,OAAOA,GAAWA,EAAQ4K,UAAY,IAAIC,cAAgB,IAC5D,CANApN,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBkH,CAAa,GAM1E,EAED,+DAIA,SAAUvM,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBqH,CAAe,IAE9D,IAAIC,EAAmDtN,EAAgD,kEACnG8L,EAA6C9L,EAA0C,4DACvF6K,EAA8C7K,EAA2C,6DACzFuN,EAAwDvN,EAAqD,uEAKtI,SAASqN,EAAcG,GACrB,OAAIA,KAAS,EAAG1B,EAAoD,SAAG0B,KAAU,EAAG3C,EAA4CzD,eAAeoG,IAGtI,EAAGD,EAA+D,SAAGC,IAFrE,EAAGF,EAA0D,SAAGE,EAI3E,CAEO,EAED,iEAIA,SAAU7M,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqByH,CAAiB,IAEhE,IAAIC,EAA6C1N,EAA0C,4DACvF4K,EAA+C5K,EAA4C,8DAC3F2N,EAAoD3N,EAAiD,mEACrGkG,EAA8ClG,EAA2C,6DACzF4N,EAAkD5N,EAA+C,iEACjG6N,EAAiD7N,EAA8C,gEAC/F8N,EAAmD9N,EAAiD,wDAS7H,SAAS+N,EAAoBxL,GAC3B,OAAK,EAAG2D,EAA4CkB,eAAe7E,IACoB,WAAvF,EAAGoL,EAA2D,SAAGpL,GAAS0H,SAInE1H,EAAQ4I,aAHN,IAIX,CAwCA,SAASsC,EAAgBlL,GAIvB,IAHA,IAAI5C,GAAS,EAAG+N,EAAoD,SAAGnL,GACnE4I,EAAe4C,EAAoBxL,GAEhC4I,IAAgB,EAAGyC,EAAyD,SAAGzC,IAA6G,YAA5F,EAAGwC,EAA2D,SAAGxC,GAAclB,UACpLkB,EAAe4C,EAAoB5C,GAGrC,OAAIA,IAA+F,UAA9E,EAAGP,EAAsD,SAAGO,IAA0G,UAA9E,EAAGP,EAAsD,SAAGO,IAAwH,YAA5F,EAAGwC,EAA2D,SAAGxC,GAAclB,UAC3QtK,EAGFwL,GAhDT,SAA4B5I,GAC1B,IAAIyL,EAAY,WAAWlO,MAAK,EAAGgO,EAA0D,YAG7F,GAFW,WAAWhO,MAAK,EAAGgO,EAA0D,cAE5E,EAAG5H,EAA4CkB,eAAe7E,IAI5C,WAFX,EAAGoL,EAA2D,SAAGpL,GAEnE0H,SACb,OAAO,KAIX,IAAIgE,GAAc,EAAGJ,EAAwD,SAAGtL,GAMhF,KAJI,EAAG2D,EAA4CK,cAAc0H,KAC/DA,EAAcA,EAAYtH,OAGrB,EAAGT,EAA4CkB,eAAe6G,IAAgB,CAAC,OAAQ,QAAQ3N,SAAQ,EAAGsK,EAAsD,SAAGqD,IAAgB,GAAG,CAC3L,IAAIC,GAAM,EAAGP,EAA2D,SAAGM,GAI3E,GAAsB,SAAlBC,EAAIC,WAA4C,SAApBD,EAAIE,aAA0C,UAAhBF,EAAIG,UAAiF,IAA1D,CAAC,YAAa,eAAe/N,QAAQ4N,EAAII,aAAsBN,GAAgC,WAAnBE,EAAII,YAA2BN,GAAaE,EAAI9J,QAAyB,SAAf8J,EAAI9J,OACjO,OAAO6J,EAEPA,EAAcA,EAAYvH,UAE9B,CAEA,OAAO,IACT,CAgByB6H,CAAmBhM,IAAY5C,CACxD,CAEO,EAED,+DAIA,SAAUgB,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBwI,CAAe,IAE9D,IAAIC,EAA+CzO,EAA4C,8DAC3F+K,EAAsD/K,EAAmD,qEACzG6K,EAA8C7K,EAA2C,6DAIlH,SAASwO,EAAcjM,GACrB,MAA6E,UAAzE,EAAGkM,EAAsD,SAAGlM,GACvDA,EAMPA,EAAQmM,cACRnM,EAAQmE,cACR,EAAGmE,EAA4CtE,cAAchE,GAAWA,EAAQoE,KAAO,QAEvF,EAAGoE,EAA6D,SAAGxI,EAGvE,CAEO,EAED,iEAIA,SAAU5B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB2I,CAAiB,IAEhE,IAAId,EAAiD7N,EAA8C,gEAC/F4O,EAAkD5O,EAA+C,iEACjGyO,EAA+CzO,EAA4C,8DAC3F6K,EAA8C7K,EAA2C,6DAKlH,SAAS2O,EAAgBnB,GACvB,MAAI,CAAC,OAAQ,OAAQ,aAAalN,SAAQ,EAAGmO,EAAsD,SAAGjB,KAAU,EAEvGA,EAAKxB,cAAcU,MAGxB,EAAG7B,EAA4CzD,eAAeoG,KAAS,EAAGoB,EAAyD,SAAGpB,GACjIA,EAGFmB,GAAgB,EAAGd,EAAwD,SAAGL,GACvF,CAEO,EAED,iEAIA,SAAU7M,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB6I,CAAiB,IAEhE,IAAI/C,EAA6C9L,EAA0C,4DACvF8O,EAAsD9O,EAAmD,qEACzGoM,EAAuDpM,EAAoD,sEAC3G+O,EAAoD/O,EAAiD,mEAK9H,SAAS6O,EAAgBtM,EAAST,GAChC,IAAIkN,GAAM,EAAGlD,EAAoD,SAAGvJ,GAChEiK,GAAO,EAAGsC,EAA6D,SAAGvM,GAC1EmF,EAAiBsH,EAAItH,eACrBH,EAAQiF,EAAK9C,YACbjC,EAAS+E,EAAK/C,aACd7B,EAAI,EACJG,EAAI,EAER,GAAIL,EAAgB,CAClBH,EAAQG,EAAeH,MACvBE,EAASC,EAAeD,OACxB,IAAIwH,GAAiB,EAAGF,EAA2D,YAE/EE,IAAmBA,GAA+B,UAAbnN,KACvC8F,EAAIF,EAAeI,WACnBC,EAAIL,EAAeO,UAEvB,CAEA,MAAO,CACLV,MAAOA,EACPE,OAAQA,EACRG,EAAGA,GAAI,EAAGwE,EAA8D,SAAG7J,GAC3EwF,EAAGA,EAEP,CAEO,EAED,2DAIA,SAAUpH,EAAyBC,EAAqBZ,GAE9D,aAKA,SAASkP,EAAU1B,GACjB,GAAY,MAARA,EACF,OAAO7N,OAGT,GAAwB,oBAApB6N,EAAK2B,WAAkC,CACzC,IAAInD,EAAgBwB,EAAKxB,cACzB,OAAOA,GAAgBA,EAAcoD,aAAwBzP,MAC/D,CAEA,OAAO6N,CACT,CAfAxN,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBkJ,CAAW,GAexE,EAED,iEAIA,SAAUvO,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBqJ,CAAiB,IAEhE,IAAIvD,EAA6C9L,EAA0C,4DAEhH,SAASqP,EAAgB7B,GACvB,IAAIwB,GAAM,EAAGlD,EAAoD,SAAG0B,GAGpE,MAAO,CACL9B,WAHesD,EAAIM,YAInB3D,UAHcqD,EAAIO,YAKtB,CAEO,EAED,qEAIA,SAAU5O,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBwJ,CAAqB,IAEpE,IAAI3G,EAAyD7I,EAAsD,wEAC/G8O,EAAsD9O,EAAmD,qEACzGsN,EAAmDtN,EAAgD,kEAI5H,SAASwP,EAAoBjN,GAQ3B,OAAO,EAAGsG,EAAgE,UAAG,EAAGiG,EAA6D,SAAGvM,IAAUsF,MAAO,EAAGyF,EAA0D,SAAG/K,GAASmJ,UAC5O,CAEO,EAED,4DAIA,SAAU/K,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCqD,UAAa,WAAa,OAAqBA,CAAW,EAC1DmD,cAAiB,WAAa,OAAqBA,CAAe,EAClEb,aAAgB,WAAa,OAAqBA,CAAc,IAElE,IAAIuF,EAA6C9L,EAA0C,4DAGhH,SAASiE,EAAUuJ,GAEjB,OAAOA,aADU,EAAG1B,EAAoD,SAAG0B,GAAMiC,SAC5CjC,aAAgBiC,OACvD,CAEA,SAASrI,EAAcoG,GAErB,OAAOA,aADU,EAAG1B,EAAoD,SAAG0B,GAAMkC,aAC5ClC,aAAgBkC,WACvD,CAEA,SAASnJ,EAAaiH,GAEpB,MAA0B,oBAAfmC,aAKJnC,aADU,EAAG1B,EAAoD,SAAG0B,GAAMmC,YAC5CnC,aAAgBmC,WACvD,CAIO,EAED,kEAIA,SAAUhP,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB4J,CAAkB,IAEjE,IAAIC,EAAmD7P,EAAiD,wDAE7H,SAAS4P,IACP,OAAQ,iCAAiC9P,MAAK,EAAG+P,EAA0D,WAC7G,CAEO,EAED,gEAIA,SAAUlP,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB8J,CAAgB,IAE/D,IAAIC,EAAoD/P,EAAiD,mEAE9H,SAAS8P,EAAevN,GAEtB,IAAIyN,GAAoB,EAAGD,EAA2D,SAAGxN,GACrF0N,EAAWD,EAAkBC,SAC7BC,EAAYF,EAAkBE,UAC9BC,EAAYH,EAAkBG,UAElC,MAAO,6BAA6BrQ,KAAKmQ,EAAWE,EAAYD,EAClE,CAEO,EAED,gEAIA,SAAUvP,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBoK,CAAgB,IAE/D,IAAI3B,EAA+CzO,EAA4C,8DAEpH,SAASoQ,EAAe7N,GACtB,MAAO,CAAC,QAAS,KAAM,MAAMjC,SAAQ,EAAGmO,EAAsD,SAAGlM,KAAa,CAChH,CAEO,EAED,mEAIA,SAAU5B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBqK,CAAmB,IAElE,IAAIC,EAAmDtQ,EAAgD,kEACnG6N,EAAiD7N,EAA8C,gEAC/FuQ,EAA6CvQ,EAA0C,4DACvF4O,EAAkD5O,EAA+C,iEAY1H,SAASqQ,EAAkB9N,EAASiO,GAClC,IAAIjE,OAES,IAATiE,IACFA,EAAO,IAGT,IAAIC,GAAe,EAAGH,EAA0D,SAAG/N,GAC/EmO,EAASD,KAAqE,OAAlDlE,EAAwBhK,EAAQyJ,oBAAyB,EAASO,EAAsBG,MACpHsC,GAAM,EAAGuB,EAAoD,SAAGE,GAChEE,EAASD,EAAS,CAAC1B,GAAK7K,OAAO6K,EAAItH,gBAAkB,IAAI,EAAGkH,EAAyD,SAAG6B,GAAgBA,EAAe,IAAMA,EAC7JG,EAAcJ,EAAKrM,OAAOwM,GAC9B,OAAOD,EAASE,EAChBA,EAAYzM,OAAOkM,GAAkB,EAAGxC,EAAwD,SAAG8C,IACrG,CAEO,EAED,6CAIA,SAAUhQ,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCiQ,UAAa,WAAa,OAAqBA,CAAW,EAC1DC,UAAa,WAAa,OAAqBA,CAAW,EAC1DC,WAAc,WAAa,OAAqBA,CAAY,EAC5DC,KAAQ,WAAa,OAAqBA,CAAM,EAChDC,eAAkB,WAAa,OAAqBA,CAAgB,EACpEC,WAAc,WAAa,OAAqBA,CAAY,EAC5DC,WAAc,WAAa,OAAqBA,CAAY,EAC5DC,YAAe,WAAa,OAAqBA,CAAa,EAC9DjJ,OAAU,WAAa,OAAqBA,CAAQ,EACpD4B,gBAAmB,WAAa,OAAqBA,CAAiB,EACtEsH,IAAO,WAAa,OAAqBA,CAAK,EAC9CxJ,KAAQ,WAAa,OAAqBA,CAAM,EAChDyJ,KAAQ,WAAa,OAAqBA,CAAM,EAChDC,eAAkB,WAAa,OAAqBA,CAAgB,EACpEC,WAAc,WAAa,OAAqBA,CAAY,EAC5DxO,OAAU,WAAa,OAAqBA,CAAQ,EACpDyO,KAAQ,WAAa,OAAqBA,CAAM,EAChD1O,UAAa,WAAa,OAAqBA,CAAW,EAC1DmF,MAAS,WAAa,OAAqBA,CAAO,EAClDwJ,MAAS,WAAa,OAAqBA,CAAO,EAClD1J,IAAO,WAAa,OAAqBA,CAAK,EAC9C2J,oBAAuB,WAAa,OAAqBA,CAAqB,EAC9EtI,SAAY,WAAa,OAAqBA,CAAU,EACxDuI,MAAS,WAAa,OAAqBA,CAAO,IAEzE,IAAI5J,EAAM,MACNG,EAAS,SACTD,EAAQ,QACRL,EAAO,OACPmJ,EAAO,OACPC,EAAiB,CAACjJ,EAAKG,EAAQD,EAAOL,GACtC6J,EAAQ,QACRL,EAAM,MACNtH,EAAkB,kBAClBV,EAAW,WACXrG,EAAS,SACTD,EAAY,YACZ4O,EAAmCV,EAAe5G,QAAO,SAAUwH,EAAKjQ,GAC1E,OAAOiQ,EAAI1N,OAAO,CAACvC,EAAY,IAAM8P,EAAO9P,EAAY,IAAMyP,GAChE,GAAG,IACCG,EAA0B,GAAGrN,OAAO8M,EAAgB,CAACD,IAAO3G,QAAO,SAAUwH,EAAKjQ,GACpF,OAAOiQ,EAAI1N,OAAO,CAACvC,EAAWA,EAAY,IAAM8P,EAAO9P,EAAY,IAAMyP,GAC3E,GAAG,IAECF,EAAa,aACbM,EAAO,OACPX,EAAY,YAEZI,EAAa,aACbI,EAAO,OACPT,EAAY,YAEZO,EAAc,cACdQ,EAAQ,QACRb,EAAa,aACbQ,EAAiB,CAACJ,EAAYM,EAAMX,EAAWI,EAAYI,EAAMT,EAAWO,EAAaQ,EAAOb,EAE7F,EAED,6DAIA,SAAUpQ,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACD,IAAIkR,EAAyD9R,EAAuD,8DAChH0B,EAAwD1B,EAAsD,6DA6E1GY,EAA6B,QAAI,CAC5D6D,KAAM,cACNH,SAAS,EACTyN,MAAO,QACPvM,GA5EF,SAAqBhB,GACnB,IAAItB,EAAQsB,EAAKtB,MACjBE,OAAO4O,KAAK9O,EAAMK,UAAUgB,SAAQ,SAAUE,GAC5C,IAAIwN,EAAQ/O,EAAMO,OAAOgB,IAAS,CAAC,EAC/BjB,EAAaN,EAAMM,WAAWiB,IAAS,CAAC,EACxClC,EAAUW,EAAMK,SAASkB,IAExB,EAAG/C,EAAsD0F,eAAe7E,KAAa,EAAGuP,EAAgE,SAAGvP,KAOhKa,OAAOC,OAAOd,EAAQ0P,MAAOA,GAC7B7O,OAAO4O,KAAKxO,GAAYe,SAAQ,SAAUE,GACxC,IAAIyN,EAAQ1O,EAAWiB,IAET,IAAVyN,EACF3P,EAAQ4P,gBAAgB1N,GAExBlC,EAAQ6P,aAAa3N,GAAgB,IAAVyN,EAAiB,GAAKA,EAErD,IACF,GACF,EAoDEvN,OAlDF,SAAgB0N,GACd,IAAInP,EAAQmP,EAAMnP,MACdoP,EAAgB,CAClBtP,OAAQ,CACNiH,SAAU/G,EAAMD,QAAQnB,SACxB+F,KAAM,IACNG,IAAK,IACLuK,OAAQ,KAEVC,MAAO,CACLvI,SAAU,YAEZlH,UAAW,CAAC,GASd,OAPAK,OAAOC,OAAOH,EAAMK,SAASP,OAAOiP,MAAOK,EAActP,QACzDE,EAAMO,OAAS6O,EAEXpP,EAAMK,SAASiP,OACjBpP,OAAOC,OAAOH,EAAMK,SAASiP,MAAMP,MAAOK,EAAcE,OAGnD,WACLpP,OAAO4O,KAAK9O,EAAMK,UAAUgB,SAAQ,SAAUE,GAC5C,IAAIlC,EAAUW,EAAMK,SAASkB,GACzBjB,EAAaN,EAAMM,WAAWiB,IAAS,CAAC,EAGxCwN,EAFkB7O,OAAO4O,KAAK9O,EAAMO,OAAOgP,eAAehO,GAAQvB,EAAMO,OAAOgB,GAAQ6N,EAAc7N,IAE7E4F,QAAO,SAAU4H,EAAOS,GAElD,OADAT,EAAMS,GAAY,GACXT,CACT,GAAG,CAAC,IAEC,EAAGvQ,EAAsD0F,eAAe7E,KAAa,EAAGuP,EAAgE,SAAGvP,KAIhKa,OAAOC,OAAOd,EAAQ0P,MAAOA,GAC7B7O,OAAO4O,KAAKxO,GAAYe,SAAQ,SAAUoO,GACxCpQ,EAAQ4P,gBAAgBQ,EAC1B,IACF,GACF,CACF,EASEC,SAAU,CAAC,iBAGN,EAED,uDAIA,SAAUjS,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACD,IAAIiS,EAA0D7S,EAAwD,+DAClH8S,EAA2D9S,EAAyD,gEACpH+S,EAAsD/S,EAAoD,2DAC1GgT,EAA6DhT,EAA2D,kEACxHiT,EAAkEjT,EAAgE,uEAClIkT,EAAgDlT,EAA8C,qDAC9FmT,EAA4DnT,EAA0D,iEACtHoT,EAAyDpT,EAAuD,8DAChHqT,EAAyCrT,EAAuC,8CAkF5EY,EAA6B,QAAI,CAC5D6D,KAAM,QACNH,SAAS,EACTyN,MAAO,OACPvM,GApEF,SAAehB,GACb,IAAI8O,EAEApQ,EAAQsB,EAAKtB,MACbuB,EAAOD,EAAKC,KACZxB,EAAUuB,EAAKvB,QACfsQ,EAAerQ,EAAMK,SAASiP,MAC9BgB,EAAgBtQ,EAAMI,cAAckQ,cACpCC,GAAgB,EAAGZ,EAAiE,SAAG3P,EAAMtB,WAC7F8R,GAAO,EAAGT,EAAyE,SAAGQ,GAEtFE,EADa,CAACN,EAAuCxL,KAAMwL,EAAuCnL,OAAO5H,QAAQmT,IAAkB,EAChH,SAAW,QAElC,GAAKF,GAAiBC,EAAtB,CAIA,IAAII,EAxBgB,SAAyBC,EAAS3Q,GAItD,OAHA2Q,EAA6B,mBAAZA,EAAyBA,EAAQzQ,OAAOC,OAAO,CAAC,EAAGH,EAAMgC,MAAO,CAC/EtD,UAAWsB,EAAMtB,aACbiS,GACC,EAAGV,EAAmE,SAAsB,iBAAZU,EAAuBA,GAAU,EAAGT,EAAgE,SAAGS,EAASR,EAAuCpC,gBAChP,CAmBsB6C,CAAgB7Q,EAAQ4Q,QAAS3Q,GACjD6Q,GAAY,EAAGjB,EAAkE,SAAGS,GACpFS,EAAmB,MAATN,EAAeL,EAAuCrL,IAAMqL,EAAuCxL,KAC7GoM,EAAmB,MAATP,EAAeL,EAAuClL,OAASkL,EAAuCnL,MAChHgM,EAAUhR,EAAMgC,MAAMnC,UAAU4Q,GAAOzQ,EAAMgC,MAAMnC,UAAU2Q,GAAQF,EAAcE,GAAQxQ,EAAMgC,MAAMlC,OAAO2Q,GAC9GQ,EAAYX,EAAcE,GAAQxQ,EAAMgC,MAAMnC,UAAU2Q,GACxDU,GAAoB,EAAGpB,EAAoE,SAAGO,GAC9Fc,EAAaD,EAA6B,MAATV,EAAeU,EAAkB3K,cAAgB,EAAI2K,EAAkB1K,aAAe,EAAI,EAC3H4K,EAAoBJ,EAAU,EAAIC,EAAY,EAG9C3J,EAAMoJ,EAAcI,GACpBzJ,EAAM8J,EAAaN,EAAUJ,GAAOC,EAAcK,GAClDM,EAASF,EAAa,EAAIN,EAAUJ,GAAO,EAAIW,EAC/CE,GAAS,EAAGtB,EAA8CuB,QAAQjK,EAAK+J,EAAQhK,GAE/EmK,EAAWhB,EACfxQ,EAAMI,cAAcmB,KAAS6O,EAAwB,CAAC,GAAyBoB,GAAYF,EAAQlB,EAAsBqB,aAAeH,EAASD,EAAQjB,EAnBzJ,CAoBF,EAkCE3O,OAhCF,SAAgB0N,GACd,IAAInP,EAAQmP,EAAMnP,MAEd0R,EADUvC,EAAMpP,QACWV,QAC3BgR,OAAoC,IAArBqB,EAA8B,sBAAwBA,EAErD,MAAhBrB,IAKwB,iBAAjBA,IACTA,EAAerQ,EAAMK,SAASP,OAAO6R,cAActB,OAOhD,EAAGR,EAA6D,SAAG7P,EAAMK,SAASP,OAAQuQ,KAI/FrQ,EAAMK,SAASiP,MAAQe,EACzB,EASEX,SAAU,CAAC,iBACXkC,iBAAkB,CAAC,mBAGd,EAED,+DAIA,SAAUnU,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCmU,YAAe,WAAa,OAAqBA,CAAa,IAEhE,IAAI1M,EAAyCrI,EAAuC,8CAChFgV,EAA6DhV,EAA2D,kEACxHiV,EAAuDjV,EAAqD,4DAC5GkV,EAAgElV,EAA8D,qEAC9HmV,EAA8DnV,EAA4D,mEAC1HoV,EAA0DpV,EAAwD,+DAClHqV,EAAsDrV,EAAoD,2DAC1GiL,EAA8CjL,EAA4C,mDAU/GsV,EAAa,CACftN,IAAK,OACLE,MAAO,OACPC,OAAQ,OACRN,KAAM,QAeR,SAASkN,EAAY1C,GACnB,IAAIkD,EAEAvS,EAASqP,EAAMrP,OACfwS,EAAanD,EAAMmD,WACnB5T,EAAYyQ,EAAMzQ,UAClB6T,EAAYpD,EAAMoD,UAClB7J,EAAUyG,EAAMzG,QAChB3B,EAAWoI,EAAMpI,SACjByL,EAAkBrD,EAAMqD,gBACxBC,EAAWtD,EAAMsD,SACjBC,EAAevD,EAAMuD,aACrBxK,EAAUiH,EAAMjH,QAChByK,EAAajK,EAAQhE,EACrBA,OAAmB,IAAfiO,EAAwB,EAAIA,EAChCC,EAAalK,EAAQ7D,EACrBA,OAAmB,IAAf+N,EAAwB,EAAIA,EAEhCC,EAAgC,mBAAjBH,EAA8BA,EAAa,CAC5DhO,EAAGA,EACHG,EAAGA,IACA,CACHH,EAAGA,EACHG,EAAGA,GAGLH,EAAImO,EAAMnO,EACVG,EAAIgO,EAAMhO,EACV,IAAIiO,EAAOpK,EAAQ6G,eAAe,KAC9BwD,EAAOrK,EAAQ6G,eAAe,KAC9ByD,EAAQ7N,EAAuCR,KAC/CsO,EAAQ9N,EAAuCL,IAC/CgH,EAAMrP,OAEV,GAAIgW,EAAU,CACZ,IAAIxK,GAAe,EAAG6J,EAAoE,SAAGhS,GACzFoT,EAAa,eACbC,EAAY,cAchB,GAZIlL,KAAiB,EAAG8J,EAA8D,SAAGjS,KACvFmI,GAAe,EAAG+J,EAAuE,SAAGlS,GAEc,YAAtG,EAAGmS,EAAqE,SAAGhK,GAAclB,UAAsC,aAAbA,IACpHmM,EAAa,eACbC,EAAY,gBAOZzU,IAAcyG,EAAuCL,MAAQpG,IAAcyG,EAAuCR,MAAQjG,IAAcyG,EAAuCH,QAAUuN,IAAcpN,EAAuCgJ,IAChP8E,EAAQ9N,EAAuCF,OAG/CJ,IAFcqD,GAAWD,IAAiB6D,GAAOA,EAAItH,eAAiBsH,EAAItH,eAAeD,OACzF0D,EAAaiL,IACEZ,EAAW/N,OAC1BM,GAAK2N,EAAkB,GAAK,EAG9B,GAAI9T,IAAcyG,EAAuCR,OAASjG,IAAcyG,EAAuCL,KAAOpG,IAAcyG,EAAuCF,SAAWsN,IAAcpN,EAAuCgJ,IACjP6E,EAAQ7N,EAAuCH,MAG/CN,IAFcwD,GAAWD,IAAiB6D,GAAOA,EAAItH,eAAiBsH,EAAItH,eAAeH,MACzF4D,EAAakL,IACEb,EAAWjO,MAC1BK,GAAK8N,EAAkB,GAAK,CAEhC,CAEA,IAgBMY,EAhBFC,EAAenT,OAAOC,OAAO,CAC/B4G,SAAUA,GACT0L,GAAYL,GAEXkB,GAAyB,IAAjBZ,EAlFd,SAA2BpR,EAAMwK,GAC/B,IAAIpH,EAAIpD,EAAKoD,EACTG,EAAIvD,EAAKuD,EACT0O,EAAMzH,EAAI0H,kBAAoB,EAClC,MAAO,CACL9O,GAAG,EAAGqD,EAA4C3D,OAAOM,EAAI6O,GAAOA,GAAO,EAC3E1O,GAAG,EAAGkD,EAA4C3D,OAAOS,EAAI0O,GAAOA,GAAO,EAE/E,CA0EsCE,CAAkB,CACpD/O,EAAGA,EACHG,EAAGA,IACF,EAAGkN,EAA8D,SAAGjS,IAAW,CAChF4E,EAAGA,EACHG,EAAGA,GAML,OAHAH,EAAI4O,EAAM5O,EACVG,EAAIyO,EAAMzO,EAEN2N,EAGKtS,OAAOC,OAAO,CAAC,EAAGkT,IAAeD,EAAiB,CAAC,GAAkBH,GAASF,EAAO,IAAM,GAAIK,EAAeJ,GAASF,EAAO,IAAM,GAAIM,EAAenI,WAAaa,EAAI0H,kBAAoB,IAAM,EAAI,aAAe9O,EAAI,OAASG,EAAI,MAAQ,eAAiBH,EAAI,OAASG,EAAI,SAAUuO,IAG5RlT,OAAOC,OAAO,CAAC,EAAGkT,IAAehB,EAAkB,CAAC,GAAmBY,GAASF,EAAOlO,EAAI,KAAO,GAAIwN,EAAgBW,GAASF,EAAOpO,EAAI,KAAO,GAAI2N,EAAgBpH,UAAY,GAAIoH,GAC9L,CA4C6B3U,EAA6B,QAAI,CAC5D6D,KAAM,gBACNH,SAAS,EACTyN,MAAO,cACPvM,GA9CF,SAAuBoR,GACrB,IAAI1T,EAAQ0T,EAAM1T,MACdD,EAAU2T,EAAM3T,QAChB4T,EAAwB5T,EAAQyS,gBAChCA,OAA4C,IAA1BmB,GAA0CA,EAC5DC,EAAoB7T,EAAQ0S,SAC5BA,OAAiC,IAAtBmB,GAAsCA,EACjDC,EAAwB9T,EAAQ2S,aAChCA,OAAyC,IAA1BmB,GAA0CA,EACzDR,EAAe,CACjB3U,WAAW,EAAGwT,EAAiE,SAAGlS,EAAMtB,WACxF6T,WAAW,EAAGJ,EAA6D,SAAGnS,EAAMtB,WACpFoB,OAAQE,EAAMK,SAASP,OACvBwS,WAAYtS,EAAMgC,MAAMlC,OACxB0S,gBAAiBA,EACjBtK,QAAoC,UAA3BlI,EAAMD,QAAQnB,UAGgB,MAArCoB,EAAMI,cAAckQ,gBACtBtQ,EAAMO,OAAOT,OAASI,OAAOC,OAAO,CAAC,EAAGH,EAAMO,OAAOT,OAAQ+R,EAAY3R,OAAOC,OAAO,CAAC,EAAGkT,EAAc,CACvG3K,QAAS1I,EAAMI,cAAckQ,cAC7BvJ,SAAU/G,EAAMD,QAAQnB,SACxB6T,SAAUA,EACVC,aAAcA,OAIe,MAA7B1S,EAAMI,cAAckP,QACtBtP,EAAMO,OAAO+O,MAAQpP,OAAOC,OAAO,CAAC,EAAGH,EAAMO,OAAO+O,MAAOuC,EAAY3R,OAAOC,OAAO,CAAC,EAAGkT,EAAc,CACrG3K,QAAS1I,EAAMI,cAAckP,MAC7BvI,SAAU,WACV0L,UAAU,EACVC,aAAcA,OAIlB1S,EAAMM,WAAWR,OAASI,OAAOC,OAAO,CAAC,EAAGH,EAAMM,WAAWR,OAAQ,CACnE,wBAAyBE,EAAMtB,WAEnC,EAQEyD,KAAM,CAAC,EAGF,EAED,gEAIA,SAAU1E,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACD,IAAIoW,EAAuDhX,EAAqD,4DAGjIiX,EAAU,CACZA,SAAS,GAsCkBrW,EAA6B,QAAI,CAC5D6D,KAAM,iBACNH,SAAS,EACTyN,MAAO,QACPvM,GAAI,WAAe,EACnBb,OAxCF,SAAgBH,GACd,IAAItB,EAAQsB,EAAKtB,MACbU,EAAWY,EAAKZ,SAChBX,EAAUuB,EAAKvB,QACfiU,EAAkBjU,EAAQwI,OAC1BA,OAA6B,IAApByL,GAAoCA,EAC7CC,EAAkBlU,EAAQmU,OAC1BA,OAA6B,IAApBD,GAAoCA,EAC7CxX,GAAS,EAAGqX,EAA8D,SAAG9T,EAAMK,SAASP,QAC5FgB,EAAgB,GAAGG,OAAOjB,EAAMc,cAAcjB,UAAWG,EAAMc,cAAchB,QAYjF,OAVIyI,GACFzH,EAAcO,SAAQ,SAAUkM,GAC9BA,EAAa4G,iBAAiB,SAAUzT,EAASmB,OAAQkS,EAC3D,IAGEG,GACFzX,EAAO0X,iBAAiB,SAAUzT,EAASmB,OAAQkS,GAG9C,WACDxL,GACFzH,EAAcO,SAAQ,SAAUkM,GAC9BA,EAAa6G,oBAAoB,SAAU1T,EAASmB,OAAQkS,EAC9D,IAGEG,GACFzX,EAAO2X,oBAAoB,SAAU1T,EAASmB,OAAQkS,EAE1D,CACF,EASE5R,KAAM,CAAC,EAGF,EAED,sDAIA,SAAU1E,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACD,IAAI2W,EAA8DvX,EAA4D,mEAC1HwX,EAA0DxX,EAAwD,+DAClHyX,EAAuEzX,EAAqE,4EAC5I0X,EAAwD1X,EAAsD,6DAC9G2X,EAA8D3X,EAA4D,mEAC1HqI,EAAyCrI,EAAuC,8CAChF4X,EAAsD5X,EAAoD,2DA0ItGY,EAA6B,QAAI,CAC5D6D,KAAM,OACNH,SAAS,EACTyN,MAAO,OACPvM,GA5HF,SAAchB,GACZ,IAAItB,EAAQsB,EAAKtB,MACbD,EAAUuB,EAAKvB,QACfwB,EAAOD,EAAKC,KAEhB,IAAIvB,EAAMI,cAAcmB,GAAMoT,MAA9B,CAoCA,IAhCA,IAAIC,EAAoB7U,EAAQ8U,SAC5BC,OAAsC,IAAtBF,GAAsCA,EACtDG,EAAmBhV,EAAQiV,QAC3BC,OAAoC,IAArBF,GAAqCA,EACpDG,EAA8BnV,EAAQoV,mBACtCxE,EAAU5Q,EAAQ4Q,QAClBjK,EAAW3G,EAAQ2G,SACnBC,EAAe5G,EAAQ4G,aACvByO,EAAcrV,EAAQqV,YACtBC,EAAwBtV,EAAQuV,eAChCA,OAA2C,IAA1BD,GAA0CA,EAC3DE,EAAwBxV,EAAQwV,sBAChCC,EAAqBxV,EAAMD,QAAQrB,UACnC6R,GAAgB,EAAG+D,EAAiE,SAAGkB,GAEvFL,EAAqBD,IADH3E,IAAkBiF,IACqCF,EAAiB,EAAC,EAAGjB,EAAqE,SAAGmB,IAjC5K,SAAuC9W,GACrC,IAAI,EAAG4V,EAAiE,SAAG5V,KAAeyG,EAAuC2I,KAC/H,MAAO,GAGT,IAAI2H,GAAoB,EAAGpB,EAAqE,SAAG3V,GACnG,MAAO,EAAC,EAAG6V,EAA8E,SAAG7V,GAAY+W,GAAmB,EAAGlB,EAA8E,SAAGkB,GACjN,CA0BmMC,CAA8BF,IAC3NlH,EAAa,CAACkH,GAAoBvU,OAAOkU,GAAoBhO,QAAO,SAAUwH,EAAKjQ,GACrF,OAAOiQ,EAAI1N,QAAO,EAAGqT,EAAiE,SAAG5V,KAAeyG,EAAuC2I,MAAO,EAAG2G,EAAqE,SAAGzU,EAAO,CACtOtB,UAAWA,EACXgI,SAAUA,EACVC,aAAcA,EACdgK,QAASA,EACT2E,eAAgBA,EAChBC,sBAAuBA,IACpB7W,EACP,GAAG,IACCiX,EAAgB3V,EAAMgC,MAAMnC,UAC5ByS,EAAatS,EAAMgC,MAAMlC,OACzB8V,EAAY,IAAIC,IAChBC,GAAqB,EACrBC,EAAwBzH,EAAW,GAE9B0H,EAAI,EAAGA,EAAI1H,EAAWtP,OAAQgX,IAAK,CAC1C,IAAItX,EAAY4P,EAAW0H,GAEvBC,GAAiB,EAAG3B,EAAiE,SAAG5V,GAExFwX,GAAmB,EAAGxB,EAA6D,SAAGhW,KAAeyG,EAAuCqJ,MAC5I2H,EAAa,CAAChR,EAAuCL,IAAKK,EAAuCF,QAAQ7H,QAAQ6Y,IAAmB,EACpIxF,EAAM0F,EAAa,QAAU,SAC7BpJ,GAAW,EAAGyH,EAA+D,SAAGxU,EAAO,CACzFtB,UAAWA,EACXgI,SAAUA,EACVC,aAAcA,EACdyO,YAAaA,EACbzE,QAASA,IAEPyF,EAAoBD,EAAaD,EAAmB/Q,EAAuCH,MAAQG,EAAuCR,KAAOuR,EAAmB/Q,EAAuCF,OAASE,EAAuCL,IAE3P6Q,EAAclF,GAAO6B,EAAW7B,KAClC2F,GAAoB,EAAG/B,EAAqE,SAAG+B,IAGjG,IAAIC,GAAmB,EAAGhC,EAAqE,SAAG+B,GAC9FE,EAAS,GAUb,GARIxB,GACFwB,EAAO1U,KAAKmL,EAASkJ,IAAmB,GAGtChB,GACFqB,EAAO1U,KAAKmL,EAASqJ,IAAsB,EAAGrJ,EAASsJ,IAAqB,GAG1EC,EAAOC,OAAM,SAAUC,GACzB,OAAOA,CACT,IAAI,CACFT,EAAwBrX,EACxBoX,GAAqB,EACrB,KACF,CAEAF,EAAUa,IAAI/X,EAAW4X,EAC3B,CAEA,GAAIR,EAqBF,IAnBA,IAEIY,EAAQ,SAAeC,GACzB,IAAIC,EAAmBtI,EAAWuI,MAAK,SAAUnY,GAC/C,IAAI4X,EAASV,EAAUkB,IAAIpY,GAE3B,GAAI4X,EACF,OAAOA,EAAOS,MAAM,EAAGJ,GAAIJ,OAAM,SAAUC,GACzC,OAAOA,CACT,GAEJ,IAEA,GAAII,EAEF,OADAb,EAAwBa,EACjB,OAEX,EAESD,EAnBYrB,EAAiB,EAAI,EAmBZqB,EAAK,EAAGA,IAAM,CAG1C,GAAa,UAFFD,EAAMC,GAEK,KACxB,CAGE3W,EAAMtB,YAAcqX,IACtB/V,EAAMI,cAAcmB,GAAMoT,OAAQ,EAClC3U,EAAMtB,UAAYqX,EAClB/V,EAAMiC,OAAQ,EA5GhB,CA8GF,EAQE2P,iBAAkB,CAAC,UACnBzP,KAAM,CACJwS,OAAO,GAIJ,EAED,sDAIA,SAAUlX,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACD,IAAIsZ,EAAyCla,EAAuC,8CAChFma,EAAwDna,EAAsD,6DAIvI,SAASoa,EAAenK,EAAU3G,EAAM+Q,GAQtC,YAPyB,IAArBA,IACFA,EAAmB,CACjBzS,EAAG,EACHG,EAAG,IAIA,CACLC,IAAKiI,EAASjI,IAAMsB,EAAK7B,OAAS4S,EAAiBtS,EACnDG,MAAO+H,EAAS/H,MAAQoB,EAAK/B,MAAQ8S,EAAiBzS,EACtDO,OAAQ8H,EAAS9H,OAASmB,EAAK7B,OAAS4S,EAAiBtS,EACzDF,KAAMoI,EAASpI,KAAOyB,EAAK/B,MAAQ8S,EAAiBzS,EAExD,CAEA,SAAS0S,EAAsBrK,GAC7B,MAAO,CAACiK,EAAuClS,IAAKkS,EAAuChS,MAAOgS,EAAuC/R,OAAQ+R,EAAuCrS,MAAMvF,MAAK,SAAUiY,GAC3M,OAAOtK,EAASsK,IAAS,CAC3B,GACF,CA+B6B3Z,EAA6B,QAAI,CAC5D6D,KAAM,OACNH,SAAS,EACTyN,MAAO,OACP+C,iBAAkB,CAAC,mBACnBtP,GAlCF,SAAchB,GACZ,IAAItB,EAAQsB,EAAKtB,MACbuB,EAAOD,EAAKC,KACZoU,EAAgB3V,EAAMgC,MAAMnC,UAC5ByS,EAAatS,EAAMgC,MAAMlC,OACzBqX,EAAmBnX,EAAMI,cAAckX,gBACvCC,GAAoB,EAAGN,EAA+D,SAAGjX,EAAO,CAClGwX,eAAgB,cAEdC,GAAoB,EAAGR,EAA+D,SAAGjX,EAAO,CAClGoV,aAAa,IAEXsC,EAA2BR,EAAeK,EAAmB5B,GAC7DgC,EAAsBT,EAAeO,EAAmBnF,EAAY6E,GACpES,EAAoBR,EAAsBM,GAC1CG,EAAmBT,EAAsBO,GAC7C3X,EAAMI,cAAcmB,GAAQ,CAC1BmW,yBAA0BA,EAC1BC,oBAAqBA,EACrBC,kBAAmBA,EACnBC,iBAAkBA,GAEpB7X,EAAMM,WAAWR,OAASI,OAAOC,OAAO,CAAC,EAAGH,EAAMM,WAAWR,OAAQ,CACnE,+BAAgC8X,EAChC,sBAAuBC,GAE3B,EAWO,EAED,uDAIA,SAAUpa,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoa,YAAe,WAAa,OAA2BC,EAAsD,OAAG,EAChHzI,MAAS,WAAa,OAA2B0I,EAAgD,OAAG,EACpGC,cAAiB,WAAa,OAA2BC,EAAwD,OAAG,EACpHC,eAAkB,WAAa,OAA2BC,EAAyD,OAAG,EACtHC,KAAQ,WAAa,OAA2BC,EAA+C,OAAG,EAClGC,KAAQ,WAAa,OAA2BC,EAA+C,OAAG,EAClGlH,OAAU,WAAa,OAA2BmH,EAAiD,OAAG,EACtGnI,cAAiB,WAAa,OAA2BoI,EAAwD,OAAG,EACpHpB,gBAAmB,WAAa,OAA2BqB,EAA0D,OAAG,IAE1H,IAAIZ,EAA+Cjb,EAA4C,8DAC3Fkb,EAAyClb,EAAsC,wDAC/Eob,EAAiDpb,EAA8C,gEAC/Fsb,EAAkDtb,EAA+C,iEACjGwb,EAAwCxb,EAAqC,uDAC7E0b,EAAwC1b,EAAqC,uDAC7E2b,EAA0C3b,EAAuC,yDACjF4b,EAAiD5b,EAA8C,gEAC/F6b,EAAmD7b,EAAgD,iEAWrH,EAED,wDAIA,SAAUW,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCkb,wBAA2B,WAAa,OAAqBA,CAAyB,IAExF,IAAItE,EAA0DxX,EAAwD,+DAClHqI,EAAyCrI,EAAuC,8CAIzG,SAAS8b,EAAwBla,EAAWsD,EAAOsP,GACjD,IAAIf,GAAgB,EAAG+D,EAAiE,SAAG5V,GACvFma,EAAiB,CAAC1T,EAAuCR,KAAMQ,EAAuCL,KAAK1H,QAAQmT,IAAkB,GAAK,EAAI,EAE9IjP,EAAyB,mBAAXgQ,EAAwBA,EAAOpR,OAAOC,OAAO,CAAC,EAAG6B,EAAO,CACxEtD,UAAWA,KACP4S,EACFwH,EAAWxX,EAAK,GAChByX,EAAWzX,EAAK,GAIpB,OAFAwX,EAAWA,GAAY,EACvBC,GAAYA,GAAY,GAAKF,EACtB,CAAC1T,EAAuCR,KAAMQ,EAAuCH,OAAO5H,QAAQmT,IAAkB,EAAI,CAC/H7L,EAAGqU,EACHlU,EAAGiU,GACD,CACFpU,EAAGoU,EACHjU,EAAGkU,EAEP,CAyB6Brb,EAA6B,QAAI,CAC5D6D,KAAM,SACNH,SAAS,EACTyN,MAAO,OACPa,SAAU,CAAC,iBACXpN,GA5BF,SAAgB6M,GACd,IAAInP,EAAQmP,EAAMnP,MACdD,EAAUoP,EAAMpP,QAChBwB,EAAO4N,EAAM5N,KACbyX,EAAkBjZ,EAAQuR,OAC1BA,OAA6B,IAApB0H,EAA6B,CAAC,EAAG,GAAKA,EAC/C7W,EAAOgD,EAAuCmJ,WAAWnH,QAAO,SAAUwH,EAAKjQ,GAEjF,OADAiQ,EAAIjQ,GAAaka,EAAwBla,EAAWsB,EAAMgC,MAAOsP,GAC1D3C,CACT,GAAG,CAAC,GACAsK,EAAwB9W,EAAKnC,EAAMtB,WACnCgG,EAAIuU,EAAsBvU,EAC1BG,EAAIoU,EAAsBpU,EAEW,MAArC7E,EAAMI,cAAckQ,gBACtBtQ,EAAMI,cAAckQ,cAAc5L,GAAKA,EACvC1E,EAAMI,cAAckQ,cAAczL,GAAKA,GAGzC7E,EAAMI,cAAcmB,GAAQY,CAC9B,EAWO,EAED,+DAIA,SAAU1E,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACD,IAAIwb,EAAwDpc,EAAsD,6DAmB1GY,EAA6B,QAAI,CAC5D6D,KAAM,gBACNH,SAAS,EACTyN,MAAO,OACPvM,GApBF,SAAuBhB,GACrB,IAAItB,EAAQsB,EAAKtB,MACbuB,EAAOD,EAAKC,KAKhBvB,EAAMI,cAAcmB,IAAQ,EAAG2X,EAA+D,SAAG,CAC/FrZ,UAAWG,EAAMgC,MAAMnC,UACvBR,QAASW,EAAMgC,MAAMlC,OACrBlB,SAAU,WACVF,UAAWsB,EAAMtB,WAErB,EAQEyD,KAAM,CAAC,EAGF,EAED,iEAIA,SAAU1E,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACD,IAAIyb,EAAyCrc,EAAuC,8CAChFsc,EAA0Dtc,EAAwD,+DAClHuc,EAAkEvc,EAAgE,uEAClIwc,EAAoDxc,EAAkD,yDACtGyc,EAAgDzc,EAA8C,qDAC9FoB,EAA2DpB,EAAyD,gEACpH0c,EAA6D1c,EAA2D,kEACxH2c,EAAwD3c,EAAsD,6DAC9G4c,EAAsD5c,EAAoD,2DAC1G6c,EAA4D7c,EAA0D,iEACtH8c,EAA+C9c,EAA4C,mDAwIvFY,EAA6B,QAAI,CAC5D6D,KAAM,kBACNH,SAAS,EACTyN,MAAO,OACPvM,GA/HF,SAAyBhB,GACvB,IAAItB,EAAQsB,EAAKtB,MACbD,EAAUuB,EAAKvB,QACfwB,EAAOD,EAAKC,KACZqT,EAAoB7U,EAAQ8U,SAC5BC,OAAsC,IAAtBF,GAAsCA,EACtDG,EAAmBhV,EAAQiV,QAC3BC,OAAoC,IAArBF,GAAsCA,EACrDrO,EAAW3G,EAAQ2G,SACnBC,EAAe5G,EAAQ4G,aACvByO,EAAcrV,EAAQqV,YACtBzE,EAAU5Q,EAAQ4Q,QAClBkJ,EAAkB9Z,EAAQ+Z,OAC1BA,OAA6B,IAApBD,GAAoCA,EAC7CE,EAAwBha,EAAQia,aAChCA,OAAyC,IAA1BD,EAAmC,EAAIA,EACtDhN,GAAW,EAAG0M,EAA+D,SAAGzZ,EAAO,CACzF0G,SAAUA,EACVC,aAAcA,EACdgK,QAASA,EACTyE,YAAaA,IAEX7E,GAAgB,EAAG6I,EAAiE,SAAGpZ,EAAMtB,WAC7F6T,GAAY,EAAGmH,EAA6D,SAAG1Z,EAAMtB,WACrFub,GAAmB1H,EACnBsC,GAAW,EAAGwE,EAAyE,SAAG9I,GAC1FyE,GAAU,EAAGsE,EAA2D,SAAGzE,GAC3EvE,EAAgBtQ,EAAMI,cAAckQ,cACpCqF,EAAgB3V,EAAMgC,MAAMnC,UAC5ByS,EAAatS,EAAMgC,MAAMlC,OACzBoa,EAA4C,mBAAjBF,EAA8BA,EAAa9Z,OAAOC,OAAO,CAAC,EAAGH,EAAMgC,MAAO,CACvGtD,UAAWsB,EAAMtB,aACbsb,EACFG,EAA2D,iBAAtBD,EAAiC,CACxErF,SAAUqF,EACVlF,QAASkF,GACPha,OAAOC,OAAO,CAChB0U,SAAU,EACVG,QAAS,GACRkF,GACCE,EAAsBpa,EAAMI,cAAckR,OAAStR,EAAMI,cAAckR,OAAOtR,EAAMtB,WAAa,KACjGyD,EAAO,CACTuC,EAAG,EACHG,EAAG,GAGL,GAAKyL,EAAL,CAIA,GAAIwE,EAAe,CACjB,IAAIuF,EAEAC,EAAwB,MAAbzF,EAAmBsE,EAAuCrU,IAAMqU,EAAuCxU,KAClH4V,EAAuB,MAAb1F,EAAmBsE,EAAuClU,OAASkU,EAAuCnU,MACpHyL,EAAmB,MAAboE,EAAmB,SAAW,QACpCvD,EAAShB,EAAcuE,GACvBvN,EAAMgK,EAASvE,EAASuN,GACxBjT,EAAMiK,EAASvE,EAASwN,GACxBC,EAAWV,GAAUxH,EAAW7B,GAAO,EAAI,EAC3CgK,EAASlI,IAAc4G,EAAuC3K,MAAQmH,EAAclF,GAAO6B,EAAW7B,GACtGiK,EAASnI,IAAc4G,EAAuC3K,OAAS8D,EAAW7B,IAAQkF,EAAclF,GAGxGJ,EAAerQ,EAAMK,SAASiP,MAC9BuB,EAAYiJ,GAAUzJ,GAAe,EAAGnS,EAAkE,SAAGmS,GAAgB,CAC/HhM,MAAO,EACPE,OAAQ,GAENoW,EAAqB3a,EAAMI,cAAc,oBAAsBJ,EAAMI,cAAc,oBAAoBuQ,SAAU,EAAGgJ,EAAmE,WACvLiB,EAAkBD,EAAmBL,GACrCO,GAAkBF,EAAmBJ,GAMrCO,IAAW,EAAGvB,EAA8ChI,QAAQ,EAAGoE,EAAclF,GAAMI,EAAUJ,IACrGsK,GAAYd,EAAkBtE,EAAclF,GAAO,EAAI+J,EAAWM,GAAWF,EAAkBT,EAA4BtF,SAAW4F,EAASK,GAAWF,EAAkBT,EAA4BtF,SACxMmG,GAAYf,GAAmBtE,EAAclF,GAAO,EAAI+J,EAAWM,GAAWD,GAAkBV,EAA4BtF,SAAW6F,EAASI,GAAWD,GAAkBV,EAA4BtF,SACzM3D,GAAoBlR,EAAMK,SAASiP,QAAS,EAAGkK,EAAoE,SAAGxZ,EAAMK,SAASiP,OACrI2L,GAAe/J,GAAiC,MAAb2D,EAAmB3D,GAAkB7K,WAAa,EAAI6K,GAAkB5K,YAAc,EAAI,EAC7H4U,GAAwH,OAAjGb,EAA+C,MAAvBD,OAA8B,EAASA,EAAoBvF,IAAqBwF,EAAwB,EACvJc,GAAY7J,EAASyJ,GAAYG,GAAsBD,GACvDG,GAAY9J,EAAS0J,GAAYE,GACjCG,IAAkB,EAAG9B,EAA8ChI,QAAQuI,GAAS,EAAGF,EAA6CtS,KAAKA,EAAK6T,IAAa7T,EAAKgK,EAAQwI,GAAS,EAAGF,EAA6CvS,KAAKA,EAAK+T,IAAa/T,GAC5PiJ,EAAcuE,GAAYwG,GAC1BlZ,EAAK0S,GAAYwG,GAAkB/J,CACrC,CAEA,GAAI2D,EAAc,CAChB,IAAIqG,GAEAC,GAAyB,MAAb1G,EAAmBsE,EAAuCrU,IAAMqU,EAAuCxU,KAEnH6W,GAAwB,MAAb3G,EAAmBsE,EAAuClU,OAASkU,EAAuCnU,MAErHyW,GAAUnL,EAAc0E,GAExBlW,GAAmB,MAAZkW,EAAkB,SAAW,QAEpC0G,GAAOD,GAAU1O,EAASwO,IAE1BI,GAAOF,GAAU1O,EAASyO,IAE1BI,IAAqI,IAAtH,CAACzC,EAAuCrU,IAAKqU,EAAuCxU,MAAMvH,QAAQmT,GAEjHsL,GAAyH,OAAjGP,GAAgD,MAAvBlB,OAA8B,EAASA,EAAoBpF,IAAoBsG,GAAyB,EAEzJQ,GAAaF,GAAeF,GAAOD,GAAU9F,EAAc7W,IAAQwT,EAAWxT,IAAQ+c,GAAuB1B,EAA4BnF,QAEzI+G,GAAaH,GAAeH,GAAU9F,EAAc7W,IAAQwT,EAAWxT,IAAQ+c,GAAuB1B,EAA4BnF,QAAU2G,GAE5IK,GAAmBlC,GAAU8B,IAAe,EAAGrC,EAA8C0C,gBAAgBH,GAAYL,GAASM,KAAc,EAAGxC,EAA8ChI,QAAQuI,EAASgC,GAAaJ,GAAMD,GAAS3B,EAASiC,GAAaJ,IAExQrL,EAAc0E,GAAWgH,GACzB7Z,EAAK6S,GAAWgH,GAAmBP,EACrC,CAEAzb,EAAMI,cAAcmB,GAAQY,CAvE5B,CAwEF,EAQEyP,iBAAkB,CAAC,UAGd,EAED,mDAIA,SAAUnU,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCG,aAAgB,WAAa,OAAqBA,CAAc,EAChE6B,iBAAoB,WAAa,OAAqBA,CAAkB,EACxE5B,eAAkB,WAAa,OAA2Boe,EAAuD,OAAG,EACpHle,gBAAmB,WAAa,OAA2Bme,EAA8Cne,eAAiB,IAE5H,IAAIme,EAAgDrf,EAA6C,qDAC7Fof,EAAgDpf,EAA6C,6DAC7Fsf,EAA4Dtf,EAAyD,iEACrHuf,EAA2Dvf,EAAwD,gEACnHwf,EAA2Dxf,EAAwD,gEACnHyf,EAAyDzf,EAAsD,8DAMpI4C,EAAmB,CAAC0c,EAAmE,QAAGC,EAAkE,QAAGC,EAAkE,QAAGC,EAAgE,SACpS1e,GAA4B,EAAGse,EAA8Cne,iBAAiB,CAChG0B,iBAAkBA,GAKb,EAED,8CAIA,SAAUjC,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoa,YAAe,WAAa,OAA2B0E,EAAkD1E,WAAa,EACtHxI,MAAS,WAAa,OAA2BkN,EAAkDlN,KAAO,EAC1G2I,cAAiB,WAAa,OAA2BuE,EAAkDvE,aAAe,EAC1Hpa,aAAgB,WAAa,OAAqBA,CAAc,EAChE4e,iBAAoB,WAAa,OAA2BC,EAA8C7e,YAAc,EACxH6B,iBAAoB,WAAa,OAAqBA,CAAkB,EACxE5B,eAAkB,WAAa,OAA2B6e,EAAwD,OAAG,EACrHxE,eAAkB,WAAa,OAA2BqE,EAAkDrE,cAAgB,EAC5HE,KAAQ,WAAa,OAA2BmE,EAAkDnE,IAAM,EACxGE,KAAQ,WAAa,OAA2BiE,EAAkDjE,IAAM,EACxGjH,OAAU,WAAa,OAA2BkL,EAAkDlL,MAAQ,EAC5GtT,gBAAmB,WAAa,OAA2B4e,EAA8C5e,eAAiB,EAC1HsS,cAAiB,WAAa,OAA2BkM,EAAkDlM,aAAe,EAC1HgH,gBAAmB,WAAa,OAA2BkF,EAAkDlF,eAAiB,IAEhI,IAAIsF,EAAgD9f,EAA6C,qDAC7F6f,EAAiD7f,EAA6C,6DAC9Fsf,EAA4Dtf,EAAyD,iEACrHuf,EAA2Dvf,EAAwD,gEACnHwf,EAA2Dxf,EAAwD,gEACnHyf,EAAyDzf,EAAsD,8DAC/G+f,EAAoD/f,EAAiD,yDACrGggB,EAAkDhgB,EAA+C,uDACjGigB,EAA6DjgB,EAA0D,kEACvHkgB,EAAmDlgB,EAAgD,wDACnGmgB,EAAkDngB,EAA+C,uDACjG4f,EAAgD5f,EAA4C,oDAC5F0f,EAAoD1f,EAAgD,wDAWzH4C,EAAmB,CAAC0c,EAAmE,QAAGC,EAAkE,QAAGC,EAAkE,QAAGC,EAAgE,QAAGM,EAA2D,QAAGC,EAAyD,QAAGC,EAAoE,QAAGC,EAA0D,QAAGC,EAAyD,SAC9lBpf,GAA4B,EAAG+e,EAA8C5e,iBAAiB,CAChG0B,iBAAkBA,GASb,EAED,kEAIA,SAAUjC,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBoa,CAAsB,IAErE,IAAIC,EAAgDrgB,EAA6C,2DAC7Fka,EAAyCla,EAAuC,8CAChFsgB,EAAkDtgB,EAA+C,6DACjGugB,EAAoDvgB,EAAiD,+DAK9H,SAASogB,EAAqBld,EAAOD,QACnB,IAAZA,IACFA,EAAU,CAAC,GAGb,IAAIyC,EAAWzC,EACXrB,EAAY8D,EAAS9D,UACrBgI,EAAWlE,EAASkE,SACpBC,EAAenE,EAASmE,aACxBgK,EAAUnO,EAASmO,QACnB2E,EAAiB9S,EAAS8S,eAC1BgI,EAAwB9a,EAAS+S,sBACjCA,OAAkD,IAA1B+H,EAAmCtG,EAAuC1I,WAAagP,EAC/G/K,GAAY,EAAG4K,EAAuD,SAAGze,GACzE4P,EAAaiE,EAAY+C,EAAiB0B,EAAuCvI,oBAAsBuI,EAAuCvI,oBAAoBvN,QAAO,SAAUxC,GACrL,OAAO,EAAGye,EAAuD,SAAGze,KAAe6T,CACrF,IAAKyE,EAAuCjJ,eACxCwP,EAAoBjP,EAAWpN,QAAO,SAAUxC,GAClD,OAAO6W,EAAsBnY,QAAQsB,IAAc,CACrD,IAEiC,IAA7B6e,EAAkBve,SACpBue,EAAoBjP,GAItB,IAAIkP,EAAYD,EAAkBpW,QAAO,SAAUwH,EAAKjQ,GAOtD,OANAiQ,EAAIjQ,IAAa,EAAG0e,EAAyD,SAAGpd,EAAO,CACrFtB,UAAWA,EACXgI,SAAUA,EACVC,aAAcA,EACdgK,QAASA,KACR,EAAG0M,EAA2D,SAAG3e,IAC7DiQ,CACT,GAAG,CAAC,GACJ,OAAOzO,OAAO4O,KAAK0O,GAAWC,MAAK,SAAUC,EAAGC,GAC9C,OAAOH,EAAUE,GAAKF,EAAUG,EAClC,GACF,CAEO,EAED,4DAIA,SAAUlgB,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB8a,CAAgB,IAE/D,IAAIC,EAAoD/gB,EAAiD,+DACrGqgB,EAAgDrgB,EAA6C,2DAC7FghB,EAA4DhhB,EAAyD,uEACrHqT,EAAyCrT,EAAuC,8CAKzG,SAAS8gB,EAAetc,GACtB,IAOIoH,EAPA7I,EAAYyB,EAAKzB,UACjBR,EAAUiC,EAAKjC,QACfX,EAAY4C,EAAK5C,UACjB6R,EAAgB7R,GAAY,EAAGmf,EAA2D,SAAGnf,GAAa,KAC1G6T,EAAY7T,GAAY,EAAGye,EAAuD,SAAGze,GAAa,KAClGqf,EAAUle,EAAU6E,EAAI7E,EAAUwE,MAAQ,EAAIhF,EAAQgF,MAAQ,EAC9D2Z,EAAUne,EAAUgF,EAAIhF,EAAU0E,OAAS,EAAIlF,EAAQkF,OAAS,EAGpE,OAAQgM,GACN,KAAKJ,EAAuCrL,IAC1C4D,EAAU,CACRhE,EAAGqZ,EACHlZ,EAAGhF,EAAUgF,EAAIxF,EAAQkF,QAE3B,MAEF,KAAK4L,EAAuClL,OAC1CyD,EAAU,CACRhE,EAAGqZ,EACHlZ,EAAGhF,EAAUgF,EAAIhF,EAAU0E,QAE7B,MAEF,KAAK4L,EAAuCnL,MAC1C0D,EAAU,CACRhE,EAAG7E,EAAU6E,EAAI7E,EAAUwE,MAC3BQ,EAAGmZ,GAEL,MAEF,KAAK7N,EAAuCxL,KAC1C+D,EAAU,CACRhE,EAAG7E,EAAU6E,EAAIrF,EAAQgF,MACzBQ,EAAGmZ,GAEL,MAEF,QACEtV,EAAU,CACRhE,EAAG7E,EAAU6E,EACbG,EAAGhF,EAAUgF,GAInB,IAAIgQ,EAAWtE,GAAgB,EAAGuN,EAAmE,SAAGvN,GAAiB,KAEzH,GAAgB,MAAZsE,EAAkB,CACpB,IAAIpE,EAAmB,MAAboE,EAAmB,SAAW,QAExC,OAAQtC,GACN,KAAKpC,EAAuC3B,MAC1C9F,EAAQmM,GAAYnM,EAAQmM,IAAahV,EAAU4Q,GAAO,EAAIpR,EAAQoR,GAAO,GAC7E,MAEF,KAAKN,EAAuChC,IAC1CzF,EAAQmM,GAAYnM,EAAQmM,IAAahV,EAAU4Q,GAAO,EAAIpR,EAAQoR,GAAO,GAKnF,CAEA,OAAO/H,CACT,CAEO,EAED,sDAIA,SAAUjL,EAAyBC,EAAqBZ,GAE9D,aAKA,SAASmhB,EAAS3b,GAChB,IAAI4b,EACJ,OAAO,WAUL,OATKA,IACHA,EAAU,IAAIzb,SAAQ,SAAUC,GAC9BD,QAAQC,UAAUE,MAAK,WACrBsb,OAAUC,EACVzb,EAAQJ,IACV,GACF,KAGK4b,CACT,CACF,CAlBAphB,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBmb,CAAU,GAkBvE,EAED,4DAIA,SAAUxgB,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBhF,CAAgB,IAE/D,IAAIsgB,EAA6DthB,EAA2D,kEACxHuhB,EAAgEvhB,EAA8D,qEAC9HwhB,EAAmExhB,EAAiE,wEACpIyhB,EAAkDzhB,EAA+C,6DACjG0hB,EAAoD1hB,EAAiD,+DACrGka,EAAyCla,EAAuC,8CAChF2hB,EAAwD3hB,EAAsD,6DAC9G4hB,EAAsD5hB,EAAmD,iEACzG6hB,EAAmD7hB,EAAgD,8DAW5H,SAASgB,EAAekC,EAAOD,QACb,IAAZA,IACFA,EAAU,CAAC,GAGb,IAAIyC,EAAWzC,EACX6e,EAAqBpc,EAAS9D,UAC9BA,OAAmC,IAAvBkgB,EAAgC5e,EAAMtB,UAAYkgB,EAC9DC,EAAoBrc,EAAS5D,SAC7BA,OAAiC,IAAtBigB,EAA+B7e,EAAMpB,SAAWigB,EAC3DC,EAAoBtc,EAASkE,SAC7BA,OAAiC,IAAtBoY,EAA+B9H,EAAuCnQ,gBAAkBiY,EACnGC,EAAwBvc,EAASmE,aACjCA,OAAyC,IAA1BoY,EAAmC/H,EAAuC7Q,SAAW4Y,EACpGC,EAAwBxc,EAASgV,eACjCA,OAA2C,IAA1BwH,EAAmChI,EAAuClX,OAASkf,EACpGC,EAAuBzc,EAAS4S,YAChCA,OAAuC,IAAzB6J,GAA0CA,EACxDC,EAAmB1c,EAASmO,QAC5BA,OAA+B,IAArBuO,EAA8B,EAAIA,EAC5CxO,GAAgB,EAAGgO,EAA6D,SAAsB,iBAAZ/N,EAAuBA,GAAU,EAAGgO,EAA0D,SAAGhO,EAASqG,EAAuCjJ,iBAC3OoR,EAAa3H,IAAmBR,EAAuClX,OAASkX,EAAuCnX,UAAYmX,EAAuClX,OAC1KwS,EAAatS,EAAMgC,MAAMlC,OACzBT,EAAUW,EAAMK,SAAS+U,EAAc+J,EAAa3H,GACpD4H,GAAqB,EAAGhB,EAAoE,UAAG,EAAGK,EAAsD1d,WAAW1B,GAAWA,EAAUA,EAAQ2B,iBAAkB,EAAGqd,EAAuE,SAAGre,EAAMK,SAASP,QAAS4G,EAAUC,EAAc/H,GAC/UygB,GAAsB,EAAGf,EAA0E,SAAGte,EAAMK,SAASR,WACrHyQ,GAAgB,EAAGiO,EAAyD,SAAG,CACjF1e,UAAWwf,EACXhgB,QAASiT,EACT1T,SAAU,WACVF,UAAWA,IAET4gB,GAAmB,EAAGd,EAA2D,SAAGte,OAAOC,OAAO,CAAC,EAAGmS,EAAYhC,IAClHiP,EAAoB/H,IAAmBR,EAAuClX,OAASwf,EAAmBD,EAG1GG,EAAkB,CACpB1a,IAAKsa,EAAmBta,IAAMya,EAAkBza,IAAM4L,EAAc5L,IACpEG,OAAQsa,EAAkBta,OAASma,EAAmBna,OAASyL,EAAczL,OAC7EN,KAAMya,EAAmBza,KAAO4a,EAAkB5a,KAAO+L,EAAc/L,KACvEK,MAAOua,EAAkBva,MAAQoa,EAAmBpa,MAAQ0L,EAAc1L,OAExEya,EAAazf,EAAMI,cAAckR,OAErC,GAAIkG,IAAmBR,EAAuClX,QAAU2f,EAAY,CAClF,IAAInO,EAASmO,EAAW/gB,GACxBwB,OAAO4O,KAAK0Q,GAAiBne,SAAQ,SAAUqe,GAC7C,IAAIC,EAAW,CAAC3I,EAAuChS,MAAOgS,EAAuC/R,QAAQ7H,QAAQsiB,IAAQ,EAAI,GAAK,EAClIlP,EAAO,CAACwG,EAAuClS,IAAKkS,EAAuC/R,QAAQ7H,QAAQsiB,IAAQ,EAAI,IAAM,IACjIF,EAAgBE,IAAQpO,EAAOd,GAAQmP,CACzC,GACF,CAEA,OAAOH,CACT,CAEO,EAED,6DAIA,SAAU/hB,EAAyBC,EAAqBZ,GAE9D,aAKA,SAAS8iB,EAAgB5Q,EAAOF,GAC9B,OAAOA,EAAK3H,QAAO,SAAU0Y,EAASH,GAEpC,OADAG,EAAQH,GAAO1Q,EACR6Q,CACT,GAAG,CAAC,EACN,CATA/iB,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB8c,CAAiB,GAS9E,EAED,wDAIA,SAAUniB,EAAyBC,EAAqBZ,GAE9D,aAKA,SAASgjB,EAAWtP,GAClB,MAAgB,MAATA,EAAe,IAAM,GAC9B,CANA1T,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBgd,CAAY,GAMzE,EAED,8DAIA,SAAUriB,EAAyBC,EAAqBZ,GAE9D,aAMA,SAASijB,EAAiBrhB,GACxB,OAAOA,EAAUshB,MAAM,KAAK,EAC9B,CAPAljB,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBid,CAAkB,GAO/E,EAED,gEAIA,SAAUtiB,EAAyBC,EAAqBZ,GAE9D,aAKA,SAASmjB,IACP,MAAO,CACLnb,IAAK,EACLE,MAAO,EACPC,OAAQ,EACRN,KAAM,EAEV,CAXA7H,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBmd,CAAoB,GAWjF,EAED,sEAIA,SAAUxiB,EAAyBC,EAAqBZ,GAE9D,aAKA,SAASojB,EAAyBxhB,GAChC,MAAO,CAAC,MAAO,UAAUtB,QAAQsB,IAAc,EAAI,IAAM,GAC3D,CANA5B,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBod,CAA0B,GAMvF,EAED,kEAIA,SAAUziB,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBqd,CAAsB,IAE1F,IAAIC,EAAO,CACTzb,KAAM,QACNK,MAAO,OACPC,OAAQ,MACRH,IAAK,UAEP,SAASqb,EAAqBzhB,GAC5B,OAAOA,EAAU2hB,QAAQ,0BAA0B,SAAUC,GAC3D,OAAOF,EAAKE,EACd,GACF,CAEO,EAED,2EAIA,SAAU7iB,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqByd,CAA+B,IAEnG,IAAIH,EAAO,CACT5R,MAAO,MACPL,IAAK,SAEP,SAASoS,EAA8B7hB,GACrC,OAAOA,EAAU2hB,QAAQ,cAAc,SAAUC,GAC/C,OAAOF,EAAKE,EACd,GACF,CAEO,EAED,0DAIA,SAAU7iB,EAAyBC,EAAqBZ,GAE9D,aAKA,SAAS0jB,EAAa9hB,GACpB,OAAOA,EAAUshB,MAAM,KAAK,EAC9B,CANAljB,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB0d,CAAc,GAM3E,EAED,kDAIA,SAAU/iB,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzC2J,IAAO,WAAa,OAAqBA,CAAK,EAC9CC,IAAO,WAAa,OAAqBA,CAAK,EAC9ClD,MAAS,WAAa,OAAqBA,CAAO,IAEzE,IAAIiD,EAAMyC,KAAKzC,IACXC,EAAMwC,KAAKxC,IACXlD,EAAQ0F,KAAK1F,KAEV,EAED,yDAIA,SAAU3G,EAAyBC,EAAqBZ,GAE9D,aAKA,SAAS2jB,EAAY9hB,GACnB,IAAI+hB,EAAS/hB,EAAUwI,QAAO,SAAUuZ,EAAQC,GAC9C,IAAIC,EAAWF,EAAOC,EAAQpf,MAK9B,OAJAmf,EAAOC,EAAQpf,MAAQqf,EAAW1gB,OAAOC,OAAO,CAAC,EAAGygB,EAAUD,EAAS,CACrE5gB,QAASG,OAAOC,OAAO,CAAC,EAAGygB,EAAS7gB,QAAS4gB,EAAQ5gB,SACrDoC,KAAMjC,OAAOC,OAAO,CAAC,EAAGygB,EAASze,KAAMwe,EAAQxe,QAC5Cwe,EACED,CACT,GAAG,CAAC,GAEJ,OAAOxgB,OAAO4O,KAAK4R,GAAQG,KAAI,SAAUnB,GACvC,OAAOgB,EAAOhB,EAChB,GACF,CAjBA5iB,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB2d,CAAa,GAiB1E,EAED,gEAIA,SAAUhjB,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBge,CAAoB,IAEnE,IAAIC,EAAsDjkB,EAAmD,iEAElI,SAASgkB,EAAmBpQ,GAC1B,OAAOxQ,OAAOC,OAAO,CAAC,GAAG,EAAG4gB,EAA6D,WAAMrQ,EACjG,CAEO,EAED,4DAIA,SAAUjT,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBke,CAAgB,IAE/D,IAAIhK,EAAyCla,EAAuC,8CAGzG,SAASmkB,EAAMtiB,GACb,IAAIkiB,EAAM,IAAIhL,IACVqL,EAAU,IAAIC,IACdC,EAAS,GAKb,SAAS3D,EAAKvb,GACZgf,EAAQG,IAAInf,EAASX,MACN,GAAGN,OAAOiB,EAASwN,UAAY,GAAIxN,EAAS0P,kBAAoB,IACtEvQ,SAAQ,SAAUigB,GACzB,IAAKJ,EAAQK,IAAID,GAAM,CACrB,IAAIE,EAAcX,EAAI/J,IAAIwK,GAEtBE,GACF/D,EAAK+D,EAET,CACF,IACAJ,EAAOxf,KAAKM,EACd,CAQA,OAzBAvD,EAAU0C,SAAQ,SAAUa,GAC1B2e,EAAIpK,IAAIvU,EAASX,KAAMW,EACzB,IAiBAvD,EAAU0C,SAAQ,SAAUa,GACrBgf,EAAQK,IAAIrf,EAASX,OAExBkc,EAAKvb,EAET,IACOkf,CACT,CAEA,SAASJ,EAAeriB,GAEtB,IAAIsB,EAAmBghB,EAAMtiB,GAE7B,OAAOqY,EAAuC3I,eAAelH,QAAO,SAAUwH,EAAKE,GACjF,OAAOF,EAAI1N,OAAOhB,EAAiBiB,QAAO,SAAUgB,GAClD,OAAOA,EAAS2M,QAAUA,CAC5B,IACF,GAAG,GACL,CAEO,EAED,8DAIA,SAAUpR,EAAyBC,EAAqBZ,GAE9D,aAKA,SAAS2kB,EAAiBrb,GACxB,OAAOlG,OAAOC,OAAO,CAAC,EAAGiG,EAAM,CAC7BzB,KAAMyB,EAAK1B,EACXI,IAAKsB,EAAKvB,EACVG,MAAOoB,EAAK1B,EAAI0B,EAAK/B,MACrBY,OAAQmB,EAAKvB,EAAIuB,EAAK7B,QAE1B,CAXAzH,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB2e,CAAkB,GAW/E,EAED,uDAIA,SAAUhkB,EAAyBC,EAAqBZ,GAE9D,aAKA,SAAS4kB,IACP,IAAIC,EAASjlB,UAAUklB,cAEvB,OAAc,MAAVD,GAAkBA,EAAOE,QAAU3iB,MAAM4iB,QAAQH,EAAOE,QACnDF,EAAOE,OAAOhB,KAAI,SAAUkB,GACjC,OAAOA,EAAKC,MAAQ,IAAMD,EAAKE,OACjC,IAAGC,KAAK,KAGHxlB,UAAUC,SACnB,CAdAG,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB4e,CAAa,GAc1E,EAED,oDAIA,SAAUjkB,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzC6T,OAAU,WAAa,OAAqBA,CAAQ,EACpD0K,eAAkB,WAAa,OAAqBA,CAAgB,IAEtE,IAAIkG,EAAwCrlB,EAAqC,mDAEtG,SAASyU,EAAOjK,EAAK0H,EAAO3H,GAC1B,OAAO,EAAG8a,EAAsC9a,KAAKC,GAAK,EAAG6a,EAAsC7a,KAAK0H,EAAO3H,GACjH,CACA,SAAS4U,EAAe3U,EAAK0H,EAAO3H,GAClC,IAAI+a,EAAI7Q,EAAOjK,EAAK0H,EAAO3H,GAC3B,OAAO+a,EAAI/a,EAAMA,EAAM+a,CACzB,CAEO,EAED,oCAIA,SAAU3kB,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACD,IAAI2kB,EAA0DvlB,EAA2D,mCACrHwlB,EAAsDxlB,EAAkD,sDACxGylB,EAA2EzlB,EAAoB0lB,EAAEF,GACjGG,EAAwC3lB,EAAoC,6CAC5E4lB,EAAmD5lB,EAAoD,6BAMhI,EAAGulB,EAAiE,UAAG,WACrE,IAAIM,EAAUplB,SAASoU,cAAc,aACjCiR,EAAaD,EAAQE,iBAAiB,gBACtCC,EAAgBH,EAAQhR,cAAc,uBACtCoR,EAAaJ,EAAQhR,cAAc,mBACnCqR,EAAUL,EAAQhR,cAAc,gBAChCsR,EAASN,EAAQhR,cAAc,UAC/BuR,EAASP,EAAQhR,cAAc,UAC/BwR,GAAe,EACY,IAAKZ,IAAL,CAAoE,CACjGljB,QAAS0jB,EACTK,QAAS,wCAEY,IAAKb,IAAL,CAAoE,CACzFljB,QAAS2jB,EACTI,QAAS,YAEO,IAAKb,IAAL,CAAoE,CACpFljB,QAAS4jB,EACTG,QAAS,WAEO,IAAKb,IAAL,CAAoE,CACpFljB,QAAS6jB,EACTE,QAAS,YAEX,EAAGX,EAA+C,SAAG,wBA4BrDG,EAAWvhB,SAAQ,SAAUhC,GAC3BA,EAAQ8U,iBAAiB,SAAS,WAChC9U,EAAQgkB,UAAUC,OAAO,iBAC3B,GACF,IACAR,EAAc3O,iBAAiB,UAAU,SAAUoP,GACjDA,EAAMC,iBAjCR,WAoBE,GAnBAL,GAAe,EACER,EAAQE,iBAAiB,mBAC/BxhB,SAAQ,SAAU0gB,GACV,YAAbA,EAAK0B,KACa,GAAhB1B,EAAK2B,SACP3B,EAAK4B,QAAQ,gBAAgBN,UAAUhC,IAAI,kBAC3C8B,GAAe,GAEfpB,EAAK4B,QAAQ,gBAAgBN,UAAUC,OAAO,kBAG9B,IAAdvB,EAAK/S,OACP+S,EAAK4B,QAAQ,gBAAgBN,UAAUhC,IAAI,kBAC3C8B,GAAe,GAEfpB,EAAK4B,QAAQ,gBAAgBN,UAAUC,OAAO,iBAGpD,KACIH,EAIF,OAAO,EAHPS,QAAQC,IAAIf,GACZA,EAAcgB,QAIlB,CAQEC,EACF,IAGA,IAAIC,EAAczmB,SAASoU,cAAc,UACrCsS,EAAY1mB,SAASoU,cAAc,aACvC,GAAIqS,GAAeC,EAAW,EAG5B,EAAGvB,EAAiDwB,WAFnC,SACA,YAEnB,CACF,GAEO,EAED,8BAIA,SAAUzmB,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACD,IAAIymB,EAAuDrnB,EAAwD,mCAC/GsnB,EAAqCtnB,EAAiC,qCAC/F,SAASunB,EAA2BC,EAAGC,GAAkB,IAAIC,EAAuB,oBAAXC,QAA0BH,EAAEG,OAAOC,WAAaJ,EAAE,cAAe,IAAKE,EAAI,CAAE,GAAItlB,MAAM4iB,QAAQwC,KAAOE,EAC9K,SAAqCF,EAAG7J,GAAU,IAAK6J,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAOK,EAAkBL,EAAG7J,GAAS,IAAI+H,EAAItiB,OAAO0kB,UAAU3Y,SAAS4Y,KAAKP,GAAGvN,MAAM,GAAI,GAAc,WAANyL,GAAkB8B,EAAEQ,cAAatC,EAAI8B,EAAEQ,YAAYvjB,MAAM,GAAU,QAANihB,GAAqB,QAANA,EAAa,OAAOtjB,MAAM6lB,KAAKT,GAAI,GAAU,cAAN9B,GAAqB,2CAA2C5lB,KAAK4lB,GAAI,OAAOmC,EAAkBL,EAAG7J,EAAS,CAD5OuK,CAA4BV,KAAOC,GAAkBD,GAAyB,iBAAbA,EAAEtlB,OAAqB,CAAMwlB,IAAIF,EAAIE,GAAI,IAAIxO,EAAI,EAAOiP,EAAI,WAAc,EAAG,MAAO,CAAEC,EAAGD,EAAGzC,EAAG,WAAe,OAAIxM,GAAKsO,EAAEtlB,OAAe,CAAEmmB,MAAM,GAAe,CAAEA,MAAM,EAAOnW,MAAOsV,EAAEtO,KAAQ,EAAGoP,EAAG,SAAWC,GAAM,MAAMA,CAAI,EAAGC,EAAGL,EAAK,CAAE,MAAM,IAAIM,UAAU,wIAA0I,CAAE,IAA6CC,EAAzCC,GAAmB,EAAMC,GAAS,EAAY,MAAO,CAAER,EAAG,WAAeV,EAAKA,EAAGK,KAAKP,EAAI,EAAG9B,EAAG,WAAe,IAAImD,EAAOnB,EAAGlhB,OAAsC,OAA9BmiB,EAAmBE,EAAKR,KAAaQ,CAAM,EAAGP,EAAG,SAAWQ,GAAOF,GAAS,EAAMF,EAAMI,CAAK,EAAGN,EAAG,WAAe,IAAWG,GAAiC,MAAbjB,EAAGqB,QAAgBrB,EAAGqB,QAAU,CAAE,QAAU,GAAIH,EAAQ,MAAMF,CAAK,CAAE,EAAK,CAEr+B,SAASb,EAAkBmB,EAAKrV,IAAkB,MAAPA,GAAeA,EAAMqV,EAAI9mB,UAAQyR,EAAMqV,EAAI9mB,QAAQ,IAAK,IAAIgX,EAAI,EAAG+P,EAAO,IAAI7mB,MAAMuR,GAAMuF,EAAIvF,EAAKuF,IAAK+P,EAAK/P,GAAK8P,EAAI9P,GAAI,OAAO+P,CAAM,EAGlL,EAAG5B,EAA8D,UAAG,WAElE,IAAI6B,EAASzoB,SAASslB,iBAAiB,UACvC,GAAsB,IAAlBmD,EAAOhnB,OAAc,CACvB,IACEinB,EADEC,EAAY7B,EAA2B2B,GAE3C,IACE,IAAKE,EAAUhB,MAAOe,EAAQC,EAAU1D,KAAK2C,MAAO,CAClD,IAAIgB,EAAQF,EAAMjX,MACS,IAAvBmX,EAAMnX,MAAMhQ,QAAcmnB,EAAM9C,UAAUhC,IAAI,oBAClD8E,EAAMhS,iBAAiB,SAAS,WACR,IAAtBiS,KAAKpX,MAAMhQ,OAAeonB,KAAK/C,UAAUhC,IAAI,oBAAsB+E,KAAK/C,UAAUC,OAAO,mBAC3F,GACF,CACF,CAAE,MAAOkC,GACPU,EAAUd,EAAEI,EACd,CAAE,QACAU,EAAUZ,GACZ,CACF,CAGA,IAAIe,EAAc9oB,SAASslB,iBAAiB,oBACxCwD,GACFA,EAAYhlB,SAAQ,SAAUilB,IAC5B,EAAGlC,EAA4C,SAAGkC,EAAO,CACvDC,KAAM,wBAEV,GAEJ,GAEO,EAED,4BAIA,SAAU9oB,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,IAGtB,EAFmFZ,EAA2D,mCAE1E,UAAG,YACrE,SAAkB0pB,EAAMC,GACtB,IAAIC,EAAaF,EAAKG,SAClBC,EAAYH,EAAME,SAItB,SAASE,EAAYzB,GACnBA,EAAE5B,iBACFtkB,MAAM6lB,KAAK2B,GAAYrlB,SAAQ,SAAUylB,GACvCA,EAAMzD,UAAUC,OAAO,sBACzB,IACA,GAAGjiB,QAAQwjB,KAAK+B,GAAW,SAAUG,GACnCA,EAAK1D,UAAUC,OAAO,qBACxB,IACA8B,EAAE3X,OAAO4V,UAAUhC,IAAI,uBACvB,IAAI2F,EAAa5B,EAAE3X,OAAOwZ,aAAa,aACvC1pB,SAASoU,cAAcqV,GAAY3D,UAAUhC,IAAI,qBACnD,CAdAniB,MAAM6lB,KAAK2B,GAAYrlB,SAAQ,SAAU6lB,GACvCA,EAAK/S,iBAAiB,QAAS0S,EACjC,GAaF,CAGAM,CAFW5pB,SAASoU,cAAc,iBACtBpU,SAASoU,cAAc,gBAErC,GAEO,EAED,2BAIA,SAAUlU,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCwmB,UAAa,WAAa,OAAqBA,CAAW,EAC1DkD,cAAiB,WAAa,OAAqBA,CAAe,IAEzF,IAAIlD,EAAY,SAAmBmD,EAAYC,GAE7C,IAAIC,EAAUD,EACVE,EAAQjqB,SAASoU,cAAc0V,GAC/BI,EAAkBlqB,SAASiM,KAC3Bke,EAAkBF,EAAM7V,cAAc,wBACtCgW,EAAaH,EAAM7V,cAAc,uBAGjC4V,GACFhqB,SAAS4W,iBAAiB,SAAS,SAAUyT,GACvCA,EAAIna,OAAOkW,QAAQ4D,KACrBK,EAAIpE,iBAEJkE,EAAgB3Y,MAAM8Y,QAAU,OAChCJ,EAAgBpE,UAAUhC,IAAI,QAElC,IAIF,IAMIyG,EAAmB,WACrBJ,EAAgB3Y,MAAM8Y,QAAU,OAChCJ,EAAgBpE,UAAUC,OAAO,OACnC,EAGAqE,GAAcA,EAAWxT,iBAAiB,QAAS2T,GAGnDJ,EAAgBvT,iBAAiB,SAAS,SAAUoP,GAC9CA,EAAM9V,SAAWia,GACnBI,GAEJ,IACAN,EAAMO,UAAY,CAChBC,gBArBoB,WACpBN,EAAgB3Y,MAAM8Y,QAAU,OAChCtqB,SAASiM,KAAK6Z,UAAUhC,IAAI,OAC9B,EAmBEyG,iBAAkBA,EAEtB,EACIV,EAAgB,SAAuBC,EAAYC,GAErD,IACIE,EAAQjqB,SAASoU,cAAc0V,GAC/BI,EAAkBlqB,SAASiM,KAC3Bke,EAAkBF,EAAM7V,cAAc,wBACtCgW,EAAaH,EAAM7V,cAAc,uBAGrCpU,SAAS4W,iBAAiB,SAAS,SAAUyT,GAC3C,GAAIA,EAAIna,OAAOkW,QAAQ2D,GAAa,CAElCI,EAAgB3Y,MAAM8Y,QAAU,QAChCJ,EAAgBpE,UAAUhC,IAAI,QAC9B,IAAI4G,EAAiBL,EAAIna,OAAOkW,QAAQ2D,GACpBW,EAAeC,QAAQC,UAC7C,CACF,IAGA,IAAIL,EAAmB,WACrBJ,EAAgB3Y,MAAM8Y,QAAU,OAChCJ,EAAgBpE,UAAUC,OAAO,OACnC,EAGAqE,GAAcA,EAAWxT,iBAAiB,QAAS2T,GAGnDJ,EAAgBvT,iBAAiB,SAAS,SAAUoP,GAC9CA,EAAM9V,SAAWia,GACnBI,GAEJ,GACF,CAEO,EAED,qBAIA,WAgBC,EAED,kCAIA,SAAUrqB,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GAQOA,EAA6B,QAP9C,SAAe4E,IACrB/E,SAAS6qB,YAAsC,aAAxB7qB,SAAS8qB,WAAoD,YAAxB9qB,SAAS8qB,YACvE/lB,IAEA/E,SAAS4W,iBAAiB,mBAAoB7R,EAElD,CAGO,EAED,2DAIA,SAAU7E,EAAyBlB,EAASO,GAElD,aAEAoD,OAAOooB,eAAe/rB,EAAS,aAAc,CAAGyS,OAAO,IACvDzS,EAAQgsB,MAAQhsB,EAAQisB,MAAQjsB,EAAQksB,iBAAmBlsB,EAAQmsB,gBAAkBnsB,EAAQosB,qBAAkB,EAE/G,IAAIC,EAAwB,oBAAXnsB,QACbA,OAAOC,WACPD,OAAOC,UAAUC,UAIjBksB,EAAY/rB,EAAmE,6DAE/EgsB,EAAahsB,EAAqE,+DAElFisB,EAAWjsB,EAAkE,4DAE7EyrB,EAAQzrB,EAA+D,yDAC3EP,EAAQgsB,MAAQA,EAEhB,IAAIC,EAAQ1rB,EAA+D,yDAC3EP,EAAQisB,MAAQA,EAIhB,IAAIQ,EAAuB,wCAQ3BzsB,EAAQosB,gBAJR,SAAyBnsB,GAErB,YADW,IAAPA,IAAiBA,EAAKosB,GACnBC,EAAUrsB,IAAOwsB,EAAqBpsB,KAAKJ,EACtD,EAMAD,EAAQmsB,gBAJR,SAAyBlsB,GAErB,YADW,IAAPA,IAAiBA,EAAKosB,IAClBC,EAAUrsB,IAAOssB,EAAWtsB,KAAQusB,EAASvsB,EACzD,EAMAD,EAAQksB,iBAJR,SAA0BjsB,GAEtB,YADW,IAAPA,IAAiBA,EAAKosB,GACnB,iBAAiBhsB,KAAKJ,IAfjC,SAA6CA,GACzC,OAAQusB,EAASvsB,IAAOA,EAAGY,QAAQ,YAAc,CACrD,CAawC6rB,CAAoCzsB,EAC5E,CAIO,EAED,oEAIA,SAAUiB,EAAyBlB,EAASO,GAElD,aAEAoD,OAAOooB,eAAe/rB,EAAS,aAAc,CAAGyS,OAAO,IACvDzS,EAAQ2sB,sBAAmB,EAC3B,IAAIC,EAAkBrsB,EAA2C,6EAC7DssB,EAAiBtsB,EAA2C,kEAC5DosB,EAAkC,WAClC,SAASA,EAAiB9F,GACtBgD,KAAKhD,QAAU+F,EAAgBE,aAAajG,EAChD,CAmHA,OAlHA8F,EAAiBtE,UAAU0E,OAAS,SAAUvpB,GAQ1C,IAPA,IAAIwpB,EAAiBxpB,EAAQiP,MACzBwa,EAAsB,EACtBC,EAAkB,GAClBC,EAAY,CACZlb,MAAOzO,EAAQ2pB,UAAUlb,MACzBL,IAAKpO,EAAQ2pB,UAAUvb,KAElB6H,EAAI,EAAGA,EAAIoQ,KAAKhD,QAAQpkB,OAAQgX,IAAK,CAC1C,IAAI2T,EAAcvD,KAAKhD,QAAQpN,GAC3B4T,EAAYL,EAAeC,GAC/B,GAAIA,EAAsBD,EAAevqB,OACrC,MAEJ,GAAiC,iBAAtB2qB,EAAY3a,MACF,MAAb4a,GAAqBH,EAAgBzqB,SAAW2qB,EAAYvnB,QAC5DqnB,GAAmBE,EAAY3a,MAC3B2a,EAAYvnB,OAASsnB,EAAUlb,OAC/Bkb,EAAUlb,QAEVmb,EAAYvnB,OAASsnB,EAAUvb,KAC/Bub,EAAUvb,YAOlB,KAAOqb,EAAsBD,EAAevqB,OAAQwqB,IAAuB,CAEvE,GADAI,EAAYL,EAAeC,GACvBG,EAAY3a,MAAMpS,KAAKgtB,GAAY,CACnCH,GAAmBG,EACnBJ,IACA,KACJ,CAEQG,EAAYvnB,OAASsnB,EAAUlb,OAC/Bkb,EAAUlb,QAEVmb,EAAYvnB,OAASsnB,EAAUvb,KAC/Bub,EAAUvb,KAGtB,CAER,CACA,MAAO,CACHa,MAAOya,EACPC,UAAWA,EAEnB,EACAR,EAAiBtE,UAAUiF,SAAW,SAAU9pB,GAC5C,IAAIyO,EAAQzO,EAAQ2pB,UAAUlb,MAC1BL,EAAMpO,EAAQ2pB,UAAUvb,IACxB2b,EAAoB,GACpBC,EAAqB,EACzB,SAASC,EAAeL,EAAavnB,GACjC,IAAI4M,EAAQjP,EAAQiP,MAAM5M,EAAQ2nB,GAClC,MAAqC,iBAAtBJ,EAAY3a,OACd,MAATA,GACA2a,EAAY3a,MAAMpS,KAAKoS,EAC/B,CACA,IAAK,IAAIgH,EAAI,EAAGA,EAAIoQ,KAAKhD,QAAQpkB,OAAQgX,IAAK,CAC1C,IAAI2T,EAAcvD,KAAKhD,QAAQpN,GAC3BgU,EAAeL,EAAa3T,GAC5B8T,GAAqB/pB,EAAQiP,MAAMgH,EAAI+T,GAGvCJ,EAAY3a,QAAUjP,EAAQiP,MAAM2a,EAAYvnB,QAIhDunB,EAAYvnB,MAAQrC,EAAQ2pB,UAAUlb,OACtCA,IAEAmb,EAAYvnB,MAAQrC,EAAQ2pB,UAAUvb,KACtCA,KAPA4b,GASR,CACA,MAAO,CACHL,UAAW,CACPlb,MAAOA,EACPL,IAAKA,GAETa,MAAO8a,EAEf,EACAZ,EAAiBtE,UAAUqF,iBAAmB,SAAUlqB,GACpD,IAAImqB,EAAeC,EACfnqB,EAAQomB,KAAKyD,SAAS9pB,GACtBiP,EAAQhP,EAAMgP,MACd0a,EAAY1pB,EAAM0pB,UAetB,OAdY5f,KAAKC,IAAI/J,EAAM0pB,UAAUvb,IAAMnO,EAAM0pB,UAAUlb,QAEvD0b,EAAgBR,EAAUlb,MAC1B2b,EAAcT,EAAUvb,KAEnBib,EAAegB,YAAYrqB,EAAQwjB,QACxC2G,EAAgBpgB,KAAKzC,IAAI,EAAGqiB,EAAUlb,MAAQ,GAC9C2b,EAAcT,EAAUlb,QAIxB0b,EAAgBR,EAAUlb,MAC1B2b,EAAcrgB,KAAKxC,IAAI0H,EAAMhQ,OAAQ0qB,EAAUlb,MAAQ,IAEpD,CACHkb,UAAW,CACPlb,MAAO0b,EACP/b,IAAK+b,GAETlb,MAAOA,EAAMqb,OAAO,EAAGH,GAAiBlb,EAAMqb,OAAOF,GAE7D,EACOjB,CACX,CAvHqC,GAwHrC3sB,EAAQ2sB,iBAAmBA,CAGpB,EAED,4EAIA,SAAUzrB,EAAyBlB,GAEzC,aAEA2D,OAAOooB,eAAe/rB,EAAS,aAAc,CAAGyS,OAAO,IACvDzS,EAAQ8sB,kBAAe,EACvB,IAAIiB,EAAc,WACdC,EAAc,KACdC,EAAa,IACbC,EAAoB,kBACpBC,EAAsB,cAEtBC,EAAgB,IAAIC,OAAOF,eAA6C,KACxEG,EAA4B,IAAID,OAAO,IAAMF,EAAsB,KACnEI,EAAgB,IAAIF,OAAO,MAAO,KAOtC,SAASG,EAAmBC,GACxB,OAPJ,SAAiBA,GACb,OAAOT,EAAY3tB,KAAKouB,EAC5B,CAKQC,CAAQD,GACDT,EALf,SAAiBS,GACb,OAAOV,EAAY1tB,KAAKouB,EAC5B,CAKaE,CAAQF,GACNV,EAEJE,CACX,CAuCAjuB,EAAQ8sB,aAhCR,SAAsB8B,GAClB,IAPmBH,EAGOI,EAItBC,EAAe,GACfC,EAAeH,EAAcI,MAAMZ,GACvC,IAAKW,EACD,OAAOD,EAEX,IAAK,IAAIjpB,EAAQ,EAAG4T,EAAI,EAAGA,EAAIsV,EAAatsB,OAAQgX,IAAK,CACrD,IAAIwV,EAAcF,EAAatV,GAC/B,GAXsBoV,EAWGI,EAVtBX,EAA0BjuB,KAAKwuB,GAY9B,IADA,IAAIK,EAAmBD,EAAYnL,QAAQyK,EAAe,IAAI9K,MAAM,IAC3D0L,EAAI,EAAGA,EAAID,EAAiBzsB,OAAQ0sB,IAAK,CAC9C,IAAIC,EAAkBF,EAAiBC,GACvC,GAlBOV,EAkBYW,GAjBxBlB,EAAkB7tB,KAAKouB,GAkBd,MAAM,IAAIY,MAAM,8DAEpBP,EAAazpB,KAAK,CACdoN,MAAO+b,EAAmBY,GAC1BE,aAAa,EACbzpB,MAAOA,KAEf,MAGAipB,EAAazpB,KAAK,CACdoN,MAAOwc,EACPK,aAAa,EACbzpB,MAAOA,KAGnB,CACA,OAAOipB,CACX,CAIO,EAED,oEAIA,SAAU5tB,EAAyBlB,GAEzC,aAEA2D,OAAOooB,eAAe/rB,EAAS,aAAc,CAAGyS,OAAO,IACvDzS,EAAQka,IAAMla,EAAQua,SAAM,EAU5Bva,EAAQua,IATR,SAAazX,GACT,IAAImP,EAAQnP,EAAQysB,gBAAkB,EAClC3d,EAAM9O,EAAQ0sB,cAAgB,EAClC,MAAO,CACHvd,MAAOA,EACPL,IAAKA,EACL6d,MAAOliB,KAAKC,IAAIoE,EAAMK,GAE9B,EASAjS,EAAQka,IAPR,SAAapX,EAASmP,EAAOL,GAGrB5Q,SAAS0uB,gBAAkB5sB,GAAWA,EAAQ6sB,mBAC9C7sB,EAAQ6sB,kBAAkB1d,EAAOL,EAEzC,CAIO,EAED,iEAIA,SAAU1Q,EAAyBlB,GAEzC,aAEA2D,OAAOooB,eAAe/rB,EAAS,aAAc,CAAGyS,OAAO,IACvDzS,EAAQ6tB,iBAAc,EAItB7tB,EAAQ6tB,YAHR,SAAqB7G,GACjB,MAAqB,cAAdA,EAAM7D,KAAyC,IAAlB6D,EAAM4I,OAC9C,CAIO,EAED,8DAIA,SAAU1uB,EAAyBlB,GAEzC,aAEA2D,OAAOooB,eAAe/rB,EAAS,aAAc,CAAGyS,OAAO,IACvDzS,EAAQ6vB,cAAW,EACnB,IAAIC,EAAe,cAInB9vB,EAAQ6vB,SAHR,SAAkB7I,GACd,OAAO8I,EAAazvB,KAAK2mB,EAAM7D,MAA0B,KAAlB6D,EAAM4I,OACjD,CAIO,EAED,4EAIA,SAAU1uB,EAAyBlB,EAASO,GAElD,aAEAoD,OAAOooB,eAAe/rB,EAAS,aAAc,CAAGyS,OAAO,IACvDzS,EAAQ+vB,0BAAuB,EAC/B,IAAIC,EAAoBzvB,EAA6C,qEA+CrEP,EAAQ+vB,qBA7CR,SAA8B/I,GAC1B,IAAI4C,EAAS5C,EAAMiJ,eAAiBjJ,EAAMkJ,WACtC/C,EAAY6C,EAAkBzV,IAAIqP,GAClCuG,EAAoC,IAApBhD,EAAUlb,MAC1Bme,EAAUjD,EAAUlb,QAAU2X,EAAMnX,MAAMhQ,OAC1C4tB,GAA+B,IAAnBrJ,EAAMsJ,SAEtB,OAAQtJ,EAAM7D,KACV,UAAKvB,EACL,IAAK,eACL,IAAK,GACD,MACJ,IAAK,YACD,OAAOuO,EACX,IAAK,MACL,IAAK,SACD,OAAOC,EACX,QACI,OAA4B,IAArBpJ,EAAM7D,IAAI1gB,OAGzB,OAAQukB,EAAM4I,SACV,KAAK,EACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACD,OAAO,EACX,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACD,OAAQS,EACZ,KAAK,EACD,OAAOF,EACX,KAAK,GACD,OAAOC,EACX,QACI,OAAO,EAEnB,CAIO,EAED,qEAIA,SAAUrwB,EAAQO,EAA0BC,GAElD,aAEA,IAAIgwB,EAAWhwB,EAAoC,4DAC/CiwB,EAA0BjwB,EAAwD,2EAClFkwB,EAAQlwB,EAA4C,oEACpDmwB,EAAmBnwB,EAAuD,+EAC1EowB,EAAkCpwB,EAAsE,8FACxGqwB,EAAQrwB,EAA4C,oEACpDswB,EAAStwB,EAA6C,qEACtDuwB,EAASvwB,EAA6C,qEAQtDwwB,EAAiC,WACjC,SAASA,EAAgBvtB,GAChButB,EAAgBC,qBAGZT,EAASvE,QACdnC,KAAKxnB,SAAW,IAAIouB,EAAMQ,YAAYztB,GAEjC+sB,EAASnE,kBACdvC,KAAKxnB,SAAW,IAAIsuB,EAAgCO,mCAAmC1tB,GAElF+sB,EAASpE,kBACdtC,KAAKxnB,SAAW,IAAIquB,EAAiBS,sBAAsB3tB,GAEtD+sB,EAAStE,QACdpC,KAAKxnB,SAAW,IAAIuuB,EAAMQ,YAAY5tB,GAGtCqmB,KAAKxnB,SAAW,IAAIwuB,EAAOQ,aAAa7tB,GAfxCqmB,KAAKxnB,SAAW,IAAIyuB,EAAOQ,qBAAqB9tB,EAiBxD,CAmBA,OAdAutB,EAAgB1I,UAAUkJ,oBAAsB,WAC5C,OAAO1H,KAAKxnB,SAASkvB,qBACzB,EAMAR,EAAgB1I,UAAUmJ,WAAa,SAAU3K,GAC7CgD,KAAKxnB,SAASmvB,WAAW3K,EAC7B,EACAkK,EAAgBC,mBAAqB,WACjC,OAAOR,GACX,EACOO,CACX,CAxCoC,GAyCpChxB,EAAOC,QAAU+wB,CAGV,EAED,8EAIA,SAAU7vB,EAAyBlB,EAASO,GAElD,aAEA,IACQkxB,EADJC,EAAa7H,MAAQA,KAAK6H,YACtBD,EAAgB,SAAUpwB,EAAG+f,GAI7B,OAHAqQ,EAAgB9tB,OAAOguB,gBAClB,CAAEC,UAAW,cAAgBjvB,OAAS,SAAUtB,EAAG+f,GAAK/f,EAAEuwB,UAAYxQ,CAAG,GAC1E,SAAU/f,EAAG+f,GAAK,IAAK,IAAIyQ,KAAKzQ,EAAOzd,OAAO0kB,UAAUrV,eAAesV,KAAKlH,EAAGyQ,KAAIxwB,EAAEwwB,GAAKzQ,EAAEyQ,GAAI,EAC7FJ,EAAcpwB,EAAG+f,EAC5B,EACO,SAAU/f,EAAG+f,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI4H,UAAU,uBAAyB8I,OAAO1Q,GAAK,iCAE7D,SAAS2Q,IAAOlI,KAAKtB,YAAclnB,CAAG,CADtCowB,EAAcpwB,EAAG+f,GAEjB/f,EAAEgnB,UAAkB,OAANjH,EAAazd,OAAOquB,OAAO5Q,IAAM2Q,EAAG1J,UAAYjH,EAAEiH,UAAW,IAAI0J,EACnF,GAEJpuB,OAAOooB,eAAe/rB,EAAS,aAAc,CAAGyS,OAAO,IACvDzS,EAAQmxB,2BAAwB,EAChC,IAAIc,EAA4B1xB,EAAsD,6EAClFswB,EAAStwB,EAAkC,qEAC3CyvB,EAAoBzvB,EAA8C,qEAClE4wB,EAAuC,SAAUe,GAEjD,SAASf,IACL,OAAkB,OAAXe,GAAmBA,EAAOC,MAAMtI,KAAMrnB,YAAcqnB,IAC/D,CA6DA,OAhEA6H,EAAUP,EAAuBe,GAIjCf,EAAsB9I,UAAU+J,gBAAkB,WAC9C,IAAIC,EAAQxI,KACZA,KAAKyI,aAAa1a,iBAAiB,WAAW,SAAUoP,GAChDiL,EAA0BlC,qBAAqB/I,IAGnDqL,EAAME,eACV,IAEA1I,KAAKyI,aAAa1a,iBAAiB,YAAY,SAAUoP,GACjDiL,EAA0BlC,qBAAqB/I,IAGnDqL,EAAME,eACV,IACA1I,KAAKyI,aAAa1a,iBAAiB,SAAS,WACxCya,EAAMG,eACV,IACA3I,KAAKyI,aAAa1a,iBAAiB,SAAS,WACxCya,EAAMG,eACV,IACA3I,KAAKyI,aAAa1a,iBAAiB,SAAS,SAAUoP,GAClDA,EAAMC,iBACNoL,EAAMI,kBAAkBzL,EAC5B,GACJ,EACAmK,EAAsB9I,UAAUqK,qBAAuB,WAIvD,EACAvB,EAAsB9I,UAAUsK,sBAAwB,WACpD,IAAIN,EAAQxI,KAEZ+I,YAAW,WACPP,EAAMQ,oBACV,GAAG,EACP,EACA1B,EAAsB9I,UAAUyK,mBAAqB,SAAUC,GAC3D,IAAInJ,EAAQC,KAAKyI,aAgBjBM,YAAW,WACP,IAAII,EAAqBD,EAAe5F,UACxC6C,EAAkB9V,IAAI0P,EAAOoJ,EAAmBphB,IAAKohB,EAAmBphB,IAC5E,GAAG,EACP,EACOuf,CACX,CAlE0C,CAkExCN,EAAOQ,cACTrxB,EAAQmxB,sBAAwBA,CAGzB,EAED,oEAIA,SAAUjwB,EAAyBlB,EAASO,GAElD,aAEA,IACQkxB,EADJC,EAAa7H,MAAQA,KAAK6H,YACtBD,EAAgB,SAAUpwB,EAAG+f,GAI7B,OAHAqQ,EAAgB9tB,OAAOguB,gBAClB,CAAEC,UAAW,cAAgBjvB,OAAS,SAAUtB,EAAG+f,GAAK/f,EAAEuwB,UAAYxQ,CAAG,GAC1E,SAAU/f,EAAG+f,GAAK,IAAK,IAAIyQ,KAAKzQ,EAAOzd,OAAO0kB,UAAUrV,eAAesV,KAAKlH,EAAGyQ,KAAIxwB,EAAEwwB,GAAKzQ,EAAEyQ,GAAI,EAC7FJ,EAAcpwB,EAAG+f,EAC5B,EACO,SAAU/f,EAAG+f,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI4H,UAAU,uBAAyB8I,OAAO1Q,GAAK,iCAE7D,SAAS2Q,IAAOlI,KAAKtB,YAAclnB,CAAG,CADtCowB,EAAcpwB,EAAG+f,GAEjB/f,EAAEgnB,UAAkB,OAANjH,EAAazd,OAAOquB,OAAO5Q,IAAM2Q,EAAG1J,UAAYjH,EAAEiH,UAAW,IAAI0J,EACnF,GAEJpuB,OAAOooB,eAAe/rB,EAAS,aAAc,CAAGyS,OAAO,IACvDzS,EAAQqxB,kBAAe,EACvB,IAAI4B,EAAuB1yB,EAAgD,mFACvE0xB,EAA4B1xB,EAAsD,6EAClFyvB,EAAoBzvB,EAA8C,qEAClEssB,EAAiBtsB,EAA2C,kEAC5D2yB,EAAc3yB,EAAwC,+DACtD4yB,EAAc5yB,EAAwC,qEAC1D,SAAS6yB,EAAiBpM,GAItB,OAAQA,EAAM7D,MAAQ6D,EAAM4I,OAChC,CACA,IAAIyB,EAA8B,SAAUa,GAExC,SAASb,EAAa7tB,GAClB,IAAI6uB,EAAQH,EAAO5J,KAAKuB,KAAMrmB,IAAYqmB,KAK1C,OAJAwI,EAAMgB,UAAY,IAAIF,EAAYxG,iBAAiBnpB,EAAQqjB,SAC3DwL,EAAMiB,aAAe9vB,EAAQ8vB,aAC7BjB,EAAMD,kBACNC,EAAMkB,mBACClB,CACX,CA2JA,OAnKAX,EAAUL,EAAca,GASxBb,EAAahJ,UAAUkJ,oBAAsB,SAAUiC,GACnD,IAAI/gB,EAAQoX,KAAKyI,aAAa7f,MAO9B,OANI+gB,GAAiB3J,KAAK4J,eACtBhhB,EAAQoX,KAAKwJ,UAAU/F,SAAS,CAC5B7a,MAAOoX,KAAKyI,aAAa7f,MACzB0a,UAAW,CAAElb,MAAO,EAAGL,IAAK,KAC7Ba,OAEAA,CACX,EACA4e,EAAahJ,UAAUkL,iBAAmB,WAClC1J,KAAKyI,aAAa7f,OAClBoX,KAAK2I,eAEb,EACAnB,EAAahJ,UAAUmJ,WAAa,SAAU3K,GAC1CgD,KAAK0I,gBACL1I,KAAKwJ,UAAY,IAAIF,EAAYxG,iBAAiB9F,GAClDgD,KAAK0J,kBACT,EACAlC,EAAahJ,UAAU+J,gBAAkB,WACrC,IAAIC,EAAQxI,KACZA,KAAKyI,aAAa1a,iBAAiB,WAAW,SAAUiR,GACpD,IAAI7B,EAAQ6B,EACRuK,EAAiBpM,KACjBqL,EAAMoB,aAAc,GAEpBxB,EAA0BlC,qBAAqB/I,IAG/CqL,EAAMqB,WAAW1M,IACjBqL,EAAME,eAEd,IACA1I,KAAKyI,aAAa1a,iBAAiB,YAAY,SAAUiR,GACrD,IAAI7B,EAAQ6B,EACRuK,EAAiBpM,KACjBqL,EAAMoB,aAAc,GAEpBxB,EAA0BlC,qBAAqB/I,IAGnDqL,EAAME,eACV,IACA1I,KAAKyI,aAAa1a,iBAAiB,SAAS,WACxCya,EAAMG,eACV,IACA3I,KAAKyI,aAAa1a,iBAAiB,SAAS,SAAUoP,IAK9CA,aAAiB2M,cAAgB3M,EAAM4M,aACvCvB,EAAMoB,aAAc,GAExBpB,EAAMG,eACV,IACA3I,KAAKyI,aAAa1a,iBAAiB,SAAS,SAAUoP,GAClDqL,EAAMI,kBAAkBzL,EAC5B,GACJ,EACAqK,EAAahJ,UAAUqL,WAAa,SAAU1M,GAC1C,OAAOkM,EAAYrD,SAAS7I,IAAU6F,EAAegB,YAAY7G,EACrE,EACAqK,EAAahJ,UAAUmK,cAAgB,WACnC,IAAI3I,KAAK4J,YAAT,CAGA5J,KAAK4J,aAAc,EACnB,IAAI7J,EAAQC,KAAKyI,aACbS,EAAiBlJ,KAAKwJ,UAAUtG,OAAO,CACvCI,UAAW6C,EAAkBzV,IAAIqP,GACjCnX,MAAOmX,EAAMnX,QAEjBmX,EAAMnX,MAAQsgB,EAAetgB,MAC7Bud,EAAkB9V,IAAI0P,EAAOmJ,EAAe5F,UAAUlb,MAAO8gB,EAAe5F,UAAUvb,KACtFiY,KAAKiJ,mBAAmBC,EATxB,CAUJ,EAKA1B,EAAahJ,UAAUyK,mBAAqB,SAAUC,GAEtD,EACA1B,EAAahJ,UAAUkK,cAAgB,WACnC,GAAK1I,KAAK4J,YAAV,CAGA5J,KAAK4J,aAAc,EACnB,IAAI7J,EAAQC,KAAKyI,aACbnF,EAAY6C,EAAkBzV,IAAIqP,GAClCiK,EAAmBhK,KAAKwJ,UAAU/F,SAAS,CAC3CH,UAAWA,EACX1a,MAAOmX,EAAMnX,QAEjBmX,EAAMnX,MAAQohB,EAAiBphB,MAC/Bud,EAAkB9V,IAAI0P,EAAOiK,EAAiB1G,UAAUlb,MAAO4hB,EAAiB1G,UAAUvb,IAT1F,CAUJ,EACAyf,EAAahJ,UAAUqK,qBAAuB,SAAU1L,GAIpDA,EAAMC,gBACV,EACAoK,EAAahJ,UAAUsK,sBAAwB,WAC3C9I,KAAKgJ,oBACT,EACAxB,EAAahJ,UAAUoK,kBAAoB,SAAUzL,GACjD,IAAI8M,EACAC,EAAa,GACjBlK,KAAK6I,qBAAqB1L,GAC1B6C,KAAK0I,gBACDvL,EAAMgN,cACND,EAAa/M,EAAMgN,cAAcC,QAAQ,QAEpC/zB,OAAO8zB,gBACZD,EAAa7zB,OAAO8zB,cAAcC,QAAQ,SAE9C,IAAI9G,EAAY6C,EAAkBzV,IAAIsP,KAAKyI,eAC3CwB,EAAejK,KAAKyI,aAAa7f,MAAMgR,MAAM,KAChCyQ,OAAO/G,EAAUlb,MAAOkb,EAAUvb,IAAMub,EAAUlb,MAAO8hB,GACtED,EAAeA,EAAanO,KAAK,IAC7BkE,KAAKyJ,cACLzJ,KAAKyJ,aAAa,CACda,sBAAuBL,IAG/BjK,KAAKyI,aAAa7f,MAAQqhB,EAC1B9D,EAAkB9V,IAAI2P,KAAKyI,aAAcnF,EAAUlb,MAAQ8hB,EAAWtxB,OAAQ0qB,EAAUlb,MAAQ8hB,EAAWtxB,QAC3GonB,KAAK8I,uBACT,EACAtB,EAAahJ,UAAUwK,mBAAqB,WACxC,IAAI7L,EAAQhmB,SAASozB,YAAY,SACjCvK,KAAK2I,gBACLxL,EAAMqN,UAAU,SAAS,GAAM,GAC/BxK,KAAKyI,aAAagC,cAActN,EACpC,EACAqK,EAAahJ,UAAUkM,iBAAmB,WACtC,IAAI3K,EAAQC,KAAKyI,aACbnF,EAAY6C,EAAkBzV,IAAIqP,GAClC4K,EAAgB,CAChBrH,UAAWA,EACX1a,MAAOmX,EAAMnX,OASjB,OAPIoX,KAAK2K,eACLA,EAAgB3K,KAAK2K,qBACd3K,KAAK2K,eAEPrH,EAAUlb,QAAU2X,EAAMnX,MAAMhQ,QAAUonB,KAAK4J,cACpDe,EAAgB3K,KAAKwJ,UAAU/F,SAASkH,IAErCA,CACX,EACOnD,CACX,CArKiC,CAqK/B4B,EAAqBwB,mBACvBz0B,EAAQqxB,aAAeA,CAGhB,EAED,mEAIA,SAAUnwB,EAAyBlB,EAASO,GAElD,aAEA,IACQkxB,EADJC,EAAa7H,MAAQA,KAAK6H,YACtBD,EAAgB,SAAUpwB,EAAG+f,GAI7B,OAHAqQ,EAAgB9tB,OAAOguB,gBAClB,CAAEC,UAAW,cAAgBjvB,OAAS,SAAUtB,EAAG+f,GAAK/f,EAAEuwB,UAAYxQ,CAAG,GAC1E,SAAU/f,EAAG+f,GAAK,IAAK,IAAIyQ,KAAKzQ,EAAOzd,OAAO0kB,UAAUrV,eAAesV,KAAKlH,EAAGyQ,KAAIxwB,EAAEwwB,GAAKzQ,EAAEyQ,GAAI,EAC7FJ,EAAcpwB,EAAG+f,EAC5B,EACO,SAAU/f,EAAG+f,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI4H,UAAU,uBAAyB8I,OAAO1Q,GAAK,iCAE7D,SAAS2Q,IAAOlI,KAAKtB,YAAclnB,CAAG,CADtCowB,EAAcpwB,EAAG+f,GAEjB/f,EAAEgnB,UAAkB,OAANjH,EAAazd,OAAOquB,OAAO5Q,IAAM2Q,EAAG1J,UAAYjH,EAAEiH,UAAW,IAAI0J,EACnF,GAEJpuB,OAAOooB,eAAe/rB,EAAS,aAAc,CAAGyS,OAAO,IACvDzS,EAAQoxB,iBAAc,EACtB,IAAIP,EAAStwB,EAAkC,qEAC3C0xB,EAA4B1xB,EAAsD,6EAClFyvB,EAAoBzvB,EAA8C,qEACtE,SAASm0B,EAAavH,EAAWwH,GAC7B,MAAO,CACH1iB,MAAOkb,EAAUlb,MAAQ0iB,EACzB/iB,IAAKub,EAAUvb,IAAM+iB,EAE7B,CACA,IAAIvD,EAA6B,SAAUc,GAEvC,SAASd,IACL,OAAkB,OAAXc,GAAmBA,EAAOC,MAAMtI,KAAMrnB,YAAcqnB,IAC/D,CAwEA,OA3EA6H,EAAUN,EAAac,GAIvBd,EAAY/I,UAAUkJ,oBAAsB,WACxC,OAAOV,EAAOQ,aAAahJ,UAAUkJ,oBAAoBjJ,KAAKuB,MAAM,EACxE,EACAuH,EAAY/I,UAAU+J,gBAAkB,WACpC,IAAIC,EAAQxI,KACZA,KAAKyI,aAAa1a,iBAAiB,WAAW,SAAUoP,GACpDqL,EAAMuC,gBAAgB5N,EAC1B,IACA6C,KAAKyI,aAAa1a,iBAAiB,SAAS,WACxCya,EAAMtF,QACV,IACAlD,KAAKyI,aAAa1a,iBAAiB,SAAS,SAAUoP,GAClDqL,EAAMI,kBAAkBzL,EAC5B,GACJ,EACAoK,EAAY/I,UAAU0E,OAAS,WAC3B,IAAInD,EAAQC,KAAKyI,aACbkC,EAAgB3K,KAAK0K,mBACrBxB,EAAiBlJ,KAAKwJ,UAAUtG,OAAOyH,GAC3C5K,EAAMnX,MAAQsgB,EAAetgB,MAC7Bud,EAAkB9V,IAAI0P,EAAOmJ,EAAe5F,UAAUlb,MAAO8gB,EAAe5F,UAAUvb,IAC1F,EACAwf,EAAY/I,UAAUuM,gBAAkB,SAAU5N,GAC9C,IAAIiL,EAA0BlC,qBAAqB/I,GAAnD,CAIA,GADAA,EAAMC,iBACF4C,KAAK6J,WAAW1M,GAChB6C,KAAK2K,cAAgB3K,KAAKwJ,UAAU3F,iBAAiB,CACjD1G,MAAOA,EACPmG,UAAW6C,EAAkBzV,IAAIsP,KAAKyI,cACtC7f,MAAOoX,KAAKyI,aAAa7f,YAG5B,CAKD,IAAIoiB,EAAWhL,KAAKyI,aAAa7f,MAC7B0a,EAAY6C,EAAkBzV,IAAIsP,KAAKyI,cACvCwC,EAAWD,EAASra,MAAM,EAAG2S,EAAUlb,OACvC+U,EAAM7D,IACN0R,EAASra,MAAM2S,EAAUlb,OAC7Bkb,EAAYuH,EAAavH,EAAW,GACpCtD,KAAK2K,cAAgB,CACjBrH,UAAWA,EACX1a,MAAOqiB,GAEP3H,EAAUlb,QAAU6iB,EAASryB,SAC7BonB,KAAK2K,cAAgB3K,KAAKwJ,UAAU/F,SAASzD,KAAK2K,eAE1D,CACA3K,KAAKkD,QA5BL,CA6BJ,EACAqE,EAAY/I,UAAUwK,mBAAqB,WACvC,IAAIjJ,EAAQC,KAAKyI,aACbnF,EAAY6C,EAAkBzV,IAAIsP,KAAKyI,cACvC7f,EAAQoX,KAAKwJ,UAAUtG,OAAO,CAC9BI,UAAWA,EACX1a,MAAOmX,EAAMnX,QACdA,MACH0a,EAAYuH,EAAavH,EAAW,GACpCvD,EAAMnX,MAAQA,EAIdmgB,YAAW,WACP5C,EAAkB9V,IAAI0P,EAAOuD,EAAUlb,MAAOkb,EAAUvb,IAC5D,GAAG,EACP,EACOwf,CACX,CA7EgC,CA6E9BP,EAAOQ,cACTrxB,EAAQoxB,YAAcA,CAGf,EAED,mEAIA,SAAUlwB,EAAyBlB,EAASO,GAElD,aAEA,IACQkxB,EADJC,EAAa7H,MAAQA,KAAK6H,YACtBD,EAAgB,SAAUpwB,EAAG+f,GAI7B,OAHAqQ,EAAgB9tB,OAAOguB,gBAClB,CAAEC,UAAW,cAAgBjvB,OAAS,SAAUtB,EAAG+f,GAAK/f,EAAEuwB,UAAYxQ,CAAG,GAC1E,SAAU/f,EAAG+f,GAAK,IAAK,IAAIyQ,KAAKzQ,EAAOzd,OAAO0kB,UAAUrV,eAAesV,KAAKlH,EAAGyQ,KAAIxwB,EAAEwwB,GAAKzQ,EAAEyQ,GAAI,EAC7FJ,EAAcpwB,EAAG+f,EAC5B,EACO,SAAU/f,EAAG+f,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI4H,UAAU,uBAAyB8I,OAAO1Q,GAAK,iCAE7D,SAAS2Q,IAAOlI,KAAKtB,YAAclnB,CAAG,CADtCowB,EAAcpwB,EAAG+f,GAEjB/f,EAAEgnB,UAAkB,OAANjH,EAAazd,OAAOquB,OAAO5Q,IAAM2Q,EAAG1J,UAAYjH,EAAEiH,UAAW,IAAI0J,EACnF,GAEJpuB,OAAOooB,eAAe/rB,EAAS,aAAc,CAAGyS,OAAO,IACvDzS,EAAQixB,iBAAc,EACtB,IAAIJ,EAAStwB,EAAkC,qEAC3C0xB,EAA4B1xB,EAAsD,6EAClFyvB,EAAoBzvB,EAA8C,qEAClE0wB,EAA6B,SAAUiB,GAEvC,SAASjB,IACL,OAAkB,OAAXiB,GAAmBA,EAAOC,MAAMtI,KAAMrnB,YAAcqnB,IAC/D,CA6DA,OAhEA6H,EAAUT,EAAaiB,GAIvBjB,EAAY5I,UAAUkJ,oBAAsB,WACxC,OAAOW,EAAO7J,UAAUkJ,oBAAoBjJ,KAAKuB,MAAM,EAC3D,EACAoH,EAAY5I,UAAU+J,gBAAkB,WACpC,IAAIC,EAAQxI,KACZA,KAAKyI,aAAa1a,iBAAiB,WAAW,SAAUoP,GACpDqL,EAAMuC,gBAAgB5N,EAC1B,IACA6C,KAAKyI,aAAa1a,iBAAiB,SAAS,SAAUoP,GAClD,IAAI+N,EAAgB/N,aAAiB2M,YAGjCoB,IACA1C,EAAMmC,cAAgB,CAClBrH,UAAW,CAAElb,MAAO,EAAGL,IAAK,GAC5Ba,MAAO4f,EAAMC,aAAa7f,QAGlC4f,EAAM2C,iBACDD,GACD1C,EAAM4C,2BAEd,IACApL,KAAKyI,aAAa1a,iBAAiB,SAAS,WACxCya,EAAM2C,gBACV,IACAnL,KAAKyI,aAAa1a,iBAAiB,SAAS,SAAUoP,GAClDqL,EAAMI,kBAAkBzL,EAC5B,GACJ,EAIAiK,EAAY5I,UAAU4M,0BAA4B,WAC9C,IAAIrL,EAAQC,KAAKyI,aACG,KAAhB1I,EAAMnX,OACNmgB,YAAW,WACPhJ,EAAMnX,MAAQ,EAClB,GAAG,EAEX,EACAwe,EAAY5I,UAAU2M,eAAiB,WACnC,IAAIpL,EAAQC,KAAKyI,aACbkC,EAAgB3K,KAAK0K,mBACrBxB,EAAiBlJ,KAAKwJ,UAAUtG,OAAOyH,GAC3C5K,EAAMnX,MAAQsgB,EAAetgB,MAC7Bud,EAAkB9V,IAAI0P,EAAOmJ,EAAe5F,UAAUlb,MAAO8gB,EAAe5F,UAAUvb,IAC1F,EACAqf,EAAY5I,UAAUuM,gBAAkB,SAAU5N,GAC1CiL,EAA0BlC,qBAAqB/I,IAG/C6C,KAAK6J,WAAW1M,KAChB6C,KAAK2K,cAAgB3K,KAAKwJ,UAAU3F,iBAAiB,CACjD1G,MAAOA,EACPmG,UAAW6C,EAAkBzV,IAAIsP,KAAKyI,cACtC7f,MAAOoX,KAAKyI,aAAa7f,QAGrC,EACOwe,CACX,CAlEgC,CAkE9BJ,EAAOQ,cACTrxB,EAAQixB,YAAcA,CAGf,EAED,6FAIA,SAAU/vB,EAAyBlB,EAASO,GAElD,aAQA,IACQkxB,EADJC,EAAa7H,MAAQA,KAAK6H,YACtBD,EAAgB,SAAUpwB,EAAG+f,GAI7B,OAHAqQ,EAAgB9tB,OAAOguB,gBAClB,CAAEC,UAAW,cAAgBjvB,OAAS,SAAUtB,EAAG+f,GAAK/f,EAAEuwB,UAAYxQ,CAAG,GAC1E,SAAU/f,EAAG+f,GAAK,IAAK,IAAIyQ,KAAKzQ,EAAOzd,OAAO0kB,UAAUrV,eAAesV,KAAKlH,EAAGyQ,KAAIxwB,EAAEwwB,GAAKzQ,EAAEyQ,GAAI,EAC7FJ,EAAcpwB,EAAG+f,EAC5B,EACO,SAAU/f,EAAG+f,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI4H,UAAU,uBAAyB8I,OAAO1Q,GAAK,iCAE7D,SAAS2Q,IAAOlI,KAAKtB,YAAclnB,CAAG,CADtCowB,EAAcpwB,EAAG+f,GAEjB/f,EAAEgnB,UAAkB,OAANjH,EAAazd,OAAOquB,OAAO5Q,IAAM2Q,EAAG1J,UAAYjH,EAAEiH,UAAW,IAAI0J,EACnF,GAEJpuB,OAAOooB,eAAe/rB,EAAS,aAAc,CAAGyS,OAAO,IACvDzS,EAAQkxB,wCAAqC,EAC7C,IACIA,EAAoD,SAAUgB,GAE9D,SAAShB,IACL,OAAkB,OAAXgB,GAAmBA,EAAOC,MAAMtI,KAAMrnB,YAAcqnB,IAC/D,CAaA,OAhBA6H,EAAUR,EAAoCgB,GAI9ChB,EAAmC7I,UAAUmK,cAAgB,WACzD,IAAIH,EAAQxI,KACZ+I,YAAW,WACPV,EAAO7J,UAAUmK,cAAclK,KAAK+J,EACxC,GAAG,EACP,EACAnB,EAAmC7I,UAAUkK,cAAgB,WACzD,IAAIF,EAAQxI,KACZ+I,YAAW,WACPV,EAAO7J,UAAUkK,cAAcjK,KAAK+J,EACxC,GAAG,EACP,EACOnB,CACX,CAlBuD,CADhC3wB,EAA4C,+EAmBhD4wB,uBACnBnxB,EAAQkxB,mCAAqCA,CAGtC,EAED,oEAIA,SAAUhwB,EAAyBlB,EAASO,GAElD,aAEA,IACQkxB,EADJC,EAAa7H,MAAQA,KAAK6H,YACtBD,EAAgB,SAAUpwB,EAAG+f,GAI7B,OAHAqQ,EAAgB9tB,OAAOguB,gBAClB,CAAEC,UAAW,cAAgBjvB,OAAS,SAAUtB,EAAG+f,GAAK/f,EAAEuwB,UAAYxQ,CAAG,GAC1E,SAAU/f,EAAG+f,GAAK,IAAK,IAAIyQ,KAAKzQ,EAAOzd,OAAO0kB,UAAUrV,eAAesV,KAAKlH,EAAGyQ,KAAIxwB,EAAEwwB,GAAKzQ,EAAEyQ,GAAI,EAC7FJ,EAAcpwB,EAAG+f,EAC5B,EACO,SAAU/f,EAAG+f,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI4H,UAAU,uBAAyB8I,OAAO1Q,GAAK,iCAE7D,SAAS2Q,IAAOlI,KAAKtB,YAAclnB,CAAG,CADtCowB,EAAcpwB,EAAG+f,GAEjB/f,EAAEgnB,UAAkB,OAANjH,EAAazd,OAAOquB,OAAO5Q,IAAM2Q,EAAG1J,UAAYjH,EAAEiH,UAAW,IAAI0J,EACnF,GAEJpuB,OAAOooB,eAAe/rB,EAAS,aAAc,CAAGyS,OAAO,IACvDzS,EAAQsxB,0BAAuB,EAC/B,IACIA,EAAsC,SAAUY,GAEhD,SAASZ,IACL,OAAkB,OAAXY,GAAmBA,EAAOC,MAAMtI,KAAMrnB,YAAcqnB,IAC/D,CAOA,OAVA6H,EAAUJ,EAAsBY,GAIhCZ,EAAqBjJ,UAAUkJ,oBAAsB,WACjD,OAAO1H,KAAKyI,aAAa7f,KAC7B,EACA6e,EAAqBjJ,UAAUmJ,WAAa,WAE5C,EACOF,CACX,CAZyC,CADd/wB,EAAgD,mFAapDk0B,mBACvBz0B,EAAQsxB,qBAAuBA,CAGxB,EAED,kFAIA,SAAUpwB,EAAyBlB,GAEzC,aAEA2D,OAAOooB,eAAe/rB,EAAS,aAAc,CAAGyS,OAAO,IACvDzS,EAAQy0B,uBAAoB,EAC5B,IAAIA,EACA,SAA2BjxB,GACvBqmB,KAAKyI,aAAe9uB,EAAQV,QAC5B+mB,KAAK4J,aAAc,CACvB,EAGJzzB,EAAQy0B,kBAAoBA,CAGrB,EAED,qDAIA,SAAU10B,EAAQO,EAA0BC,GAElD,aAEA,IAAIwwB,EAAkBxwB,EAAkD,sEACxER,EAAOC,QAAU+wB,CAGV,EAED,0EAIA,SAAUhxB,EAAQO,EAA0BC,GAElD,aAEA,IAAIgwB,EAAWhwB,EAAwC,4DACvDR,EAAOC,QAAU,WAEb,OAAQuwB,EAASrE,kBACrB,CAGO,EAED,iEAIA,SAAUhrB,EAAyBC,EAAqBZ,GAE9D,aAKA,SAAS20B,EAA8BC,EAAQC,GAC7C,GAAc,MAAVD,EAAgB,MAAO,CAAC,EAC5B,IAEIhS,EAAK1J,EAFLvI,EAAS,CAAC,EACVmkB,EAAa1xB,OAAO4O,KAAK4iB,GAE7B,IAAK1b,EAAI,EAAGA,EAAI4b,EAAW5yB,OAAQgX,IACjC0J,EAAMkS,EAAW5b,GACb2b,EAASv0B,QAAQsiB,IAAQ,IAC7BjS,EAAOiS,GAAOgS,EAAOhS,IAEvB,OAAOjS,CACT,CAfA3Q,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCm0B,EAAK,WAAa,OAAqBJ,CAA+B,GAkBtF,EAED,yEAIA,SAAUh0B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBgvB,CAAgC,IAE/E,IAAIC,EAAqDj1B,EAAkD,0DACvGk1B,EAA+Cl1B,EAA6C,2CAC5CA,EAA6C,qDAKtH,MAAMg1B,UAAuCC,EAA4D,QAKnGE,4BACF,MAAMC,EAAO9L,KAAK+L,YACZzI,EAAYwI,EAAKE,cAAgBF,EAAKE,eACtCC,EAAe3I,GAAaA,EAAU2I,aACtCC,EAAc5I,GAAaA,EAAU4I,YAC3C,OAAmB,MAAfA,GAAuC,MAAhBD,GAAwBA,EAAeC,EACzDD,EAEFC,CACT,CAMIC,0BACF,MAAML,EAAO9L,KAAK+L,YACZzI,EAAYwI,EAAKE,cAAgBF,EAAKE,eACtCC,EAAe3I,GAAaA,EAAU2I,aACtCC,EAAc5I,GAAaA,EAAU4I,YAC3C,OAAmB,MAAfA,GAAuC,MAAhBD,GAAwBA,EAAeC,EACzDD,EAEFC,CACT,CAMAE,cAAchkB,EAAOL,GACnB,IAAKiY,KAAK+L,YAAYM,YAAa,OACnC,MAAMC,EAAQtM,KAAK+L,YAAYM,cAC/BC,EAAMC,SAASvM,KAAKD,MAAMyM,YAAcxM,KAAKD,MAAO3X,GACpDkkB,EAAMG,OAAOzM,KAAKD,MAAM2M,WAAa1M,KAAKD,MAAOhY,GACjD,MAAM+jB,EAAO9L,KAAK+L,YACZzI,EAAYwI,EAAKE,cAAgBF,EAAKE,eACxC1I,IACFA,EAAUqJ,kBACVrJ,EAAUsJ,SAASN,GAEvB,CAMI1jB,YAEF,OAAOoX,KAAKD,MAAM8M,WACpB,CACIjkB,UAAMA,GACRoX,KAAKD,MAAM8M,YAAcjkB,CAC3B,EAEFgjB,EAAsD,QAAEF,+BAAiCA,CAKlF,EAED,yDAIA,SAAUr0B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBowB,CAAiB,IAEhE,IAAIC,EAAgDr2B,EAA6C,qDAC7Fk1B,EAA+Cl1B,EAA6C,2CAKrH,MAAMo2B,UAAwBC,EAAuD,QAQnFrO,YAAYqB,GACViN,QACAhN,KAAKD,MAAQA,EACbC,KAAKiN,UAAY,CAAC,CACpB,CAIIlB,kBACF,IAAImB,EAAuBC,EAAwBC,EACnD,OAAyM,QAAjMF,EAA8F,QAArEC,GAA0BC,EAAcpN,KAAKD,OAAO/iB,mBAAoD,IAA3BmwB,OAAoC,EAASA,EAAuB1O,KAAK2O,UAAoD,IAA1BF,EAAmCA,EAAwB/1B,QAC9Q,CAMIk2B,eAEF,OAAOrN,KAAKD,QAAUC,KAAK+L,YAAYlG,aACzC,CAMIgG,4BACF,OAAO7L,KAAKD,MAAM2F,cACpB,CAMIyG,0BACF,OAAOnM,KAAKD,MAAM4F,YACpB,CAMAyG,cAAchkB,EAAOL,GACnBiY,KAAKD,MAAM+F,kBAAkB1d,EAAOL,EACtC,CAMIa,YACF,OAAOoX,KAAKD,MAAMnX,KACpB,CACIA,UAAMA,GACRoX,KAAKD,MAAMnX,MAAQA,CACrB,CAMA0kB,WAAWC,GACTzzB,OAAO4O,KAAK6kB,GAAUtyB,SAAQkiB,GAAS6C,KAAKwN,oBAAoBV,EAAgBW,WAAWtQ,GAAQoQ,EAASpQ,KAC9G,CAMAuQ,eACE5zB,OAAO4O,KAAKsX,KAAKiN,WAAWhyB,SAAQkiB,GAAS6C,KAAKwN,oBAAoBrQ,IACxE,CAGAqQ,oBAAoBrQ,EAAOwQ,GACrB3N,KAAKiN,UAAU9P,KACjB6C,KAAKD,MAAM/R,oBAAoBmP,EAAO6C,KAAKiN,UAAU9P,WAC9C6C,KAAKiN,UAAU9P,IAEpBwQ,IACF3N,KAAKD,MAAMhS,iBAAiBoP,EAAOwQ,GACnC3N,KAAKiN,UAAU9P,GAASwQ,EAE5B,EAEFb,EAAgBW,WAAa,CAC3BG,gBAAiB,UACjB7N,MAAO,QACP8N,KAAM,OACNC,MAAO,QACPC,MAAO,QACPC,OAAQ,QAEVpC,EAAsD,QAAEkB,gBAAkBA,CAKnE,EAED,6CAIA,SAAUz1B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBuxB,CAAW,IAE1D,IAAIC,EAAqEx3B,EAAoE,kEACzIy3B,EAA8Cz3B,EAA4C,0CAC1F03B,EAAuD13B,EAAqD,mDAE5G23B,GAD+C33B,EAA6C,2CAC1CA,EAAgD,+CAClG43B,EAAgD53B,EAA6C,qDAC7F63B,EAAqD73B,EAAkD,0DACvG83B,EAAqE93B,EAAkE,0EACvI+3B,EAA+C/3B,EAA6C,2CACrCA,EAAqD,mDACzDA,EAAgD,8CACnDA,EAA6C,2CAC5BA,EAA8D,4DAC3DA,EAAiE,+DACjEA,EAAiE,+DAC/DA,EAAmE,iEAC/EA,EAAuD,qDAC/DA,EAA+C,6CAChDA,EAA8C,4CAqBxH,MAAMg4B,EAAY,CAAC,QAGnB,MAAMT,EAeJvP,YAAYiQ,EAAIC,GACd5O,KAAK2O,GAAKA,aAAcL,EAAuD,QAAIK,EAAKA,EAAGE,mBAAoC,UAAfF,EAAGG,SAAsC,aAAfH,EAAGG,QAAyB,IAAIN,EAA4E,QAAEG,GAAM,IAAIJ,EAA4D,QAAEI,GAChU3O,KAAK+O,QAAS,EAAGV,EAAyD,SAAGO,GAC7E5O,KAAKgP,WAAa,CAAC,EACnBhP,KAAKiP,OAAS,GACdjP,KAAKkP,eAAiB,GACtBlP,KAAKmP,eAAiBnP,KAAKmP,eAAeC,KAAKpP,MAC/CA,KAAKqP,SAAWrP,KAAKqP,SAASD,KAAKpP,MACnCA,KAAKsP,UAAYtP,KAAKsP,UAAUF,KAAKpP,MACrCA,KAAKuP,QAAUvP,KAAKuP,QAAQH,KAAKpP,MACjCA,KAAKwP,SAAWxP,KAAKwP,SAASJ,KAAKpP,MACnCA,KAAKyP,SAAWzP,KAAKyP,SAASL,KAAKpP,MACnCA,KAAK0P,YAAc1P,KAAK0P,YAAYN,KAAKpP,MACzCA,KAAK2P,oBAAsB3P,KAAK2P,oBAAoBP,KAAKpP,MACzDA,KAAK4P,cAGL5P,KAAK6P,cACL7P,KAAKsP,WACP,CAGInP,WACF,OAAOH,KAAK+O,OAAO5O,IACrB,CACA2P,WAAW3P,GACT,IAAI4P,EACJ,OAAe,MAAR5P,IAAkD,QAAhC4P,EAAe/P,KAAK+O,cAAqC,IAAjBgB,OAA0B,EAASA,EAAaD,WAAW3P,GAC9H,CACIA,SAAKA,GACP,GAAIH,KAAK8P,WAAW3P,GAAO,OAG3B,KAAMA,aAAgBsO,EAAsD,QAAEuB,SAAWhQ,KAAK+O,OAAOrQ,eAAgB,EAAG2P,EAAgD4B,aAAa9P,GAInL,YAHAH,KAAK+O,OAAOmB,cAAc,CACxB/P,SAIJ,MAAM4O,GAAS,EAAGV,EAAyD,SAAG,CAC5ElO,SAEF4O,EAAOoB,cAAgBnQ,KAAK+O,OAAOoB,cACnCnQ,KAAK+O,OAASA,CAChB,CAGInmB,YACF,OAAOoX,KAAKiP,MACd,CACIrmB,UAAMoc,GACJhF,KAAKpX,QAAUoc,IACnBhF,KAAK+O,OAAOnmB,MAAQoc,EACpBhF,KAAKoQ,gBACLpQ,KAAK0P,cACP,CAGIS,oBACF,OAAOnQ,KAAKkP,cACd,CACIiB,kBAAcnL,GACZhF,KAAKmQ,gBAAkBnL,IAC3BhF,KAAK+O,OAAOoB,cAAgBnL,EAC5BhF,KAAKoQ,gBACLpQ,KAAK0P,cACP,CAGIW,iBACF,OAAOrQ,KAAK+O,OAAOsB,UACrB,CACIA,eAAWC,GACTtQ,KAAK+O,OAAOwB,iBAAiBD,KACjCtQ,KAAK+O,OAAOsB,WAAaC,EACzBtQ,KAAKoQ,gBACLpQ,KAAK0P,cACP,CAGIc,mBACF,OAAOxQ,KAAK+O,OAAOyB,YACrB,CAMAZ,cACE5P,KAAK2O,GAAGrB,WAAW,CACjBM,gBAAiB5N,KAAKmP,eACtBpP,MAAOC,KAAKqP,SACZxB,KAAM7N,KAAKuP,QACXzB,MAAO9N,KAAKyP,SACZ1B,MAAO/N,KAAKwP,SACZxB,OAAQhO,KAAKsP,WAEjB,CAMAmB,gBACMzQ,KAAK2O,IAAI3O,KAAK2O,GAAGjB,cACvB,CAMAgD,WAAWC,GACT,IAAK,IAAIj4B,EAAOC,UAAUC,OAAQC,EAAO,IAAIC,MAAMJ,EAAO,EAAIA,EAAO,EAAI,GAAIK,EAAO,EAAGA,EAAOL,EAAMK,IAClGF,EAAKE,EAAO,GAAKJ,UAAUI,GAE7B,MAAM63B,EAAY5Q,KAAKgP,WAAW2B,GAC7BC,GACLA,EAAU31B,SAAQ41B,GAAKA,KAAKh4B,IAC9B,CAMI6sB,qBACF,OAAO1F,KAAK8Q,gBAAkB9Q,KAAK+Q,mBAAqB/Q,KAAK2O,GAAGjJ,cAClE,CAGIsL,gBACF,OAAOhR,KAAK8Q,gBAAkB9Q,KAAK+Q,mBAAqB/Q,KAAK2O,GAAGhJ,YAClE,CACIqL,cAAUC,GACPjR,KAAK2O,IAAO3O,KAAK2O,GAAGtB,WACzBrN,KAAK2O,GAAGuC,OAAOD,EAAKA,GACpBjR,KAAKmP,iBACP,CAMAA,iBAEMnP,KAAKwQ,eAAiBxQ,KAAK2O,GAAG/lB,OAChC4U,QAAQ2T,KAAK,2GAGfnR,KAAKoR,WAAa,CAChBhpB,MAAO4X,KAAK0F,eACZ3d,IAAKiY,KAAKgR,UAEd,CAGAnB,cACE7P,KAAK+O,OAAOnmB,MAAQoX,KAAK2O,GAAG/lB,MAC5BoX,KAAKiP,OAASjP,KAAK+O,OAAOnmB,KAC5B,CAGAwnB,gBACE,MAAMiB,EAAmBrR,KAAK+O,OAAOoB,cAC/BlF,EAAWjL,KAAK+O,OAAOnmB,MACvB0oB,EAAkBtR,KAAKwQ,aACvBe,EAAYvR,KAAKmQ,gBAAkBkB,GAAoBrR,KAAKpX,QAAUqiB,EAC5EjL,KAAKkP,eAAiBmC,EACtBrR,KAAKiP,OAAShE,EACVjL,KAAK2O,GAAG/lB,QAAU0oB,IAAiBtR,KAAK2O,GAAG/lB,MAAQ0oB,GACnDC,GAAWvR,KAAKwR,mBACtB,CAGAtB,cAActB,GACZ,MAAMzO,KACFA,GACEyO,EACJ6C,GAAW,EAAGvD,EAAmEzC,GAAGmD,EAAMF,GACtFgD,GAAc1R,KAAK8P,WAAW3P,GAC9BwR,IAAc,EAAGxD,EAA4CyD,gBAAgB5R,KAAK+O,OAAQ0C,GAC5FC,IAAY1R,KAAKG,KAAOA,GACxBwR,GAAY3R,KAAK+O,OAAOmB,cAAcuB,IACtCC,GAAcC,IAAY3R,KAAKoQ,eACrC,CAGAyB,aAAab,GACM,MAAbA,IACJhR,KAAKgR,UAAYA,EAGjBhR,KAAK8R,mBAAmBd,GAC1B,CAMAc,mBAAmBd,GACjBhR,KAAK+R,qBACL/R,KAAK+Q,mBAAqBC,EAC1BhR,KAAK8Q,gBAAkB/H,YAAW,KAC3B/I,KAAK2O,KACV3O,KAAKgR,UAAYhR,KAAK+Q,mBACtB/Q,KAAK+R,qBAAoB,GACxB,GACL,CAMAP,oBACExR,KAAK0Q,WAAW,SAAU1Q,KAAKgS,aAC3BhS,KAAK+O,OAAOkD,YAAYjS,KAAK0Q,WAAW,WAAY1Q,KAAKgS,YAC/D,CAMAD,qBACM/R,KAAK8Q,kBACPoB,aAAalS,KAAK8Q,wBACX9Q,KAAK8Q,gBAEhB,CAGApB,cACE1P,KAAKgR,UAAYhR,KAAK+O,OAAOoD,gBAAgBnS,KAAK+O,OAAOoD,gBAAgBnS,KAAKgR,UAAW7C,EAA4CiE,UAAUC,MACjJ,CAGA1C,sBACM3P,KAAK0F,iBAAmB1F,KAAKgR,WACjChR,KAAK0P,aACP,CAGA4C,GAAG3B,EAAIhD,GAGL,OAFK3N,KAAKgP,WAAW2B,KAAK3Q,KAAKgP,WAAW2B,GAAM,IAChD3Q,KAAKgP,WAAW2B,GAAIn1B,KAAKmyB,GAClB3N,IACT,CAGAuS,IAAI5B,EAAIhD,GACN,IAAK3N,KAAKgP,WAAW2B,GAAK,OAAO3Q,KACjC,IAAK2N,EAEH,cADO3N,KAAKgP,WAAW2B,GAChB3Q,KAET,MAAMwS,EAASxS,KAAKgP,WAAW2B,GAAI35B,QAAQ22B,GAE3C,OADI6E,GAAU,GAAGxS,KAAKgP,WAAW2B,GAAItG,OAAOmI,EAAQ,GAC7CxS,IACT,CAGAqP,SAASrQ,GAKP,GAJAgB,KAAKgS,YAAchT,EACnBgB,KAAK+R,sBAGA/R,KAAKoR,WAAY,OAAOpR,KAAK6P,cAClC,MAAM4C,EAAU,IAAIrE,EAA8D,QAElFpO,KAAK2O,GAAG/lB,MAAOoX,KAAKgR,UAEpBhR,KAAKwQ,aAAcxQ,KAAKoR,YAClBsB,EAAc1S,KAAK+O,OAAO4D,cAC1BznB,EAAS8U,KAAK+O,OAAO1E,OAAOoI,EAAQG,eAAgBH,EAAQI,QAAQj6B,OAAQ65B,EAAQK,SAAUL,EAAQM,gBAAiB,CAC3HhT,OAAO,EACPiT,KAAK,IACJ9nB,OAIG6nB,EAAkBL,IAAgB1S,KAAK+O,OAAO4D,cAAgBF,EAAQM,gBAAkB5E,EAA4CiE,UAAUa,KACpJ,IAAIjC,EAAYhR,KAAK+O,OAAOoD,gBAAgBM,EAAQG,eAAiB1nB,EAAQ6nB,GACzEA,IAAoB5E,EAA4CiE,UAAUa,OAAMjC,EAAYhR,KAAK+O,OAAOoD,gBAAgBnB,EAAW7C,EAA4CiE,UAAUa,OAC7LjT,KAAKoQ,gBACLpQ,KAAK6R,aAAab,UACXhR,KAAKgS,WACd,CAGA1C,YACMtP,KAAKwQ,eAAiBxQ,KAAK2O,GAAG/lB,OAChCoX,KAAK6P,cAEP7P,KAAK+O,OAAOmE,WACZlT,KAAKoQ,gBACLpQ,KAAKmP,gBACP,CAGAI,QAAQoB,GACNA,EAAGvT,iBACHuT,EAAGwC,iBACL,CAGA3D,SAASmB,GACP3Q,KAAK2P,qBACP,CAGAF,SAASkB,GACP3Q,KAAK2P,qBACP,CAGApzB,UACEyjB,KAAKyQ,gBAELzQ,KAAKgP,WAAWp2B,OAAS,SAElBonB,KAAK2O,EACd,EAEFF,EAAsD,QAAER,UAAYA,CAK7D,EAED,oDAIA,SAAU52B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB02B,CAAa,IAE5D,IAAIC,EAA+C38B,EAA6C,2CAOrH,MAAM08B,EAQA1N,qBACF,IAAItd,EACJ,IACEA,EAAQ4X,KAAK6L,qBACf,CAAE,MAAO7M,GAAI,CACb,OAAgB,MAAT5W,EAAgBA,EAAQ4X,KAAKpX,MAAMhQ,MAC5C,CAGI+sB,mBACF,IAAI5d,EACJ,IACEA,EAAMiY,KAAKmM,mBACb,CAAE,MAAOnN,GAAI,CACb,OAAc,MAAPjX,EAAcA,EAAMiY,KAAKpX,MAAMhQ,MACxC,CAGAs4B,OAAO9oB,EAAOL,GACZ,GAAa,MAATK,GAAwB,MAAPL,IAAeK,IAAU4X,KAAK0F,gBAAkB3d,IAAQiY,KAAK2F,cAClF,IACE3F,KAAKoM,cAAchkB,EAAOL,EAC5B,CAAE,MAAOiX,GAAI,CACf,CAGAoN,cAAchkB,EAAOL,GAAM,CAEvBslB,eACF,OAAO,CACT,CAEAC,WAAWC,GAAW,CAEtBG,eAAgB,EAElB2F,EAAsD,QAAED,YAAcA,CAK/D,EAED,kDAIA,SAAU/7B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB42B,CAAe,IAE9D,IAAIC,EAAyC78B,EAAsC,0CAC7BA,EAA+C,mDACvDA,EAAuC,2CAM1G,MAAM48B,EASJ5U,YAAY9V,EAAOooB,EAAWhG,EAAUwI,GAOtC,IANAxT,KAAKpX,MAAQA,EACboX,KAAKgR,UAAYA,EACjBhR,KAAKgL,SAAWA,EAChBhL,KAAKwT,aAAeA,EAGbxT,KAAKpX,MAAM+H,MAAM,EAAGqP,KAAK4S,kBAAoB5S,KAAKgL,SAASra,MAAM,EAAGqP,KAAK4S,mBAC5E5S,KAAKwT,aAAaprB,KAExB,CAMIwqB,qBACF,OAAOlvB,KAAKxC,IAAI8e,KAAKgR,UAAWhR,KAAKwT,aAAaprB,MACpD,CAMIqrB,oBACF,OAAOzT,KAAKgR,UAAYhR,KAAK4S,cAC/B,CAMIE,eACF,OAAO9S,KAAKpX,MAAMqb,OAAOjE,KAAK4S,eAAgB5S,KAAKyT,cACrD,CAMIC,mBAEF,OAAOhwB,KAAKzC,IAAI+e,KAAKwT,aAAazrB,IAAMiY,KAAK4S,gBAE7C5S,KAAKgL,SAASpyB,OAASonB,KAAKpX,MAAMhQ,OAAQ,EAC5C,CAMIi6B,cACF,OAAO7S,KAAKgL,SAAS/G,OAAOjE,KAAK4S,eAAgB5S,KAAK0T,aACxD,CAMIC,WACF,OAAO3T,KAAKpX,MAAMgrB,UAAU,EAAG5T,KAAK4S,eACtC,CAMIiB,WACF,OAAO7T,KAAKpX,MAAMgrB,UAAU5T,KAAK4S,eAAiB5S,KAAKyT,cACzD,CAMIV,sBACF,OAAK/S,KAAK0T,cAAgB1T,KAAKyT,cAAsBF,EAAuCnB,UAAUa,KAG9FjT,KAAKwT,aAAazrB,MAAQiY,KAAKgR,WAAahR,KAAKwT,aAAaprB,QAAU4X,KAAKgR,WAErFhR,KAAKwT,aAAazrB,MAAQiY,KAAKwT,aAAaprB,MAAiEmrB,EAAuCnB,UAAUC,KAA1GkB,EAAuCnB,UAAU0B,KACvG,EAMK,EAED,kDAIA,SAAUz8B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBq3B,CAAe,IAE9D,IAAIC,EAA0Ct9B,EAAuC,2CAW1G,MAAMq9B,EASJrV,YAAY+T,GACV34B,OAAOC,OAAOimB,KAAM,CAClB8S,SAAU,GACVmB,YAAa,GACbC,MAAM,EACNC,UAAW,GACV1B,EACL,CAMA2B,UAAU3B,GAKR,OAJAzS,KAAKiU,aAAexB,EAAQwB,YAC5BjU,KAAKkU,KAAOlU,KAAKkU,MAAQzB,EAAQyB,KACjClU,KAAK8S,UAAYL,EAAQK,SACzB9S,KAAKmU,WAAa1B,EAAQ0B,UACnBnU,IACT,CAGI9U,aACF,OAAO8U,KAAKmU,UAAYnU,KAAK8S,SAASl6B,MACxC,EAEFo7B,EAAiD,QAAED,cAAgBA,CAK5D,EAED,2DAIA,SAAU18B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB23B,CAAuB,IAG3F,MAAMA,EAOJ3V,cACE,IAAI9V,EAAQjQ,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,GAC5EgmB,EAAOhmB,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC3E27B,EAAO37B,UAAUC,OAAS,EAAID,UAAU,QAAKof,EACjDiI,KAAKpX,MAAQA,EACboX,KAAKrB,KAAOA,EACZqB,KAAKsU,KAAOA,CACd,CACAzuB,WACE,OAAOma,KAAKpX,KACd,CACA2rB,OAAOV,GACL7T,KAAKpX,OAASqf,OAAO4L,EACvB,CACAW,SAASzF,GACP,OAAOA,EAAO0F,OAAOzU,KAAKna,WAAY,CACpCguB,MAAM,IACLO,UAAUrF,EAAO2F,qBACtB,CACI96B,YACF,MAAO,CACLgP,MAAOoX,KAAKpX,MACZ+V,KAAMqB,KAAKrB,KACX2V,KAAMtU,KAAKsU,KAEf,CACI16B,UAAMA,GACRE,OAAOC,OAAOimB,KAAMpmB,EACtB,CACA+6B,QAAQC,GACN,IAAK5U,KAAKpX,MAAMhQ,QAAuB,MAAbg8B,GAAqB5U,KAAKrB,MAAQiW,EAAW,MAAO,GAC9E,MAAMC,EAAY7U,KAAKpX,MAAM,GAE7B,OADAoX,KAAKpX,MAAQoX,KAAKpX,MAAM+H,MAAM,GACvBkkB,CACT,CACAC,QACE,IAAK9U,KAAKpX,MAAMhQ,OAAQ,MAAO,GAC/B,MAAMi8B,EAAY7U,KAAKpX,MAAMoX,KAAKpX,MAAMhQ,OAAS,GAEjD,OADAonB,KAAKpX,MAAQoX,KAAKpX,MAAM+H,MAAM,GAAI,GAC3BkkB,CACT,EAMK,EAED,0CAIA,SAAUx9B,EAAyBC,EAAqBZ,GAE9D,aAYA,SAASq+B,EAAMpG,GACb,IAAIC,EAAOj2B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EAEhF,OAAO,IAAIo8B,EAAM9G,UAAUU,EAAIC,EACjC,CAfAl4B,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBq4B,CAAO,GAkBpE,EAED,yCAIA,SAAU19B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzC86B,UAAa,WAAa,OAAqBA,CAAW,EAC1D4C,aAAgB,WAAa,OAAqBA,CAAc,EAChEC,eAAkB,WAAa,OAAqBA,CAAgB,EACpEC,iBAAoB,WAAa,OAAqBA,CAAkB,EACxEC,SAAY,WAAa,OAAqBA,CAAU,EACxDC,iBAAoB,WAAa,OAAqBA,CAAkB,EACxExD,eAAkB,WAAa,OAAqBA,CAAgB,EACpEyD,eAAkB,WAAa,OAAqBA,CAAgB,IAEtE,IAAIC,EAAkD5+B,EAA+C,mDACvDA,EAAuC,2CAK1G,SAASy+B,EAASnQ,GAChB,MAAsB,iBAARA,GAAoBA,aAAeiD,MACnD,CAUA,MAAMmK,EAAY,CAChBa,KAAM,OACNZ,KAAM,OACNkD,WAAY,aACZzB,MAAO,QACP0B,YAAa,eAQf,SAASN,EAAiBjE,EAAK1tB,GAE7B,OADIA,IAAc6uB,EAAUC,QAAQpB,EAC7BA,CACT,CAGA,SAASoE,EAAepE,EAAK1tB,GAC3B,OAAQA,GACN,KAAK6uB,EAAUC,KACf,KAAKD,EAAUmD,WACb,QAAStE,EACX,KAAKmB,EAAU0B,MACf,KAAK1B,EAAUoD,YACb,QAASvE,EACX,QACE,OAAOA,EAEb,CAGA,SAASgE,EAAe1xB,GACtB,OAAQA,GACN,KAAK6uB,EAAUC,KACb,OAAOD,EAAUmD,WACnB,KAAKnD,EAAU0B,MACb,OAAO1B,EAAUoD,YACnB,QACE,OAAOjyB,EAEb,CAGA,SAASyxB,EAAahQ,GACpB,OAAOA,EAAI/K,QAAQ,6BAA8B,OACnD,CACA,SAASmb,EAAiBK,GACxB,OAAO38B,MAAM4iB,QAAQ+Z,GAAQA,EAAO,CAACA,EAAM,IAAIH,EAAyD,QAC1G,CAGA,SAAS1D,EAAera,EAAGD,GACzB,GAAIA,IAAMC,EAAG,OAAO,EACpB,IAEE3H,EAFE8lB,EAAO58B,MAAM4iB,QAAQpE,GACvBqe,EAAO78B,MAAM4iB,QAAQnE,GAEvB,GAAIme,GAAQC,EAAM,CAChB,GAAIre,EAAE1e,QAAU2e,EAAE3e,OAAQ,OAAO,EACjC,IAAKgX,EAAI,EAAGA,EAAI0H,EAAE1e,OAAQgX,IAAK,IAAKgiB,EAAeta,EAAE1H,GAAI2H,EAAE3H,IAAK,OAAO,EACvE,OAAO,CACT,CACA,GAAI8lB,GAAQC,EAAM,OAAO,EACzB,GAAIre,GAAKC,GAAkB,iBAAND,GAA+B,iBAANC,EAAgB,CAC5D,IAAIqe,EAAQte,aAAaue,KACvBC,EAAQve,aAAase,KACvB,GAAID,GAASE,EAAO,OAAOxe,EAAEye,WAAaxe,EAAEwe,UAC5C,GAAIH,GAASE,EAAO,OAAO,EAC3B,IAAIE,EAAU1e,aAAakN,OACzByR,EAAU1e,aAAaiN,OACzB,GAAIwR,GAAWC,EAAS,OAAO3e,EAAEzR,YAAc0R,EAAE1R,WACjD,GAAImwB,GAAWC,EAAS,OAAO,EAC/B,IAAIvtB,EAAO5O,OAAO4O,KAAK4O,GAGvB,IAAK1H,EAAI,EAAGA,EAAIlH,EAAK9P,OAAQgX,IAE7B,IAAK9V,OAAO0kB,UAAUrV,eAAesV,KAAKlH,EAAG7O,EAAKkH,IAAK,OAAO,EAC9D,IAAKA,EAAI,EAAGA,EAAIlH,EAAK9P,OAAQgX,IAAK,IAAKgiB,EAAera,EAAE7O,EAAKkH,IAAK0H,EAAE5O,EAAKkH,KAAM,OAAO,EACtF,OAAO,CACT,CAAO,SAAI0H,IAAKC,GAAkB,mBAAND,GAAiC,mBAANC,IAC9CD,EAAEzR,aAAe0R,EAAE1R,UAG9B,CAOO,EAED,oCAIA,SAAUxO,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCy8B,cAAiB,WAAa,OAA2BmC,EAA+D,OAAG,EAC3HxK,+BAAkC,WAAa,OAA2ByK,EAAsF,OAAG,EACnKrJ,gBAAmB,WAAa,OAA2BsJ,EAAsE,OAAG,EACpInI,UAAa,WAAa,OAA2BoI,EAAyD,OAAG,EACjHjD,YAAe,WAAa,OAA2BkD,EAAiE,OAAG,EAC3HtG,OAAU,WAAa,OAA2BuG,EAAsD,OAAG,EAC3GC,WAAc,WAAa,OAA2BC,EAAsD,OAAG,EAC/GC,cAAiB,WAAa,OAA2BC,EAA0D,OAAG,EACtHC,WAAc,WAAa,OAA2BC,EAAsD,OAAG,EAC/GC,eAAkB,WAAa,OAA2BC,EAA0D,OAAG,EACvHC,aAAgB,WAAa,OAA2BC,EAAwD,OAAG,EACnHC,cAAiB,WAAa,OAA2BC,EAAyD,OAAG,EACrHC,YAAe,WAAa,OAA2BC,EAAuD,OAAG,EACjHC,aAAgB,WAAa,OAA2BC,EAAwD,OAAG,EACnHC,UAAa,WAAa,OAA2BC,EAA8CD,SAAW,EAC9GE,WAAc,WAAa,OAA2BC,EAA0D,OAAG,EACnHC,WAAc,WAAa,OAA2BH,EAA8CG,UAAY,EAChHl7B,QAAW,WAAa,OAA2BkvB,EAAsD,OAAG,EAC5GiM,KAAQ,WAAa,OAA2BJ,EAA8CI,IAAM,IAEtG,IAAIxB,EAAkD3/B,EAA+C,8CACjGk1B,EAA+Cl1B,EAA4C,2CAC3F6/B,EAA+C7/B,EAA4C,2CAC3FygC,EAAkDzgC,EAA+C,8CACjGmgC,EAA+CngC,EAA4C,2CAC3F2gC,EAAgD3gC,EAA6C,4CAC7FugC,EAAiDvgC,EAA8C,6CAC/F+/B,EAA+C//B,EAA4C,2CAC3F6gC,EAAiD7gC,EAA8C,6CAC/FqgC,EAAmDrgC,EAAgD,+CACnGigC,EAAmDjgC,EAA+C,8CAClGihC,EAAmDjhC,EAA+C,8CAClG4/B,EAA0D5/B,EAAsD,qDAChH0/B,EAA+D1/B,EAA2D,0DAC1Hy/B,EAA+Ez/B,EAA2E,0EAC1J+gC,EAAgD/gC,EAA4C,2CAC5Fw/B,EAAwDx/B,EAAoD,mDACtCA,EAAmE,kEAC1FA,EAA2C,0CAClCA,EAAoD,mDAC3CA,EAA6D,4DAC1DA,EAAgE,+DAChEA,EAAgE,+DAC9DA,EAAkE,iEAC9EA,EAAsD,qDA4BzI,IACEohC,WAAW/C,MAAQnJ,EAAsD,OAC3E,CAAE,MAAO5M,GAAI,CAGN,EAED,0CAIA,SAAU3nB,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBszB,CAAQ,IAEvD,IAAI+H,EAAuDrhC,EAAqD,mDAC5GshC,EAAgEthC,EAA8D,4DAC9HuhC,EAA8CvhC,EAA4C,0CAC1FwhC,EAA+CxhC,EAA6C,2CAarH,MAAMs5B,EAeJtR,YAAYkQ,GACV5O,KAAKiP,OAAS,GACdjP,KAAKmY,QAAQr+B,OAAOC,OAAO,CAAC,EAAGi2B,EAAOoI,SAAUxJ,IAChD5O,KAAKqY,eAAgB,CACvB,CAGAnI,cAActB,GACP90B,OAAO4O,KAAKkmB,GAAMh2B,QAEvBonB,KAAKsY,iBAAiBtY,KAAKmY,QAAQ/I,KAAKpP,KAAM4O,GAChD,CAMAuJ,QAAQvJ,GACN90B,OAAOC,OAAOimB,KAAM4O,EACtB,CAGIh1B,YACF,MAAO,CACLq1B,OAAQjP,KAAKpX,MAEjB,CACIhP,UAAMA,GACRomB,KAAKiP,OAASr1B,EAAMq1B,MACtB,CAGApzB,QACEmkB,KAAKiP,OAAS,EAChB,CAGIrmB,YACF,OAAOoX,KAAKiP,MACd,CACIrmB,UAAMA,GACRoX,KAAK1jB,QAAQsM,EACf,CAGAtM,QAAQsM,GACN,IAAI2vB,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAC9EonB,OAAO,GAKT,OAHAC,KAAKnkB,QACLmkB,KAAKyU,OAAO7rB,EAAO2vB,EAAO,IAC1BvY,KAAKkT,WACElT,KAAKpX,KACd,CAGIunB,oBACF,OAAOnQ,KAAKpX,KACd,CACIunB,kBAAcvnB,GAChBoX,KAAKnkB,QACLmkB,KAAKyU,OAAO7rB,EAAO,CAAC,EAAG,IACvBoX,KAAKkT,UACP,CAGI7C,iBACF,OAAOrQ,KAAKwY,QAAQxY,KAAKpX,MAC3B,CACIynB,eAAWznB,GACboX,KAAKpX,MAAQoX,KAAKyY,SAAS7vB,EAC7B,CAGI+pB,oBACF,OAAO3S,KAAK0Y,aAAa,EAAG1Y,KAAKpX,MAAMhQ,OAAQ,CAC7Co6B,KAAK,GAET,CACIL,kBAAc/pB,GAChBoX,KAAKnkB,QACLmkB,KAAKyU,OAAO7rB,EAAO,CACjBoqB,KAAK,GACJ,IACHhT,KAAKkT,UACP,CACI1C,mBACF,OAAOxQ,KAAKpX,KACd,CAGIqpB,iBACF,OAAO,CACT,CAGI0G,eACF,OAAO3Y,KAAKiS,UACd,CAGAE,gBAAgBnB,EAAWztB,GACzB,OAAOytB,CACT,CACA4H,sBACE,IAAIC,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKpX,MAAMhQ,OAC3F,OAAO8K,KAAKxC,IAAI8e,KAAKpX,MAAMhQ,OAAQkgC,EAAQD,EAC7C,CAGAH,eACE,IAAIG,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKpX,MAAMhQ,OAC3F,OAAOonB,KAAKpX,MAAM+H,MAAMkoB,EAASC,EACnC,CAGAC,cACE,IAAIF,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKpX,MAAMhQ,OAC3F,OAAO,IAAIo/B,EAAuE,QAAEhY,KAAK0Y,aAAaG,EAASC,GAAQD,EACzH,CAIAG,WAAWnF,GAET,OADI,EAAGoE,EAA4C9C,UAAUtB,KAAOA,EAAO,IAAImE,EAAuE,QAAE/P,OAAO4L,KACxJA,EAAKW,SAASxU,KACvB,CAGAiZ,eAAeC,GACb,OAAKA,GACLlZ,KAAKiP,QAAUiK,EACR,IAAInB,EAA8D,QAAE,CACzEjF,SAAUoG,EACVjF,YAAaiF,KAJC,IAAInB,EAA8D,OAMpF,CAGAoB,YAAYD,GACV,IAAIX,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EAC7EygC,EAAYzgC,UAAUC,OAAS,EAAID,UAAU,QAAKof,EACtD,MAAMshB,EAAkBrZ,KAAKpmB,MAC7B,IAAI64B,EAGJ,IAFCyG,EAAIzG,IAAW,EAAGwF,EAA4C7C,kBAAkBpV,KAAKsZ,UAAUJ,EAAIX,IACpG9F,EAAUA,EAAQ2B,UAAUpU,KAAKiZ,eAAeC,EAAIX,IAChD9F,EAAQK,SAAU,CACpB,IAAIyG,EACAC,GAAsC,IAA3BxZ,KAAKyZ,WAAWlB,GAC/B,GAAIiB,GAAyB,MAAbJ,EAAmB,CAEjC,MAAMM,EAAkB1Z,KAAKpmB,OACN,IAAnBomB,KAAK2Z,YACPJ,EAAiBH,EAAUx/B,MAC3Bw/B,EAAUzE,QAAQ3U,KAAKpX,MAAMhQ,OAAS65B,EAAQ0B,YAEhD,IAAIyF,EAAc5Z,KAAKgZ,WAAWI,GAClCI,EAAWI,EAAY3F,cAAgBmF,EAAUvzB,WAG3C2zB,GAAYI,EAAY9G,UAAgC,UAAnB9S,KAAK2Z,YAC9C3Z,KAAKpmB,MAAQ8/B,EACbH,EAAiBH,EAAUx/B,MAC3Bw/B,EAAUtE,QACV8E,EAAc5Z,KAAKgZ,WAAWI,GAC9BI,EAAWI,EAAY3F,cAAgBmF,EAAUvzB,YAI/C2zB,GAAYI,EAAY9G,WAAU9S,KAAKpmB,MAAQ8/B,EACrD,CAGKF,IACH/G,EAAU,IAAIsF,EAA8D,QAC5E/X,KAAKpmB,MAAQy/B,EACTD,GAAaG,IAAgBH,EAAUx/B,MAAQ2/B,GAEvD,CACA,OAAO9G,CACT,CAGAiC,qBACE,OAAO,IAAIqD,EAA8D,OAC3E,CAGA8B,eACE,OAAO,IAAI9B,EAA8D,OAC3E,CAIAtD,OAAOzP,EAAKuT,EAAO1E,GACjB,KAAK,EAAGoE,EAA4C9C,UAAUnQ,GAAM,MAAM,IAAIQ,MAAM,0BACpF,MAAMiN,EAAU,IAAIsF,EAA8D,QAC5EqB,GAAY,EAAGnB,EAA4C9C,UAAUtB,GAAQ,IAAImE,EAAuE,QAAE/P,OAAO4L,IAASA,EAC5K0E,SAAsCA,EAAM1E,OAAM0E,EAAMuB,iBAAmB9Z,KAAKpmB,OACpF,IAAK,IAAImgC,EAAK,EAAGA,EAAK/U,EAAIpsB,SAAUmhC,EAAI,CACtC,MAAMviC,EAAIwoB,KAAKmZ,YAAYnU,EAAI+U,GAAKxB,EAAOa,GAC3C,IAAK5hC,EAAEy8B,cAAgBjU,KAAKga,cAAchV,EAAI+U,GAAKxB,EAAOa,GAAY,MACtE3G,EAAQ2B,UAAU58B,EACpB,CAaA,QAZoB,IAAfwoB,KAAKia,OAAiC,WAAfja,KAAKia,QAA7B,MAAoD1B,GAAsCA,EAAMxY,OAASiF,GAC3GyN,EAAQ2B,UAAUpU,KAAK6Z,gBAIR,MAAbT,IACF3G,EAAQ0B,WAAanU,KAAKgZ,WAAWI,GAAWjF,WAM3C1B,CACT,CAGAvV,SACE,IAAI2b,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKpX,MAAMhQ,OAE3F,OADAonB,KAAKiP,OAASjP,KAAKpX,MAAM+H,MAAM,EAAGkoB,GAAW7Y,KAAKpX,MAAM+H,MAAMmoB,GACvD,IAAIf,EAA8D,OAC3E,CAGAO,iBAAiBp8B,GACf,GAAI8jB,KAAKka,cAAgBla,KAAKqY,cAAe,OAAOn8B,IACpD8jB,KAAKka,aAAc,EACnB,MAAMC,EAAWna,KAAK2S,cAChB/pB,EAAQoX,KAAKpX,MACbwxB,EAAMl+B,IAOZ,OANA8jB,KAAK2S,cAAgBwH,EAEjBna,KAAKpX,OAASoX,KAAKpX,QAAUA,GAAuC,IAA9BA,EAAM5R,QAAQgpB,KAAKpX,QAC3DoX,KAAKyU,OAAO7rB,EAAM+H,MAAMqP,KAAKpX,MAAMhQ,QAAS,CAAC,EAAG,WAE3ConB,KAAKka,YACLE,CACT,CAGAC,YAAYn+B,GACV,GAAI8jB,KAAKsa,YAActa,KAAKqY,cAAe,OAAOn8B,EAAG8jB,MACrDA,KAAKsa,WAAY,EACjB,MAAM1gC,EAAQomB,KAAKpmB,MACbwgC,EAAMl+B,EAAG8jB,MAGf,OAFAA,KAAKpmB,MAAQA,SACNomB,KAAKsa,UACLF,CACT,CAGAJ,cAAcd,GACZ,OAAOlZ,KAAKua,WACd,CAMAjB,UAAUtU,GACR,IAAIuT,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EACjF,OAAOqnB,KAAKwa,QAAUxa,KAAKwa,QAAQxV,EAAKhF,KAAMuY,GAASvT,CACzD,CAMAyU,WAAWlB,GACT,QAASvY,KAAKya,UAAYza,KAAKya,SAASza,KAAKpX,MAAOoX,KAAMuY,OAAavY,KAAKnjB,QAAUmjB,KAAKnjB,OAAO48B,WAAWlB,GAC/G,CAMArF,WACMlT,KAAKgO,QAAQhO,KAAKgO,OAAOhO,KAAKpX,MAAOoX,KAC3C,CAGAyY,SAAS7vB,GACP,OAAOoX,KAAKkD,OAASlD,KAAKkD,OAAOta,EAAOoX,MAAQpX,CAClD,CAGA4vB,QAAQxT,GACN,OAAOhF,KAAK0a,MAAQ1a,KAAK0a,MAAM1V,EAAKhF,MAAQgF,CAC9C,CAGAqF,OAAOjiB,EAAOuyB,EAAa7H,EAAUC,GACnC,IAAIwF,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAC9EonB,OAAO,GAET,MAAM6a,EAAUxyB,EAAQuyB,EAClB9G,EAAO7T,KAAK+Y,YAAY6B,GACxBC,GAA6B,IAAf7a,KAAKia,OAAiC,WAAfja,KAAKia,MAChD,IAAIvH,EACAmI,IACF9H,GAAkB,EAAGkF,EAA4ChD,gBAAgBlC,GACjFL,EAAc1S,KAAK0Y,aAAa,EAAGkC,EAAS,CAC1C5H,KAAK,KAGT,IAAIJ,EAAiBxqB,EACrB,MAAMqqB,EAAU,IAAIsF,EAA8D,QAUlF,GAPIhF,IAAoBkF,EAA4C7F,UAAUa,OAC5EL,EAAiB5S,KAAKmS,gBAAgB/pB,EAAOuyB,EAAc,GAAe,IAAVvyB,IAAgByyB,EAAc5C,EAA4C7F,UAAUa,KAAOF,GAG3JN,EAAQ0B,UAAYvB,EAAiBxqB,GAEvCqqB,EAAQ2B,UAAUpU,KAAK9C,OAAO0V,IAC1BiI,GAAe9H,IAAoBkF,EAA4C7F,UAAUa,MAAQP,IAAgB1S,KAAK2S,cACxH,GAAII,IAAoBkF,EAA4C7F,UAAUmD,WAAY,CACxF,IAAIuF,EACJ,KAAOpI,IAAgB1S,KAAK2S,gBAAkBmI,EAAY9a,KAAKpX,MAAMhQ,SACnE65B,EAAQ2B,UAAU,IAAI2D,EAA8D,QAAE,CACpF5D,WAAY,KACVC,UAAUpU,KAAK9C,OAAO4d,EAAY,GAE1C,MAAW/H,IAAoBkF,EAA4C7F,UAAUoD,aACnF3B,EAAKc,UAGT,OAAOlC,EAAQ2B,UAAUpU,KAAKyU,OAAO3B,EAAUyF,EAAO1E,GACxD,CACA/D,WAAW3P,GACT,OAAOH,KAAKG,OAASA,CACvB,CACAoQ,iBAAiB3nB,GACf,MAAMmyB,EAAO/a,KAAKqQ,WAClB,OAAOznB,IAAUmyB,GAAQ/K,EAAOgL,aAAaC,SAASryB,IAAUonB,EAAOgL,aAAaC,SAASF,IAAS/a,KAAKyY,SAAS7vB,KAAWoX,KAAKyY,SAASzY,KAAKqQ,WACpJ,EAEFL,EAAOoI,SAAW,CAChBlV,OAAQ+E,OACRyS,MAAO1e,GAAKA,EACZue,aAAa,GAEfvK,EAAOgL,aAAe,MAACjjB,EAAW,KAAM,IACxCmgB,EAAsD,QAAElI,OAASA,CAK1D,EAED,0CAIA,SAAU34B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB85B,CAAY,IAE3D,IAAI0E,EAA2CxkC,EAAwC,8CACnFykC,EAAyCzkC,EAAsC,4CAC/E0kC,EAA+C1kC,EAA6C,2CACvBA,EAAoE,kEAC3FA,EAA4C,0CACnCA,EAAqD,mDACpEA,EAAqC,2CACbA,EAA8D,4DAClEA,EAAyD,+DAC1EA,EAAwC,8CACtBA,EAAyD,+DACvDA,EAA2D,iEACvEA,EAA+C,qDACvDA,EAAuC,6CAiB3G,MAAM8/B,UAAmB0E,EAAkD,QAYzExc,YAAYkQ,GACV5B,MAAMlzB,OAAOC,OAAO,CAAC,EAAGy8B,EAAW4B,SAAUxJ,GAC/C,CAKAuJ,QAAQvJ,GACFA,EAAKzO,OAAS0V,aAAajH,EAAKzO,KAChCyO,EAAK5R,UAAS4R,EAAKzO,KAAOyO,EAAK5R,SACnC,MAAMqe,EAASzM,EAAKyM,OACpBzM,EAAKyM,OAASvhC,OAAOC,OAAO,CAAC,EAAGy8B,EAAW8E,sBAEvC1M,EAAK1tB,MAAK0tB,EAAKyM,OAAOE,EAAE5c,KAAOiQ,EAAK1tB,IAAIs6B,eACxC5M,EAAK3tB,MAAK2tB,EAAKyM,OAAOE,EAAEE,GAAK7M,EAAK3tB,IAAIu6B,eACtC5M,EAAK1tB,KAAO0tB,EAAK3tB,KAAO2tB,EAAKyM,OAAOE,EAAE5c,OAASiQ,EAAKyM,OAAOE,EAAEE,KAC/D7M,EAAKyM,OAAOtgC,EAAE4jB,KAAOiQ,EAAK1tB,IAAIw6B,WAAa,EAC3C9M,EAAKyM,OAAOtgC,EAAE0gC,GAAK7M,EAAK3tB,IAAIy6B,WAAa,EACrC9M,EAAKyM,OAAOtgC,EAAE4jB,OAASiQ,EAAKyM,OAAOtgC,EAAE0gC,KACvC7M,EAAKyM,OAAO7jC,EAAEmnB,KAAOiQ,EAAK1tB,IAAIy6B,UAC9B/M,EAAKyM,OAAO7jC,EAAEikC,GAAK7M,EAAK3tB,IAAI06B,YAGhC7hC,OAAOC,OAAO60B,EAAKyM,OAAQrb,KAAKqb,OAAQA,GAGxCvhC,OAAO4O,KAAKkmB,EAAKyM,QAAQpgC,SAAQ2gC,IAC/B,MAAMrkB,EAAIqX,EAAKyM,OAAOO,KAChB,YAAarkB,IAAM,YAAaqX,IAAMrX,EAAEskB,QAAUjN,EAAKiN,QAAO,IAEtE7O,MAAMmL,QAAQvJ,EAChB,CAKA6K,aACE,MAAMqC,EAAO9b,KAAK8b,KAClB,OAAO9O,MAAMyM,cAAc9gC,cAAgBqnB,KAAKiS,YAAcjS,KAAK+b,YAAY/b,KAAKpX,QAAkB,MAARkzB,IAA6B,MAAZ9b,KAAK9e,KAAe8e,KAAK9e,KAAO46B,KAAsB,MAAZ9b,KAAK/e,KAAe66B,GAAQ9b,KAAK/e,KAC5L,CAGA86B,YAAY/W,GACV,OAAOhF,KAAKkD,OAAOlD,KAAK0a,MAAM1V,EAAKhF,MAAOA,MAAMhpB,QAAQguB,IAAQ,CAClE,CAGI8W,WACF,OAAO9b,KAAKqQ,UACd,CACIyL,SAAKA,GACP9b,KAAKqQ,WAAayL,CACpB,CAKIzL,iBACF,OAAOrQ,KAAKiS,WAAajF,MAAMqD,WAAa,IAC9C,CACIA,eAAWznB,GACbokB,MAAMqD,WAAaznB,CACrB,CAKAknB,WAAW3P,GACT,OAAOA,IAAS0V,MAAQ7I,MAAM8C,WAAW3P,EAC3C,EAEFqW,EAAW4B,SAAW,CACpBpb,QAAS,cACTkG,OAAQ4Y,IACN,IAAKA,EAAM,MAAO,GAIlB,MAAO,CAHK7T,OAAO6T,EAAKH,WAAWK,SAAS,EAAG,KACjC/T,OAAO6T,EAAKJ,WAAa,GAAGM,SAAS,EAAG,KACzCF,EAAKN,eACQ1f,KAAK,IAAI,EAErC4e,MAAO1V,IACL,MAAOiX,EAAKC,EAAOC,GAAQnX,EAAIpL,MAAM,KACrC,OAAO,IAAIic,KAAKsG,EAAMD,EAAQ,EAAGD,EAAI,GAGzCzF,EAAW8E,mBAAqB,KAAM,CACpC9jC,EAAG,CACD2oB,KAAMgb,EAAgD,QACtDxc,KAAM,EACN8c,GAAI,GACJW,UAAW,GAEbrhC,EAAG,CACDolB,KAAMgb,EAAgD,QACtDxc,KAAM,EACN8c,GAAI,GACJW,UAAW,GAEbb,EAAG,CACDpb,KAAMgb,EAAgD,QACtDxc,KAAM,KACN8c,GAAI,QAGRL,EAAsD,QAAE5E,WAAaA,CAK9D,EAED,6CAIA,SAAUn/B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBg6B,CAAe,IAE9D,IAAIxI,EAAqEx3B,EAAoE,kEACzIy3B,EAA8Cz3B,EAA4C,0CAC1F2lC,EAAuD3lC,EAAqD,mDAC5G4lC,EAA2C5lC,EAAwC,8CACnF6lC,EAAwC7lC,EAAqC,2CAC7E8lC,EAA+C9lC,EAA6C,2CAC5BA,EAA8D,4DASvJ,MAAMg4B,EAAY,CAAC,gBAAiB,iBAAkB,eACpD+N,EAAa,CAAC,QAEhB,MAAM/F,UAAsB6F,EAA+C,QAUzE7d,YAAYkQ,GACV5B,MAAMlzB,OAAOC,OAAO,CAAC,EAAG28B,EAAc0B,SAAUxJ,IAChD5O,KAAK0c,YAAc,IACrB,CAKAvE,QAAQvJ,GACN5B,MAAMmL,QAAQvJ,GACV,SAAUA,IAEZ5O,KAAK2c,cAAgB7jC,MAAM4iB,QAAQkT,EAAKzO,MAAQyO,EAAKzO,KAAK1F,KAAI1f,IAAK,EAAGuhC,EAAkD,SAAGvhC,KAAM,GAIrI,CAKAk+B,eAAeC,GACb,IAAIX,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EACjF,MAAM85B,EAAUzS,KAAK4c,eAAe1D,EAAIX,GAIxC,OAHIvY,KAAK0c,aACPjK,EAAQ2B,UAAUpU,KAAK0c,YAAYvD,YAAYD,EAAIlZ,KAAK6c,iBAAiBtE,KAEpE9F,CACT,CACAmK,iBACE,IAAIpD,EAAW7gC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,GAC/E4/B,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EAC7Ek7B,EAAOl7B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,GAC/E,MAAMmkC,EAAsBvE,EAAM1E,MAAkC,MAA1B0E,EAAMuB,iBAA2BvB,EAAMuB,iBAAiB7K,OAASjP,KAAKpX,MAC1Gm0B,EAAa/c,KAAK2S,cAClBqK,EAAczE,EAAM1E,MAAkC,MAA1B0E,EAAMuB,iBAExCvB,EAAMuB,iBAAiBmD,eAAiBF,EAClCG,EAAYH,EAAWpsB,MAAMqsB,EAAYpkC,QACzCukC,EAAWnd,KAAK0c,YAChBjK,EAAU,IAAI4J,EAA8D,QAC5Ee,EAAgBD,aAA2C,EAASA,EAASvjC,MAMnF,GAHAomB,KAAK0c,YAAc1c,KAAKqd,WAAW7D,EAAU1/B,OAAOC,OAAO,CAAC,EAAGw+B,GAAQ1E,GAGnE7T,KAAK0c,YACP,GAAI1c,KAAK0c,cAAgBS,EAAU,CAGjC,GADAnd,KAAK0c,YAAY7gC,QACbmhC,EAAa,CAEf,MAAMxlC,EAAIwoB,KAAK0c,YAAYjI,OAAOuI,EAAa,CAC7ChK,KAAK,IAEPP,EAAQ0B,UAAY38B,EAAEs7B,SAASl6B,OAASkkC,EAAoBlkC,MAC9D,CACIskC,IAEFzK,EAAQ0B,WAAanU,KAAK0c,YAAYjI,OAAOyI,EAAW,CACtDlK,KAAK,EACLa,MAAM,IACLM,UAEP,MAGEnU,KAAK0c,YAAY9iC,MAAQwjC,EAG7B,OAAO3K,CACT,CACAiC,qBACE,MAAMjC,EAAUzS,KAAK4c,kBAAkBjkC,WAIvC,OAHIqnB,KAAK0c,aACPjK,EAAQ2B,UAAUpU,KAAK0c,YAAYhI,sBAE9BjC,CACT,CAKAoH,eACE,MAAMpH,EAAUzS,KAAK4c,kBAAkBjkC,WAIvC,OAHIqnB,KAAK0c,aACPjK,EAAQ2B,UAAUpU,KAAK0c,YAAY7C,gBAE9BpH,CACT,CACAuG,WAAWnF,GACT,MAAMpB,EAAU,IAAI4J,EAA8D,QAElF,OADIxI,GAAMpB,EAAQ2B,UAAUpU,KAAK4c,eAAe,GAAI,CAAC,EAAG/I,IACjDpB,EAAQ2B,UAAUpU,KAAK0c,YAAc1c,KAAK0c,YAAY1D,WAAWnF,GAAQ7G,MAAMgM,WAAWnF,GACnG,CACAgJ,iBAAiBtE,GACf,IAAI+E,EAAuBC,EAC3B,OAAOzjC,OAAOC,OAAO,CAAC,EAAGw+B,EAAO,CAC9BuB,kBAAwE,QAApDwD,EAAwB/E,EAAMuB,wBAAwD,IAA1BwD,OAAmC,EAASA,EAAsBE,kBAAoBxd,KAAK0c,cAAsE,QAArDa,EAAyBhF,EAAMuB,wBAAyD,IAA3ByD,OAAoC,EAASA,EAAuBb,cAAgBnE,EAAMuB,kBAEvV,CAKAuD,WAAW7D,GACT,IAAIjB,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EAC7Ek7B,EAAOl7B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,GAC/E,OAAOqnB,KAAKyd,SAASjE,EAAUxZ,KAAMuY,EAAO1E,EAC9C,CAKA4F,WAAWlB,GACT,OAAOvL,MAAMyM,WAAWlB,MAAYvY,KAAK0c,aAAe1c,KAAK0c,YAAYjD,WAAWzZ,KAAK6c,iBAAiBtE,IAC5G,CAKAe,UAAUtU,GACR,IAAIuT,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,GAC5EmmB,EAAG2T,IAAW,EAAGtE,EAA4CiH,kBAAkBpI,MAAMsM,UAAUtU,EAAKuT,IACzG,GAAIvY,KAAK0c,YAAa,CACpB,IAAIgB,GACH5e,EAAG4e,IAAkB,EAAGvP,EAA4CiH,kBAAkBpI,MAAMsM,UAAUxa,EAAGkB,KAAK6c,iBAAiBtE,KAChI9F,EAAUA,EAAQ2B,UAAUsJ,EAC9B,CACA,MAAO,CAAC5e,EAAG2T,EACb,CAKA52B,QACE,IAAI8hC,EACuC,QAA1CA,EAAoB3d,KAAK0c,mBAA+C,IAAtBiB,GAAwCA,EAAkB9hC,QAC7GmkB,KAAK2c,cAAc1hC,SAAQF,GAAKA,EAAEc,SACpC,CAKI+M,YACF,OAAOoX,KAAK0c,YAAc1c,KAAK0c,YAAY9zB,MAAQ,EACrD,CACIA,UAAMA,GACRokB,MAAMpkB,MAAQA,CAChB,CAKIunB,oBACF,OAAOnQ,KAAK0c,YAAc1c,KAAK0c,YAAYvM,cAAgB,EAC7D,CACIA,kBAAcA,GAChBnD,MAAMmD,cAAgBA,CACxB,CAKIE,iBACF,OAAOrQ,KAAK0c,YAAc1c,KAAK0c,YAAYrM,WAAa,EAC1D,CAGIA,eAAWznB,GACb,IAAIunB,EAAgBlI,OAAOrf,GAGvBoX,KAAK0c,cACP1c,KAAK0c,YAAYrM,WAAaznB,EAC9BunB,EAAgBnQ,KAAK0c,YAAYvM,eAEnCnQ,KAAKmQ,cAAgBA,CACvB,CACIK,mBACF,OAAOxQ,KAAK0c,YAAc1c,KAAK0c,YAAYlM,aAAe,EAC5D,CAKIyB,iBACF,IAAI2L,EACJ,OAAOC,QAAoD,QAA3CD,EAAqB5d,KAAK0c,mBAAgD,IAAvBkB,OAAgC,EAASA,EAAmB3L,WACjI,CAKI0G,eACF,IAAImF,EACJ,OAAOD,QAAoD,QAA3CC,EAAqB9d,KAAK0c,mBAAgD,IAAvBoB,OAAgC,EAASA,EAAmBnF,SACjI,CAKAzb,SACE,MAAMuV,EAAU,IAAI4J,EAA8D,QAMlF,OALIrc,KAAK0c,aACPjK,EAAQ2B,UAAUpU,KAAK0c,YAAYxf,UAAUvkB,YAE5Cy7B,UAAUpU,KAAK4c,kBAEXnK,CACT,CAKI74B,YACF,IAAImkC,EACJ,OAAOjkC,OAAOC,OAAO,CAAC,EAAGizB,MAAMpzB,MAAO,CACpCqjC,eAAgBjd,KAAK2S,cACrBgK,cAAe3c,KAAK2c,cAAcliB,KAAI1f,GAAKA,EAAEnB,QAC7C4jC,eAAgBxd,KAAK0c,YACrBA,YAAyD,QAA3CqB,EAAqB/d,KAAK0c,mBAAgD,IAAvBqB,OAAgC,EAASA,EAAmBnkC,OAEjI,CACIA,UAAMA,GACR,MAAM+iC,cACFA,EAAaa,eACbA,EAAcd,YACdA,GACE9iC,EACJokC,GAAc,EAAG9P,EAAmEzC,GAAG7xB,EAAO80B,GAChG1O,KAAK2c,cAAc1hC,SAAQ,CAACF,EAAGkjC,IAAOljC,EAAEnB,MAAQ+iC,EAAcsB,KACxC,MAAlBT,IACFxd,KAAK0c,YAAcc,EACnBxd,KAAK0c,YAAY9iC,MAAQ8iC,GAE3B1P,MAAMpzB,MAAQokC,CAChB,CAKAtF,eACE,OAAO1Y,KAAK0c,YAAc1c,KAAK0c,YAAYhE,gBAAgB//B,WAAa,EAC1E,CAKAogC,cACE,OAAO/Y,KAAK0c,YAAc1c,KAAK0c,YAAY3D,eAAepgC,WAAaq0B,MAAM+L,eAAepgC,UAC9F,CAKAu6B,WACMlT,KAAK0c,aAAa1c,KAAK0c,YAAYxJ,WACvClG,MAAMkG,UACR,CAKAf,kBACE,OAAOnS,KAAK0c,YAAc1c,KAAK0c,YAAYvK,mBAAmBx5B,WAAaq0B,MAAMmF,mBAAmBx5B,UACtG,CACIghC,gBACF,OAAO3Z,KAAK0c,YAAc1c,KAAK0c,YAAY/C,UAAY3M,MAAM2M,SAC/D,CACIA,cAAUA,GACZnc,QAAQ2T,KAAK,mFACf,CACI8I,YACF,OAAOja,KAAK0c,YAAc1c,KAAK0c,YAAYzC,MAAQjN,MAAMiN,KAC3D,CACIA,UAAMA,GACRzc,QAAQ2T,KAAK,+EACf,CACIoJ,kBACF,OAAOva,KAAK0c,YAAc1c,KAAK0c,YAAYnC,YAAcvN,MAAMuN,WACjE,CACIA,gBAAYA,IACVva,KAAKqY,eAAiBkC,IAAgBgC,EAA+C,QAAEnE,SAASmC,cAClG/c,QAAQ2T,KAAK,qFAEjB,CAKArB,WAAW3P,GACT,OAAOrnB,MAAM4iB,QAAQyE,IAASH,KAAK2c,cAAcxsB,OAAM,CAACpV,EAAGkjC,KACzD,IAAK9d,EAAK8d,GAAK,OACf,MAAMC,EAAW/d,EAAK8d,IAElB9d,KAAMge,GACJD,EACJzM,GAAW,EAAGvD,EAAmEzC,GAAGyS,EAAUzB,GAChG,OAAO,EAAGtO,EAA4CyD,gBAAgB72B,EAAG02B,IAAa12B,EAAE+0B,WAAWqO,EAAQ,GAE/G,CAKA5N,iBAAiB3nB,GACf,IAAIw1B,EACJ,OAAOP,QAAoD,QAA3CO,EAAqBpe,KAAK0c,mBAAgD,IAAvB0B,OAAgC,EAASA,EAAmB7N,iBAAiB3nB,GAClJ,EAEF8tB,EAAc0B,SAAW,CACvBqF,SAAU,CAACjE,EAAUzK,EAAQwJ,EAAO1E,KAClC,IAAK9E,EAAO4N,cAAc/jC,OAAQ,OAClC,MAAMmkC,EAAahO,EAAO4D,cAGpB/S,EAASmP,EAAO4N,cAAcliB,KAAI,CAAC1f,EAAGiB,KAC1C,MAAMqiC,EAAYtP,EAAO2N,cAAgB3hC,EACnCujC,EAAgBD,EAAYtjC,EAAE6N,MAAMhQ,OAASmC,EAAEo3B,gBAAgBp3B,EAAE6N,MAAMhQ,OAAQu1B,EAA4CiE,UAAUmD,YAW3I,OAVIx6B,EAAE43B,gBAAkBoK,GACtBhiC,EAAEc,QACFd,EAAE05B,OAAOsI,EAAY,CACnB/J,KAAK,KAEGqL,GACVtjC,EAAEmiB,OAAOohB,GAEXvjC,EAAE05B,OAAO+E,EAAUzK,EAAO8N,iBAAiBtE,IAC3Cx9B,EAAEi+B,WAAWnF,GACN,CACL73B,QACAuiC,OAAQxjC,EAAE43B,cAAc/5B,OACxBggC,oBAAqB79B,EAAE69B,oBAAoB,EAAGl1B,KAAKzC,IAAIq9B,EAAevjC,EAAEo3B,gBAAgBp3B,EAAE6N,MAAMhQ,OAAQu1B,EAA4CiE,UAAUmD,cAC/J,IAKH,OADA3V,EAAOvI,MAAK,CAACmnB,EAAIC,IAAOA,EAAGF,OAASC,EAAGD,QAAUE,EAAG7F,oBAAsB4F,EAAG5F,sBACtE7J,EAAO4N,cAAc/c,EAAO,GAAG5jB,MAAM,GAGhDwgC,EAAsD,QAAE9F,cAAgBA,CAKjE,EAED,0CAIA,SAAUr/B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBk6B,CAAY,IAE3D,IAAIsE,EAA2CxkC,EAAwC,8CACnFk1B,EAA+Cl1B,EAA6C,2CACvBA,EAAoE,kEAC3FA,EAA4C,0CACnCA,EAAqD,mDACpEA,EAAqC,2CACbA,EAA8D,4DAClEA,EAAyD,+DAC1EA,EAAwC,8CACvBA,EAAyD,+DACtDA,EAA2D,iEACvEA,EAA+C,qDACvDA,EAAuC,6CAgB3G,MAAMkgC,UAAmBsE,EAAkD,QAKzE/C,QAAQvJ,GAEFA,EAAK8P,OAAM9P,EAAKzO,KAAO,IAAIwe,OAAO/P,EAAK8P,KAAK,GAAG9lC,SACnDo0B,MAAMmL,QAAQvJ,EAChB,CAKA6K,aACE,OAAOzZ,KAAK0e,KAAK1lC,MAAKgmB,GAAKA,EAAEhoB,QAAQgpB,KAAKmQ,gBAAkB,KAAMnD,MAAMyM,cAAc9gC,UACxF,EAEFizB,EAAsD,QAAEgL,WAAaA,CAK9D,EAED,6CAIA,SAAUv/B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBg7B,CAAY,EACzDzH,YAAe,WAAa,OAAqBA,CAAa,IAEhE,IAAI2O,EAA8CloC,EAA4C,0CAC1Fk1B,EAA+Cl1B,EAA6C,2CACrCA,EAAqD,mDAMrI,SAASu5B,EAAY9P,GACnB,GAAY,MAARA,EACF,MAAM,IAAIqF,MAAM,mCAIlB,OAAIrF,aAAgBqE,OAAeoH,EAAsD,QAAE0L,cAEvF,EAAGsH,EAA4CzJ,UAAUhV,GAAcyL,EAAsD,QAAEsL,cAE/H/W,aAAgB0V,MAAQ1V,IAAS0V,KAAajK,EAAsD,QAAE4K,WAEtGrW,aAAgB0e,QAA0B,iBAAT1e,GAAqBA,IAAS0e,OAAejT,EAAsD,QAAEoL,aAEtIl+B,MAAM4iB,QAAQyE,IAASA,IAASrnB,MAAc8yB,EAAsD,QAAE8K,cAEtG9K,EAAsD,QAAEoE,QAAU7P,EAAK3B,qBAAqBoN,EAAsD,QAAEoE,OAAe7P,EAEnKA,aAAgByL,EAAsD,QAAEoE,OAAe7P,EAAKzB,YAE5FyB,aAAgB2e,SAAiBlT,EAAsD,QAAEkL,gBAC7FtZ,QAAQ2T,KAAK,0BAA2BhR,GAEjCyL,EAAsD,QAAEoE,OACjE,CAGA,SAAS0H,EAAW9I,GAElB,GAAIhD,EAAsD,QAAEoE,QAAUpB,aAAgBhD,EAAsD,QAAEoE,OAAQ,OAAOpB,EAE7J,MAAMzO,GADNyO,EAAO90B,OAAOC,OAAO,CAAC,EAAG60B,IACPzO,KAGlB,GAAIyL,EAAsD,QAAEoE,QAAU7P,aAAgByL,EAAsD,QAAEoE,OAAQ,OAAO7P,EAC7J,MAAM4e,EAAc9O,EAAY9P,GAChC,IAAK4e,EAAa,MAAM,IAAIvZ,MAAM,qHAClC,OAAO,IAAIuZ,EAAYnQ,EACzB,CACAhD,EAAsD,QAAE8L,WAAaA,CAK9D,EAED,8CAIA,SAAUrgC,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBo6B,CAAgB,IAE/D,IAAIkI,EAAwCtoC,EAAqC,2CAC7Ek1B,EAA+Cl1B,EAA6C,2CACrCA,EAAqD,mDAC5CA,EAA8D,4DAChFA,EAA4C,0CAQnH,MAAMogC,UAAuBkI,EAA+C,QAK1E7G,QAAQvJ,GACFA,EAAKzO,OAAMyO,EAAK6L,SAAW7L,EAAKzO,MACpC6M,MAAMmL,QAAQvJ,EAChB,EAEFhD,EAAsD,QAAEkL,eAAiBA,CAKlE,EAED,4CAIA,SAAUz/B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBs6B,CAAc,IAE7D,IAAI4H,EAA8CloC,EAA4C,0CAC1FuoC,EAAuDvoC,EAAqD,mDAC5GwoC,EAAwCxoC,EAAqC,2CAC7EwhC,EAA+CxhC,EAA6C,2CAC5BA,EAA8D,4DAoBvJ,MAAMsgC,UAAqBkI,EAA+C,QAmBxExgB,YAAYkQ,GACV5B,MAAMlzB,OAAOC,OAAO,CAAC,EAAGi9B,EAAaoB,SAAUxJ,GACjD,CAKAuJ,QAAQvJ,GACN5B,MAAMmL,QAAQvJ,GACd5O,KAAKmf,gBACP,CAGAA,iBACE,IAAI/2B,EAAQ,KAAO4X,KAAKof,cAAgB,WAAa,IAEjDr3B,GAAOiY,KAAKqf,MAAQ,IAAIxkC,QAAO,EAAG+jC,EAA4C5J,cAAchV,KAAKsf,OAAQ,UAAUzkC,OAAOmlB,KAAKqf,MAAO,OAAS,IAAM,IACzJrf,KAAKuf,cAAgB,IAAI/a,OAAOpc,EAFtB,OAEoCL,GAC9CiY,KAAKwf,kBAAoB,IAAIhb,OAAO,IAAI3pB,OAAOmlB,KAAKyf,WAAWhlB,IAAImkB,EAA4C5J,cAAclZ,KAAK,IAAK,KAAM,KAC7IkE,KAAK0f,0BAA4B,IAAIlb,QAAO,EAAGoa,EAA4C5J,cAAchV,KAAK2f,oBAAqB,IACrI,CAGAC,2BAA2Bh3B,GACzB,OAAOA,EAAMqR,QAAQ+F,KAAK0f,0BAA2B,GACvD,CAGAG,2BAA2Bj3B,GAEzB,MAAMk3B,EAAQl3B,EAAMgR,MAAMoG,KAAKsf,OAE/B,OADAQ,EAAM,GAAKA,EAAM,GAAG7lB,QAAQ,wBAAyB+F,KAAK2f,oBACnDG,EAAMhkB,KAAKkE,KAAKsf,MACzB,CAKAhG,UAAUJ,GACR,IAAIX,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EACjFugC,EAAKlZ,KAAK4f,2BAA2B5f,KAAKqf,OAASrf,KAAKyf,WAAW7mC,SASnE2/B,EAAMxY,OAASwY,EAAMvF,MAAQuF,EAAMxY,QAAUwY,EAAMvF,KAAOkG,EAAGjf,QAAQ+F,KAAKwf,kBAAmBxf,KAAKsf,OAASpG,GAC3G,MAAO6G,EAAQtN,IAAW,EAAGmM,EAA4CxJ,kBAAkBpI,MAAMsM,UAAUJ,EAAIX,IAE/G,OADIW,IAAO6G,IAAQtN,EAAQyB,MAAO,GAC3B,CAAC6L,EAAQtN,EAClB,CAGAuN,iBAAiBvE,GACf,IAAIwE,EAAqBtnC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,IAAmBA,UAAU,GACpFunC,EAAQ,EACZ,IAAK,IAAIjP,EAAM,EAAGA,EAAMwK,IAAMxK,EACxBjR,KAAKiP,OAAOj4B,QAAQgpB,KAAK2f,mBAAoB1O,KAASA,MACtDiP,EACED,IAAoBxE,GAAMzb,KAAK2f,mBAAmB/mC,SAG1D,OAAOsnC,CACT,CAGAC,4BACE,IAAIxvB,EAAQhY,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKiP,OACrF,OAAOjP,KAAKggB,iBAAiBhgB,KAAK4f,2BAA2BjvB,GAAO/X,QAAQ,EAC9E,CAKA8/B,eACE,IAAIG,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKpX,MAAMhQ,OACvF2/B,EAAQ5/B,UAAUC,OAAS,EAAID,UAAU,QAAKof,EAElD,OADC8gB,EAASC,GAAS9Y,KAAKogB,2BAA2BvH,EAASC,GACrD9Y,KAAK4f,2BAA2B5S,MAAM0L,aAAaG,EAASC,EAAOP,GAC5E,CAKAU,eAAeC,GACb,IAAIX,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EACjF,IAAKqnB,KAAK2f,mBAAoB,OAAO3S,MAAMiM,eAAeC,EAAIX,GAC9D,MAAM8H,EAAsB9H,EAAM1E,MAAQ0E,EAAMuB,iBAAmBvB,EAAMuB,iBAAiB7K,OAASjP,KAAKiP,OAClGqR,EAAgCtgB,KAAKmgB,0BAA0BE,GACrErgB,KAAKiP,OAASjP,KAAK4f,2BAA2B5f,KAAKpX,OACnD,MAAM23B,EAAgBvT,MAAMiM,eAAeC,EAAIX,GAC/CvY,KAAKiP,OAASjP,KAAK6f,2BAA2B7f,KAAKiP,QACnD,MAAMuR,EAAkBjI,EAAM1E,MAAQ0E,EAAMuB,iBAAmBvB,EAAMuB,iBAAiB7K,OAASjP,KAAKiP,OAC9FwR,EAA4BzgB,KAAKmgB,0BAA0BK,GAGjE,OAFAD,EAAcpM,YAAcsM,EAA4BH,GAAiCtgB,KAAK2f,mBAAmB/mC,OACjH2nC,EAAcrM,MAAQqM,EAActM,aAAeiF,IAAOlZ,KAAK2f,mBACxDY,CACT,CAGAG,qBAAqBzP,GACnB,GAAIjR,KAAK2f,mBAAoB,CAC3B,MAAMgB,EAAa1P,EAAMjR,KAAK2f,mBAAmB/mC,OAAS,EACpDgoC,EAAe5gB,KAAKpX,MAAM5R,QAAQgpB,KAAK2f,mBAAoBgB,GACjE,GAAIC,GAAgB3P,EAAK,OAAO2P,CAClC,CACA,OAAQ,CACV,CACAR,2BAA2BzhB,EAAM8c,GAC/B,MAAMoF,EAAyB7gB,KAAK0gB,qBAAqB/hB,GACrDkiB,GAA0B,IAAGliB,EAAOkiB,GACxC,MAAMC,EAAuB9gB,KAAK0gB,qBAAqBjF,GAEvD,OADIqF,GAAwB,IAAGrF,EAAKqF,EAAuB9gB,KAAK2f,mBAAmB/mC,QAC5E,CAAC+lB,EAAM8c,EAChB,CAKAve,SACE,IAAI2b,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKpX,MAAMhQ,QAC1FigC,EAASC,GAAS9Y,KAAKogB,2BAA2BvH,EAASC,GAC5D,MAAMiI,EAAiB/gB,KAAKpX,MAAM+H,MAAM,EAAGkoB,GACrCmI,EAAgBhhB,KAAKpX,MAAM+H,MAAMmoB,GACjCwH,EAAgCtgB,KAAKggB,iBAAiBe,EAAenoC,QAC3EonB,KAAKiP,OAASjP,KAAK6f,2BAA2B7f,KAAK4f,2BAA2BmB,EAAiBC,IAC/F,MAAMP,EAA4BzgB,KAAKmgB,0BAA0BY,GACjE,OAAO,IAAI9B,EAA8D,QAAE,CACzE9K,WAAYsM,EAA4BH,GAAiCtgB,KAAK2f,mBAAmB/mC,QAErG,CAKAu5B,gBAAgBnB,EAAWztB,GACzB,IAAKyc,KAAK2f,mBAAoB,OAAO3O,EACrC,OAAQztB,GACN,KAAKq7B,EAA4CxM,UAAUa,KAC3D,KAAK2L,EAA4CxM,UAAUC,KAC3D,KAAKuM,EAA4CxM,UAAUmD,WACzD,CACE,MAAM0L,EAAqBjhB,KAAK0gB,qBAAqB1P,EAAY,GACjE,GAAIiQ,GAAsB,EAAG,CAC3B,MAAMC,EAAwBD,EAAqBjhB,KAAK2f,mBAAmB/mC,OAC3E,GAAIo4B,EAAYkQ,GAAyBlhB,KAAKpX,MAAMhQ,QAAUsoC,GAAyB39B,IAAcq7B,EAA4CxM,UAAUmD,WACzJ,OAAO0L,CAEX,CACA,KACF,CACF,KAAKrC,EAA4CxM,UAAU0B,MAC3D,KAAK8K,EAA4CxM,UAAUoD,YACzD,CACE,MAAM2L,EAAsBnhB,KAAK0gB,qBAAqB1P,GACtD,GAAImQ,GAAuB,EACzB,OAAOA,EAAsBnhB,KAAK2f,mBAAmB/mC,MAEzD,EAEJ,OAAOo4B,CACT,CAKAyI,WAAWlB,GAET,IAAI6I,EAAQvD,QAAQ7d,KAAK4f,2BAA2B5f,KAAKpX,OAAOuc,MAAMnF,KAAKuf,gBAC3E,GAAI6B,EAAO,CAET,MAAMC,EAASrhB,KAAKqhB,OACpBD,EAAQA,IAAUE,MAAMD,KAEZ,MAAZrhB,KAAK9e,KAAe8e,KAAK9e,KAAO,GAAK8e,KAAK9e,KAAO8e,KAAKqhB,UAE1C,MAAZrhB,KAAK/e,KAAe+e,KAAK/e,KAAO,GAAK+e,KAAKqhB,QAAUrhB,KAAK/e,IAC3D,CACA,OAAOmgC,GAASpU,MAAMyM,WAAWlB,EACnC,CAKArF,WACE,GAAIlT,KAAKpX,MAAO,CACd,MAAMy4B,EAASrhB,KAAKqhB,OACpB,IAAIE,EAAWF,EAGC,MAAZrhB,KAAK9e,MAAaqgC,EAAW79B,KAAKzC,IAAIsgC,EAAUvhB,KAAK9e,MACzC,MAAZ8e,KAAK/e,MAAasgC,EAAW79B,KAAKxC,IAAIqgC,EAAUvhB,KAAK/e,MACrDsgC,IAAaF,IAAQrhB,KAAKmQ,cAAgBnQ,KAAKyY,SAAS8I,IAC5D,IAAIC,EAAYxhB,KAAKpX,MACjBoX,KAAKyhB,iBAAgBD,EAAYxhB,KAAK0hB,gBAAgBF,IACtDxhB,KAAK2hB,oBAAsB3hB,KAAKqf,MAAQ,IAAGmC,EAAYxhB,KAAK4hB,oBAAoBJ,IACpFxhB,KAAKiP,OAASuS,CAChB,CACAxU,MAAMkG,UACR,CAGAwO,gBAAgB94B,GACd,MAAMk3B,EAAQ9f,KAAK4f,2BAA2Bh3B,GAAOgR,MAAMoG,KAAKsf,OAWhE,OARAQ,EAAM,GAAKA,EAAM,GAAG7lB,QAAQ,mBAAmB,CAACkL,EAAO0c,EAAMC,EAAOC,IAAQF,EAAOE,IAE/En5B,EAAMhQ,SAAW,MAAMpC,KAAKspC,EAAM,MAAKA,EAAM,GAAKA,EAAM,GAAK,KAC7DA,EAAMlnC,OAAS,IACjBknC,EAAM,GAAKA,EAAM,GAAG7lB,QAAQ,MAAO,IAC9B6lB,EAAM,GAAGlnC,SAAQknC,EAAMlnC,OAAS,IAGhConB,KAAK6f,2BAA2BC,EAAMhkB,KAAKkE,KAAKsf,OACzD,CAGAsC,oBAAoBh5B,GAClB,IAAKA,EAAO,OAAOA,EACnB,MAAMk3B,EAAQl3B,EAAMgR,MAAMoG,KAAKsf,OAG/B,OAFIQ,EAAMlnC,OAAS,GAAGknC,EAAMtkC,KAAK,IACjCskC,EAAM,GAAKA,EAAM,GAAGkC,OAAOhiB,KAAKqf,MAAO,KAChCS,EAAMhkB,KAAKkE,KAAKsf,MACzB,CAGAtF,cAAcd,GACZ,IAAIX,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EAC7EygC,EAAYzgC,UAAUC,OAAS,EAAID,UAAU,QAAKof,EACtD,MAAMkqB,EAAgC,IAAfjiB,KAAKqf,OAAenG,IAAOlZ,KAAK2f,qBAAuBzG,IAAOlZ,KAAKsf,OAASpG,IAAOlC,EAAakL,gBAAkBliB,KAAKyf,WAAWxE,SAAS/B,IAClK,OAAOlM,MAAMgN,cAAcd,EAAIX,EAAOa,KAAe6I,CACvD,CAKI9R,oBACF,OAAOnQ,KAAK4f,2BAA2B5f,KAAK0hB,gBAAgB1hB,KAAKpX,QAAQqR,QAAQ+F,KAAKsf,MAAOtI,EAAakL,eAC5G,CACI/R,kBAAcA,GAChBnD,MAAMmD,cAAgBA,CACxB,CAKIE,iBACF,OAAOrQ,KAAKwY,QAAQxY,KAAKmQ,cAC3B,CACIE,eAAWjU,GACb4D,KAAK2S,cAAgB3S,KAAKyY,SAASrc,GAAGnC,QAAQ+c,EAAakL,eAAgBliB,KAAKsf,MAClF,CAGI+B,aACF,OAAOrhB,KAAKqQ,UACd,CACIgR,WAAOA,GACTrhB,KAAKqQ,WAAagR,CACpB,CAMIjC,oBACF,OAAOpf,KAAKmiB,QAAsB,MAAZniB,KAAK9e,KAAe8e,KAAK9e,IAAM,GAAiB,MAAZ8e,KAAK/e,KAAe+e,KAAK/e,IAAM,CAC3F,CAKAsvB,iBAAiB3nB,GAGf,OAAQokB,MAAMuD,iBAAiB3nB,IAAUouB,EAAagE,aAAaC,SAASryB,IAAUouB,EAAagE,aAAaC,SAASjb,KAAKqQ,gBAA4B,IAAVznB,GAA8B,KAAfoX,KAAKpX,MACtK,EAEFouB,EAAakL,eAAiB,IAC9BlL,EAAaoB,SAAW,CACtBkH,MAAO,IACPK,mBAAoB,GACpBF,WAAY,CAACzI,EAAakL,gBAC1B7C,MAAO,EACP8C,QAAQ,EACRV,gBAAgB,EAChBE,oBAAoB,EACpBjH,MAAOmE,OACP3b,OAAQ9G,GAAKA,EAAEgmB,eAAe,QAAS,CACrCC,aAAa,EACbC,sBAAuB,MAG3BtL,EAAagE,aAAe,IAAIkE,EAA+C,QAAElE,aAAc,GAC/F9C,EAAsD,QAAElB,aAAeA,CAKhE,EAED,6CAIA,SAAU3/B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBw6B,CAAe,IAE9D,IAAIhJ,EAAqEx3B,EAAoE,kEACzIy3B,EAA8Cz3B,EAA4C,0CAC1F2lC,EAAuD3lC,EAAqD,mDAC5G6rC,EAAwC7rC,EAAqC,2CAC7E8rC,EAA4D9rC,EAAyD,+DACrH+rC,EAA4D/rC,EAAyD,+DACrHgsC,EAA8DhsC,EAA2D,iEACzHisC,EAAkDjsC,EAA+C,qDACjGksC,EAA2ClsC,EAAwC,8CACnFmsC,EAA+CnsC,EAA6C,2CACjDA,EAAuC,6CACjBA,EAA8D,4DAcxJ,MAAMg4B,EAAY,CAAC,WAWnB,MAAMwI,UAAsBqL,EAA+C,QAWzE7jB,cACE,IAAIkQ,EAAOj2B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EAEhFi2B,EAAKkU,YAAchpC,OAAOC,OAAO,CAAC,EAAGyoC,EAA0DO,0BAA2BnU,EAAKkU,aAC/H9V,MAAMlzB,OAAOC,OAAO,CAAC,EAAGm9B,EAAckB,SAAUxJ,GAClD,CAMAuJ,UACE,IAAIvJ,EAAOj2B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EAChFi2B,EAAKkU,YAAchpC,OAAOC,OAAO,CAAC,EAAGimB,KAAK8iB,YAAalU,EAAKkU,aAC5D9V,MAAMmL,QAAQvJ,GACd5O,KAAKgjB,cACP,CAGAA,eACE,MAAMC,EAAOjjB,KAAK8iB,YAClB9iB,KAAKkjB,QAAU,GACfljB,KAAKmjB,OAAS,GACdnjB,KAAKojB,cAAgB,CAAC,EACtB,IAAIpmB,EAAUgD,KAAKG,KACnB,IAAKnD,IAAYimB,EAAM,OACvB,IAAII,GAAiB,EACjBC,GAAgB,EACpB,IAAK,IAAI1zB,EAAI,EAAGA,EAAIoN,EAAQpkB,SAAUgX,EAAG,CACvC,IAAI2zB,EAAYC,EAChB,GAAIxjB,KAAKqb,OAAQ,CACf,MAAMrT,EAAIhL,EAAQrM,MAAMf,GAClB6zB,EAAS3pC,OAAO4O,KAAKsX,KAAKqb,QAAQvgC,QAAO4oC,GAA8B,IAArB1b,EAAEhxB,QAAQ0sC,KAElED,EAAOpsB,MAAK,CAACC,EAAGC,IAAMA,EAAE3e,OAAS0e,EAAE1e,SAEnC,MAAM8qC,EAAQD,EAAO,GACrB,GAAIC,EAAO,CAET,MAAMC,GAAc,EAAGf,EAAkD,SAAG9oC,OAAOC,OAAO,CACxF8C,OAAQmjB,KACR4jB,KAAM5jB,KAAK4jB,KACX3J,MAAOja,KAAKia,MACZ1U,gBAAiBvF,KAAKuF,gBACtBse,YAAa7jB,KAAK6jB,YAClBlK,UAAW3Z,KAAK2Z,WACf3Z,KAAKqb,OAAOqI,KACXC,IACF3jB,KAAKkjB,QAAQ1nC,KAAKmoC,GAGb3jB,KAAKojB,cAAcM,KAAQ1jB,KAAKojB,cAAcM,GAAS,IAC5D1jB,KAAKojB,cAAcM,GAAOloC,KAAKwkB,KAAKkjB,QAAQtqC,OAAS,IAEvDgX,GAAK8zB,EAAM9qC,OAAS,EACpB,QACF,CACF,CACA,IAAIgsB,EAAO5H,EAAQpN,GACfk0B,EAAWlf,KAAQqe,EACvB,GAAIre,IAASsS,EAAc6M,UAAW,CACpC/jB,KAAKmjB,OAAO3nC,KAAKwkB,KAAKkjB,QAAQtqC,QAC9B,QACF,CACA,GAAa,MAATgsB,GAAyB,MAATA,EAAc,CAChCye,GAAkBA,EAClB,QACF,CACA,GAAa,MAATze,GAAyB,MAATA,EAAc,CAChC0e,GAAiBA,EACjB,QACF,CACA,GAAI1e,IAASsS,EAAc8M,YAAa,CAGtC,KAFEp0B,EACFgV,EAAO5H,EAAQpN,IACVgV,EAAM,MACXkf,GAAU,CACZ,CACA,MAAMG,EAAyC,QAA7BV,EAAaN,EAAKre,UAAkC,IAAf2e,IAAyBA,EAAWpjB,OAA0C,QAA9BqjB,EAAcP,EAAKre,UAAmC,IAAhB4e,OAAyB,EAASA,EAAYrjB,KAAK3B,qBAAsBqkB,EAAsD,QAAE7S,OAAuB,CACnS7P,KAAM8iB,EAAKre,IAD2Qqe,EAAKre,GAGvRsf,EAAMJ,EAAU,IAAItB,EAAmE,QAAE1oC,OAAOC,OAAO,CAC3G8C,OAAQmjB,KACRmkB,WAAYb,EACZM,KAAM5jB,KAAK4jB,KACX3J,MAAOja,KAAKia,MACZ1U,gBAAiBvF,KAAKuF,gBACtBse,YAAa7jB,KAAK6jB,aACjBI,IAAa,IAAIxB,EAAmE,QAAE,CACvF7d,OACAqV,MAAOja,KAAKia,MACZmK,YAAaf,IAEfrjB,KAAKkjB,QAAQ1nC,KAAK0oC,EACpB,CACF,CAKItqC,YACF,OAAOE,OAAOC,OAAO,CAAC,EAAGizB,MAAMpzB,MAAO,CACpCspC,QAASljB,KAAKkjB,QAAQzoB,KAAIlD,GAAKA,EAAE3d,SAErC,CACIA,UAAMA,GACR,MAAMspC,QACFA,GACEtpC,EACJokC,GAAc,EAAG9P,EAAmEzC,GAAG7xB,EAAO80B,GAChG1O,KAAKkjB,QAAQjoC,SAAQ,CAACsc,EAAG8sB,IAAO9sB,EAAE3d,MAAQspC,EAAQmB,KAClDrX,MAAMpzB,MAAQokC,CAChB,CAKAniC,QACEmxB,MAAMnxB,QACNmkB,KAAKkjB,QAAQjoC,SAAQsc,GAAKA,EAAE1b,SAC9B,CAKIo2B,iBACF,OAAOjS,KAAKkjB,QAAQ/yB,OAAMoH,GAAKA,EAAE0a,YACnC,CAKI0G,eACF,OAAO3Y,KAAKkjB,QAAQ/yB,OAAMoH,GAAKA,EAAEohB,UACnC,CACI72B,cACF,OAAOke,KAAKkjB,QAAQ/yB,OAAMoH,GAAKA,EAAEzV,SACnC,CACIqiC,iBACF,OAAOnkB,KAAKkjB,QAAQ/yB,OAAMoH,GAAKA,EAAE4sB,YACnC,CAKAjR,WACElT,KAAKkjB,QAAQjoC,SAAQsc,GAAKA,EAAE2b,aAC5BlG,MAAMkG,UACR,CAKI/C,oBACF,OAAOnQ,KAAKkjB,QAAQniC,QAAO,CAACikB,EAAKzN,IAAMyN,EAAOzN,EAAE4Y,eAAe,GACjE,CACIA,kBAAcA,GAChBnD,MAAMmD,cAAgBA,CACxB,CAKIvnB,YAEF,OAAOoX,KAAKkjB,QAAQniC,QAAO,CAACikB,EAAKzN,IAAMyN,EAAOzN,EAAE3O,OAAO,GACzD,CACIA,UAAMA,GACRokB,MAAMpkB,MAAQA,CAChB,CACI4nB,mBACF,OAAOxQ,KAAKkjB,QAAQniC,QAAO,CAACikB,EAAKzN,IAAMyN,EAAOzN,EAAEiZ,cAAc,GAChE,CAKAwI,WAAWnF,GACT,OAAO7G,MAAMgM,WAAWnF,GAAMO,UAAUpU,KAAK0U,qBAC/C,CAKAmF,eACE,IAAIyK,EACJ,MAAM7R,EAAU,IAAI4J,EAA8D,QAClF,IAAIkI,EAAsF,QAAnED,EAAuBtkB,KAAKwkB,eAAexkB,KAAKpX,MAAMhQ,eAA8C,IAAzB0rC,OAAkC,EAASA,EAAqBtoC,MAClK,GAAuB,MAAnBuoC,EAAyB,OAAO9R,EAGhCzS,KAAKkjB,QAAQqB,GAAiB5L,YAAY4L,EAC9C,IAAK,IAAIF,EAAKE,EAAiBF,EAAKrkB,KAAKkjB,QAAQtqC,SAAUyrC,EAAI,CAC7D,MAAM7sC,EAAIwoB,KAAKkjB,QAAQmB,GAAIxK,eAC3B,IAAKriC,EAAEs7B,SAAU,MACjBL,EAAQ2B,UAAU58B,EACpB,CACA,OAAOi7B,CACT,CAKAwG,eAAeC,GACb,IAAIX,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EACjF,MAAM8rC,EAAYzkB,KAAKwkB,eAAexkB,KAAKpX,MAAMhQ,QAC3C65B,EAAU,IAAI4J,EAA8D,QAClF,IAAKoI,EAAW,OAAOhS,EACvB,IAAK,IAAI4R,EAAKI,EAAUzoC,SAAUqoC,EAAI,CACpC,IAAI/G,EAAuBC,EAC3B,MAAMmH,EAAQ1kB,KAAKkjB,QAAQmB,GAC3B,IAAKK,EAAO,MACZ,MAAMC,EAAeD,EAAMvL,YAAYD,EAAIp/B,OAAOC,OAAO,CAAC,EAAGw+B,EAAO,CAClEuB,iBAAuE,QAApDwD,EAAwB/E,EAAMuB,wBAAwD,IAA1BwD,GAAyG,QAA5DC,EAAyBD,EAAsB4F,eAAgD,IAA3B3F,OAA9E,EAA2HA,EAAuB8G,MAEhQnQ,EAAOyQ,EAAazQ,KAE1B,GADAzB,EAAQ2B,UAAUuQ,GACdzQ,GAAQyQ,EAAa1Q,YAAa,KACxC,CAEA,OAAOxB,CACT,CAKAsG,cACE,IAAIF,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKpX,MAAMhQ,OAC3F,MAAMgsC,EAAY,IAAIlC,EAAqE,QAC3F,OAAI7J,IAAYC,GAChB9Y,KAAK6kB,sBAAsBhM,EAASC,GAAO,CAACvhB,EAAG8sB,EAAIS,EAAUC,KAC3D,MAAMC,EAAaztB,EAAEwhB,YAAY+L,EAAUC,GAC3CC,EAAW1Q,KAAOtU,KAAKilB,gBAAgBZ,GACvCW,EAAWrmB,KAAOqB,KAAKklB,eAAeb,GAClCW,aAAsBtC,EAAqE,UAAGsC,EAAWG,WAAad,GAC1HO,EAAUrQ,OAAOyQ,EAAW,IANAJ,CAShC,CAKAlM,eACE,IAAIG,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKpX,MAAMhQ,OACvF2/B,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EACjF,GAAIkgC,IAAYC,EAAO,MAAO,GAC9B,IAAI/Y,EAAQ,GAIZ,OAHAC,KAAK6kB,sBAAsBhM,EAASC,GAAO,CAACvhB,EAAGkU,EAAGoN,EAASC,KACzD/Y,GAASxI,EAAEmhB,aAAaG,EAASC,EAAOP,EAAM,IAEzCxY,CACT,CACAklB,gBAAgBE,GACd,IAAIC,EACJ,IAAK,IAAIC,EAAK,EAAGA,EAAKrlB,KAAKmjB,OAAOvqC,SAAUysC,EAAI,CAC9C,MAAM/Q,EAAOtU,KAAKmjB,OAAOkC,GACzB,KAAI/Q,GAAQ6Q,GAAmC,MAAvBC,EAAa9Q,CACvC,CACA,OAAO8Q,CACT,CAGA1Q,mBAAmB4Q,GACjB,MAAM7S,EAAU,IAAI4J,EAA8D,QAClF,GAAIrc,KAAK4jB,MAAwB,MAAhB0B,EAAsB,OAAO7S,EAC9C,MAAM8S,EAAiBvlB,KAAKwkB,eAAexkB,KAAKpX,MAAMhQ,QACtD,IAAK2sC,EAAgB,OAAO9S,EAC5B,MAAM8R,EAAkBgB,EAAevpC,MACjCwpC,EAAgC,MAAhBF,EAAuBA,EAAetlB,KAAKkjB,QAAQtqC,OAUzE,OATAonB,KAAKkjB,QAAQvyB,MAAM4zB,EAAiBiB,GAAevqC,SAAQsc,IACzD,IAAKA,EAAEqsB,MAAwB,MAAhB0B,EAAsB,CAEnC,MAAMzsC,EAAoB,MAAb0e,EAAE2rB,QAAkB,CAAC3rB,EAAE2rB,QAAQtqC,QAAU,GAChD6sC,EAAWluB,EAAEmd,sBAAsB77B,GACzCmnB,KAAKiP,QAAUwW,EAAS3S,SACxBL,EAAQ2B,UAAUqR,EACpB,KAEKhT,CACT,CAGA+R,eAAevT,GACb,IAAIyU,EAAS,GACb,IAAK,IAAIrB,EAAK,EAAGA,EAAKrkB,KAAKkjB,QAAQtqC,SAAUyrC,EAAI,CAC/C,MAAMK,EAAQ1kB,KAAKkjB,QAAQmB,GACrBsB,EAAgBD,EAAO9sC,OAE7B,GADA8sC,GAAUhB,EAAM97B,MACZqoB,GAAOyU,EAAO9sC,OAChB,MAAO,CACLoD,MAAOqoC,EACPn5B,OAAQ+lB,EAAM0U,EAGpB,CACF,CAGAT,eAAeC,GACb,OAAOnlB,KAAKkjB,QAAQvyB,MAAM,EAAGw0B,GAAYpkC,QAAO,CAACkwB,EAAK1Z,IAAM0Z,EAAO1Z,EAAE3O,MAAMhQ,QAAQ,EACrF,CAGAisC,sBAAsBhM,GACpB,IAAIC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKpX,MAAMhQ,OACvFsD,EAAKvD,UAAUC,OAAS,EAAID,UAAU,QAAKof,EAC/C,MAAM6tB,EAAgB5lB,KAAKwkB,eAAe3L,GAC1C,GAAI+M,EAAe,CACjB,MAAMC,EAAc7lB,KAAKwkB,eAAe1L,GAElCgN,EAAcD,GAAeD,EAAc5pC,QAAU6pC,EAAY7pC,MACjE+pC,EAAoBH,EAAc16B,OAClC86B,EAAkBH,GAAeC,EAAcD,EAAY36B,OAAS8U,KAAKkjB,QAAQ0C,EAAc5pC,OAAO4M,MAAMhQ,OAElH,GADAsD,EAAG8jB,KAAKkjB,QAAQ0C,EAAc5pC,OAAQ4pC,EAAc5pC,MAAO+pC,EAAmBC,GAC1EH,IAAgBC,EAAa,CAE/B,IAAK,IAAIzB,EAAKuB,EAAc5pC,MAAQ,EAAGqoC,EAAKwB,EAAY7pC,QAASqoC,EAC/DnoC,EAAG8jB,KAAKkjB,QAAQmB,GAAKA,EAAI,EAAGrkB,KAAKkjB,QAAQmB,GAAIz7B,MAAMhQ,QAIrDsD,EAAG8jB,KAAKkjB,QAAQ2C,EAAY7pC,OAAQ6pC,EAAY7pC,MAAO,EAAG6pC,EAAY36B,OACxE,CACF,CACF,CAKAgS,SACE,IAAI2b,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKpX,MAAMhQ,OAC3F,MAAMqtC,EAAgBjZ,MAAM9P,OAAO2b,EAASC,GAI5C,OAHA9Y,KAAK6kB,sBAAsBhM,EAASC,GAAO,CAACvhB,EAAGkU,EAAGqZ,EAAUC,KAC1DkB,EAAc7R,UAAU7c,EAAE2F,OAAO4nB,EAAUC,GAAQ,IAE9CkB,CACT,CAKA9T,gBAAgBnB,GACd,IAAIztB,EAAY5K,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKw1B,EAA4CiE,UAAUa,KAC1I,IAAKjT,KAAKkjB,QAAQtqC,OAAQ,OAAO,EACjC,MAAMstC,EAAS,IAAIvD,EAAyD,QAAE3iB,KAAMgR,GACpF,GAAIztB,IAAc4qB,EAA4CiE,UAAUa,KAItE,OAAIiT,EAAOC,uBAA+BD,EAAOjV,KACjDiV,EAAOE,WACHF,EAAOG,sBAA8BH,EAAOjV,IACzCjR,KAAKpX,MAAMhQ,QAIpB,GAAI2K,IAAc4qB,EAA4CiE,UAAUC,MAAQ9uB,IAAc4qB,EAA4CiE,UAAUmD,WAAY,CAE9J,GAAIhyB,IAAc4qB,EAA4CiE,UAAUC,KAAM,CAE5E,GADA6T,EAAOI,wBACHJ,EAAOK,IAAML,EAAOjV,MAAQD,EAAW,OAAOA,EAClDkV,EAAOE,UACT,CAQA,GALAF,EAAOG,sBACPH,EAAOM,yBACPN,EAAOO,uBAGHljC,IAAc4qB,EAA4CiE,UAAUC,KAAM,CAG5E,GAFA6T,EAAOC,uBACPD,EAAOQ,0BACHR,EAAOK,IAAML,EAAOjV,KAAOD,EAAW,OAAOkV,EAAOjV,IAExD,GADAiV,EAAOE,WACHF,EAAOK,IAAML,EAAOjV,KAAOD,EAAW,OAAOkV,EAAOjV,IACxDiV,EAAOE,UACT,CACA,OAAIF,EAAOK,GAAWL,EAAOjV,IACzB1tB,IAAc4qB,EAA4CiE,UAAUmD,WAAmB,GAC3F2Q,EAAOE,WACHF,EAAOK,GAAWL,EAAOjV,KAC7BiV,EAAOE,WACHF,EAAOK,GAAWL,EAAOjV,IAStB,GACT,CACA,OAAI1tB,IAAc4qB,EAA4CiE,UAAU0B,OAASvwB,IAAc4qB,EAA4CiE,UAAUoD,aAEnJ0Q,EAAOC,uBACPD,EAAOQ,0BACHR,EAAOI,wBAAgCJ,EAAOjV,IAC9C1tB,IAAc4qB,EAA4CiE,UAAUoD,YAAoBxV,KAAKpX,MAAMhQ,QAGvGstC,EAAOE,WACHF,EAAOK,GAAWL,EAAOjV,KAC7BiV,EAAOE,WACHF,EAAOK,GAAWL,EAAOjV,IACtBjR,KAAKmS,gBAAgBnB,EAAW7C,EAA4CiE,UAAUC,SAExFrB,CACT,CAKA4H,sBACE,IAAIC,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKpX,MAAMhQ,OACvF+tC,EAAQ,EAIZ,OAHA3mB,KAAK6kB,sBAAsBhM,EAASC,GAAO,CAACvhB,EAAGkU,EAAGqZ,EAAUC,KAC1D4B,GAASpvB,EAAEqhB,oBAAoBkM,EAAUC,EAAO,IAE3C4B,CACT,CAGAhD,YAAYxoC,GACV,OAAO6kB,KAAK4mB,aAAazrC,GAAM,EACjC,CAGAyrC,aAAazrC,GACX,MAAM0rC,EAAU7mB,KAAKojB,cAAcjoC,GACnC,OAAK0rC,EACEA,EAAQpsB,KAAIqsB,GAAM9mB,KAAKkjB,QAAQ4D,KADjB,EAEvB,EAEF5P,EAAckB,SAAW,CACvBwL,MAAM,EACNre,gBAAiB,KAEnB2R,EAAc6M,UAAY,IAC1B7M,EAAc8M,YAAc,KAC5B9M,EAAc6P,gBAAkBvE,EAAmE,QACnGtL,EAAc8P,gBAAkBvE,EAAmE,QACnGI,EAAsD,QAAE3L,cAAgBA,CAKjE,EAED,gEAIA,SAAU7/B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBuqC,CAAmB,IAElE,IAAI/Y,EAAqEx3B,EAAuE,kEAC5IuoC,EAAuDvoC,EAAwD,mDAC/GuhC,EAA8CvhC,EAA+C,0CAC7FwwC,EAAgExwC,EAAiE,4DACjIywC,EAA+CzwC,EAAgD,2CAOxH,MAAMg4B,EAAY,CAAC,UACnB,MAAMuY,EAGJvoB,cACE,IAAI0oB,EAASzuC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,GAC7EgmB,EAAOhmB,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC/EqnB,KAAKonB,OAASA,EACdpnB,KAAKrB,KAAOA,CACd,CACA9Y,WACE,OAAOma,KAAKonB,OAAO3sB,IAAIwN,QAAQnM,KAAK,GACtC,CAGAyY,OAAO8S,GACL,IAAKpf,OAAOof,GAAY,QACpB,EAAGpP,EAA4C9C,UAAUkS,KAAYA,EAAY,IAAIH,EAAuE,QAAEjf,OAAOof,KACzK,MAAMC,EAAYtnB,KAAKonB,OAAOpnB,KAAKonB,OAAOxuC,OAAS,GAC7C2uC,EAAaD,IAEnBA,EAAUhT,OAAS+S,EAAU/S,MAA0B,MAAlB+S,EAAU/S,OAE/C+S,EAAU1oB,OAAS2oB,EAAU3oB,KAAO2oB,EAAUzhC,WAAWjN,OACzD,GAAIyuC,aAAqBH,EAAuE,QAE1FK,EAEFD,EAAU/S,OAAO8S,EAAUxhC,YAG3Bma,KAAKonB,OAAO5rC,KAAK6rC,QAEd,GAAIA,aAAqBJ,EAAmB,CACjD,GAAsB,MAAlBI,EAAU/S,KAAc,CAE1B,IAAIkT,EACJ,KAAOH,EAAUD,OAAOxuC,QAAsC,MAA5ByuC,EAAUD,OAAO,GAAG9S,MACpDkT,EAAiBH,EAAUD,OAAOtS,QAClC0S,EAAe7oB,MAAQ0oB,EAAU1oB,KACjCqB,KAAKuU,OAAOiT,EAEhB,CAGIH,EAAUxhC,aAEZwhC,EAAU/S,KAAO+S,EAAUlC,WAC3BnlB,KAAKonB,OAAO5rC,KAAK6rC,GAErB,CACF,CACA7S,SAASzF,GAEP,KAAMA,aAAkBoY,EAAsD,QAAEjQ,eAAgB,CAE9F,OADa,IAAIgQ,EAAuE,QAAElnB,KAAKna,YACnF2uB,SAASzF,EACvB,CACA,MAAM0D,EAAU,IAAIwM,EAA8D,QAClF,IAAK,IAAIlF,EAAK,EAAGA,EAAK/Z,KAAKonB,OAAOxuC,SAAW65B,EAAQyB,OAAQ6F,EAAI,CAC/D,MAAM0N,EAAQznB,KAAKonB,OAAOrN,GACpB2N,EAAgB3Y,EAAOyV,eAAezV,EAAOnmB,MAAMhQ,QACnD07B,EAAOmT,EAAMnT,KACnB,IAAIqT,EACJ,GAAY,MAARrT,KAEHoT,GAAiBA,EAAc1rC,OAASs4B,GAAO,CAC9C,GAAImT,aAAiBR,GAErBlY,EAAOoU,OAAOnsC,QAAQs9B,IAAS,EAAG,CAChC,MAAMsT,EAAY7Y,EAAO2F,mBAAmBJ,GAC5C7B,EAAQ2B,UAAUwT,EACpB,CACAD,EAAaF,aAAiBR,GAAqBlY,EAAOmU,QAAQ5O,EACpE,CACA,GAAIqT,EAAY,CACd,MAAM/N,EAAc+N,EAAW3O,WAAWyO,GAC1C7N,EAAY1F,MAAO,EACnBzB,EAAQ2B,UAAUwF,GAClB7K,EAAOE,QAAU2K,EAAY9G,SAG7B,MAAM+U,EAAcJ,EAAM5hC,WAAW8K,MAAMipB,EAAY3F,YAAYr7B,QAC/DivC,GAAapV,EAAQ2B,UAAUrF,EAAO0F,OAAOoT,EAAa,CAC5DhU,MAAM,IAEV,MACEpB,EAAQ2B,UAAUrF,EAAO0F,OAAOgT,EAAM5hC,WAAY,CAChDguB,MAAM,IAGZ,CACA,OAAOpB,CACT,CACI74B,YACF,MAAO,CACLwtC,OAAQpnB,KAAKonB,OAAO3sB,KAAIqtB,GAAKA,EAAEluC,QAC/B+kB,KAAMqB,KAAKrB,KACX2V,KAAMtU,KAAKsU,KACX6Q,WAAYnlB,KAAKmlB,WAErB,CACIvrC,UAAMA,GACR,MAAMwtC,OACFA,GACExtC,EACJmuC,GAAQ,EAAG7Z,EAAmEzC,GAAG7xB,EAAO80B,GAC1F50B,OAAOC,OAAOimB,KAAM+nB,GACpB/nB,KAAKonB,OAASA,EAAO3sB,KAAIutB,IACvB,MAAMP,EAAQ,WAAYO,EAAS,IAAIf,EAAsB,IAAIC,EAAuE,QAGxI,OADAO,EAAM7tC,MAAQouC,EACPP,CAAK,GAEhB,CACA9S,QAAQC,GACN,IAAK5U,KAAKonB,OAAOxuC,QAAuB,MAAbg8B,GAAqB5U,KAAKrB,MAAQiW,EAAW,MAAO,GAC/E,MAAMqT,EAA6B,MAAbrT,EAAoBA,EAAY5U,KAAKrB,KAAOiW,EAClE,IAAImF,EAAK,EACT,KAAOA,EAAK/Z,KAAKonB,OAAOxuC,QAAQ,CAC9B,MAAM6uC,EAAQznB,KAAKonB,OAAOrN,GACpBlF,EAAY4S,EAAM9S,QAAQsT,GAChC,GAAIR,EAAM5hC,WAAY,CAGpB,IAAKgvB,EAAW,QACdkF,CACJ,MAEE/Z,KAAKonB,OAAO/c,OAAO0P,EAAI,GAEzB,GAAIlF,EAAW,OAAOA,CACxB,CACA,MAAO,EACT,CACAC,QACE,IAAK9U,KAAKonB,OAAOxuC,OAAQ,MAAO,GAChC,IAAImhC,EAAK/Z,KAAKonB,OAAOxuC,OAAS,EAC9B,KAAO,GAAKmhC,GAAI,CACd,MAAM0N,EAAQznB,KAAKonB,OAAOrN,GACpBlF,EAAY4S,EAAM3S,QACxB,GAAI2S,EAAM5hC,WAAY,CAGpB,IAAKgvB,EAAW,QACdkF,CACJ,MAEE/Z,KAAKonB,OAAO/c,OAAO0P,EAAI,GAEzB,GAAIlF,EAAW,OAAOA,CACxB,CACA,MAAO,EACT,EAMK,EAED,oDAIA,SAAUx9B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBwrC,CAAe,IAE9D,IAAItJ,EAA8CloC,EAA+C,0CACtCA,EAAwD,mDAChEA,EAAgD,2CAKxH,MAAMwxC,EACJxpB,YAAYqQ,EAAQkC,GAClBjR,KAAK+O,OAASA,EACd/O,KAAKmoB,KAAO,GACZ,MAAMj9B,OACJA,EAAMlP,MACNA,GACE+yB,EAAOyV,eAAevT,KAASA,EAAM,EAEzC,CACEj1B,MAAO,EACPkP,OAAQ,GAGV,CACElP,MAAOgkB,KAAK+O,OAAOmU,QAAQtqC,OAC3BsS,OAAQ,IAEV8U,KAAK9U,OAASA,EACd8U,KAAKhkB,MAAQA,EACbgkB,KAAKumB,IAAK,CACZ,CACI7B,YACF,OAAO1kB,KAAK+O,OAAOmU,QAAQljB,KAAKhkB,MAClC,CACIi1B,UACF,OAAOjR,KAAK+O,OAAOmW,eAAellB,KAAKhkB,OAASgkB,KAAK9U,MACvD,CACItR,YACF,MAAO,CACLoC,MAAOgkB,KAAKhkB,MACZkP,OAAQ8U,KAAK9U,OACbq7B,GAAIvmB,KAAKumB,GAEb,CACI3sC,UAAMklB,GACRhlB,OAAOC,OAAOimB,KAAMlB,EACtB,CACAspB,YACEpoB,KAAKmoB,KAAK3sC,KAAKwkB,KAAKpmB,MACtB,CACAwsC,WACE,MAAMtnB,EAAIkB,KAAKmoB,KAAKE,MAEpB,OADAroB,KAAKpmB,MAAQklB,EACNA,CACT,CACAwpB,YACMtoB,KAAK0kB,QACL1kB,KAAKhkB,MAAQ,IACfgkB,KAAKhkB,MAAQ,EACbgkB,KAAK9U,OAAS,GAEZ8U,KAAKhkB,OAASgkB,KAAK+O,OAAOmU,QAAQtqC,SACpConB,KAAKhkB,MAAQgkB,KAAK+O,OAAOmU,QAAQtqC,OAAS,EAC1ConB,KAAK9U,OAAS8U,KAAK0kB,MAAM97B,MAAMhQ,QAEnC,CACA2vC,UAAUrsC,GAER,IADA8jB,KAAKooB,YACApoB,KAAKsoB,YAAa,GAAKtoB,KAAKhkB,QAASgkB,KAAKhkB,MAAOgkB,KAAK9U,QAAyC,QAA9Bs9B,EAAcxoB,KAAK0kB,aAAmC,IAAhB8D,OAAyB,EAASA,EAAY5/B,MAAMhQ,SAAW,EAAG,CAC5K,IAAI4vC,EACJ,GAAItsC,IAAM,OAAO8jB,KAAKumB,IAAK,CAC7B,CACA,OAAOvmB,KAAKumB,IAAK,CACnB,CACAkC,WAAWvsC,GAET,IADA8jB,KAAKooB,YACApoB,KAAKsoB,YAAatoB,KAAKhkB,MAAQgkB,KAAK+O,OAAOmU,QAAQtqC,SAAUonB,KAAKhkB,MAAOgkB,KAAK9U,OAAS,EAC1F,GAAIhP,IAAM,OAAO8jB,KAAKumB,IAAK,EAE7B,OAAOvmB,KAAKumB,IAAK,CACnB,CACAE,uBACE,OAAOzmB,KAAKuoB,WAAU,KACpB,IAAIvoB,KAAK0kB,MAAM5iC,SAAYke,KAAK0kB,MAAM97B,MAEtC,OADAoX,KAAK9U,OAAS8U,KAAK0kB,MAAMvS,gBAAgBnS,KAAK9U,OAAQ0zB,EAA4CxM,UAAUmD,YACxF,IAAhBvV,KAAK9U,aAAT,CAAkC,GAEtC,CACAm7B,sBAKE,OAAOrmB,KAAKuoB,WAAU,KACpB,IAAIvoB,KAAK0kB,MAAM5iC,QAEf,OADAke,KAAK9U,OAAS8U,KAAK0kB,MAAMvS,gBAAgBnS,KAAK9U,OAAQ0zB,EAA4CxM,UAAUC,OACrG,CAAI,GAEf,CACAmU,yBACE,OAAOxmB,KAAKuoB,WAAU,KACpB,KAAIvoB,KAAK0kB,MAAM5iC,SAAWke,KAAK0kB,MAAMP,aAAenkB,KAAK0kB,MAAM97B,OAE/D,OADAoX,KAAK9U,OAAS8U,KAAK0kB,MAAMvS,gBAAgBnS,KAAK9U,OAAQ0zB,EAA4CxM,UAAUC,OACrG,CAAI,GAEf,CACAiU,wBACE,OAAOtmB,KAAKyoB,YAAW,KACrB,IAAIzoB,KAAK0kB,MAAM5iC,SAAYke,KAAK0kB,MAAM97B,MAEtC,OADAoX,KAAK9U,OAAS8U,KAAK0kB,MAAMvS,gBAAgBnS,KAAK9U,OAAQ0zB,EAA4CxM,UAAUoD,aACxGxV,KAAK9U,SAAW8U,KAAK0kB,MAAM97B,MAAMhQ,aAArC,CAAwD,GAE5D,CACAutC,uBACE,OAAOnmB,KAAKyoB,YAAW,KACrB,IAAIzoB,KAAK0kB,MAAM5iC,QAQf,OALAke,KAAK9U,OAAS8U,KAAK0kB,MAAMvS,gBAAgBnS,KAAK9U,OAAQ0zB,EAA4CxM,UAAUa,OAKrG,CAAI,GAEf,CACAyT,0BACE,OAAO1mB,KAAKyoB,YAAW,KACrB,KAAIzoB,KAAK0kB,MAAM5iC,SAAWke,KAAK0kB,MAAMP,aAAenkB,KAAK0kB,MAAM97B,OAI/D,OADAoX,KAAK9U,OAAS8U,KAAK0kB,MAAMvS,gBAAgBnS,KAAK9U,OAAQ0zB,EAA4CxM,UAAUa,OACrG,CAAI,GAEf,EAMK,EAED,8DAIA,SAAU57B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqBgsC,CAAwB,IAEvE,IAAI3Q,EAAuDrhC,EAAwD,mDAC/Gy3B,EAA8Cz3B,EAA+C,0CAC7FiyC,EAAgEjyC,EAAiE,4DAClFA,EAAgD,2CAQxH,MAAMgyC,EAaJhqB,YAAYkQ,GACV90B,OAAOC,OAAOimB,KAAM4O,GACpB5O,KAAKiP,OAAS,GACdjP,KAAKle,SAAU,CACjB,CACI8G,YACF,OAAOoX,KAAKiP,MACd,CACIkB,oBACF,OAAOnQ,KAAKokB,YAAcpkB,KAAKpX,MAAQ,EACzC,CACI4nB,mBACF,OAAOxQ,KAAKpX,KACd,CACA/M,QACEmkB,KAAK4oB,aAAc,EACnB5oB,KAAKiP,OAAS,EAChB,CACA/R,SACE,IAAI2b,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKiP,OAAOr2B,OAG5F,OAFAonB,KAAKiP,OAASjP,KAAKiP,OAAOte,MAAM,EAAGkoB,GAAW7Y,KAAKiP,OAAOte,MAAMmoB,GAC3D9Y,KAAKiP,SAAQjP,KAAK4oB,aAAc,GAC9B,IAAI7Q,EAA8D,OAC3E,CACA5F,gBAAgBnB,GACd,IAAIztB,EAAY5K,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKw1B,EAA4CiE,UAAUa,KAC1I,MACM4V,EAAS7oB,KAAKiP,OAAOr2B,OAC3B,OAAQ2K,GACN,KAAK4qB,EAA4CiE,UAAUC,KAC3D,KAAKlE,EAA4CiE,UAAUmD,WACzD,OALW,EAMb,KAAKpH,EAA4CiE,UAAUa,KAC3D,KAAK9E,EAA4CiE,UAAU0B,MAC3D,KAAK3F,EAA4CiE,UAAUoD,YAC3D,QACE,OAAOqT,EAEb,CACAjQ,sBACE,IAAIC,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKiP,OAAOr2B,OAC5F,OAAOonB,KAAK4oB,YAAc9P,EAAQD,EAAU,CAC9C,CACAH,eACE,IAAIG,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKiP,OAAOr2B,OAE5F,OADYD,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,GACpEq6B,KAAOhT,KAAK4oB,aAAe5oB,KAAKiP,OAAOte,MAAMkoB,EAASC,IAAU,EAC/E,CACI7G,iBACF,OAAO,CACT,CACI0G,eACF,OAAOkF,QAAQ7d,KAAKiP,OACtB,CACAkK,YAAYD,GACV,IAAIX,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EACjF,MAAM85B,EAAU,IAAIsF,EAA8D,QAClF,GAAI/X,KAAK2Y,SAAU,OAAOlG,EAC1B,MAAMqW,GAA6B,IAAf9oB,KAAKia,OAAiC,WAAfja,KAAKia,MAE1C8O,EADW/oB,KAAK4E,OAASsU,IACClZ,KAAKokB,aAAe7L,EAAMxY,OAASwY,EAAMvF,QAAUuF,EAAMvF,MAAQ8V,KAAiBvQ,EAAM1E,KAIxH,OAHIkV,IAAYtW,EAAQwB,YAAcjU,KAAK4E,MAC3C5E,KAAKiP,OAASwD,EAAQK,SAAW9S,KAAK4E,KACtC5E,KAAK4oB,YAAcG,IAAexQ,EAAMvF,KAAOuF,EAAMxY,OAC9C0S,CACT,CACAoH,eACE,OAAO7Z,KAAKmZ,YAAYnZ,KAAK4E,KAAM,CACjCiP,MAAM,GAEV,CACAa,qBACE,MAAMjC,EAAU,IAAIsF,EAA8D,QAClF,OAAI/X,KAAK2Y,WACT3Y,KAAKiP,OAASwD,EAAQK,SAAW9S,KAAK4E,MADZ6N,CAG5B,CACAsG,cAEE,OADApgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,IAAkCqnB,KAAKpX,MAAMhQ,OACxE,IAAI+vC,EAAuE,QAAE,GACtF,CAGA3P,WAAWnF,GAET,OADI,EAAG1F,EAA4CgH,UAAUtB,KAAOA,EAAO,IAAI8U,EAAuE,QAAE1gB,OAAO4L,KACxJA,EAAKW,SAASxU,KACvB,CACAyU,OAAOzP,EAAKuT,EAAO1E,GACjB,MAAMpB,EAAUzS,KAAKmZ,YAAYnU,EAAI,GAAIuT,GAIzC,OAHY,MAAR1E,IACFpB,EAAQ0B,WAAanU,KAAKgZ,WAAWnF,GAAMM,WAEtC1B,CACT,CACAS,WAAY,CACRt5B,YACF,MAAO,CACLq1B,OAAQjP,KAAKiP,OACb2Z,YAAa5oB,KAAK4oB,YAEtB,CACIhvC,UAAMA,GACRE,OAAOC,OAAOimB,KAAMpmB,EACtB,EAMK,EAED,8DAIA,SAAUvC,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCyrC,0BAA6B,WAAa,OAAqBA,CAA2B,EAC1FrmC,QAAW,WAAa,OAAqBssC,CAAwB,IAEvE,IAAI9a,EAAqEx3B,EAAuE,kEAC5IuyC,EAA2CvyC,EAAyC,8CACpF2lC,EAAuD3lC,EAAwD,mDAC/GwyC,EAA8CxyC,EAA+C,0CAC9CA,EAAgD,2CAOxH,MAAMg4B,EAAY,CAAC,SAAU,aAAc,kBAAmB,cAAe,OAAQ,SAI/EqU,EAA4B,CAChC,EAAK,KACLzrB,EAAK,snIAEL,IAAK,KAIP,MAAM0xB,EAiBJtqB,YAAYkQ,GACV,MAAM/xB,OACFA,EAAMsnC,WACNA,EAAU5e,gBACVA,EAAese,YACfA,EAAWD,KACXA,EAAI3J,MACJA,GACErL,EACJqV,GAAW,EAAG/V,EAAmEzC,GAAGmD,EAAMF,GAC5F1O,KAAK+O,QAAS,EAAGka,EAAkD,SAAGhF,GACtEnqC,OAAOC,OAAOimB,KAAM,CAClBnjB,SACAsnC,aACA5e,kBACAse,cACAD,OACA3J,SAEJ,CACAp+B,QACEmkB,KAAK2Y,UAAW,EAChB3Y,KAAK+O,OAAOlzB,OACd,CACAqhB,SACE,IAAI2b,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKpX,MAAMhQ,OAC3F,OAAgB,IAAZigC,GAAiBC,GAAS,GAC5B9Y,KAAK2Y,UAAW,EACT3Y,KAAK+O,OAAO7R,OAAO2b,EAASC,IAE9B,IAAIuD,EAA8D,OAC3E,CACIzzB,YACF,OAAOoX,KAAK+O,OAAOnmB,QAAUoX,KAAK2Y,WAAa3Y,KAAKmkB,WAAankB,KAAKuF,gBAAkB,GAC1F,CACI4K,oBACF,OAAOnQ,KAAK+O,OAAOoB,aACrB,CACIK,mBACF,OAAOxQ,KAAK+O,OAAOnmB,OAASoX,KAAK6jB,aAAe7jB,KAAKpX,KACvD,CACIqpB,iBACF,OAAO4L,QAAQ7d,KAAK+O,OAAOnmB,QAAUoX,KAAKmkB,UAC5C,CACAhL,YAAYD,GACV,IAAIX,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EACjF,GAAIqnB,KAAK2Y,SAAU,OAAO,IAAI0D,EAA8D,QAC5F,MAAMziC,EAAQomB,KAAK+O,OAAOn1B,MAEpB64B,EAAUzS,KAAK+O,OAAOoK,YAAYD,EAAIX,GAU5C,OATI9F,EAAQK,WAAuC,IAA3B9S,KAAKyZ,WAAWlB,KACtC9F,EAAQK,SAAWL,EAAQwB,YAAc,GACzCjU,KAAK+O,OAAOn1B,MAAQA,GAEjB64B,EAAQK,UAAa9S,KAAKmkB,YAAenkB,KAAK4jB,MAASrL,EAAMxY,QAChE0S,EAAQK,SAAW9S,KAAKuF,iBAE1BkN,EAAQyB,MAAQzB,EAAQK,WAAa9S,KAAKmkB,WAC1CnkB,KAAK2Y,SAAWkF,QAAQpL,EAAQK,UACzBL,CACT,CACAgC,SAEE,OAAOzU,KAAK+O,OAAO0F,UAAU97B,UAC/B,CACA+7B,qBACE,MAAMjC,EAAU,IAAI4J,EAA8D,QAClF,OAAIrc,KAAK2Y,UAAY3Y,KAAKmkB,aAC1BnkB,KAAK2Y,UAAW,EAChBlG,EAAQK,SAAW9S,KAAKuF,iBAFqBkN,CAI/C,CACAoH,eACE,OAAO,IAAIwC,EAA8D,OAC3E,CACAtD,cACE,OAAO/Y,KAAK+O,OAAOgK,eAAepgC,UACpC,CACAqgC,aACE,OAAOhZ,KAAK+O,OAAOiK,cAAcrgC,UACnC,CACA+/B,eACE,IAAIG,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKpX,MAAMhQ,OACvF2/B,EAAQ5/B,UAAUC,OAAS,EAAID,UAAU,QAAKof,EAClD,OAAOiI,KAAK+O,OAAO2J,aAAaG,EAASC,EAAOP,EAClD,CACApG,gBAAgBnB,GACd,IAAIztB,EAAY5K,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKuwC,EAA4C9W,UAAUa,KAC1I,MACM4V,EAAS7oB,KAAKpX,MAAMhQ,OACpBuwC,EAAWzlC,KAAKxC,IAAIwC,KAAKzC,IAAI+vB,EAFpB,GAEwC6X,GACvD,OAAQtlC,GACN,KAAK2lC,EAA4C9W,UAAUC,KAC3D,KAAK6W,EAA4C9W,UAAUmD,WACzD,OAAOvV,KAAKiS,WAAakX,EANd,EAOb,KAAKD,EAA4C9W,UAAU0B,MAC3D,KAAKoV,EAA4C9W,UAAUoD,YACzD,OAAOxV,KAAKiS,WAAakX,EAAWN,EACtC,KAAKK,EAA4C9W,UAAUa,KAC3D,QACE,OAAOkW,EAEb,CACAvQ,sBACE,IAAIC,EAAUlgC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,EAC9EmgC,EAAQngC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAKqnB,KAAKpX,MAAMhQ,OAC3F,OAAOonB,KAAKpX,MAAM+H,MAAMkoB,EAASC,GAAOlgC,MAC1C,CACA6gC,aACE,OAAOzZ,KAAK+O,OAAO0K,cAAc9gC,cAAgBqnB,KAAKnjB,QAAUmjB,KAAKnjB,OAAO48B,cAAc9gC,WAC5F,CACAu6B,WACElT,KAAK+O,OAAOmE,UACd,CACIt5B,YACF,MAAO,CACLm1B,OAAQ/O,KAAK+O,OAAOn1B,MACpB++B,SAAU3Y,KAAK2Y,SAEnB,CACI/+B,UAAMA,GACRomB,KAAK+O,OAAOn1B,MAAQA,EAAMm1B,OAC1B/O,KAAK2Y,SAAW/+B,EAAM++B,QACxB,EAMK,EAED,0CAIA,SAAUthC,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCkgC,UAAa,WAAa,OAAqBA,CAAW,EAC1DI,WAAc,WAAa,OAAqBA,CAAY,EAC5DC,KAAQ,WAAa,OAAqBA,CAAM,IAElD,IAAIuR,EAA2C1yC,EAAwC,8CACnFk1B,EAA+Cl1B,EAA6C,2CAC9CA,EAA4C,0CACnCA,EAAqD,mDAOrI,MAAM8gC,EAAY,CAChB6R,OAAQ,QACRC,SAAU,gBACVC,MAAO,cAIT,SAAS3R,EAAWzX,GAClB,IAAIxB,EAAOhmB,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK6+B,EAAU6R,OACrF5N,EAAK9iC,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK6+B,EAAU6R,OACvF,MAAMta,GAAS,EAAGqa,EAAkD,SAAGjpB,GACvE,OAAOvX,GAASmmB,EAAOsL,aAAYt/B,IACjCA,EAAE4jB,GAAQ/V,EACH7N,EAAE0gC,KAEb,CAGA,SAAS5D,EAAKjvB,GACZ,IAAK,IAAIlQ,EAAOC,UAAUC,OAAQ4wC,EAAW,IAAI1wC,MAAMJ,EAAO,EAAIA,EAAO,EAAI,GAAIK,EAAO,EAAGA,EAAOL,EAAMK,IACtGywC,EAASzwC,EAAO,GAAKJ,UAAUI,GAEjC,OAAO6+B,KAAc4R,EAAd5R,CAAwBhvB,EACjC,CACAgjB,EAAsD,QAAE4L,UAAYA,EACpE5L,EAAsD,QAAEgM,WAAaA,EACrEhM,EAAsD,QAAEiM,KAAOA,CAKxD,EAED,2CAIA,SAAUxgC,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB06B,CAAa,IAE5D,IAAI8D,EAA2CxkC,EAAwC,8CAEnFuhC,GADuDvhC,EAAqD,mDAC9DA,EAA4C,2CAC1FwhC,EAA+CxhC,EAA6C,2CACvBA,EAAoE,kEACjGA,EAAqC,2CACbA,EAA8D,4DAClEA,EAAyD,+DAC1EA,EAAwC,8CACvBA,EAAyD,+DACtDA,EAA2D,iEACvEA,EAA+C,qDACvDA,EAAuC,6CAgB3G,MAAM0gC,UAAoB8D,EAAkD,QAYtEuO,iBACF,OAAOzpB,KAAKoc,UAAYnU,OAAOjI,KAAKrB,MAAM/lB,MAC5C,CAKAu/B,QAAQvJ,GAENA,EAAO90B,OAAOC,OAAO,CACnB0hC,GAAIzb,KAAKyb,IAAM,EACf9c,KAAMqB,KAAKrB,MAAQ,EACnByd,UAAWpc,KAAKoc,WAAa,GAC5BxN,GACH,IAAIwN,EAAYnU,OAAO2G,EAAK6M,IAAI7iC,OACV,MAAlBg2B,EAAKwN,YAAmBA,EAAY14B,KAAKzC,IAAIm7B,EAAWxN,EAAKwN,YACjExN,EAAKwN,UAAYA,EACjB,MAAMsN,EAAUzhB,OAAO2G,EAAKjQ,MAAMqd,SAASI,EAAW,KAChDuN,EAAQ1hB,OAAO2G,EAAK6M,IAAIO,SAASI,EAAW,KAClD,IAAIwN,EAAiB,EACrB,KAAOA,EAAiBD,EAAM/wC,QAAU+wC,EAAMC,KAAoBF,EAAQE,MAAmBA,EAC7Fhb,EAAKzO,KAAOwpB,EAAMh5B,MAAM,EAAGi5B,GAAgB3vB,QAAQ,KAAM,OAAS,IAAI0kB,OAAOvC,EAAYwN,GACzF5c,MAAMmL,QAAQvJ,EAChB,CAKIqD,iBACF,OAAOjF,MAAMiF,YAAc4L,QAAQ7d,KAAKpX,MAC1C,CACAihC,WAAW7kB,GACT,IAAI8kB,EAAS,GACTC,EAAS,GACb,MAAO,CAAEC,EAAajI,GAAO/c,EAAIG,MAAM,qBAAuB,GAO9D,OANI4c,IACF+H,EAAS,IAAInL,OAAOqL,EAAYpxC,QAAUmpC,EAC1CgI,EAAS,IAAIpL,OAAOqL,EAAYpxC,QAAUmpC,GAE5C+H,EAASA,EAAO9H,OAAOhiB,KAAKoc,UAAW,KACvC2N,EAASA,EAAO/H,OAAOhiB,KAAKoc,UAAW,KAChC,CAAC0N,EAAQC,EAClB,CAMAzQ,UAAUJ,GACR,IACIzG,EADA8F,EAAQ5/B,UAAUC,OAAS,QAAsBmf,IAAjBpf,UAAU,GAAmBA,UAAU,GAAK,CAAC,EAGjF,IADCugC,EAAIzG,IAAW,EAAGwF,EAA4C7C,kBAAkBpI,MAAMsM,UAAUJ,EAAGjf,QAAQ,MAAO,IAAKse,KACnHvY,KAAK6b,UAAY3C,EAAI,OAAOA,EACjC,MAAMwQ,EAAUzhB,OAAOjI,KAAKrB,MAAMqd,SAAShc,KAAKoc,UAAW,KACrDuN,EAAQ1hB,OAAOjI,KAAKyb,IAAIO,SAAShc,KAAKoc,UAAW,KACvD,IAAI6N,EAAUjqB,KAAKpX,MAAQswB,EAC3B,GAAI+Q,EAAQrxC,OAASonB,KAAKoc,UAAW,MAAO,GAC5C,MAAO0N,EAAQC,GAAU/pB,KAAK6pB,WAAWI,GACzC,OAAIpL,OAAOkL,GAAU/pB,KAAKrB,KAAa+qB,EAAQO,EAAQrxC,OAAS,GAC5DimC,OAAOiL,GAAU9pB,KAAKyb,GACH,QAAjBzb,KAAK6b,SAAqBoO,EAAQrxC,OAASonB,KAAKoc,UAC3C,CAAC,GAAI3J,EAAQ2B,UAAUpU,KAAKyU,OAAOiV,EAAQO,EAAQrxC,OAAS,GAAKsgC,EAAIX,KAEvEoR,EAAMM,EAAQrxC,OAAS,GAEzBsgC,CACT,CAKAO,aACE,MAAMzU,EAAMhF,KAAKpX,MAEjB,IAAsB,IADDoc,EAAIklB,OAAO,SACLllB,EAAIpsB,QAAUonB,KAAKypB,WAAY,OAAO,EACjE,MAAOK,EAAQC,GAAU/pB,KAAK6pB,WAAW7kB,GACzC,OAAOhF,KAAKrB,MAAQkgB,OAAOkL,IAAWlL,OAAOiL,IAAW9pB,KAAKyb,IAAMzO,MAAMyM,cAAc9gC,UACzF,EAEFu/B,EAAsD,QAAEd,YAAcA,CAK/D,EAED,4CAIA,SAAU//B,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzCoF,QAAW,WAAa,OAAqB46B,CAAc,IAE7D,IAAI0H,EAAwCtoC,EAAqC,2CAC7Ek1B,EAA+Cl1B,EAA6C,2CACrCA,EAAqD,mDAC5CA,EAA8D,4DAChFA,EAA4C,0CAQnH,MAAM4gC,UAAqB0H,EAA+C,QAKxE7G,QAAQvJ,GACFA,EAAKzO,OAAMyO,EAAK6L,SAAW7xB,GAASA,EAAMshC,OAAOtb,EAAKzO,OAAS,GACnE6M,MAAMmL,QAAQvJ,EAChB,EAEFhD,EAAsD,QAAE0L,aAAeA,CAKhE,EAED,4CAIA,SAAUjgC,EAAyBC,EAAqBZ,GAE9D,aACAA,EAAoBa,EAAED,GACDZ,EAAoBc,EAAEF,EAAqB,CACzC6yC,YAAe,WAAa,OAAqBA,EAAa,EAC9DC,gBAAmB,WAAa,OAAqBA,EAAiB,EACtEC,SAAY,WAAa,OAAqBA,EAAU,EACxDC,aAAgB,WAAa,OAAqBA,EAAc,EAChEC,QAAW,WAAa,OAAqBA,EAAS,EACtDC,kBAAqB,WAAa,OAAqBA,EAAmB,EAC1EC,WAAc,WAAa,OAAqBC,CAAa,EAC7DC,OAAU,WAAa,OAAqBA,EAAQ,IAEtD,IAAIC,EAA8Cl0C,EAA0C,+CACxFm0C,EAA8Cn0C,EAA0C,8DAQ7Gg0C,EAAc,2LAEdI,EAAgB,gBAChBC,EAAiB,iBACjBC,EAAc,cACdC,EAAkB,kBAClBC,EAAgB,CAClBv9B,SAAS,EACTw9B,SAAS,GAEPC,EAA0B,WAC5B,OAAOj0C,SAASiM,IAClB,EAKA,SAASioC,EAAwBziC,EAAO5M,EAAOsvC,GAC7C,GAAIxyC,MAAM4iB,QAAQ9S,GAAQ,CACxB,IAAIoT,EAAIpT,EAAM5M,GACd,OAAY,MAALggB,EAAYljB,MAAM4iB,QAAQ4vB,GAAgBA,EAAatvC,GAASsvC,EAAetvB,CACxF,CAEA,OAAOpT,CACT,CACA,SAAS2iC,EAAO3iC,EAAOyU,GACrB,IAAI2H,EAAM,CAAC,EAAEnf,SAAS4Y,KAAK7V,GAC3B,OAAkC,IAA3Boc,EAAIhuB,QAAQ,YAAoBguB,EAAIhuB,QAAQqmB,EAAO,MAAQ,CACpE,CACA,SAASmuB,EAAuB5iC,EAAO/P,GACrC,MAAwB,mBAAV+P,EAAuBA,EAAM0f,WAAM,EAAQzvB,GAAQ+P,CACnE,CACA,SAASiP,EAAS3b,EAAIuvC,GAEpB,OAAW,IAAPA,EACKvvC,EAIF,SAAUwvC,GACfxZ,aAAayZ,GACbA,EAAU5iB,YAAW,WACnB7sB,EAAGwvC,EACL,GAAGD,EACL,EANA,IAAIE,CAON,CACA,SAASC,EAAiBC,EAAKnjC,GAC7B,IAAIojC,EAAQhyC,OAAOC,OAAO,CAAC,EAAG8xC,GAI9B,OAHAnjC,EAAKzN,SAAQ,SAAUqe,UACdwyB,EAAMxyB,EACf,IACOwyB,CACT,CAIA,SAASC,EAAiBnjC,GACxB,MAAO,GAAG/N,OAAO+N,EACnB,CACA,SAASojC,EAAatsB,EAAK9W,IACG,IAAxB8W,EAAI1oB,QAAQ4R,IACd8W,EAAIlkB,KAAKoN,EAEb,CAMA,SAAS+Q,EAAiBrhB,GACxB,OAAOA,EAAUshB,MAAM,KAAK,EAC9B,CACA,SAASqyB,EAAUrjC,GACjB,MAAO,GAAG+H,MAAM8N,KAAK7V,EACvB,CACA,SAASsjC,EAAqBL,GAC5B,OAAO/xC,OAAO4O,KAAKmjC,GAAK9qC,QAAO,SAAUwH,EAAK+Q,GAK5C,YAJiBvB,IAAb8zB,EAAIvyB,KACN/Q,EAAI+Q,GAAOuyB,EAAIvyB,IAGV/Q,CACT,GAAG,CAAC,EACN,CAEA,SAAS4jC,IACP,OAAOh1C,SAASi1C,cAAc,MAChC,CACA,SAASzxC,EAAUiO,GACjB,MAAO,CAAC,UAAW,YAAY5P,MAAK,SAAUqkB,GAC5C,OAAOkuB,EAAO3iC,EAAOyU,EACvB,GACF,CAIA,SAASgvB,EAAazjC,GACpB,OAAO2iC,EAAO3iC,EAAO,aACvB,CACA,SAAS0jC,EAAmB1jC,GAC1B,SAAUA,IAASA,EAAM2jC,QAAU3jC,EAAM2jC,OAAO9yC,YAAcmP,EAChE,CACA,SAAS4jC,EAAmB5jC,GAC1B,OAAIjO,EAAUiO,GACL,CAACA,GAXZ,SAAoBA,GAClB,OAAO2iC,EAAO3iC,EAAO,WACvB,CAYM6jC,CAAW7jC,GACNqjC,EAAUrjC,GAGf9P,MAAM4iB,QAAQ9S,GACTA,EAGFqjC,EAAU90C,SAASslB,iBAAiB7T,GAC7C,CACA,SAAS8jC,EAAsBC,EAAK/jC,GAClC+jC,EAAI1xC,SAAQ,SAAU0zB,GAChBA,IACFA,EAAGhmB,MAAMikC,mBAAqBhkC,EAAQ,KAE1C,GACF,CACA,SAASikC,EAAmBF,EAAK/yC,GAC/B+yC,EAAI1xC,SAAQ,SAAU0zB,GAChBA,GACFA,EAAG7lB,aAAa,aAAclP,EAElC,GACF,CACA,SAASkzC,EAAiBC,GACxB,IAAI9pC,EAGAhK,EADoB8yC,EAAiBgB,GACT,GAGhC,OAAkB,MAAX9zC,GAAsE,OAAlDgK,EAAwBhK,EAAQyJ,gBAA0BO,EAAsBG,KAAOnK,EAAQyJ,cAAgBvL,QAC5I,CA2BA,SAAS61C,EAA4BC,EAAKC,EAAQC,GAChD,IAAIC,EAASF,EAAS,gBAGtB,CAAC,gBAAiB,uBAAuBjyC,SAAQ,SAAUkiB,GACzD8vB,EAAIG,GAAQjwB,EAAOgwB,EACrB,GACF,CAMA,SAASE,EAAexwC,EAAQC,GAG9B,IAFA,IAAIuK,EAASvK,EAENuK,GAAQ,CACb,IAAIimC,EAEJ,GAAIzwC,EAAOF,SAAS0K,GAClB,OAAO,EAGTA,EAA+B,MAAtBA,EAAOrK,aAA+E,OAA/CswC,EAAsBjmC,EAAOrK,oBAAvC,EAAyEswC,EAAoBjwC,IACrI,CAEA,OAAO,CACT,CAEA,IAAIkwC,EAAe,CACjBC,SAAS,GAEPC,EAAoB,EAQxB,SAASC,IACHH,EAAaC,UAIjBD,EAAaC,SAAU,EAEnBn3C,OAAOs3C,aACTx2C,SAAS4W,iBAAiB,YAAa6/B,GAE3C,CAOA,SAASA,IACP,IAAIC,EAAMF,YAAYE,MAElBA,EAAMJ,EAAoB,KAC5BF,EAAaC,SAAU,EACvBr2C,SAAS6W,oBAAoB,YAAa4/B,IAG5CH,EAAoBI,CACtB,CAQA,SAASC,IACP,IAAIjoB,EAAgB1uB,SAAS0uB,cAE7B,GAAIymB,EAAmBzmB,GAAgB,CACrC,IAAIvrB,EAAWurB,EAAc0mB,OAEzB1mB,EAAckoB,OAASzzC,EAASV,MAAMo0C,WACxCnoB,EAAckoB,MAElB,CACF,CAMA,IAyBIE,EAxBAC,KAD8B,oBAAX73C,QAA8C,oBAAbc,aAEtDd,OAAO83C,SAET,SAASC,EAAwBhB,GAE/B,MAAO,CAACA,EAAS,sBADI,YAAXA,EAAuB,aAAe,KACF,0CAA2C,sCAAsCtxB,KAAK,IACtI,CACA,SAASuyB,EAAMzlC,GAGb,OAAOA,EAAMqR,QAFO,aAEgB,KAAKA,QADf,YAC4C,IAAIq0B,MAC5E,CAEA,SAASC,EAAcC,GACrB,OAAOH,EAAM,yBAA2BA,EAAMG,GAAW,wFAC3D,CAEA,SAASC,EAAoBD,GAC3B,MAAO,CAACD,EAAcC,GACtB,uDACA,mBACA,kBACF,CAWA,SAASE,EAASC,EAAWH,GAEzB,IAAII,EADFD,IAAcV,EAAgB9yB,IAAIqzB,KAGpCP,EAAgBhzB,IAAIuzB,IAEnBI,EAAWpxB,SAAS2T,KAAK7I,MAAMsmB,EAAUH,EAAoBD,IAElE,CACA,SAASK,EAAUF,EAAWH,GAE1B,IAAIM,EADFH,IAAcV,EAAgB9yB,IAAIqzB,KAGpCP,EAAgBhzB,IAAIuzB,IAEnBM,EAAYtxB,SAASuxB,MAAMzmB,MAAMwmB,EAAWL,EAAoBD,IAErE,CAnBEP,EAAkB,IAAIlzB,IA2BxB,IAAIi0B,EAAc,CAChB7E,aAAa,EACbG,cAAc,EACdE,mBAAmB,EACnBG,QAAQ,GAaNsE,EAAen1C,OAAOC,OAAO,CAC/By6B,SAAU4W,EACV8D,KAAM,CACJC,QAAS,OACTC,SAAU,QAEZC,MAAO,EACPC,SAAU,CAAC,IAAK,KAChBC,uBAAwB,KACxBC,aAAa,EACbC,kBAAkB,EAClBC,aAAa,EACbC,kBAAmB,EACnBC,oBAAqB,EACrBC,eAAgB,GAChB3kC,OAAQ,CAAC,EAAG,IACZ4kC,cAAe,WAA0B,EACzCC,eAAgB,WAA2B,EAC3CC,SAAU,WAAqB,EAC/BC,UAAW,WAAsB,EACjCC,SAAU,WAAqB,EAC/BC,OAAQ,WAAmB,EAC3BC,QAAS,WAAoB,EAC7BC,OAAQ,WAAmB,EAC3BC,QAAS,WAAoB,EAC7BC,UAAW,WAAsB,EACjCC,YAAa,WAAwB,EACrCC,eAAgB,WAA2B,EAC3Cn4C,UAAW,MACXo4C,QAAS,GACTC,cAAe,CAAC,EAChBC,OAAQ,KACRC,cAAc,EACdC,OAAO,EACP3vB,QAAS,mBACT4vB,cAAe,MACd/B,EA/Ce,CAChBgC,WAAW,EACXC,UAAW,OACX/nC,OAAO,EACPimC,QAAS,GACT+B,SAAS,EACTC,SAAU,IACVC,KAAM,UACNC,MAAO,GACPC,OAAQ,OAuCNC,EAAcz3C,OAAO4O,KAAKumC,GAY9B,SAASuC,EAAuBC,GAC9B,IACIzC,GADUyC,EAAYf,SAAW,IACX3vC,QAAO,SAAUwH,EAAKmpC,GAC9C,IAIMC,EAJFx2C,EAAOu2C,EAAOv2C,KACdmwC,EAAeoG,EAAOpG,aAEtBnwC,IAGFoN,EAAIpN,QAA8B4c,IAAtB05B,EAAYt2C,GAAsBs2C,EAAYt2C,GAAwC,OAA/Bw2C,EAAQ1C,EAAa9zC,IAAiBw2C,EAAQrG,GAGnH,OAAO/iC,CACT,GAAG,CAAC,GACJ,OAAOzO,OAAOC,OAAO,CAAC,EAAG03C,EAAazC,EACxC,CA0BA,SAAS4C,EAAcn4C,EAAWsuC,GAChC,IAAI8J,EAAM/3C,OAAOC,OAAO,CAAC,EAAGguC,EAAO,CACjCoH,QAAS3D,EAAuBzD,EAAMoH,QAAS,CAAC11C,KAC/CsuC,EAAM0H,iBAAmB,CAAC,EA5B/B,SAA+Bh2C,EAAWi3C,GAuBxC,OAtBeA,EAAU52C,OAAO4O,KAAK8oC,EAAuB13C,OAAOC,OAAO,CAAC,EAAGk1C,EAAc,CAC1FyB,QAASA,MACJa,GACcxwC,QAAO,SAAUwH,EAAK+Q,GACzC,IAAIw4B,GAAiBr4C,EAAUonB,aAAa,cAAgBvH,IAAQ,IAAIg1B,OAExE,IAAKwD,EACH,OAAOvpC,EAGT,GAAY,YAAR+Q,EACF/Q,EAAI+Q,GAAOw4B,OAEX,IACEvpC,EAAI+Q,GAAOy4B,KAAKrX,MAAMoX,EACxB,CAAE,MAAO9yB,GACPzW,EAAI+Q,GAAOw4B,CACb,CAGF,OAAOvpC,CACT,GAAG,CAAC,EAEN,CAImCypC,CAAsBv4C,EAAWsuC,EAAM2I,UAMxE,OALAmB,EAAI3C,KAAOp1C,OAAOC,OAAO,CAAC,EAAGk1C,EAAaC,KAAM2C,EAAI3C,MACpD2C,EAAI3C,KAAO,CACTE,SAAgC,SAAtByC,EAAI3C,KAAKE,SAAsBrH,EAAM2H,YAAcmC,EAAI3C,KAAKE,SACtED,QAA8B,SAArB0C,EAAI3C,KAAKC,QAAqBpH,EAAM2H,YAAc,KAAO,cAAgBmC,EAAI3C,KAAKC,SAEtF0C,CACT,CACA,SAASI,EAAcC,EAAcxB,QACd,IAAjBwB,IACFA,EAAe,CAAC,QAGF,IAAZxB,IACFA,EAAU,IAGD52C,OAAO4O,KAAKwpC,GAClBj3C,SAAQ,SAAUk3C,GACrB,IA9aoBtG,EAAKvyB,EA8arB84B,EAAiBxG,EAAiBqD,EAAcn1C,OAAO4O,KAAKsmC,IAC5DqD,GA/agBxG,EA+aqBuG,EA/ahB94B,EA+agC64B,GA9apD,CAAC,EAAEhpC,eAAesV,KAAKotB,EAAKvyB,IAgb7B+4B,IACFA,EAEc,IAFO3B,EAAQ51C,QAAO,SAAU42C,GAC5C,OAAOA,EAAOv2C,OAASg3C,CACzB,IAAGv5C,QAGL81C,EAAS2D,EAAoB,CAAC,IAAMF,EAAO,IAAK,uEAAwE,4DAA6D,OAAQ,+DAAgE,0DAA0Dr2B,KAAK,KAC9T,GACF,CAEA,IAAIw2B,EAAY,WACd,MAAO,WACT,EAEA,SAASC,EAAwBt5C,EAASiK,GACxCjK,EAAQq5C,KAAepvC,CACzB,CAEA,SAASsvC,EAAmB5pC,GAC1B,IAAIM,EAAQijC,IAcZ,OAZc,IAAVvjC,EACFM,EAAMupC,UAAYzH,GAElB9hC,EAAMupC,UAAYxH,EAEdtwC,EAAUiO,GACZM,EAAMwpC,YAAY9pC,GAElB2pC,EAAwBrpC,EAAON,IAI5BM,CACT,CAEA,SAASypC,GAAWxD,EAASpH,GACvBptC,EAAUotC,EAAMoH,UAClBoD,EAAwBpD,EAAS,IACjCA,EAAQuD,YAAY3K,EAAMoH,UACQ,mBAAlBpH,EAAMoH,UAClBpH,EAAMiJ,UACRuB,EAAwBpD,EAASpH,EAAMoH,SAEvCA,EAAQtiB,YAAckb,EAAMoH,QAGlC,CACA,SAASyD,GAAYl5C,GACnB,IAAIuzC,EAAMvzC,EAAOm5C,kBACbC,EAAc7G,EAAUgB,EAAI1sB,UAChC,MAAO,CACL0sB,IAAKA,EACLkC,QAAS2D,EAAYriC,MAAK,SAAUvM,GAClC,OAAOA,EAAK+Y,UAAUtgB,SAASmuC,EACjC,IACA5hC,MAAO4pC,EAAYriC,MAAK,SAAUvM,GAChC,OAAOA,EAAK+Y,UAAUtgB,SAASquC,IAAgB9mC,EAAK+Y,UAAUtgB,SAASsuC,EACzE,IACA8H,SAAUD,EAAYriC,MAAK,SAAUvM,GACnC,OAAOA,EAAK+Y,UAAUtgB,SAASouC,EACjC,IAEJ,CACA,SAAS6F,GAAOt2C,GACd,IAAIZ,EAASyyC,IACTc,EAAMd,IACVc,EAAIwF,UAjgBU,YAkgBdxF,EAAInkC,aAAa,aAAc,UAC/BmkC,EAAInkC,aAAa,WAAY,MAC7B,IAAIqmC,EAAUhD,IAQd,SAAS6G,EAASC,EAAWC,GAC3B,IAAIC,EAAeP,GAAYl5C,GAC3BuzC,EAAMkG,EAAalG,IACnBkC,EAAUgE,EAAahE,QACvBjmC,EAAQiqC,EAAajqC,MAErBgqC,EAAU7B,MACZpE,EAAInkC,aAAa,aAAcoqC,EAAU7B,OAEzCpE,EAAIpkC,gBAAgB,cAGa,iBAAxBqqC,EAAUjC,UACnBhE,EAAInkC,aAAa,iBAAkBoqC,EAAUjC,WAE7ChE,EAAIpkC,gBAAgB,kBAGlBqqC,EAAUhC,QACZjE,EAAInkC,aAAa,eAAgB,IAEjCmkC,EAAIpkC,gBAAgB,gBAGtBokC,EAAItkC,MAAMwoC,SAAyC,iBAAvB+B,EAAU/B,SAAwB+B,EAAU/B,SAAW,KAAO+B,EAAU/B,SAEhG+B,EAAU9B,KACZnE,EAAInkC,aAAa,OAAQoqC,EAAU9B,MAEnCnE,EAAIpkC,gBAAgB,QAGlBoqC,EAAU9D,UAAY+D,EAAU/D,SAAW8D,EAAUjC,YAAckC,EAAUlC,WAC/E2B,GAAWxD,EAAS70C,EAASytC,OAG3BmL,EAAUhqC,MACPA,EAEM+pC,EAAU/pC,QAAUgqC,EAAUhqC,QACvC+jC,EAAImG,YAAYlqC,GAChB+jC,EAAIyF,YAAYF,EAAmBU,EAAUhqC,SAH7C+jC,EAAIyF,YAAYF,EAAmBU,EAAUhqC,QAKtCA,GACT+jC,EAAImG,YAAYlqC,EAEpB,CAEA,OAvDAimC,EAAQsD,UAAY3H,EACpBqE,EAAQrmC,aAAa,aAAc,UACnC6pC,GAAWxD,EAAS70C,EAASytC,OAC7BruC,EAAOg5C,YAAYzF,GACnBA,EAAIyF,YAAYvD,GAChB6D,EAAS14C,EAASytC,MAAOztC,EAASytC,OAkD3B,CACLruC,OAAQA,EACRs5C,SAAUA,EAEd,CAGApC,GAAOyC,SAAU,EAEjB,IAAIC,GAAY,EACZC,GAAqB,GAErBC,GAAmB,GACvB,SAASC,GAAYh6C,EAAWg4C,GAC9B,IAIIiC,EACAC,EACAC,EAKAC,EACAC,EACAr3C,EAGA2pB,EA3hBU1G,EA2gBVqoB,EAAQ6J,EAAcn4C,EAAWK,OAAOC,OAAO,CAAC,EAAGk1C,EAAcuC,EAAuBtF,EAAqBuF,MAO7GsC,GAAqB,EACrBC,GAAgC,EAChCC,GAAe,EACfC,GAAsB,EAItBtjB,EAAY,GACZujB,EAAuBt8B,EAASu8B,GAAarM,EAAM6H,qBAKnDyE,EAAKf,KAEL5C,GAjiBUhxB,EAiiBOqoB,EAAM2I,SAhiBhB51C,QAAO,SAAU6gB,EAAM3f,GAChC,OAAO0jB,EAAI1oB,QAAQ2kB,KAAU3f,CAC/B,IA2iBI1B,EAAW,CAEb+5C,GAAIA,EACJ56C,UAAWA,EACXC,OAAQyyC,IACRmI,eAnBmB,KAoBnBvM,MAAOA,EACPnuC,MAnBU,CAEV26C,WAAW,EAEXvG,WAAW,EAEX3zC,aAAa,EAEbm6C,WAAW,EAEXC,SAAS,GAUT/D,QAASA,EAETgE,mBA4oBF,WACExiB,aAAawhB,GACbxhB,aAAayhB,GACbgB,qBAAqBf,EACvB,EA/oBEgB,SAipBF,SAAkB1C,GAGdxD,EAASp0C,EAASV,MAAMS,YAAa+zC,EAAwB,aAG/D,GAAI9zC,EAASV,MAAMS,YACjB,OAGFw6C,GAAW,iBAAkB,CAACv6C,EAAU43C,IACxC4C,KACA,IAAI7B,EAAY34C,EAASytC,MACrBmL,EAAYtB,EAAcn4C,EAAWK,OAAOC,OAAO,CAAC,EAAGk5C,EAAW/G,EAAqBgG,GAAe,CACxGzC,kBAAkB,KAEpBn1C,EAASytC,MAAQmL,EACjB6B,KAEI9B,EAAUrD,sBAAwBsD,EAAUtD,sBAC9CoF,KACAb,EAAuBt8B,EAASu8B,GAAalB,EAAUtD,sBAIrDqD,EAAUlC,gBAAkBmC,EAAUnC,cACxChF,EAAiBkH,EAAUlC,eAAe91C,SAAQ,SAAUiJ,GAC1DA,EAAK2E,gBAAgB,gBACvB,IACSqqC,EAAUnC,eACnBt3C,EAAUoP,gBAAgB,iBAG5BosC,KACAC,KAEIlC,GACFA,EAASC,EAAWC,GAGlB54C,EAASg6C,iBACXa,KAKAC,KAAsBn6C,SAAQ,SAAUo6C,GAGtCC,sBAAsBD,EAAa9I,OAAO+H,eAAe54C,YAC3D,KAGFm5C,GAAW,gBAAiB,CAACv6C,EAAU43C,GACzC,EAtsBES,WAwsBF,SAAoBxD,GAClB70C,EAASs6C,SAAS,CAChBzF,QAASA,GAEb,EA3sBEoG,KA6sBF,WAGI7G,EAASp0C,EAASV,MAAMS,YAAa+zC,EAAwB,SAI/D,IAAIoH,EAAmBl7C,EAASV,MAAMo0C,UAClC3zC,EAAcC,EAASV,MAAMS,YAC7Bo7C,GAAcn7C,EAASV,MAAM26C,UAC7BmB,EAA0BnI,EAAaC,UAAYlzC,EAASytC,MAAM+I,MAClExB,EAAWjE,EAAwB/wC,EAASytC,MAAMuH,SAAU,EAAGL,EAAaK,UAEhF,GAAIkG,GAAoBn7C,GAAeo7C,GAAcC,EACnD,OAMF,GAAIC,KAAmBC,aAAa,YAClC,OAKF,GAFAf,GAAW,SAAU,CAACv6C,IAAW,IAEO,IAApCA,EAASytC,MAAMsI,OAAO/1C,GACxB,OAGFA,EAASV,MAAMo0C,WAAY,EAEvB6H,MACFn8C,EAAOiP,MAAMmtC,WAAa,WAG5BZ,KACAa,KAEKz7C,EAASV,MAAM46C,YAClB96C,EAAOiP,MAAMqtC,WAAa,QAK5B,GAAIH,IAAwB,CAC1B,IAAII,EAAyBC,KAI7BxJ,EAAsB,CAHZuJ,EAAuBhJ,IACnBgJ,EAAuB9G,SAEC,EACxC,CAEA1yC,EAAgB,WACd,IAAI05C,EAEJ,GAAK77C,EAASV,MAAMo0C,YAAakG,EAAjC,CASA,GALAA,GAAsB,EAEjBx6C,EAAOwE,aACZxE,EAAOiP,MAAMqtC,WAAa17C,EAASytC,MAAM8H,eAErCgG,KAA0Bv7C,EAASytC,MAAMkJ,UAAW,CACtD,IAAImF,EAAyBF,KACzBG,EAAOD,EAAuBnJ,IAC9BqJ,EAAWF,EAAuBjH,QAEtCzC,EAAsB,CAAC2J,EAAMC,GAAWhH,GACxCzC,EAAmB,CAACwJ,EAAMC,GAAW,UACvC,CAEAC,KACAtB,KACAjJ,EAAawH,GAAkBl5C,GAGuB,OAArD67C,EAAyB77C,EAASg6C,iBAAmC6B,EAAuBz6C,cAC7Fm5C,GAAW,UAAW,CAACv6C,IAEnBA,EAASytC,MAAMkJ,WAAa4E,KA9hBpC,SAA0BvG,EAAUkH,GAClCC,GAAgBnH,EAAUkH,EAC5B,CA6hBME,CAAiBpH,GAAU,WACzBh1C,EAASV,MAAM66C,SAAU,EACzBI,GAAW,UAAW,CAACv6C,GACzB,GA5BF,CA8BF,EA3QF,WACE,IACI8C,EADAo3B,EAAWl6B,EAASytC,MAAMvT,SAO1BtwB,EAAOyxC,KAGTv4C,EADE9C,EAASytC,MAAM2H,aAAelb,IAAa4W,GAAwC,WAAb5W,EAC3DtwB,EAAK9G,WAELouC,EAAuBhX,EAAU,CAACtwB,IAK5C9G,EAAWT,SAASjD,IACvB0D,EAAWs1C,YAAYh5C,GAGzBY,EAASV,MAAM46C,WAAY,EAC3BW,KAKEzG,EAASp0C,EAASytC,MAAM2H,aAAelb,IAAaya,EAAaza,UAAYtwB,EAAKyyC,qBAAuBj9C,EAAQ,CAAC,+DAAgE,oEAAqE,2BAA4B,OAAQ,mEAAoE,oDAAqD,OAAQ,qEAAsE,8DAA+D,uBAAwB,OAAQ,0EAA0EoiB,KAAK,KAEppB,CA+OE86B,EACF,EAvyBEzkC,KAyyBF,WAGIu8B,EAASp0C,EAASV,MAAMS,YAAa+zC,EAAwB,SAI/D,IAAIyI,GAAmBv8C,EAASV,MAAMo0C,UAClC3zC,EAAcC,EAASV,MAAMS,YAC7Bo7C,GAAcn7C,EAASV,MAAM26C,UAC7BjF,EAAWjE,EAAwB/wC,EAASytC,MAAMuH,SAAU,EAAGL,EAAaK,UAEhF,GAAIuH,GAAmBx8C,GAAeo7C,EACpC,OAKF,GAFAZ,GAAW,SAAU,CAACv6C,IAAW,IAEO,IAApCA,EAASytC,MAAMoI,OAAO71C,GACxB,OAGFA,EAASV,MAAMo0C,WAAY,EAC3B1zC,EAASV,MAAM66C,SAAU,EACzBP,GAAsB,EACtBH,GAAqB,EAEjB8B,MACFn8C,EAAOiP,MAAMmtC,WAAa,UAO5B,GAJAd,KACA8B,KACA5B,IAAa,GAETW,IAAwB,CAC1B,IAAIkB,EAAyBb,KACzBjJ,EAAM8J,EAAuB9J,IAC7BkC,EAAU4H,EAAuB5H,QAEjC70C,EAASytC,MAAMkJ,YACjBvE,EAAsB,CAACO,EAAKkC,GAAUG,GACtCzC,EAAmB,CAACI,EAAKkC,GAAU,UAEvC,CAEAoH,KACAtB,KAEI36C,EAASytC,MAAMkJ,UACb4E,KAnmBR,SAA2BvG,EAAUkH,GACnCC,GAAgBnH,GAAU,YACnBh1C,EAASV,MAAMo0C,WAAat0C,EAAO0D,YAAc1D,EAAO0D,WAAWT,SAASjD,IAC/E88C,GAEJ,GACF,CA8lBMQ,CAAkB1H,EAAUh1C,EAAS28C,SAGvC38C,EAAS28C,SAEb,EAh2BEC,sBAk2BF,SAA+B/5B,GAG3BuxB,EAASp0C,EAASV,MAAMS,YAAa+zC,EAAwB,0BAG/D+I,KAAcppC,iBAAiB,YAAaomC,GAC5CnI,EAAauH,GAAoBY,GACjCA,EAAqBh3B,EACvB,EA12BEi6B,OA2nBF,WACE98C,EAASV,MAAM26C,WAAY,CAC7B,EA5nBE8C,QA8nBF,WAGE/8C,EAAS6X,OACT7X,EAASV,MAAM26C,WAAY,CAC7B,EAloBE0C,QA02BF,WAGIvI,EAASp0C,EAASV,MAAMS,YAAa+zC,EAAwB,YAG3D9zC,EAASV,MAAMo0C,WACjB1zC,EAAS6X,OAGX,IAAK7X,EAASV,MAAM46C,UAClB,OAGF8C,KAIAlC,KAAsBn6C,SAAQ,SAAUo6C,GACtCA,EAAa9I,OAAO0K,SACtB,IAEIv9C,EAAO0D,YACT1D,EAAO0D,WAAWg2C,YAAY15C,GAGhC85C,GAAmBA,GAAiB14C,QAAO,SAAU8U,GACnD,OAAOA,IAAMtV,CACf,IACAA,EAASV,MAAM46C,WAAY,EAC3BK,GAAW,WAAY,CAACv6C,GAC1B,EAx4BEiC,QA04BF,WAGImyC,EAASp0C,EAASV,MAAMS,YAAa+zC,EAAwB,YAG/D,GAAI9zC,EAASV,MAAMS,YACjB,OAGFC,EAASo6C,qBACTp6C,EAAS28C,UACTnC,YACOr7C,EAAU8yC,OACjBjyC,EAASV,MAAMS,aAAc,EAC7Bw6C,GAAW,YAAa,CAACv6C,GAC3B,GAp5BA,IAAKytC,EAAM6I,OAKT,OAHE/B,GAAU,EAAM,4CAGXv0C,EAMT,IAAIi9C,EAAgBxP,EAAM6I,OAAOt2C,GAC7BZ,EAAS69C,EAAc79C,OACvBs5C,EAAWuE,EAAcvE,SAE7Bt5C,EAAOoP,aAAa,kBAAmB,IACvCpP,EAAO26C,GAAK,SAAW/5C,EAAS+5C,GAChC/5C,EAASZ,OAASA,EAClBD,EAAU8yC,OAASjyC,EACnBZ,EAAO6yC,OAASjyC,EAChB,IAAIk9C,EAAe9G,EAAQj2B,KAAI,SAAUi3B,GACvC,OAAOA,EAAOx1C,GAAG5B,EACnB,IACIm9C,EAAkBh+C,EAAUm8C,aAAa,iBAsB7C,OArBAb,KACAE,KACAC,KACAL,GAAW,WAAY,CAACv6C,IAEpBytC,EAAM8I,cACR6G,KAKFh+C,EAAOqU,iBAAiB,cAAc,WAChCzT,EAASytC,MAAM2H,aAAep1C,EAASV,MAAMo0C,WAC/C1zC,EAASo6C,oBAEb,IACAh7C,EAAOqU,iBAAiB,cAAc,WAChCzT,EAASytC,MAAM2H,aAAep1C,EAASytC,MAAM5mB,QAAQnqB,QAAQ,eAAiB,GAChFmgD,KAAcppC,iBAAiB,YAAaomC,EAEhD,IACO75C,EAIP,SAASq9C,IACP,IAAI7G,EAAQx2C,EAASytC,MAAM+I,MAC3B,OAAOh4C,MAAM4iB,QAAQo1B,GAASA,EAAQ,CAACA,EAAO,EAChD,CAEA,SAAS8G,IACP,MAA2C,SAApCD,IAA6B,EACtC,CAEA,SAAS9B,IACP,IAAIgC,EAGJ,QAA6D,OAAlDA,EAAwBv9C,EAASytC,MAAM6I,UAAmBiH,EAAsBxE,QAC7F,CAEA,SAASsC,KACP,OAAOvvB,GAAiB3sB,CAC1B,CAEA,SAAS09C,KACP,IAAIt6C,EAAS84C,KAAmBv4C,WAChC,OAAOP,EAASiwC,EAAiBjwC,GAAU1F,QAC7C,CAEA,SAAS++C,KACP,OAAOtD,GAAYl5C,EACrB,CAEA,SAASo+C,GAASC,GAIhB,OAAIz9C,EAASV,MAAM46C,YAAcl6C,EAASV,MAAMo0C,WAAaT,EAAaC,SAAWqG,GAA8C,UAA1BA,EAAiBx2B,KACjH,EAGFguB,EAAwB/wC,EAASytC,MAAMsH,MAAO0I,EAAS,EAAI,EAAG9I,EAAaI,MACpF,CAEA,SAAS6F,GAAa8C,QACH,IAAbA,IACFA,GAAW,GAGbt+C,EAAOiP,MAAMsvC,cAAgB39C,EAASytC,MAAM2H,cAAgBsI,EAAW,GAAK,OAC5Et+C,EAAOiP,MAAM2oC,OAAS,GAAKh3C,EAASytC,MAAMuJ,MAC5C,CAEA,SAASuD,GAAWqD,EAAMr/C,EAAMs/C,GAY5B,IAAIC,QAXwB,IAA1BD,IACFA,GAAwB,GAG1BX,EAAav8C,SAAQ,SAAUo9C,GACzBA,EAAYH,IACdG,EAAYH,GAAM5vB,MAAM+vB,EAAax/C,EAEzC,IAEIs/C,KAGDC,EAAkB99C,EAASytC,OAAOmQ,GAAM5vB,MAAM8vB,EAAiBv/C,EAEpE,CAEA,SAAS09C,KACP,IAAIrH,EAAO50C,EAASytC,MAAMmH,KAE1B,GAAKA,EAAKC,QAAV,CAIA,IAAImJ,EAAO,QAAUpJ,EAAKC,QACtBkF,EAAK36C,EAAO26C,GACJtI,EAAiBzxC,EAASytC,MAAMgJ,eAAiBt3C,GACvDwB,SAAQ,SAAUiJ,GACtB,IAAIq0C,EAAer0C,EAAK2c,aAAay3B,GAErC,GAAIh+C,EAASV,MAAMo0C,UACjB9pC,EAAK4E,aAAawvC,EAAMC,EAAeA,EAAe,IAAMlE,EAAKA,OAC5D,CACL,IAAImE,EAAYD,GAAgBA,EAAat+B,QAAQo6B,EAAI,IAAI/F,OAEzDkK,EACFt0C,EAAK4E,aAAawvC,EAAME,GAExBt0C,EAAK2E,gBAAgByvC,EAEzB,CACF,GAnBA,CAoBF,CAEA,SAASrD,MACHwC,GAAoBn9C,EAASytC,MAAMmH,KAAKE,UAIhCrD,EAAiBzxC,EAASytC,MAAMgJ,eAAiBt3C,GACvDwB,SAAQ,SAAUiJ,GAClB5J,EAASytC,MAAM2H,YACjBxrC,EAAK4E,aAAa,gBAAiBxO,EAASV,MAAMo0C,WAAa9pC,IAASyxC,KAAqB,OAAS,SAEtGzxC,EAAK2E,gBAAgB,gBAEzB,GACF,CAEA,SAASmsC,KACPmC,KAAcnpC,oBAAoB,YAAammC,GAC/CZ,GAAqBA,GAAmBz4C,QAAO,SAAUqyC,GACvD,OAAOA,IAAagH,CACtB,GACF,CAEA,SAASsE,GAAgBt7B,GAEvB,IAAIowB,EAAaC,UACXyG,GAA+B,cAAf92B,EAAME,KAD5B,CAMA,IAAIq7B,EAAev7B,EAAMw7B,cAAgBx7B,EAAMw7B,eAAe,IAAMx7B,EAAM9V,OAE1E,IAAI/M,EAASytC,MAAM2H,cAAerC,EAAe3zC,EAAQg/C,GAAzD,CAKA,GAAI3M,EAAiBzxC,EAASytC,MAAMgJ,eAAiBt3C,GAAWT,MAAK,SAAU21B,GAC7E,OAAO0e,EAAe1e,EAAI+pB,EAC5B,IAAI,CACF,GAAInL,EAAaC,QACf,OAGF,GAAIlzC,EAASV,MAAMo0C,WAAa1zC,EAASytC,MAAM5mB,QAAQnqB,QAAQ,UAAY,EACzE,MAEJ,MACE69C,GAAW,iBAAkB,CAACv6C,EAAU6iB,KAGP,IAA/B7iB,EAASytC,MAAMyH,cACjBl1C,EAASo6C,qBACTp6C,EAAS6X,OAIT6hC,GAAgC,EAChCjrB,YAAW,WACTirB,GAAgC,CAClC,IAIK15C,EAASV,MAAM46C,WAClBsC,KA/BJ,CANA,CAwCF,CAEA,SAAS8B,KACP3E,GAAe,CACjB,CAEA,SAAS4E,KACP5E,GAAe,CACjB,CAEA,SAAS8B,KACP,IAAI+C,EAAM3B,KACV2B,EAAI/qC,iBAAiB,YAAa0qC,IAAiB,GACnDK,EAAI/qC,iBAAiB,WAAY0qC,GAAiBvN,GAClD4N,EAAI/qC,iBAAiB,aAAc8qC,GAAc3N,GACjD4N,EAAI/qC,iBAAiB,YAAa6qC,GAAa1N,EACjD,CAEA,SAAS4L,KACP,IAAIgC,EAAM3B,KACV2B,EAAI9qC,oBAAoB,YAAayqC,IAAiB,GACtDK,EAAI9qC,oBAAoB,WAAYyqC,GAAiBvN,GACrD4N,EAAI9qC,oBAAoB,aAAc6qC,GAAc3N,GACpD4N,EAAI9qC,oBAAoB,YAAa4qC,GAAa1N,EACpD,CAcA,SAASuL,GAAgBnH,EAAUkH,GACjC,IAAIvJ,EAAMiJ,KAA6BjJ,IAEvC,SAASE,EAAShwB,GACZA,EAAM9V,SAAW4lC,IACnBD,EAA4BC,EAAK,SAAUE,GAC3CqJ,IAEJ,CAIA,GAAiB,IAAblH,EACF,OAAOkH,IAGTxJ,EAA4BC,EAAK,SAAU6G,GAC3C9G,EAA4BC,EAAK,MAAOE,GACxC2G,EAA+B3G,CACjC,CAEA,SAAS7a,GAAGymB,EAAWprB,EAASh0B,QACd,IAAZA,IACFA,GAAU,GAGAoyC,EAAiBzxC,EAASytC,MAAMgJ,eAAiBt3C,GACvDwB,SAAQ,SAAUiJ,GACtBA,EAAK6J,iBAAiBgrC,EAAWprB,EAASh0B,GAC1Ci3B,EAAUp1B,KAAK,CACb0I,KAAMA,EACN60C,UAAWA,EACXprB,QAASA,EACTh0B,QAASA,GAEb,GACF,CAEA,SAASo7C,KAj3BX,IAAuBnsC,EAk3BfgvC,MACFtlB,GAAG,aAAcie,GAAW,CAC1B5iC,SAAS,IAEX2kB,GAAG,WAAY0mB,GAAc,CAC3BrrC,SAAS,MAv3BM/E,EA23BLtO,EAASytC,MAAM5mB,QA13BxBvY,EAAMgR,MAAM,OAAO9e,OAAO+iC,UA03BO5iC,SAAQ,SAAU89C,GACtD,GAAkB,WAAdA,EAMJ,OAFAzmB,GAAGymB,EAAWxI,IAENwI,GACN,IAAK,aACHzmB,GAAG,aAAc0mB,IACjB,MAEF,IAAK,QACH1mB,GAAG4b,EAAS,WAAa,OAAQ+K,IACjC,MAEF,IAAK,UACH3mB,GAAG,WAAY2mB,IAGrB,GACF,CAEA,SAASnE,KACPlkB,EAAU31B,SAAQ,SAAUC,GAC1B,IAAIgJ,EAAOhJ,EAAKgJ,KACZ60C,EAAY79C,EAAK69C,UACjBprB,EAAUzyB,EAAKyyB,QACfh0B,EAAUuB,EAAKvB,QACnBuK,EAAK8J,oBAAoB+qC,EAAWprB,EAASh0B,EAC/C,IACAi3B,EAAY,EACd,CAEA,SAAS2f,GAAUpzB,GACjB,IAAI+7B,EAEAC,GAA0B,EAE9B,GAAK7+C,EAASV,MAAM26C,YAAa6E,GAAuBj8B,KAAU62B,EAAlE,CAIA,IAAIqF,EAAoG,WAA5C,OAAzCH,EAAoBrF,QAA4B,EAASqF,EAAkB77B,MAC9Fw2B,EAAmB12B,EACnBiJ,EAAgBjJ,EAAMiJ,cACtB6uB,MAEK36C,EAASV,MAAMo0C,WAAa3B,EAAalvB,IAK5Co2B,GAAmBt4C,SAAQ,SAAUkyC,GACnC,OAAOA,EAAShwB,EAClB,IAIiB,UAAfA,EAAME,OAAqB/iB,EAASytC,MAAM5mB,QAAQnqB,QAAQ,cAAgB,GAAK+8C,KAAsD,IAA/Bz5C,EAASytC,MAAMyH,aAAyBl1C,EAASV,MAAMo0C,UAC/JmL,GAA0B,EAE1BzB,GAAav6B,GAGI,UAAfA,EAAME,OACR02B,GAAsBoF,GAGpBA,IAA4BE,GAC9BC,GAAan8B,EA7Bf,CA+BF,CAEA,SAASi3B,GAAYj3B,GACnB,IAAI9V,EAAS8V,EAAM9V,OACfkyC,EAAgC5D,KAAmBh5C,SAAS0K,IAAW3N,EAAOiD,SAAS0K,GAE3F,GAAmB,cAAf8V,EAAME,OAAwBk8B,EAAlC,CAIA,IAAIC,EAAiBpE,KAAsBv6C,OAAOnB,GAAQ+gB,KAAI,SAAU/gB,GACtE,IAAI+/C,EAGA7/C,EAA6D,OAApD6/C,EADE//C,EAAO6yC,OACwB+H,qBAA0B,EAASmF,EAAsB7/C,MAEvG,OAAIA,EACK,CACLsS,WAAYxS,EAAOR,wBACnBwgD,YAAa9/C,EACbmuC,MAAOA,GAIJ,IACT,IAAGjtC,OAAO+iC,UAr4Bd,SAA0C2b,EAAgBr8B,GACxD,IAAIw8B,EAAUx8B,EAAMw8B,QAChBC,EAAUz8B,EAAMy8B,QACpB,OAAOJ,EAAerpC,OAAM,SAAUjV,GACpC,IAAIgR,EAAahR,EAAKgR,WAClBwtC,EAAcx+C,EAAKw+C,YAEnB/J,EADQz0C,EAAK6sC,MACa4H,kBAC1BxlC,EAAgBwP,EAAiB+/B,EAAYphD,WAC7C+gB,EAAaqgC,EAAY1/C,cAAckR,OAE3C,IAAKmO,EACH,OAAO,EAGT,IAAIwgC,EAAgC,WAAlB1vC,EAA6BkP,EAAW3a,IAAID,EAAI,EAC9Dq7C,EAAmC,QAAlB3vC,EAA0BkP,EAAWxa,OAAOJ,EAAI,EACjEs7C,EAAiC,UAAlB5vC,EAA4BkP,EAAW9a,KAAKD,EAAI,EAC/D07C,EAAkC,SAAlB7vC,EAA2BkP,EAAWza,MAAMN,EAAI,EAChE27C,EAAa/tC,EAAWxN,IAAMk7C,EAAUC,EAAclK,EACtDuK,EAAgBN,EAAU1tC,EAAWrN,OAASi7C,EAAiBnK,EAC/DwK,EAAcjuC,EAAW3N,KAAOo7C,EAAUI,EAAepK,EACzDyK,EAAeT,EAAUztC,EAAWtN,MAAQo7C,EAAgBrK,EAChE,OAAOsK,GAAcC,GAAiBC,GAAeC,CACvD,GACF,EA82BQC,CAAiCb,EAAgBr8B,KACnD63B,KACAsE,GAAan8B,GArBf,CAuBF,CAEA,SAAS67B,GAAa77B,GACHi8B,GAAuBj8B,IAAU7iB,EAASytC,MAAM5mB,QAAQnqB,QAAQ,UAAY,GAAK+8C,IAM9Fz5C,EAASytC,MAAM2H,YACjBp1C,EAAS48C,sBAAsB/5B,GAIjCm8B,GAAan8B,GACf,CAEA,SAAS87B,GAAiB97B,GACpB7iB,EAASytC,MAAM5mB,QAAQnqB,QAAQ,WAAa,GAAKmmB,EAAM9V,SAAWsuC,MAKlEr7C,EAASytC,MAAM2H,aAAevyB,EAAMm9B,eAAiB5gD,EAAOiD,SAASwgB,EAAMm9B,gBAI/EhB,GAAan8B,EACf,CAEA,SAASi8B,GAAuBj8B,GAC9B,QAAOowB,EAAaC,SAAUoK,MAA+Bz6B,EAAME,KAAKrmB,QAAQ,UAAY,CAC9F,CAEA,SAASm+C,KACPmC,KACA,IAAIiD,EAAmBjgD,EAASytC,MAC5B4I,EAAgB4J,EAAiB5J,cACjCr4C,EAAYiiD,EAAiBjiD,UAC7B4S,EAASqvC,EAAiBrvC,OAC1BqkC,EAAyBgL,EAAiBhL,uBAC1CM,EAAiB0K,EAAiB1K,eAClC3mC,EAAQ2sC,IAAyBjD,GAAYl5C,GAAQwP,MAAQ,KAC7DsxC,EAAoBjL,EAAyB,CAC/Cr2C,sBAAuBq2C,EACvB30C,eAAgB20C,EAAuB30C,gBAAkB+6C,MACvDl8C,EACAghD,EAAgB,CAClBt/C,KAAM,UACNH,SAAS,EACTyN,MAAO,cACPa,SAAU,CAAC,iBACXpN,GAAI,SAAY6M,GACd,IAAInP,EAAQmP,EAAMnP,MAElB,GAAIi8C,IAAwB,CAC1B,IACI5I,EADwBiJ,KACIjJ,IAEhC,CAAC,YAAa,mBAAoB,WAAWhyC,SAAQ,SAAUq9C,GAChD,cAATA,EACFrL,EAAInkC,aAAa,iBAAkBlP,EAAMtB,WAErCsB,EAAMM,WAAWR,OAAO,eAAiB4+C,GAC3CrL,EAAInkC,aAAa,QAAUwvC,EAAM,IAEjCrL,EAAIpkC,gBAAgB,QAAUyvC,EAGpC,IACA1+C,EAAMM,WAAWR,OAAS,CAAC,CAC7B,CACF,GAEEnB,EAAY,CAAC,CACf4C,KAAM,SACNxB,QAAS,CACPuR,OAAQA,IAET,CACD/P,KAAM,kBACNxB,QAAS,CACP4Q,QAAS,CACP7L,IAAK,EACLG,OAAQ,EACRN,KAAM,EACNK,MAAO,KAGV,CACDzD,KAAM,OACNxB,QAAS,CACP4Q,QAAS,IAEV,CACDpP,KAAM,gBACNxB,QAAS,CACP0S,UAAWwjC,IAEZ4K,GAEC5E,KAA0B3sC,GAC5B3Q,EAAUiD,KAAK,CACbL,KAAM,QACNxB,QAAS,CACPV,QAASiQ,EACTqB,QAAS,KAKfhS,EAAUiD,KAAK8sB,MAAM/vB,GAA6B,MAAjBo4C,OAAwB,EAASA,EAAcp4C,YAAc,IAC9F+B,EAASg6C,gBAAiB,EAAG1J,EAA4CnzC,cAAc+iD,EAAmB9gD,EAAQI,OAAOC,OAAO,CAAC,EAAG42C,EAAe,CACjJr4C,UAAWA,EACXmE,cAAeA,EACflE,UAAWA,IAEf,CAEA,SAAS++C,KACHh9C,EAASg6C,iBACXh6C,EAASg6C,eAAe/3C,UACxBjC,EAASg6C,eAAiB,KAE9B,CAkCA,SAASc,KACP,OAAOnJ,EAAUvyC,EAAO+iB,iBAAiB,qBAC3C,CAEA,SAASi7B,GAAav6B,GACpB7iB,EAASo6C,qBAELv3B,GACF03B,GAAW,YAAa,CAACv6C,EAAU6iB,IAGrC44B,KACA,IAAI1G,EAAQyI,IAAS,GAEjB4C,EAAwB/C,IACxBgD,EAAaD,EAAsB,GACnCE,EAAaF,EAAsB,GAEnCnN,EAAaC,SAA0B,SAAfmN,GAAyBC,IACnDvL,EAAQuL,GAGNvL,EACFqE,EAAc3qB,YAAW,WACvBzuB,EAASi7C,MACX,GAAGlG,GAEH/0C,EAASi7C,MAEb,CAEA,SAAS+D,GAAan8B,GAIpB,GAHA7iB,EAASo6C,qBACTG,GAAW,cAAe,CAACv6C,EAAU6iB,IAEhC7iB,EAASV,MAAMo0C,WASpB,KAAI1zC,EAASytC,MAAM5mB,QAAQnqB,QAAQ,eAAiB,GAAKsD,EAASytC,MAAM5mB,QAAQnqB,QAAQ,UAAY,GAAK,CAAC,aAAc,aAAaA,QAAQmmB,EAAME,OAAS,GAAK02B,GAAjK,CAIA,IAAI1E,EAAQyI,IAAS,GAEjBzI,EACFsE,EAAc5qB,YAAW,WACnBzuB,EAASV,MAAMo0C,WACjB1zC,EAAS6X,MAEb,GAAGk9B,GAIHuE,EAA6B0B,uBAAsB,WACjDh7C,EAAS6X,MACX,GAfF,OAVE2kC,IA2BJ,CAwSF,CAEA,SAAS+D,GAAMC,EAASC,QACA,IAAlBA,IACFA,EAAgB,CAAC,GAGnB,IAAIrK,EAAUzB,EAAayB,QAAQ71C,OAAOkgD,EAAcrK,SAAW,KA/uCrE,SAAyBoK,GACvB,IAAIE,GAAqBF,EACrBG,EAAiE,oBAA5CnhD,OAAO0kB,UAAU3Y,SAAS4Y,KAAKq8B,KAAmCA,EAAQ/sC,iBACnG8gC,EAAUmM,EAAmB,CAAC,qBAAsB,IAAM/yB,OAAO6yB,GAAW,IAAK,qEAAsE,2BAA2Bh/B,KAAK,MACvL+yB,EAAUoM,EAAoB,CAAC,0EAA2E,sEAAsEn/B,KAAK,KACvL,CA8uCIo/B,CAAgBJ,GAChB7I,EAAc8I,EAAerK,GA5yC/Bv5C,SAAS4W,iBAAiB,aAAc2/B,EAAsBxC,GAC9D70C,OAAO0X,iBAAiB,OAAQ+/B,GA+yChC,IAAI2D,EAAc33C,OAAOC,OAAO,CAAC,EAAGghD,EAAe,CACjDrK,QAASA,IAEPz2C,EAAWuyC,EAAmBsO,GAI5BK,EAAyBxgD,EAAU82C,EAAYtC,SAC/CiM,EAAgCnhD,EAASrB,OAAS,EACtD81C,EAASyM,GAA0BC,EAA+B,CAAC,qEAAsE,oEAAqE,oEAAqE,OAAQ,sEAAuE,mDAAoD,OAAQ,kCAAmC,6CAA6Ct/B,KAAK,MAGrf,IAAIu/B,EAAYphD,EAAS8G,QAAO,SAAUwH,EAAK9O,GAC7C,IAAIa,EAAWb,GAAag6C,GAAYh6C,EAAWg4C,GAMnD,OAJIn3C,GACFiO,EAAI/M,KAAKlB,GAGJiO,CACT,GAAG,IACH,OAAO5N,EAAUmgD,GAAWO,EAAU,GAAKA,CAC7C,CAEAR,GAAM5L,aAAeA,EACrB4L,GAAMS,gBAntCgB,SAAyBpJ,GAG3CD,EAAcC,EAAc,IAGnBp4C,OAAO4O,KAAKwpC,GAClBj3C,SAAQ,SAAUqe,GACrB21B,EAAa31B,GAAO44B,EAAa54B,EACnC,GACF,EA0sCAuhC,GAAMtN,aAAeA,EACrB,IAAIhD,GAAU,SAAiBgR,GAC7B,IAAIrgD,OAAiB,IAAVqgD,EAAmB,CAAC,EAAIA,EAC/BC,EAA8BtgD,EAAKugD,QACnCnM,EAAWp0C,EAAKo0C,SAEpBkE,GAAiBv4C,SAAQ,SAAUX,GACjC,IAAIohD,GAAa,EAMjB,GAJIF,IACFE,EAAapP,EAAmBkP,GAA+BlhD,EAASb,YAAc+hD,EAA8BlhD,EAASZ,SAAW8hD,EAA4B9hD,SAGjKgiD,EAAY,CACf,IAAIC,EAAmBrhD,EAASytC,MAAMuH,SACtCh1C,EAASs6C,SAAS,CAChBtF,SAAUA,IAEZh1C,EAAS6X,OAEJ7X,EAASV,MAAMS,aAClBC,EAASs6C,SAAS,CAChBtF,SAAUqM,GAGhB,CACF,GACF,EAMIC,GAAsB9hD,OAAOC,OAAO,CAAC,EAAG8wC,EAAqD,QAAG,CAClGxvC,OAAQ,SAAgBH,GACtB,IAAItB,EAAQsB,EAAKtB,MACboP,EAAgB,CAClBtP,OAAQ,CACNiH,SAAU/G,EAAMD,QAAQnB,SACxB+F,KAAM,IACNG,IAAK,IACLuK,OAAQ,KAEVC,MAAO,CACLvI,SAAU,YAEZlH,UAAW,CAAC,GAEdK,OAAOC,OAAOH,EAAMK,SAASP,OAAOiP,MAAOK,EAActP,QACzDE,EAAMO,OAAS6O,EAEXpP,EAAMK,SAASiP,OACjBpP,OAAOC,OAAOH,EAAMK,SAASiP,MAAMP,MAAOK,EAAcE,MAI5D,IAGEkhC,GAAkB,SAAyByR,EAAgBd,GAC7D,IAAIe,OAEkB,IAAlBf,IACFA,EAAgB,CAAC,GAKjBlM,GAAW/1C,MAAM4iB,QAAQmgC,GAAiB,CAAC,qEAAsE,wCAAyC5zB,OAAO4zB,IAAiB//B,KAAK,MAGzL,IAGIsK,EAHA21B,EAAsBF,EACtBG,EAAa,GACbC,EAAiB,GAEjBC,EAAYnB,EAAcmB,UAC1BC,EAA4B,GAC5BC,GAAgB,EAEpB,SAASC,IACPJ,EAAiBF,EAAoBthC,KAAI,SAAUngB,GACjD,OAAOyxC,EAAiBzxC,EAASytC,MAAMgJ,eAAiBz2C,EAASb,UACnE,IAAGsH,QAAO,SAAUwH,EAAKoT,GACvB,OAAOpT,EAAI1N,OAAO8gB,EACpB,GAAG,GACL,CAEA,SAAS2gC,IACPN,EAAaD,EAAoBthC,KAAI,SAAUngB,GAC7C,OAAOA,EAASb,SAClB,GACF,CAEA,SAAS8iD,EAAgBhI,GACvBwH,EAAoB9gD,SAAQ,SAAUX,GAChCi6C,EACFj6C,EAAS88C,SAET98C,EAAS+8C,SAEb,GACF,CAEA,SAASmF,EAAkBC,GACzB,OAAOV,EAAoBthC,KAAI,SAAUngB,GACvC,IAAIoiD,EAAmBpiD,EAASs6C,SAUhC,OARAt6C,EAASs6C,SAAW,SAAU7M,GAC5B2U,EAAiB3U,GAEbztC,EAASb,YAAc2sB,GACzBq2B,EAAU7H,SAAS7M,EAEvB,EAEO,WACLztC,EAASs6C,SAAW8H,CACtB,CACF,GACF,CAGA,SAASC,EAAgBF,EAAWp1C,GAClC,IAAIrL,EAAQigD,EAAejlD,QAAQqQ,GAEnC,GAAIA,IAAW+e,EAAf,CAIAA,EAAgB/e,EAChB,IAAIu1C,GAAiBV,GAAa,IAAIrhD,OAAO,WAAWkG,QAAO,SAAUwH,EAAK4pC,GAE5E,OADA5pC,EAAI4pC,GAAQ4J,EAAoB//C,GAAO+rC,MAAMoK,GACtC5pC,CACT,GAAG,CAAC,GACJk0C,EAAU7H,SAAS96C,OAAOC,OAAO,CAAC,EAAG6iD,EAAe,CAClDrN,uBAAwE,mBAAzCqN,EAAcrN,uBAAwCqN,EAAcrN,uBAAyB,WAC1H,IAAIsN,EAEJ,OAAkD,OAA1CA,EAAoBb,EAAWhgD,SAAkB,EAAS6gD,EAAkB3jD,uBACtF,IAZF,CAcF,CAEAqjD,GAAgB,GAChBD,IACAD,IACA,IAAI3K,EAAS,CACXx1C,GAAI,WACF,MAAO,CACL+zC,UAAW,WACTsM,GAAgB,EAClB,EACArM,SAAU,WACR9pB,EAAgB,IAClB,EACAqqB,eAAgB,SAAwBn2C,GAClCA,EAASytC,MAAM8I,eAAiBuL,IAClCA,GAAgB,EAChBh2B,EAAgB,KAEpB,EACAiqB,OAAQ,SAAgB/1C,GAClBA,EAASytC,MAAM8I,eAAiBuL,IAClCA,GAAgB,EAChBO,EAAgBriD,EAAU0hD,EAAW,IAEzC,EACAzL,UAAW,SAAmBj2C,EAAU6iB,GACtCw/B,EAAgBriD,EAAU6iB,EAAMiJ,cAClC,EAEJ,GAEEq2B,EAAY5B,GAAM1O,IAAOryC,OAAOC,OAAO,CAAC,EAAG6xC,EAAiBmP,EAAe,CAAC,cAAe,CAC7FrK,QAAS,CAACgB,GAAQ72C,OAAOkgD,EAAcrK,SAAW,IAClDK,cAAekL,EACftL,cAAe72C,OAAOC,OAAO,CAAC,EAAGghD,EAAcpK,cAAe,CAC5Dp4C,UAAW,GAAGsC,QAAiE,OAAxDihD,EAAwBf,EAAcpK,oBAAyB,EAASmL,EAAsBvjD,YAAc,GAAI,CAACqjD,UAGxIkB,EAAeL,EAAUlH,KAE7BkH,EAAUlH,KAAO,SAAUluC,GAIzB,GAHAy1C,KAGK12B,GAA2B,MAAV/e,EACpB,OAAOs1C,EAAgBF,EAAWT,EAAW,IAK/C,IAAI51B,GAA2B,MAAV/e,EAArB,CAKA,GAAsB,iBAAXA,EACT,OAAO20C,EAAW30C,IAAWs1C,EAAgBF,EAAWT,EAAW30C,IAIrE,GAAI00C,EAAoB/kD,QAAQqQ,IAAW,EAAG,CAC5C,IAAI01C,EAAM11C,EAAO5N,UACjB,OAAOkjD,EAAgBF,EAAWM,EACpC,CAGA,OAAIf,EAAWhlD,QAAQqQ,IAAW,EACzBs1C,EAAgBF,EAAWp1C,QADpC,CAdA,CAiBF,EAEAo1C,EAAUO,SAAW,WACnB,IAAIC,EAAQjB,EAAW,GAEvB,IAAK51B,EACH,OAAOq2B,EAAUlH,KAAK,GAGxB,IAAIv5C,EAAQggD,EAAWhlD,QAAQovB,GAC/Bq2B,EAAUlH,KAAKyG,EAAWhgD,EAAQ,IAAMihD,EAC1C,EAEAR,EAAUS,aAAe,WACvB,IAAIC,EAAOnB,EAAWA,EAAWpjD,OAAS,GAE1C,IAAKwtB,EACH,OAAOq2B,EAAUlH,KAAK4H,GAGxB,IAAInhD,EAAQggD,EAAWhlD,QAAQovB,GAC3B/e,EAAS20C,EAAWhgD,EAAQ,IAAMmhD,EACtCV,EAAUlH,KAAKluC,EACjB,EAEA,IAAIq1C,EAAmBD,EAAU7H,SAuBjC,OArBA6H,EAAU7H,SAAW,SAAU7M,GAC7BmU,EAAYnU,EAAMmU,WAAaA,EAC/BQ,EAAiB3U,EACnB,EAEA0U,EAAUW,aAAe,SAAUC,GACjCd,GAAgB,GAChBJ,EAA0BlhD,SAAQ,SAAUiB,GAC1C,OAAOA,GACT,IACA6/C,EAAsBsB,EACtBd,GAAgB,GAChBD,IACAD,IACAF,EAA4BK,EAAkBC,GAC9CA,EAAU7H,SAAS,CACjB7D,cAAekL,GAEnB,EAEAE,EAA4BK,EAAkBC,GACvCA,CACT,EAEIa,GAAsB,CACxBC,UAAW,aACXC,QAAS,QACT1vB,MAAO,SAOT,SAASuc,GAASyQ,EAAS/S,GAGvB8G,IAAY9G,GAASA,EAAM1gC,QAAS,CAAC,6EAA8E,oDAAoDyU,KAAK,MAG9K,IAAI8U,EAAY,GACZ6sB,EAAsB,GACtBC,GAAW,EACXr2C,EAAS0gC,EAAM1gC,OACfs2C,EAAc/R,EAAiB7D,EAAO,CAAC,WACvC6V,EAAc9jD,OAAOC,OAAO,CAAC,EAAG4jD,EAAa,CAC/Cx8B,QAAS,SACT2vB,OAAO,IAEL+M,EAAa/jD,OAAOC,OAAO,CAC7B+2C,MAAO7B,EAAa6B,OACnB6M,EAAa,CACd9M,cAAc,IAEZiN,EAAcjD,GAAMC,EAAS8C,GAGjC,SAASrN,EAAUpzB,GACjB,GAAKA,EAAM9V,SAAUq2C,EAArB,CAIA,IAAIK,EAAa5gC,EAAM9V,OAAOkW,QAAQlW,GAEtC,GAAK02C,EAAL,CAQA,IAAI58B,EAAU48B,EAAWl9B,aAAa,uBAAyBknB,EAAM5mB,SAAW8tB,EAAa9tB,QAE7F,IAAI48B,EAAWxR,UAII,eAAfpvB,EAAME,MAAqD,kBAArBwgC,EAAW/M,OAIlC,eAAf3zB,EAAME,MAAyB8D,EAAQnqB,QAAQsmD,GAAoBngC,EAAME,OAAS,GAAtF,CAIA,IAAI/iB,EAAWugD,GAAMkD,EAAYF,GAE7BvjD,IACFmjD,EAAsBA,EAAoB5iD,OAAOP,GALnD,CAlBA,CANA,CA+BF,CAEA,SAASg4B,EAAGpuB,EAAM60C,EAAWprB,EAASh0B,QACpB,IAAZA,IACFA,GAAU,GAGZuK,EAAK6J,iBAAiBgrC,EAAWprB,EAASh0B,GAC1Ci3B,EAAUp1B,KAAK,CACb0I,KAAMA,EACN60C,UAAWA,EACXprB,QAASA,EACTh0B,QAASA,GAEb,CA8DA,OAhH4BoyC,EAAiB+R,GA+GvB7iD,SAxCtB,SAAwBX,GACtB,IAAI0jD,EAAkB1jD,EAASiC,QAC3B0hD,EAAiB3jD,EAAS88C,OAC1B8G,EAAkB5jD,EAAS+8C,QAE/B/8C,EAASiC,QAAU,SAAU4hD,QACS,IAAhCA,IACFA,GAA8B,GAG5BA,GACFV,EAAoBxiD,SAAQ,SAAUX,GACpCA,EAASiC,SACX,IAGFkhD,EAAsB,GA1BxB7sB,EAAU31B,SAAQ,SAAUC,GAC1B,IAAIgJ,EAAOhJ,EAAKgJ,KACZ60C,EAAY79C,EAAK69C,UACjBprB,EAAUzyB,EAAKyyB,QACfh0B,EAAUuB,EAAKvB,QACnBuK,EAAK8J,oBAAoB+qC,EAAWprB,EAASh0B,EAC/C,IACAi3B,EAAY,GAqBVotB,GACF,EAEA1jD,EAAS88C,OAAS,WAChB6G,IACAR,EAAoBxiD,SAAQ,SAAUX,GACpC,OAAOA,EAAS88C,QAClB,IACAsG,GAAW,CACb,EAEApjD,EAAS+8C,QAAU,WACjB6G,IACAT,EAAoBxiD,SAAQ,SAAUX,GACpC,OAAOA,EAAS+8C,SAClB,IACAqG,GAAW,CACb,EAtDF,SAA2BpjD,GACzB,IAAIb,EAAYa,EAASb,UACzB64B,EAAG74B,EAAW,aAAc82C,EAAWrF,GACvC5Y,EAAG74B,EAAW,YAAa82C,GAC3Bje,EAAG74B,EAAW,UAAW82C,GACzBje,EAAG74B,EAAW,QAAS82C,EACzB,CAkDE6N,CAAkB9jD,EACpB,IAGOwjD,CACT,CAEA,IAAI3T,GAAc,CAChBhvC,KAAM,cACNmwC,cAAc,EACdpvC,GAAI,SAAY5B,GACd,IAAIu9C,EAGJ,GAAyD,OAAlDA,EAAwBv9C,EAASytC,MAAM6I,UAAmBiH,EAAsBxE,QAKrF,OAHExE,EAAUv0C,EAASytC,MAAMoC,YAAa,kEAGjC,CAAC,EAGV,IAAIgJ,EAAeP,GAAYt4C,EAASZ,QACpCuzC,EAAMkG,EAAalG,IACnBkC,EAAUgE,EAAahE,QAEvB4D,EAAWz4C,EAASytC,MAAMoC,YAuClC,WACE,IAAI4I,EAAW5G,IAGf,OAFA4G,EAASN,UAAY1H,EACrB8B,EAAmB,CAACkG,GAAW,UACxBA,CACT,CA5CgDsL,GAA0B,KACtE,MAAO,CACLrO,SAAU,WACJ+C,IACF9F,EAAIqR,aAAavL,EAAU9F,EAAI4F,mBAC/B5F,EAAInkC,aAAa,mBAAoB,IACrCmkC,EAAItkC,MAAMhC,SAAW,SACrBrM,EAASs6C,SAAS,CAChB1rC,OAAO,EACP+nC,UAAW,eAGjB,EACAb,QAAS,WACP,GAAI2C,EAAU,CACZ,IAAInG,EAAqBK,EAAItkC,MAAMikC,mBAC/B0C,EAAWzQ,OAAO+N,EAAmB3yB,QAAQ,KAAM,KAIvDk1B,EAAQxmC,MAAM41C,gBAAkB76C,KAAK1F,MAAMsxC,EAAW,IAAM,KAC5DyD,EAASpqC,MAAMikC,mBAAqBA,EACpCC,EAAmB,CAACkG,GAAW,UACjC,CACF,EACA1C,OAAQ,WACF0C,IACFA,EAASpqC,MAAMikC,mBAAqB,MAExC,EACAuD,OAAQ,WACF4C,GACFlG,EAAmB,CAACkG,GAAW,SAEnC,EAEJ,GAUF,IAAIyL,GAAc,CAChB7E,QAAS,EACTC,QAAS,GAEP6E,GAAkB,GAEtB,SAASC,GAAiBxjD,GACxB,IAAIy+C,EAAUz+C,EAAKy+C,QACfC,EAAU1+C,EAAK0+C,QACnB4E,GAAc,CACZ7E,QAASA,EACTC,QAASA,EAEb,CAUA,IAAItP,GAAe,CACjBnvC,KAAM,eACNmwC,cAAc,EACdpvC,GAAI,SAAY5B,GACd,IAAIb,EAAYa,EAASb,UACrBq/C,EAAMhM,EAAiBxyC,EAASytC,MAAMgJ,eAAiBt3C,GACvDklD,GAAmB,EACnBC,GAAgB,EAChBC,GAAc,EACd5L,EAAY34C,EAASytC,MAEzB,SAAS+W,IACP,MAAuC,YAAhCxkD,EAASytC,MAAMuC,cAA8BhwC,EAASV,MAAMo0C,SACrE,CAEA,SAAS+Q,IACPjG,EAAI/qC,iBAAiB,YAAaqmC,EACpC,CAEA,SAAS4K,IACPlG,EAAI9qC,oBAAoB,YAAaomC,EACvC,CAEA,SAAS6K,IACPN,GAAmB,EACnBrkD,EAASs6C,SAAS,CAChBrF,uBAAwB,OAE1BoP,GAAmB,CACrB,CAEA,SAASvK,EAAYj3B,GAGnB,IAAI+hC,GAAwB/hC,EAAM9V,QAAS5N,EAAUkD,SAASwgB,EAAM9V,QAChEijC,EAAehwC,EAASytC,MAAMuC,aAC9BqP,EAAUx8B,EAAMw8B,QAChBC,EAAUz8B,EAAMy8B,QAChB55C,EAAOvG,EAAUP,wBACjBimD,EAAYxF,EAAU35C,EAAKzB,KAC3B6gD,EAAYxF,EAAU55C,EAAKtB,KAE3BwgD,GAA0B5kD,EAASytC,MAAM2H,aAC3Cp1C,EAASs6C,SAAS,CAEhBrF,uBAAwB,WACtB,IAAIvvC,EAAOvG,EAAUP,wBACjBoF,EAAIq7C,EACJl7C,EAAIm7C,EAEa,YAAjBtP,IACFhsC,EAAI0B,EAAKzB,KAAO4gD,EAChB1gD,EAAIuB,EAAKtB,IAAM0gD,GAGjB,IAAI1gD,EAAuB,eAAjB4rC,EAAgCtqC,EAAKtB,IAAMD,EACjDG,EAAyB,aAAjB0rC,EAA8BtqC,EAAKpB,MAAQN,EACnDO,EAA0B,eAAjByrC,EAAgCtqC,EAAKnB,OAASJ,EACvDF,EAAwB,aAAjB+rC,EAA8BtqC,EAAKzB,KAAOD,EACrD,MAAO,CACLL,MAAOW,EAAQL,EACfJ,OAAQU,EAASH,EACjBA,IAAKA,EACLE,MAAOA,EACPC,OAAQA,EACRN,KAAMA,EAEV,GAGN,CAEA,SAAS4pB,IACH7tB,EAASytC,MAAMuC,eACjBmU,GAAgBjjD,KAAK,CACnBlB,SAAUA,EACVw+C,IAAKA,IApFf,SAAgCA,GAC9BA,EAAI/qC,iBAAiB,YAAa2wC,GACpC,CAoFQW,CAAuBvG,GAE3B,CAEA,SAASv8C,IAOO,KANdkiD,GAAkBA,GAAgB3jD,QAAO,SAAUiB,GACjD,OAAOA,EAAKzB,WAAaA,CAC3B,KAEoBQ,QAAO,SAAUiB,GACnC,OAAOA,EAAK+8C,MAAQA,CACtB,IAAGlgD,QA7FT,SAAmCkgD,GACjCA,EAAI9qC,oBAAoB,YAAa0wC,GACvC,CA4FQY,CAA0BxG,EAE9B,CAEA,MAAO,CACL9I,SAAU7nB,EACV8nB,UAAW1zC,EACXwzC,eAAgB,WACdkD,EAAY34C,EAASytC,KACvB,EACA+H,cAAe,SAAuBrkB,EAAG1iB,GACvC,IAAIuhC,EAAevhC,EAAMuhC,aAErBqU,QAIiB5mC,IAAjBuyB,GAA8B2I,EAAU3I,eAAiBA,IAC3D/tC,IAEI+tC,GACFniB,KAEI7tB,EAASV,MAAM46C,WAAcoK,GAAkBE,KACjDC,MAGFC,IACAC,KAGN,EACA7O,QAAS,WACH91C,EAASytC,MAAMuC,eAAiBsU,IAC9BC,IACFzK,EAAYoK,IACZK,GAAc,GAGXC,KACHC,IAGN,EACAxO,UAAW,SAAmB9kB,EAAGtO,GAC3BkvB,EAAalvB,KACfqhC,GAAc,CACZ7E,QAASx8B,EAAMw8B,QACfC,QAASz8B,EAAMy8B,UAInBgF,EAA+B,UAAfzhC,EAAME,IACxB,EACA6yB,SAAU,WACJ51C,EAASytC,MAAMuC,eACjB2U,IACAD,IACAH,GAAc,EAElB,EAEJ,GAgBF,IAAIrU,GAAoB,CACtBrvC,KAAM,oBACNmwC,cAAc,EACdpvC,GAAI,SAAY5B,GACd,IAMIhC,EANAmB,EAAYa,EAASb,UAOzB,IAAI8lD,GAAmB,EACnBZ,GAAmB,EACnBa,EAAkB,GAClB1jD,EAAW,CACbX,KAAM,yBACNH,SAAS,EACTyN,MAAO,aACPvM,GAAI,SAAY6M,GACd,IAAInP,EAAQmP,EAAMnP,MAZXU,EAASytC,MAAMyC,qBAe8B,IAA9CgV,EAAgBxoD,QAAQ4C,EAAMtB,aAChCknD,EAAkB,IAGhBlnD,IAAcsB,EAAMtB,YAA2D,IAA9CknD,EAAgBxoD,QAAQ4C,EAAMtB,aACjEknD,EAAgBhkD,KAAK5B,EAAMtB,WAC3BgC,EAASs6C,SAAS,CAEhBrF,uBAAwB,WACtB,OAUZ,SAAiCj3C,GAC/B,OAkCN,SAAqCmnD,EAAsBC,EAAcC,EAAaJ,GAEpF,GAAII,EAAY/mD,OAAS,GAA8B,OAAzB6mD,EAC5B,OAAOC,EAIT,GAA2B,IAAvBC,EAAY/mD,QAAgB2mD,GAAmB,GAAKI,EAAY,GAAGphD,KAAOohD,EAAY,GAAG/gD,MAC3F,OAAO+gD,EAAYJ,IAAoBG,EAGzC,OAAQD,GACN,IAAK,MACL,IAAK,SAED,IAAIG,EAAYD,EAAY,GACxBE,EAAWF,EAAYA,EAAY/mD,OAAS,GAC5CknD,EAAiC,QAAzBL,EACR/gD,EAAMkhD,EAAUlhD,IAChBG,EAASghD,EAAShhD,OAClBN,EAAOuhD,EAAQF,EAAUrhD,KAAOshD,EAASthD,KACzCK,EAAQkhD,EAAQF,EAAUhhD,MAAQihD,EAASjhD,MAG/C,MAAO,CACLF,IAAKA,EACLG,OAAQA,EACRN,KAAMA,EACNK,MAAOA,EACPX,MAPUW,EAAQL,EAQlBJ,OAPWU,EAASH,GAW1B,IAAK,OACL,IAAK,QAED,IAAIqhD,EAAUr8C,KAAKxC,IAAIonB,MAAM5kB,KAAMi8C,EAAYllC,KAAI,SAAU7e,GAC3D,OAAOA,EAAM2C,IACf,KACIyhD,EAAWt8C,KAAKzC,IAAIqnB,MAAM5kB,KAAMi8C,EAAYllC,KAAI,SAAU7e,GAC5D,OAAOA,EAAMgD,KACf,KACIqhD,EAAeN,EAAY7kD,QAAO,SAAUkF,GAC9C,MAAgC,SAAzBy/C,EAAkCz/C,EAAKzB,OAASwhD,EAAU//C,EAAKpB,QAAUohD,CAClF,IACIE,EAAOD,EAAa,GAAGvhD,IACvByhD,EAAUF,EAAaA,EAAarnD,OAAS,GAAGiG,OAQpD,MAAO,CACLH,IAAKwhD,EACLrhD,OAAQshD,EACR5hD,KAVUwhD,EAWVnhD,MAVWohD,EAWX/hD,MAXW+hD,EADDD,EAaV5hD,OARYgiD,EAAUD,GAY5B,QAEI,OAAOR,EAGf,CAxGaU,CAA4BzmC,EAAiBrhB,GAAYmB,EAAUP,wBAAyB+yC,EAAUxyC,EAAU4mD,kBAAmBd,EAC5I,CAZmBe,CAAwB1mD,EAAMtB,UACvC,KAIJA,EAAYsB,EAAMtB,UAEtB,GAaF,SAASioD,IANT,IAA0BrO,EAOnByM,IAPmBzM,EA1D9B,SAAkBnK,EAAOjsC,GACvB,IAAI0kD,EAEJ,MAAO,CACL7P,cAAe72C,OAAOC,OAAO,CAAC,EAAGguC,EAAM4I,cAAe,CACpDp4C,UAAW,GAAGsC,SAAyD,OAA/C2lD,EAAuBzY,EAAM4I,oBAAyB,EAAS6P,EAAqBjoD,YAAc,IAAIuC,QAAO,SAAUI,GAE7I,OADWA,EAAKC,OACAW,EAASX,IAC3B,IAAI,CAACW,MAGX,CAuDyB2kD,CAASnmD,EAASytC,MAAOjsC,GAP5C6iD,GAAmB,EACnBrkD,EAASs6C,SAAS1C,GAClByM,GAAmB,EAOrB,CAEA,MAAO,CACL3O,SAAUuQ,EACVzQ,cAAeyQ,EACfhQ,UAAW,SAAmB9kB,EAAGtO,GAC/B,GAAIkvB,EAAalvB,GAAQ,CACvB,IAAIvhB,EAAQqwC,EAAU3xC,EAASb,UAAU4mD,kBACrCK,EAAa9kD,EAAM6U,MAAK,SAAUzQ,GACpC,OAAOA,EAAKzB,KAAO,GAAK4e,EAAMw8B,SAAW35C,EAAKpB,MAAQ,GAAKue,EAAMw8B,SAAW35C,EAAKtB,IAAM,GAAKye,EAAMy8B,SAAW55C,EAAKnB,OAAS,GAAKse,EAAMy8B,OACxI,IACI59C,EAAQJ,EAAM5E,QAAQ0pD,GAC1BnB,EAAkBvjD,GAAS,EAAIA,EAAQujD,CACzC,CACF,EACArP,SAAU,WACRqP,GAAmB,CACrB,EAEJ,GA0EF,IAAI5U,GAAS,CACXxvC,KAAM,SACNmwC,cAAc,EACdpvC,GAAI,SAAY5B,GACd,IAAIb,EAAYa,EAASb,UACrBC,EAASY,EAASZ,OAMtB,SAASinD,EAAY/3C,GACnB,OAAiC,IAA1BtO,EAASytC,MAAM4C,QAAmBrwC,EAASytC,MAAM4C,SAAW/hC,CACrE,CAEA,IAAIg4C,EAAc,KACdC,EAAc,KAElB,SAASC,IACP,IAAIC,EAAiBJ,EAAY,cAX1BrmD,EAASg6C,eAAiBh6C,EAASg6C,eAAe16C,MAAMK,SAASR,UAAYA,GAWrBP,wBAA0B,KACrF8nD,EAAiBL,EAAY,UAAYjnD,EAAOR,wBAA0B,MAE1E6nD,GAAkBE,GAAkBL,EAAaG,IAAmBC,GAAkBC,GAAkBJ,EAAaG,KACnH1mD,EAASg6C,gBACXh6C,EAASg6C,eAAe74C,SAI5BmlD,EAAcG,EACdF,EAAcG,EAEV1mD,EAASV,MAAM46C,WACjBc,sBAAsBwL,EAE1B,CAEA,MAAO,CACL1Q,QAAS,WACH91C,EAASytC,MAAM4C,QACjBmW,GAEJ,EAEJ,GAGF,SAASG,GAAkBC,EAAOC,GAChC,OAAID,IAASC,IACJD,EAAMxiD,MAAQyiD,EAAMziD,KAAOwiD,EAAMtiD,QAAUuiD,EAAMviD,OAASsiD,EAAMriD,SAAWsiD,EAAMtiD,QAAUqiD,EAAM3iD,OAAS4iD,EAAM5iD,KAI3H,CAEAs8C,GAAMS,gBAAgB,CACpB1K,OAAQA,KAGmBt5C,EAA6B,QAAI,EAKvD,GAKO8pD,EAA2B,CAAC,EAGhC,SAAS1qD,EAAoB2qD,GAE5B,IAAIC,EAAeF,EAAyBC,GAC5C,QAAqBtpC,IAAjBupC,EACH,OAAOA,EAAanrD,QAGrB,IAAID,EAASkrD,EAAyBC,GAAY,CAGjDlrD,QAAS,CAAC,GAOX,OAHAF,EAAoBorD,GAAU5iC,KAAKvoB,EAAOC,QAASD,EAAQA,EAAOC,QAASO,GAGpER,EAAOC,OACf,CAMCO,EAAoB0lB,EAAI,SAASlmB,GAChC,IAAIqrD,EAASrrD,GAAUA,EAAOsrD,WAC7B,WAAa,OAAOtrD,EAAgB,OAAG,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAQ,EAAoBc,EAAE+pD,EAAQ,CAAEjqC,EAAGiqC,IAC5BA,CACR,EAMA7qD,EAAoBc,EAAI,SAASrB,EAASsrD,GACzC,IAAI,IAAInoC,KAAOmoC,EACX/qD,EAAoBwnB,EAAEujC,EAAYnoC,KAAS5iB,EAAoBwnB,EAAE/nB,EAASmjB,IAC5Exf,OAAOooB,eAAe/rB,EAASmjB,EAAK,CAAEooC,YAAY,EAAMhxC,IAAK+wC,EAAWnoC,IAG3E,EAKA5iB,EAAoBwnB,EAAI,SAAS2tB,EAAKsG,GAAQ,OAAOr4C,OAAO0kB,UAAUrV,eAAesV,KAAKotB,EAAKsG,EAAO,EAMtGz7C,EAAoBa,EAAI,SAASpB,GACX,oBAAXkoB,QAA0BA,OAAOsjC,aAC1C7nD,OAAOooB,eAAe/rB,EAASkoB,OAAOsjC,YAAa,CAAE/4C,MAAO,WAE7D9O,OAAOooB,eAAe/rB,EAAS,aAAc,CAAEyS,OAAO,GACvD,EAkBXlS,EAA0D,qCAC1DA,EAAoD,+BACpDA,EAAkD,6BAClDA,EAAuC,qBAQ7B,CAzkWD"}